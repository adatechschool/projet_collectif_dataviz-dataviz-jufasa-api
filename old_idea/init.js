// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
if("undefined"!=typeof window&&"undefined"!=typeof navigator&&window.document&&(window.dojoConfig||(window.dojoConfig={}),!window.dojoConfig.hasOwnProperty("baseUrl"))){const o=window.document.currentScript.src;let d;d=o.endsWith("/init.js")?o.slice(0,o.lastIndexOf("/"))+"/dojo":o.endsWith("/dojo/dojo.js")?o.slice(0,o.lastIndexOf("/")):o+(o.endsWith("/")?"dojo":"/dojo"),window.dojoConfig.baseUrl=d}
//>>built
(function(a,b){var c,e,d,k=function(){return"undefined"!==typeof z&&"function"!==typeof z?z:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),t=function(){},m=function(ba){for(var Ja in ba)return 0;return 1},f={}.toString,g=function(ba){return"[object Function]"==f.call(ba)},l=function(ba){return"[object String]"==f.call(ba)},r=function(ba){return"[object Array]"==f.call(ba)},p=function(ba,Ja){if(ba)for(var Ra=0;Ra<ba.length;)Ja(ba[Ra++])},n=function(ba,Ja){for(var Ra in Ja)ba[Ra]=
Ja[Ra];return ba},v=function(ba,Ja){return n(Error(ba),{src:"dojoLoader",info:Ja})},h=1,q=function(){return"_"+h++},u=function(ba,Ja,Ra){return P(ba,Ja,Ra,0,u)},z=k,x=z.document,w=x&&x.createElement("DiV"),A=u.has=function(ba){return g(B[ba])?B[ba]=B[ba](z,x,w):B[ba]},B=A.cache=b.hasCache;g(a)&&(a=a(k));A.add=function(ba,Ja,Ra,Ua){(void 0===B[ba]||Ua)&&(B[ba]=Ja);return Ra&&A(ba)};A.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);A("host-webworker")&&
(n(b.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(ba,Ja){try{importScripts(ba),Ja()}catch(Ra){console.info("failed to load resource ("+ba+")"),console.error(Ra)}}});for(var E in a.has)A.add(E,a.has[E],0,1);var y=0,C=[],D=0,J=t,M=t;u.isXdUrl=t;u.initSyncLoader=function(ba,Ja,Ra){D||(D=ba,J=Ja,M=Ra);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,
syncExecStack:C,modules:Ha,execQ:ia,getModule:Ta,injectModule:rb,setArrived:ca,signal:Q,finishExec:tb,execModule:qb,dojoRequirePlugin:D,getLegacyMode:function(){return y},guardCheckComplete:Eb}};if(A("dom")||A("host-webworker")){var L=location.protocol,I=location.host;u.isXdUrl=function(ba){return/^\./.test(ba)?!1:/^\/\//.test(ba)?!0:(ba=ba.match(/^([^\/:]+:)\/+([^\/]+)/))&&(ba[1]!=L||I&&ba[2]!=I)};A.add("dojo-force-activex-xhr",A("host-browser")&&!x.addEventListener&&"file:"==window.location.protocol);
if(A("dojo-force-activex-xhr")){var G=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(d=0;3>d;)try{var K=G[d++];new ActiveXObject(K);break}catch(ba){}var H=function(){return new ActiveXObject(K)}}else H=function(){return new XMLHttpRequest};u.getXhr=H;A.add("dojo-gettext-api",1);u.getText=function(ba,Ja,Ra){var Ua=H();Ua.open("GET",Ib(ba),!1);Ua.send(null);if(200==Ua.status||!location.host&&!Ua.status)Ra&&Ra(Ua.responseText,Ja);else throw v("xhrFailed",Ua.status);return Ua.responseText}}u.eval=
function(ba,Ja){};var O={},Q=u.signal=function(ba,Ja){ba=O[ba];p(ba&&ba.slice(0),function(Ra){Ra.apply(null,r(Ja)?Ja:[Ja])})},W=u.on=function(ba,Ja){var Ra=O[ba]||(O[ba]=[]);Ra.push(Ja);return{remove:function(){for(var Ua=0;Ua<Ra.length;Ua++)if(Ra[Ua]===Ja){Ra.splice(Ua,1);break}}}},T=[],Y={},X=[],ra={},Ba=u.map={},Ga=[],Ha={},da="",na={},xa={},Na={},Oa=0;if(!A("foreign-loader"))var N=function(ba,Ja){Ja=!1!==Ja;var Ra,Ua;for(Ra in xa){var $a=xa[Ra];if(Ua=Ra.match(/^url:(.+)/))na["url:"+Za(Ua[1],ba)]=
$a;else if("*now"==Ra)var eb=$a;else"*noref"!=Ra&&(Ua=Fa(Ra,ba,!0),na[Ua.mid]=na["url:"+Ua.url]=$a)}eb&&eb(Z(ba));Ja&&(xa={})};var S=function(ba){return ba.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(Ja){return"\\"+Ja})},ja=function(ba,Ja){Ja.splice(0,Ja.length);for(var Ra in ba)Ja.push([Ra,ba[Ra],new RegExp("^"+S(Ra)+"(/|$)"),Ra.length]);Ja.sort(function(Ua,$a){return $a[3]-Ua[3]});return Ja},wa=function(ba,Ja){p(ba,function(Ra){Ja.push([l(Ra[0])?new RegExp("^"+S(Ra[0])+"$"):Ra[0],Ra[1]])})},
Ia=function(ba){var Ja=ba.name;Ja||(Ja=ba,ba={name:Ja});ba=n({main:"main"},ba);ba.location=ba.location?ba.location:Ja;ba.packageMap&&(Ba[Ja]=ba.packageMap);ba.main.indexOf("./")||(ba.main=ba.main.substring(2));ra[Ja]=ba},V=[],aa=function(ba,Ja,Ra){for(var Ua in ba){"waitSeconds"==Ua&&(u.waitms=1E3*(ba[Ua]||0));"cacheBust"==Ua&&(da=ba[Ua]?l(ba[Ua])?ba[Ua]:(new Date).getTime()+"":"");if("baseUrl"==Ua||"combo"==Ua)u[Ua]=ba[Ua];if("async"==Ua){var $a=ba[Ua];u.legacyMode=y=l($a)&&/sync|legacyAsync/.test($a)?
$a:$a?!1:"sync";u.async=!y}ba[Ua]!==B&&(u.rawConfig[Ua]=ba[Ua],"has"!=Ua&&A.add("config-"+Ua,ba[Ua],0,Ja))}u.baseUrl||(u.baseUrl="./");/\/$/.test(u.baseUrl)||(u.baseUrl+="/");for(Ua in ba.has)A.add(Ua,ba.has[Ua],0,Ja);p(ba.packages,Ia);for(var eb in ba.packagePaths)p(ba.packagePaths[eb],function(jb){var Hb=eb+"/"+jb;l(jb)&&(jb={name:jb});jb.location=Hb;Ia(jb)});ja(n(Ba,ba.map),Ga);p(Ga,function(jb){jb[1]=ja(jb[1],[]);"*"==jb[0]&&(Ga.star=jb)});ja(n(Y,ba.paths),X);wa(ba.aliases,T);if(!A("foreign-loader")){if(Ja)V.push({config:ba.config});
else for(Ua in ba.config)Ja=Ta(Ua,Ra),Ja.config=n(Ja.config||{},ba.config[Ua]);ba.cache&&(N(),xa=ba.cache,N(0,!!ba.cache["*noref"]))}Q("config",[ba,u.rawConfig])};u.rawConfig={};aa(b,1);aa(a,1);aa(Na,1);if(!A("foreign-loader"))var oa=function(ba){Eb(function(){p(ba.deps,rb)})},P=function(ba,Ja,Ra,Ua,$a){var eb;if(l(ba)){if((eb=Ta(ba,Ua,!0))&&eb.executed)return eb.result;throw v("undefinedModule",ba);}r(ba)||(aa(ba,0,Ua),ba=Ja,Ja=Ra);if(r(ba))if(ba.length){Ra="require*"+q();for(var jb,Hb=[],Mb=0;Mb<
ba.length;)jb=ba[Mb++],Hb.push(Ta(jb,Ua));eb=n(fa("",Ra,0,""),{injected:2,deps:Hb,def:Ja||t,require:Ua?Ua.require:u,gc:1});Ha[eb.mid]=eb;oa(eb);var Qb=yb&&"sync"!=y;Eb(function(){qb(eb,Qb)});eb.executed||ia.push(eb);Fb()}else Ja&&Ja();return $a},Z=function(ba){if(!ba)return u;var Ja=ba.require;Ja||(Ja=function(Ra,Ua,$a){return P(Ra,Ua,$a,ba,Ja)},ba.require=n(Ja,u),Ja.module=ba,Ja.toUrl=function(Ra){return Za(Ra,ba)},Ja.toAbsMid=function(Ra){return Wa(Ra,ba)},Ja.syncLoadNls=function(Ra){Ra=Fa(Ra,ba);
var Ua=Ha[Ra.mid];if(!Ua||!Ua.executed)if(zb=na[Ra.mid]||na["url:"+Ra.url])ib(zb),Ua=Ha[Ra.mid];return Ua&&Ua.executed&&Ua.result});return Ja},ia=[],qa=[],ea={},U=function(ba){ba.injected=1;ea[ba.mid]=1;ba.url&&(ea[ba.url]=ba.pack||1);ka()},ca=function(ba){ba.injected=2;delete ea[ba.mid];ba.url&&delete ea[ba.url];m(ea)&&(mb(),"xd"==y&&(y="sync"))},la=u.idle=function(){return!qa.length&&m(ea)&&!ia.length&&!yb};var Ca=function(ba,Ja){if(Ja)for(var Ra=0;Ra<Ja.length;Ra++)if(Ja[Ra][2].test(ba))return Ja[Ra];
return 0},Qa=function(ba){var Ja=[];for(ba=ba.replace(/\\/g,"/").split("/");ba.length;){var Ra=ba.shift();if(".."==Ra&&Ja.length&&".."!=Ua){Ja.pop();var Ua=Ja[Ja.length-1]}else"."!=Ra&&Ja.push(Ua=Ra)}return Ja.join("/")},fa=function(ba,Ja,Ra,Ua){var $a=u.isXdUrl(Ua);return{pid:ba,mid:Ja,pack:Ra,url:Ua,executed:0,def:0,isXd:$a,isAmd:!!($a||ra[ba]&&ra[ba].isAmd)}},ma=function(ba,Ja,Ra,Ua,$a,eb,jb,Hb,Mb,Qb){var Kb,Vb,Gb;var Rb=/^\./.test(ba);if(/(^\/)|(:)|(\.js$)/.test(ba)||Rb&&!Ja)return fa(0,ba,0,
ba);ba=Qa(Rb?Ja.mid+"/../"+ba:ba);if(/^\./.test(ba))throw v("irrationalPath",ba);Qb||Rb||!eb.star||(Gb=Ca(ba,eb.star[1]));!Gb&&Ja&&(Gb=(Gb=Ca(Ja.mid,eb))&&Ca(ba,Gb[1]));Gb&&(ba=Gb[1]+ba.substring(Gb[3]));Ja=(c=ba.match(/^([^\/]+)(\/(.+))?$/))?c[1]:"";(Kb=Ra[Ja])?ba=Ja+"/"+(Vb=c[3]||Kb.main):Ja="";var Sb=0;p(Hb,function(Nb){var Wb=ba.match(Nb[0]);Wb&&0<Wb.length&&(Sb=g(Nb[1])?ba.replace(Nb[0],Nb[1]):Nb[1])});if(Sb)return ma(Sb,0,Ra,Ua,$a,eb,jb,Hb,Mb);if(Ra=Ua[ba])return Mb?fa(Ra.pid,Ra.mid,Ra.pack,
Ra.url):Ua[ba];Ua=(Gb=Ca(ba,jb))?Gb[1]+ba.substring(Gb[3]):Ja?("/"===Kb.location.slice(-1)?Kb.location.slice(0,-1):Kb.location)+"/"+Vb:ba;/(^\/)|(:)/.test(Ua)||(Ua=$a+Ua);return fa(Ja,ba,Kb,Qa(Ua+".js"))},Fa=function(ba,Ja,Ra){return ma(ba,Ja,ra,Ha,u.baseUrl,Ga,X,T,void 0,Ra)};if(!A("foreign-loader"))var ua=function(ba,Ja,Ra){return ba.normalize?ba.normalize(Ja,function(Ua){return Wa(Ua,Ra)}):Wa(Ja,Ra)},Ka=0,Ta=function(ba,Ja,Ra){var Ua;if(Ua=ba.match(/^(.+?)!(.*)$/)){var $a=Ta(Ua[1],Ja,Ra);"sync"!=
y||$a.executed||(rb($a),2!==$a.injected||$a.executed||Eb(function(){qb($a)}),$a.executed?cb($a):ia.unshift($a));5!==$a.executed||$a.load||cb($a);$a.load?(Ua=ua($a,Ua[2],Ja),ba=$a.mid+"!"+($a.dynamic?++Ka+"!":"")+Ua):(Ua=Ua[2],ba=$a.mid+"!"+ ++Ka+"!waitingForPlugin");ba={plugin:$a,mid:ba,req:Z(Ja),prid:Ua}}else ba=Fa(ba,Ja);return Ha[ba.mid]||!Ra&&(Ha[ba.mid]=ba)};var Wa=u.toAbsMid=function(ba,Ja){return Fa(ba,Ja).mid},Za=u.toUrl=function(ba,Ja){Ja=Fa(ba+"/x",Ja);var Ra=Ja.url;return Ib(0===Ja.pid?
ba:Ra.substring(0,Ra.length-5))};if(!A("foreign-loader"))var bb={injected:2,executed:5,def:3,result:3},ab=function(ba){return Ha[ba]=n({mid:ba},bb)},fb=ab("require"),Xa=ab("exports"),Da=ab("module"),Aa={},Va=0,cb=function(ba){var Ja=ba.result;ba.dynamic=Ja.dynamic;ba.normalize=Ja.normalize;ba.load=Ja.load;return ba},za=function(ba){var Ja={};p(ba.loadQ,function($a){var eb=ua(ba,$a.prid,$a.req.module),jb=ba.dynamic?$a.mid.replace(/waitingForPlugin$/,eb):ba.mid+"!"+eb;eb=n(n({},$a),{mid:jb,prid:eb,
injected:0});Ha[jb]&&Ha[jb].injected||wb(Ha[jb]=eb);Ja[$a.mid]=Ha[jb];ca($a);delete Ha[$a.mid]});ba.loadQ=0;var Ra=function($a){for(var eb=$a.deps||[],jb=0;jb<eb.length;jb++)($a=Ja[eb[jb].mid])&&(eb[jb]=$a)},Ua;for(Ua in Ha)Ra(Ha[Ua]);p(ia,Ra)},tb=function(ba){u.trace("loader-finish-exec",[ba.mid]);ba.executed=5;ba.defOrder=Va++;p(ba.provides,function(Ja){Ja()});ba.loadQ&&(cb(ba),za(ba));for(d=0;d<ia.length;)ia[d]===ba?ia.splice(d,1):d++;/^require\*/.test(ba.mid)&&delete Ha[ba.mid]},Ab=[],qb=function(ba,
Ja){if(4===ba.executed)return u.trace("loader-circular-dependency",[Ab.concat(ba.mid).join("-\x3e")]),!ba.def||Ja?Aa:ba.cjs&&ba.cjs.exports;if(!ba.executed){if(!ba.def)return Aa;var Ra=ba.mid,Ua=ba.deps||[],$a,eb=[],jb=0;for(ba.executed=4;$a=Ua[jb++];){$a=$a===fb?Z(ba):$a===Xa?ba.cjs.exports:$a===Da?ba.cjs:qb($a,Ja);if($a===Aa)return ba.executed=0,u.trace("loader-exec-module",["abort",Ra]),Aa;eb.push($a)}u.trace("loader-run-factory",[ba.mid]);Ja=ba.def;C.unshift(ba);eb=g(Ja)?Ja.apply(null,eb):Ja;
ba.result=void 0===eb&&ba.cjs?ba.cjs.exports:eb;C.shift(ba);tb(ba)}return ba.result},yb=0,Eb=function(ba){try{yb++,ba()}catch(Ja){throw Ja;}finally{yb--}la()&&Q("idle",[])},Fb=function(){yb||Eb(function(){J();for(var ba,Ja,Ra=0;Ra<ia.length;)ba=Va,Ja=ia[Ra],qb(Ja),ba!=Va?(J(),Ra=0):Ra++})};var Ib="function"==typeof a.fixupUrl?a.fixupUrl:function(ba){ba+="";return ba+(da?(/\?/.test(ba)?"\x26":"?")+da:"")};void 0===A("dojo-loader-eval-hint-url")&&A.add("dojo-loader-eval-hint-url",1);var wb=function(ba){var Ja=
ba.plugin;5!==Ja.executed||Ja.load||cb(Ja);var Ra=function(Ua){ba.result=Ua;ca(ba);tb(ba);Fb()};Ja.load?Ja.load(ba.prid,ba.req,Ra):Ja.loadQ?Ja.loadQ.push(ba):(Ja.loadQ=[ba],ia.unshift(Ja),rb(Ja))},zb=0,ib=function(ba,Ja){A("config-stripStrict")&&(ba=ba.replace(/(["'])use strict\1/g,""));ba===zb?zb.call(null):u.eval(ba,A("dojo-loader-eval-hint-url")?Ja.url:Ja.mid)},rb=function(ba){var Ja=ba.mid,Ra=ba.url;if(!(ba.executed||ba.injected||ea[Ja]||ba.url&&(ba.pack&&ea[ba.url]===ba.pack||1==ea[ba.url])))if(U(ba),
ba.plugin)wb(ba);else{var Ua=function(){Ma(ba);if(2!==ba.injected){if(A("dojo-enforceDefine")){Q("error",v("noDefine",ba));return}ca(ba);n(ba,bb);u.trace("loader-define-nonmodule",[ba.url])}y?!C.length&&Fb():Fb()};if(zb=na[Ja]||na["url:"+ba.url])u.trace("loader-inject",["cache",ba.mid,Ra]),ib(zb,ba),Ua();else{if(y)if(ba.isXd)"sync"==y&&(y="xd");else if(!ba.isAmd||"sync"==y){u.trace("loader-inject",["xhr",ba.mid,Ra,"sync"!=y]);u.getText(Ra,"sync"!=y,function($a){if("sync"==y){C.unshift(ba);ib($a,ba);
C.shift();Ma(ba);ba.cjs||(ca(ba),tb(ba));if(ba.finish){$a=Ja+"*finish";var eb=ba.finish;delete ba.finish;Pa($a,["dojo",("dojo/require!"+eb.join(",")).replace(/\./g,"/")],function(jb){p(eb,function(Hb){jb.require(Hb)})});ia.unshift(Ta($a))}Ua()}else($a=M(ba,$a))?(ib($a,ba),Ua()):u.injectUrl(Ib(Ra),Ua,ba)});return}u.trace("loader-inject",["script",ba.mid,Ra]);u.injectUrl(Ib(Ra),Ua,ba)}}},vb=function(ba,Ja,Ra){u.trace("loader-define-module",[ba.mid,Ja]);var Ua=ba.mid;if(2===ba.injected)return Q("error",
v("multipleDefine",ba)),ba;n(ba,{deps:Ja,def:Ra,cjs:{id:ba.mid,uri:ba.url,exports:ba.result={},setExports:function(eb){ba.cjs.exports=eb},config:function(){return ba.config}}});for(var $a=0;Ja[$a];$a++)Ja[$a]=Ta(Ja[$a],ba);y&&!ea[Ua]&&(oa(ba),ia.push(ba),Fb());ca(ba);g(Ra)||Ja.length||(ba.result=Ra,tb(ba));return ba},Ma=function(ba,Ja){for(var Ra=[],Ua,$a;qa.length;)$a=qa.shift(),Ja&&($a[0]=Ja.shift()),Ua=$a[0]&&Ta($a[0])||ba,Ra.push([Ua,$a[1],$a[2]]);N(ba);p(Ra,function(eb){oa(vb.apply(null,eb))})},
mb=t,ka=t;A("dom");if(A("dom")){var ta=function(ba,Ja,Ra,Ua){ba.addEventListener(Ja,Ua,!1);return function(){ba.removeEventListener(Ja,Ua,!1)}},pa=ta(window,"load","onload",function(){u.pageLoaded=1;try{"complete"!=x.readyState&&(x.readyState="complete")}catch(ba){}pa()});var ya=x.getElementsByTagName("script");for(d=0;!Oa;)/^dojo/.test((e=ya[d++])&&e.type)||(Oa=e);u.injectUrl=function(ba,Ja,Ra){Ra=Ra.node=x.createElement("script");var Ua=ta(Ra,"load","onreadystatechange",function(eb){eb=eb||window.event;
var jb=eb.target||eb.srcElement;if("load"===eb.type||/complete|loaded/.test(jb.readyState))Ua(),$a(),Ja&&Ja()}),$a=ta(Ra,"error","onerror",function(eb){Ua();$a();Q("error",v("scriptError: "+ba,[ba,eb]))});Ra.type="text/javascript";Ra.charset="utf-8";Ra.src=ba;Oa.parentNode.insertBefore(Ra,Oa);return Ra}}u.log=t;u.trace=t;if(A("foreign-loader"))Pa=t;else{var Pa=function(ba,Ja,Ra){var Ua=arguments.length,$a=["require","exports","module"],eb=[0,ba,Ja];1==Ua?eb=[0,g(ba)?$a:[],ba]:2==Ua&&l(ba)?eb=[ba,
g(Ja)?$a:[],Ja]:3==Ua&&(eb=[ba,Ja,Ra]);u.trace("loader-define",eb.slice(0,2));(Ua=eb[0]&&Ta(eb[0]))&&!ea[Ua.mid]?oa(vb(Ua,eb[1],eb[2])):qa.push(eb)};Pa.amd={vendor:"dojotoolkit.org"}}n(n(u,b.loaderPatch),a.loaderPatch);W("error",function(ba){try{if(console.error(ba),ba instanceof Error){for(var Ja in ba)console.log(Ja+":",ba[Ja]);console.log(".")}}catch(Ra){}});n(u,{uid:q,cache:na,packs:ra});if(!z.define&&(z.define=Pa,z.require=u,!A("foreign-loader"))){p(V,function(ba){aa(ba)});var va=Na.deps||a.deps||
b.deps,Sa=Na.callback||a.callback||b.callback;u.boot=va||Sa?[va||[],Sa]:0}})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../esri",name:"esri"}]});
require({cache:{"esri/Map":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/maybe ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/arrayUtils ./core/accessorSupport/decorators/subclass ./layers/support/editableLayers ./support/basemapUtils ./support/collectionUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(a,
b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u){d=function(z){function x(A){var B=z.call(this,A)||this;B.allLayers=new k({getCollections:()=>[B.basemap?.baseLayers,B.ground?.layers,B.layers,B.basemap?.referenceLayers],getChildrenFunction:E=>"layers"in E?E.layers:null});B.allTables=v.createFlattenedTablesCollection(a._assertThisInitialized(B));B.basemap=null;B.editableLayers=new k({getCollections:()=>[B.allLayers],itemFilterFunction:p.isEditableLayer});B.ground=new e;B._basemapCache=n.createCache();return B}a._inheritsLoose(x,
z);var w=x.prototype;w.destroy=function(){this.allLayers.destroy();this.allTables.destroy();this.editableLayers.destroy();this.ground?.destroy();this.basemap?.destroy();n.destroyCache(this._basemapCache);this._basemapCache=null};w.castBasemap=function(A){return n.ensureType(A,this._basemapCache)};w.castGround=function(A){A=h.ensureType(A);return m.isNone(A)?this._get("ground"):A};w.findLayerById=function(A){return this.allLayers.find(B=>B.id===A)};w.findTableById=function(A){return this.allTables.find(B=>
B.id===A)};return x}(u.TablesMixin(q.LayersMixin(t.EventedMixin(d))));b.__decorate([f.property({readOnly:!0,dependsOn:[]})],d.prototype,"allLayers",void 0);b.__decorate([f.property({readOnly:!0})],d.prototype,"allTables",void 0);b.__decorate([f.property({type:c})],d.prototype,"basemap",void 0);b.__decorate([g.cast("basemap")],d.prototype,"castBasemap",null);b.__decorate([f.property({readOnly:!0})],d.prototype,"editableLayers",void 0);b.__decorate([f.property({type:e,nonNullable:!0})],d.prototype,
"ground",void 0);b.__decorate([g.cast("ground")],d.prototype,"castGround",null);return d=b.__decorate([r.subclass("esri.Map")],d)})},"esri/chunks/_rollupPluginBabelHelpers":function(){define(["exports"],function(a){function b(r){function p(q,u){try{var z=r[q](u),x=z.value,w=x instanceof c;Promise.resolve(w?x.v:x).then(function(A){if(w){var B="return"===q?"return":"next";if(!x.k||A.done)return p(B,A);A=r[B](A).value}n(z.done?"return":"normal",A)},function(A){p("throw",A)})}catch(A){n("throw",A)}}function n(q,
u){switch(q){case "return":v.resolve({value:u,done:!0});break;case "throw":v.reject(u);break;default:v.resolve({value:u,done:!1})}(v=v.next)?p(v.key,v.arg):h=null}var v,h;this._invoke=function(q,u){return new Promise(function(z,x){z={key:q,arg:u,resolve:z,reject:x,next:null};h?h=h.next=z:(v=h=z,p(q,u))})};"function"!=typeof r.return&&(this.return=void 0)}function c(r,p){this.v=r;this.k=p}function e(r){function p(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var v=
n.done;return Promise.resolve(n.value).then(function(h){return{value:h,done:v}})}return e=function(n){this.s=n;this.n=n.next},e.prototype={s:null,n:null,next:function(){return p(this.n.apply(this.s,arguments))},return:function(n){var v=this.s.return;return void 0===v?Promise.resolve({value:n,done:!0}):p(v.apply(this.s,arguments))},throw:function(n){var v=this.s.return;return void 0===v?Promise.reject(n):p(v.apply(this.s,arguments))}},new e(r)}function d(r,p,n,v,h,q,u){try{var z=r[q](u),x=z.value}catch(w){n(w);
return}z.done?p(x):Promise.resolve(x).then(v,h)}function k(r,p){for(var n=0;n<p.length;n++){var v=p[n];v.enumerable=v.enumerable||!1;v.configurable=!0;"value"in v&&(v.writable=!0);var h=Object,q=h.defineProperty;a:{var u=v.key;if("object"===typeof u&&null!==u){var z=u[Symbol.toPrimitive];if(void 0!==z){u=z.call(u,"string");if("object"!==typeof u)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}u=String(u)}}q.call(h,r,"symbol"===typeof u?u:String(u),v)}}function t(r){t=
Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)};return t(r)}function m(r,p){m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,v){n.__proto__=v;return n};return m(r,p)}function f(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}function g(r,p,
n){g=f()?Reflect.construct.bind():function(v,h,q){var u=[null];u.push.apply(u,h);v=new (Function.bind.apply(v,u));q&&m(v,q.prototype);return v};return g.apply(null,arguments)}function l(r){var p="function"===typeof Map?new Map:void 0;l=function(n){function v(){return g(n,arguments,t(this).constructor)}if(null===n||-1===Function.toString.call(n).indexOf("[native code]"))return n;if("function"!==typeof n)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof p){if(p.has(n))return p.get(n);
p.set(n,v)}v.prototype=Object.create(n.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}});return m(v,n)};return l(r)}b.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this};b.prototype.next=function(r){return this._invoke("next",r)};b.prototype.throw=function(r){return this._invoke("throw",r)};b.prototype.return=function(r){return this._invoke("return",r)};a._assertThisInitialized=function(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return r};a._asyncIterator=function(r){var p,n,v,h=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,v=Symbol.iterator);h--;){if(n&&null!=(p=r[n]))return p.call(r);if(v&&null!=(p=r[v]))return new e(p.call(r));n="@@asyncIterator";v="@@iterator"}throw new TypeError("Object is not async iterable");};a._asyncToGenerator=function(r){return function(){var p=this,n=arguments;return new Promise(function(v,h){function q(x){d(z,v,h,q,u,"next",x)}function u(x){d(z,v,h,q,u,"throw",x)}var z=r.apply(p,
n);q(void 0)})}};a._awaitAsyncGenerator=function(r){return new c(r,0)};a._createClass=function(r,p,n){p&&k(r.prototype,p);n&&k(r,n);Object.defineProperty(r,"prototype",{writable:!1});return r};a._inheritsLoose=function(r,p){r.prototype=Object.create(p.prototype);r.prototype.constructor=r;m(r,p)};a._wrapAsyncGenerator=function(r){return function(){return new b(r.apply(this,arguments))}};a._wrapNativeSuper=l})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){a.__decorate=function(b,
c,e,d){var k=arguments.length,t=3>k?c:null===d?d=Object.getOwnPropertyDescriptor(c,e):d,m;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)t=Reflect.decorate(b,c,e,d);else for(var f=b.length-1;0<=f;f--)if(m=b[f])t=(3>k?m(t):3<k?m(c,e,t):m(c,e))||t;return 3<k&&t&&Object.defineProperty(c,e,t),t}})},"esri/Basemap":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Collection ./core/collectionUtils ./core/deprecate ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./geometry/SpatialReference ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./webdoc/support/writeUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A,B){var E;let y=0;t=E=function(C){function D(M){var L=C.call(this,M)||this;L.id=null;L.portalItem=null;L.spatialReference=null;L.thumbnailUrl=null;L.title="Basemap";L.id=Date.now().toString(16)+"-basemap-"+y++;L.baseLayers=new e;L.referenceLayers=new e;const I=G=>{G.parent&&G.parent!==b._assertThisInitialized(L)&&"remove"in G.parent&&G.parent.remove(G);G.parent=b._assertThisInitialized(L);"elevation"===G.type&&l.getLogger(L.declaredClass).error(`Layer '${G.title}, id:${G.id}' of type '${G.type}' is not supported as a basemap layer and will therefore be ignored.`)};
L.baseLayers.on("after-add",G=>I(G.item));L.referenceLayers.on("after-add",G=>I(G.item));L.baseLayers.on("after-remove",G=>{G.item.parent=null});L.referenceLayers.on("after-remove",G=>{G.item.parent=null});return L}b._inheritsLoose(D,C);var J=D.prototype;J.initialize=function(){this.when().catch(M=>{l.getLogger(this.declaredClass).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,M)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};
J.destroy=function(){var M=this.baseLayers.removeAll();for(const L of M)L.destroy();M=this.referenceLayers.removeAll();for(const L of M)L.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();this.portalItem?.destroy();this.portalItem=null};J.normalizeCtorArgs=function(M){M&&"resourceInfo"in M&&(this._set("resourceInfo",M.resourceInfo),M={...M},delete M.resourceInfo);return M};J._writeBaseLayers=function(M,L,I){const G=[];M&&(I={...I,layerContainerType:"basemap"},this.baseLayers.forEach(K=>
{K=B.getLayerJSON(K,I.webmap?I.webmap.getLayerJSONFromResourceInfo(K):null,I);r.isSome(K)&&G.push(K)}),this.referenceLayers.forEach(K=>{const H=B.getLayerJSON(K,I.webmap?I.webmap.getLayerJSONFromResourceInfo(K):null,I);r.isSome(H)&&("scene"!==K.type&&(H.isReference=!0),G.push(H))}));L.baseMapLayers=G};J.writeTitle=function(M,L){L.title=M||"Basemap"};J.load=function(M){this.addResolvingPromise(this._loadFromSource(M));return Promise.resolve(this)};J.loadAll=function(){return g.loadAll(this,M=>{M(this.baseLayers,
this.referenceLayers)})};J.clone=function(){const M={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};this.loaded&&(M.loadStatus="loaded");return(new E({resourceInfo:this.resourceInfo})).set(M)};J.read=function(M,L){this.resourceInfo||this._set("resourceInfo",{data:M,context:L});C.prototype.read.call(this,M,L)};J.write=function(M,L){M=M||{};L&&L.origin||(L={origin:"web-map",...L});C.prototype.write.call(this,M,
L);!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(M.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(I=>{I=m.clone(I);I.url&&n.isProtocolRelative(I.url)&&(I.url=`https:${I.url}`);I.templateUrl&&n.isProtocolRelative(I.templateUrl)&&(I.templateUrl=`https:${I.templateUrl}`);return I}));return M};J._loadFromSource=function(){var M=b._asyncToGenerator(function*(L){const {resourceInfo:I,portalItem:G}=this;p.throwIfAborted(L);const K=[];I?(K.push(this._loadLayersFromJSON(I.data,
I.context?I.context.url:null,L)),I.data.id&&!I.data.title&&K.push(A.getBasemapTitle(I.data.id).then(H=>{H&&this.read({title:H},I.context)}))):G&&K.push(this._loadFromItem(G,L));yield Promise.all(K)});return function(L){return M.apply(this,arguments)}}();J._loadLayersFromJSON=function(){var M=b._asyncToGenerator(function*(L,I,G){var K=this.resourceInfo&&this.resourceInfo.context;const H=this.portalItem&&this.portalItem.portal||K&&K.portal||null,O=K&&"web-scene"===K.origin?"web-scene":"web-map",{populateOperationalLayers:Q}=
yield new Promise((W,T)=>a(["./layers/support/layersCreator"],W,T));K=[];p.throwIfAborted(G);if(L.baseMapLayers&&Array.isArray(L.baseMapLayers)){I={context:{origin:O,url:I,portal:H,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"};const W=T=>"web-scene"===O&&"ArcGISSceneServiceLayer"===T.layerType||T.isReference;G=Q(this.baseLayers,L.baseMapLayers.filter(T=>!W(T)),I);K.push(G);L=Q(this.referenceLayers,L.baseMapLayers.filter(W),I);K.push(L)}yield p.eachAlways(K)});return function(L,
I,G){return M.apply(this,arguments)}}();J._loadFromItem=function(){var M=b._asyncToGenerator(function*(L,I){const G=yield(yield L.load(I)).fetchData("json",I),K=n.urlToObject(L.itemUrl??"");this._set("resourceInfo",{data:G.baseMap??{},context:{origin:"Web Scene"===L.type?"web-scene":"web-map",portal:L.portal||x.getDefault(),url:K}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:G.spatialReference},this.resourceInfo.context);this.read({title:L.title,thumbnailUrl:L.thumbnailUrl},
{origin:"portal-item",portal:L.portal||x.getDefault(),url:K});return this._loadLayersFromJSON(this.resourceInfo.data,K,I)});return function(L,I){return M.apply(this,arguments)}}();D.fromId=function(M){const L=A.esriBasemapDefinitions[M];if(L){if(L.deprecated){let I=null;"dark-gray"===M?I="dark-gray-vector":"gray"===M?I="gray-vector":"streets"===M?I="streets-vector":"topo"===M&&(I="topo-vector");k.deprecated(l.getLogger("esri.Basemap"),`The ${M} basemap has entered mature support and is no longer being updated.`,
{replacement:I,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return E.fromJSON(L)}return null};b._createClass(D,[{key:"baseLayers",set:function(M){this._set("baseLayers",d.referenceSetter(M,this._get("baseLayers")))}},{key:"referenceLayers",set:function(M){this._set("referenceLayers",d.referenceSetter(M,this._get("referenceLayers")))}}]);return D}(t.JSONSupportMixin(f));c.__decorate([v.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(C,D,J,M){this._writeBaseLayers(C,D,M)}},origins:{"web-scene":{write:{ignoreOrigin:!0,
target:{baseMapLayers:{type:e}},writer(C,D,J,M){this._writeBaseLayers(C,D,M)}}}}}})],t.prototype,"baseLayers",null);c.__decorate([v.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],t.prototype,"id",void 0);c.__decorate([v.property({type:w})],t.prototype,"portalItem",void 0);c.__decorate([v.property()],t.prototype,"referenceLayers",null);c.__decorate([v.property({readOnly:!0})],t.prototype,"resourceInfo",void 0);c.__decorate([v.property({type:z})],t.prototype,"spatialReference",void 0);
c.__decorate([v.property()],t.prototype,"thumbnailUrl",void 0);c.__decorate([v.property({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],t.prototype,"title",void 0);c.__decorate([u.writer("title")],t.prototype,"writeTitle",null);return t=E=c.__decorate([q.subclass("esri.Basemap")],t)})},"esri/core/Collection":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./ArrayPool ./Evented ./lang ./maybe ./ObjectPool ./ObservableChangesType ./scheduling ./accessorSupport/decorators/property ./accessorSupport/ensureType ./accessorSupport/decorators/shared ./accessorSupport/decorators/subclass ./accessorSupport/tracking ./accessorSupport/tracking/SimpleObservable".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v){function h(M){return M?M instanceof J?M.toArray():M.length?Array.prototype.slice.apply(M):[]:[]}function q(M){if(M&&M.length)return M[0]}function u(M,L,I,G){L&&L.forEach((K,H,O)=>{M.push(K);u(M,I.call(G,K,H,O),I,G)})}var z;let x=function(){function M(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}var L=M.prototype;L.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};L.reset=function(I){this.defaultPrevented=
!1;this.item=I};return M}();const w=new t(x,void 0,M=>{M.item=null;M.target=null;M.defaultPrevented=!1;M.cancellable=!1}),A=()=>{},B=new Set,E=new Set,y=new Set,C=new Map;let D=0,J=z=function(M,L){function I(K){K=M.call(this,K)||this;K._chgListeners=[];K._notifications=null;K._timer=null;K._observable=new v.SimpleObservable;K.length=0;K._items=[];Object.defineProperty(a._assertThisInitialized(K),"uid",{value:D++});return K}a._inheritsLoose(I,M);I.isCollection=function(K){return null!=K&&K instanceof
z};var G=I.prototype;G.normalizeCtorArgs=function(K){return K?Array.isArray(K)||K instanceof z?{items:K}:K:{}};G.destroy=function(){this.removeAll()};G[L]=function*(){yield*this.items};G.hasEventListener=function(K){return"change"===K?0<this._chgListeners.length:this._emitter.hasEventListener(K)};G.on=function(K,H){if("change"===K){const O=this._chgListeners,Q={removed:!1,callback:H};O.push(Q);this._notifications&&this._notifications.push({listeners:O.slice(),items:this._items.slice(),changes:[]});
return{remove(){this.remove=A;Q.removed=!0;O.splice(O.indexOf(Q),1)}}}return this._emitter.on(K,H)};G.once=function(K,H){const O=this.on(K,H);return{remove(){O.remove()}}};G.add=function(K,H){n.trackAccess(this._observable);if(this._emitBeforeChanges(m.ObservableChangesType.ADD))return this;H=this.getNextIndex(H??null);this._splice(H,0,[K]);this._emitAfterChanges(m.ObservableChangesType.ADD);return this};G.addMany=function(K,H=this._items.length){n.trackAccess(this._observable);if(!K||!K.length||
this._emitBeforeChanges(m.ObservableChangesType.ADD))return this;H=this.getNextIndex(H);this._splice(H,0,h(K));this._emitAfterChanges(m.ObservableChangesType.ADD);return this};G.at=function(K){n.trackAccess(this._observable);K=Math.trunc(K)||0;0>K&&(K+=this.length);if(!(0>K||K>=this.length))return this._items[K]};G.removeAll=function(){n.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(m.ObservableChangesType.REMOVE))return[];const K=this._splice(0,this.length)||[];this._emitAfterChanges(m.ObservableChangesType.REMOVE);
return K};G.clone=function(){n.trackAccess(this._observable);return this._createNewInstance({items:this._items.map(d.clone)})};G.concat=function(...K){n.trackAccess(this._observable);K=K.map(h);return this._createNewInstance({items:this._items.concat(...K)})};G.drain=function(K,H){n.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(m.ObservableChangesType.REMOVE)){var O=k.assumeNonNull(this._splice(0,this.length)),Q=O.length;for(let W=0;W<Q;W++)K.call(H,O[W],W,O);this._emitAfterChanges(m.ObservableChangesType.REMOVE)}};
G.every=function(K,H){n.trackAccess(this._observable);return this._items.every(K,H)};G.filter=function(K,H){n.trackAccess(this._observable);let O;O=2===arguments.length?this._items.filter(K,H):this._items.filter(K);return this._createNewInstance({items:O})};G.find=function(K,H){n.trackAccess(this._observable);return this._items.find(K,H)};G.findIndex=function(K,H){n.trackAccess(this._observable);return this._items.findIndex(K,H)};G.flatten=function(K,H){n.trackAccess(this._observable);const O=[];
u(O,this,K,H);return new z(O)};G.forEach=function(K,H){n.trackAccess(this._observable);return this._items.forEach(K,H)};G.getItemAt=function(K){n.trackAccess(this._observable);return this._items[K]};G.getNextIndex=function(K){n.trackAccess(this._observable);const H=this.length;K=null==K?H:K;0>K?K=0:K>H&&(K=H);return K};G.includes=function(K,H=0){n.trackAccess(this._observable);return this._items.includes(K,H)};G.indexOf=function(K,H=0){n.trackAccess(this._observable);return this._items.indexOf(K,
H)};G.join=function(K=","){n.trackAccess(this._observable);return this._items.join(K)};G.lastIndexOf=function(K,H=this.length-1){n.trackAccess(this._observable);return this._items.lastIndexOf(K,H)};G.map=function(K,H){n.trackAccess(this._observable);K=this._items.map(K,H);return new z({items:K})};G.reorder=function(K,H=this.length-1){n.trackAccess(this._observable);const O=this.indexOf(K);if(-1!==O){0>H?H=0:H>=this.length&&(H=this.length-1);if(O!==H){if(this._emitBeforeChanges(m.ObservableChangesType.MOVE))return K;
this._splice(O,1);this._splice(H,0,[K]);this._emitAfterChanges(m.ObservableChangesType.MOVE)}return K}};G.pop=function(){n.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(m.ObservableChangesType.REMOVE)){var K=q(this._splice(this.length-1,1));this._emitAfterChanges(m.ObservableChangesType.REMOVE);return K}};G.push=function(...K){n.trackAccess(this._observable);if(this._emitBeforeChanges(m.ObservableChangesType.ADD))return this.length;this._splice(this.length,0,K);this._emitAfterChanges(m.ObservableChangesType.ADD);
return this.length};G.reduce=function(K,H){n.trackAccess(this._observable);const O=this._items;return 2===arguments.length?O.reduce(K,H):O.reduce(K)};G.reduceRight=function(K,H){n.trackAccess(this._observable);const O=this._items;return 2===arguments.length?O.reduceRight(K,H):O.reduceRight(K)};G.remove=function(K){n.trackAccess(this._observable);return this.removeAt(this.indexOf(K))};G.removeAt=function(K){n.trackAccess(this._observable);if(!(0>K||K>=this.length||this._emitBeforeChanges(m.ObservableChangesType.REMOVE)))return K=
q(this._splice(K,1)),this._emitAfterChanges(m.ObservableChangesType.REMOVE),K};G.removeMany=function(K){n.trackAccess(this._observable);if(!K||!K.length||this._emitBeforeChanges(m.ObservableChangesType.REMOVE))return[];K=K instanceof z?K.toArray():K;const H=this._items,O=[],Q=K.length;for(let X=0;X<Q;X++){var W=H.indexOf(K[X]);if(-1<W){var T=X+1,Y=W+1;const ra=Math.min(K.length-T,H.length-Y);let Ba=0;for(;Ba<ra&&K[T+Ba]===H[Y+Ba];)Ba++;T=1+Ba;(W=this._splice(W,T))&&0<W.length&&O.push.apply(O,W);X+=
T-1}}this._emitAfterChanges(m.ObservableChangesType.REMOVE);return O};G.reverse=function(){n.trackAccess(this._observable);if(this._emitBeforeChanges(m.ObservableChangesType.MOVE))return this;const K=this._splice(0,this.length);K&&(K.reverse(),this._splice(0,0,K));this._emitAfterChanges(m.ObservableChangesType.MOVE);return this};G.shift=function(){n.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(m.ObservableChangesType.REMOVE)){var K=q(this._splice(0,1));this._emitAfterChanges(m.ObservableChangesType.REMOVE);
return K}};G.slice=function(K=0,H=this.length){n.trackAccess(this._observable);return this._createNewInstance({items:this._items.slice(K,H)})};G.some=function(K,H){n.trackAccess(this._observable);return this._items.some(K,H)};G.sort=function(K){n.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(m.ObservableChangesType.MOVE))return this;const H=k.assumeNonNull(this._splice(0,this.length));arguments.length?H.sort(K):H.sort();this._splice(0,0,H);this._emitAfterChanges(m.ObservableChangesType.MOVE);
return this};G.splice=function(K,H,...O){n.trackAccess(this._observable);const Q=(H?m.ObservableChangesType.REMOVE:0)|(O.length?m.ObservableChangesType.ADD:0);if(this._emitBeforeChanges(Q))return[];K=this._splice(K,H,O)||[];this._emitAfterChanges(Q);return K};G.toArray=function(){n.trackAccess(this._observable);return this._items.slice()};G.toJSON=function(){n.trackAccess(this._observable);return this.toArray()};G.toLocaleString=function(){n.trackAccess(this._observable);return this._items.toLocaleString()};
G.toString=function(){n.trackAccess(this._observable);return this._items.toString()};G.unshift=function(...K){n.trackAccess(this._observable);if(!K.length||this._emitBeforeChanges(m.ObservableChangesType.ADD))return this.length;this._splice(0,0,K);this._emitAfterChanges(m.ObservableChangesType.ADD);return this.length};G._createNewInstance=function(K){return new this.constructor(K)};G._splice=function(K,H,O){const Q=this._items;var W=this.itemType;let T=void 0;!this._notifications&&this.hasEventListener("change")&&
(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=f.schedule(()=>this._dispatchChange()));if(H){T=Q.splice(K,H);if(this.hasEventListener("before-remove")){var Y=w.acquire();Y.target=this;Y.cancellable=!0;for(let Ba=0,Ga=T.length;Ba<Ga;Ba++)H=T[Ba],Y.reset(H),this.emit("before-remove",Y),Y.defaultPrevented&&(T.splice(Ba,1),Q.splice(K,0,H),K+=1,--Ba,--Ga);w.release(Y)}this.length=this._items.length;if(this.hasEventListener("after-remove")){H=
w.acquire();H.target=this;H.cancellable=!1;Y=T.length;for(let Ba=0;Ba<Y;Ba++)H.reset(T[Ba]),this.emit("after-remove",H);w.release(H)}}if(O&&O.length){if(W){H=[];for(var X of O)O=W.ensureType(X),null==O&&null!=X||H.push(O);O=H}W=this.hasEventListener("before-add");X=this.hasEventListener("after-add");H=K===this.length;if(W||X){var ra=w.acquire();ra.target=this;ra.cancellable=!0;Y=w.acquire();Y.target=this;Y.cancellable=!1;for(const Ba of O)W?(ra.reset(Ba),this.emit("before-add",ra),ra.defaultPrevented||
(H?Q.push(Ba):Q.splice(K++,0,Ba),this._set("length",Q.length),X&&(Y.reset(Ba),this.emit("after-add",Y)))):(H?Q.push(Ba):Q.splice(K++,0,Ba),this._set("length",Q.length),Y.reset(Ba),this.emit("after-add",Y));w.release(Y);w.release(ra)}else{if(H)for(ra of O)Q.push(ra);else Q.splice(K,0,...O);this._set("length",Q.length)}}(O&&O.length||T&&T.length)&&this._notifyChangeEvent(O,T);return T};G._emitBeforeChanges=function(K){let H=!1;if(this.hasEventListener("before-changes")){const O=w.acquire();O.target=
this;O.cancellable=!0;O.type=K;this.emit("before-changes",O);H=O.defaultPrevented;w.release(O)}return H};G._emitAfterChanges=function(K){if(this.hasEventListener("after-changes")){const H=w.acquire();H.target=this;H.cancellable=!1;H.type=K;this.emit("after-changes",H);w.release(H)}this._observable.notify()};G._notifyChangeEvent=function(K,H){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:K,removed:H})};G._dispatchChange=
function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var K=this._notifications;this._notifications=null;for(const H of K){K=H.changes;B.clear();E.clear();y.clear();for(const {added:X,removed:ra}of K){if(X)if(0===y.size&&0===E.size)for(const Ba of X)B.add(Ba);else for(const Ba of X)E.has(Ba)?(y.add(Ba),E.delete(Ba)):y.has(Ba)||B.add(Ba);if(ra)if(0===y.size&&0===B.size)for(const Ba of ra)E.add(Ba);else for(const Ba of ra)B.has(Ba)?B.delete(Ba):(y.delete(Ba),E.add(Ba))}const O=
c.acquire();B.forEach(X=>{O.push(X)});const Q=c.acquire();E.forEach(X=>{Q.push(X)});const W=this._items,T=H.items,Y=c.acquire();y.forEach(X=>{T.indexOf(X)!==W.indexOf(X)&&Y.push(X)});if(H.listeners&&(O.length||Q.length||Y.length)){K={target:this,added:O,removed:Q,moved:Y};const X=H.listeners.length;for(let ra=0;ra<X;ra++){const Ba=H.listeners[ra];Ba.removed||Ba.callback.call(this,K)}}c.release(O);c.release(Q);c.release(Y)}B.clear();E.clear();y.clear()}};a._createClass(I,[{key:"items",get:function(){n.trackAccess(this._observable);
return this._items},set:function(K){this._emitBeforeChanges(m.ObservableChangesType.ADD)||(this._splice(0,this.length,h(K)),this._emitAfterChanges(m.ObservableChangesType.ADD))}}]);return I}(e.EventedAccessor,Symbol.iterator);J.ofType=M=>{if(!M)return z;if(C.has(M))return C.get(M);let L=null;if("function"===typeof M)L=M.prototype.declaredClass;else if(M.base)L=M.base.prototype.declaredClass;else for(var I in M.typeMap){const G=M.typeMap[I].prototype.declaredClass;L=L?L+` | ${G}`:G}I=function(G){function K(){return G.apply(this,
arguments)||this}a._inheritsLoose(K,G);return K}(z);b.__decorate([r.shared({Type:M,ensureType:"function"===typeof M?l.ensureType(M):l.ensureOneOfType(M)})],I.prototype,"itemType",void 0);I=b.__decorate([p.subclass(`esri.core.Collection<${L}>`)],I);C.set(M,I);return I};b.__decorate([g.property()],J.prototype,"length",void 0);b.__decorate([g.property()],J.prototype,"items",null);return J=z=b.__decorate([p.subclass("esri.core.Collection")],J)})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],
function(a){function b(d){d.length=0}let c=function(){function d(t=50,m=50){this._pool=new a(Array,void 0,b,m,t)}var k=d.prototype;k.acquire=function(){return this._pool.acquire()};k.release=function(t){this._pool.release(t)};k.prune=function(){this._pool.prune(0)};d.acquire=function(){return e.acquire()};d.release=function(t){return e.release(t)};d.prune=function(){e.prune()};return d}();const e=new c(100);return c})},"esri/core/ObjectPool":function(){define(function(){let a=function(){function b(e,
d,k,t=1,m=0){this._ctor=e;this._acquireFunction=d;this._releaseFunction=k;this.allocationSize=t;this._pool=Array(m);this._initialSize=m;if(this._ctor)for(e=0;e<m;e++)this._pool[e]=new this._ctor;this.allocationSize=Math.max(t,1)}var c=b.prototype;c.destroy=function(){this.prune(0)};c.acquire=function(...e){if(b.test.disabled)var d=new this._ctor;else{if(0===this._pool.length){d=this.allocationSize;for(let k=0;k<d;k++)this._pool[k]=new this._ctor}d=this._pool.pop()}this._acquireFunction?this._acquireFunction(d,
...e):d&&d.acquire&&"function"===typeof d.acquire&&d.acquire(...e);return d};c.release=function(e){e&&!b.test.disabled&&(this._releaseFunction?this._releaseFunction(e):e&&e.release&&"function"===typeof e.release&&e.release(),this._pool.push(e))};c.prune=function(e=this._initialSize){if(!(e>=this._pool.length)){for(let d=e;d<this._pool.length;++d)this._dispose(this._pool[d]);this._pool.length=e}};c._dispose=function(e){e.dispose&&"function"===typeof e.dispose&&e.dispose()};return b}();a.test={disabled:!1};
return a})},"esri/core/Evented":function(){define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],function(a,b,c,e,d){let k=function(){function t(){this._emitter=new t.EventEmitter(this)}var m=t.prototype;m.emit=function(f,g){return this._emitter.emit(f,g)};m.on=function(f,g){return this._emitter.on(f,g)};m.once=function(f,g){return this._emitter.once(f,g)};m.hasEventListener=function(f){return this._emitter.hasEventListener(f)};
return t}();(function(t){let m=function(){function g(r=null){this._target=r;this._listenersMap=null}var l=g.prototype;l.clear=function(){this._listenersMap&&this._listenersMap.clear();this._listenersMap=null};l.emit=function(r,p){r=this._listenersMap&&this._listenersMap.get(r);if(!r)return!1;const n=this._target||this;[...r].forEach(v=>{v.call(n,p)});return 0<r.length};l.on=function(r,p){if(Array.isArray(r)){var n=r.map(v=>this.on(v,p));return e.handlesGroup(n)}if(r.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");
this._listenersMap||(this._listenersMap=new Map);n=this._listenersMap.get(r)||[];n.push(p);this._listenersMap.set(r,n);return{remove:()=>{const v=this._listenersMap&&this._listenersMap.get(r)||[],h=v.indexOf(p);0<=h&&v.splice(h,1)}}};l.once=function(r,p){const n=this.on(r,v=>{n.remove();p.call(null,v)});return n};l.hasEventListener=function(r){r=this._listenersMap&&this._listenersMap.get(r);return null!=r&&0<r.length};return g}();t.EventEmitter=m;t.EventedMixin=g=>{g=function(l){function r(){var n=
l.apply(this,arguments)||this;n._emitter=new m;return n}a._inheritsLoose(r,l);var p=r.prototype;p.destroy=function(){this._emitter.clear()};p.emit=function(n,v){return this._emitter.emit(n,v)};p.on=function(n,v){return this._emitter.on(n,v)};p.once=function(n,v){return this._emitter.once(n,v)};p.hasEventListener=function(n){return this._emitter.hasEventListener(n)};return r}(g);return g=b.__decorate([d.subclass("esri.core.Evented")],g)};let f=function(g){function l(){var p=g.apply(this,arguments)||
this;p._emitter=new k.EventEmitter(a._assertThisInitialized(p));return p}a._inheritsLoose(l,g);var r=l.prototype;r.destroy=function(){this._emitter.clear()};r.emit=function(p,n){return this._emitter.emit(p,n)};r.on=function(p,n){return this._emitter.on(p,n)};r.once=function(p,n){return this._emitter.once(p,n)};r.hasEventListener=function(p){return this._emitter.hasEventListener(p)};return l}(c);f=b.__decorate([d.subclass("esri.core.Evented")],f);t.EventedAccessor=f})(k||(k={}));return k})},"esri/core/Accessor":function(){define("../chunks/_rollupPluginBabelHelpers ./Handles ./maybe ./accessorSupport/beforeDestroy ./accessorSupport/get ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l){function r(u){if(null==u)return{value:u};if(Array.isArray(u))return{type:[u[0]],value:null};switch(typeof u){case "object":return u.constructor?.__accessorMetadata__||u instanceof Date?{type:u.constructor,value:u}:u;case "boolean":return{type:Boolean,value:u};case "string":return{type:String,value:u};case "number":return{type:Number,value:u};case "function":return{type:u,value:null}}}const p=Symbol("Accessor-Handles"),n=Symbol("Accessor-Initialized");let v=function(){function u(...x){this[h]=
null;this[q]=!1;if(this.constructor===u)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new t(this)});0<x.length&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,x))}u.createSubclass=function(x={}){if(Array.isArray(x))throw Error("Multi-inheritance unsupported since 4.16");const {properties:w,declaredClass:A,constructor:B}=x;delete x.declaredClass;
delete x.properties;delete x.constructor;const E=this;let y=function(C){function D(...J){var M=C.call(this,...J)||this;M.inherited=null;B&&B.apply(a._assertThisInitialized(M),J);return M}a._inheritsLoose(D,C);return D}(E);k.getPropertiesMetadata(y.prototype);for(const C in x){const D=x[C];y.prototype[C]="function"===typeof D?function(...J){const M=this.inherited;this.inherited=function(...I){if(E.prototype[C])return E.prototype[C].apply(this,I)};let L=void 0;try{L=D.apply(this,J)}catch(I){throw this.inherited=
M,I;}this.inherited=M;return L}:x[C]}for(const C in w)x=r(w[C]),g.property(x)(y.prototype,C);return l.subclass(A)(y)};var z=u.prototype;z.postscript=function(x){const w=this.__accessor__;x=w.ctorArgs||x;w.initialize();x&&(this.set(x),w.ctorArgs=null);w.constructed();this.initialize();this[n]=!0};z.initialize=function(){};z[e.BEFORE_DESTROY_SYMBOL]=function(){this[p]=c.destroyMaybe(this[p])};z.destroy=function(){this.destroyed||(f.removeTarget(this),this.__accessor__.destroy())};z.commitProperty=function(x){this.get(x)};
z.get=function(x){return d.get(this,x)};z.hasOwnProperty=function(x){return this.__accessor__?this.__accessor__.has(x):Object.prototype.hasOwnProperty.call(this,x)};z.keys=function(){return this.__accessor__?this.__accessor__.keys():[]};z.set=function(x,w){m.set(this,x,w);return this};z.watch=function(x,w,A){return f.watch(this,x,w,A)};z.own=function(x){this.addHandles(x)};z.addHandles=function(x,w){let A=this[p];c.isNone(A)&&(A=this[p]=new b);A.add(x,w)};z.removeHandles=function(x){const w=this[p];
c.isNone(w)||w.remove(x)};z.hasHandles=function(x){const w=this[p];return c.isSome(w)?w.has(x):!1};z._override=function(x,w){void 0===w?this.__accessor__.clearOverride(x):this.__accessor__.override(x,w)};z._clearOverride=function(x){return this.__accessor__.clearOverride(x)};z._overrideIfSome=function(x,w){null==w?this.__accessor__.clearOverride(x):this.__accessor__.override(x,w)};z._isOverridden=function(x){return this.__accessor__.isOverridden(x)};z.notifyChange=function(x){this.__accessor__.notifyChange(x)};
z._get=function(x){return this.__accessor__.internalGet(x)};z._set=function(x,w){this.__accessor__.internalSet(x,w);return this};a._createClass(u,[{key:"constructed",get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},{key:"initialized",get:function(){return this[n]}},{key:"destroyed",get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}]);return u}();var h=p;var q=n;return v})},"esri/core/Handles":function(){define(["../chunks/_rollupPluginBabelHelpers",
"./iteratorUtils","./maybe"],function(a,b,c){return function(){function e(){this._groups=new Map}var d=e.prototype;d.destroy=function(){this.removeAll()};d.add=function(k,t){if(b.isIterable(k)){t=this._getOrCreateGroup(t);for(const m of k)this._isHandle(m)&&t.push(m)}else this._isHandle(k)&&this._getOrCreateGroup(t).push(k);return this};d.forEach=function(k,t){if("function"===typeof k)this._groups.forEach(m=>m.forEach(k));else{const m=this._getGroup(k);m&&t&&m.forEach(t)}};d.has=function(k){return this._groups.has(this._ensureGroupKey(k))};
d.remove=function(k){if("string"!==typeof k&&b.isIterable(k)){for(const t of k)this.remove(t);return this}if(!this.has(k))return this;this._removeAllFromGroup(this._getGroup(k));this._groups.delete(this._ensureGroupKey(k));return this};d.removeAll=function(){this._groups.forEach(k=>this._removeAllFromGroup(k));this._groups.clear();return this};d._isHandle=function(k){return k&&!!k.remove};d._getOrCreateGroup=function(k){if(this.has(k))return this._getGroup(k);const t=[];this._groups.set(this._ensureGroupKey(k),
t);return t};d._getGroup=function(k){return c.assumeNonNull(this._groups.get(this._ensureGroupKey(k)))};d._ensureGroupKey=function(k){return k||"_default_"};d._removeAllFromGroup=function(k){k.forEach(t=>t.remove())};a._createClass(e,[{key:"size",get:function(){let k=0;this._groups.forEach(t=>{k+=t.length});return k}}]);return e}()})},"esri/core/iteratorUtils":function(){define(["exports"],function(a){a.cache=function(b){const c=[];return function*(){yield*c;for(const e of b)c.push(e),yield e}};a.find=
function(b,c){for(const e of b)if(null!=e&&c(e))return e};a.isIterable=function(b){return null!=b&&"function"===typeof b[Symbol.iterator]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/maybe":function(){define(["exports"],function(a){function b(d,k){return null!=d?k(d):null}function c(d,k){if(null==d)throw Error(k??"value is None");}function e(d,k,t){return null!=d?t(d):k}a.abortMaybe=function(d){null!=d&&d.abort();return null};a.applySome=b;a.assertIsSome=c;a.assumeNonNull=
function(d){return d};a.destroyMaybe=function(d){null!=d&&d.destroy();return null};a.disposeMaybe=function(d){null!=d&&d.dispose();return null};a.equalsMaybe=function(d,k,t){return null!=d&&null!=k?null!=t?t(d,k):d.equals(k):d===k};a.filterNones=function(d){return d.filter(k=>null!=k)};a.forEachSome=function(d,k){for(const t of d)b(t,k)};a.get=function(d,...k){for(let t=0;t<k.length&&d;++t)d=d[k[t]];return d};a.isNone=function(d){return null==d};a.isSome=function(d){return null!=d};a.isUndefined=
function(d){return void 0===d};a.mapMany=function(d,k){const t=[];for(const m of d)t.push(e(m,null,k));return t};a.mapOr=e;a.mapSome=function(d,k){const t=[];d.forEach(m=>{m=k(m);null!=m&&t.push(m)});return t};a.mapSomeFirst=function(d,k){for(const t of d)if(d=k(t),null!=d)return d;return null};a.none=null;a.nullifyNonNullableForDispose=function(d){return null};a.releaseMaybe=function(d){null!=d&&d.release();return null};a.removeMaybe=function(d){null!=d&&d.remove();return null};a.toNullable=function(d){return d};
a.unwrap=function(d){return d};a.unwrapOr=function(d,k){return null!=d?d:"function"===typeof k?k():k};a.unwrapOrThrow=function(d,k){c(d,k);return d};a.unwrapOrValue=function(d,k){return null!=d?d:k};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/beforeDestroy":function(){define(["exports"],function(a){const b=Symbol("Accessor-beforeDestroy");a.BEFORE_DESTROY_SYMBOL=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/get":function(){define(["exports",
"./utils"],function(a,b){function c(k,t){k="?"===k[k.length-1]?k.slice(0,-1):k;if(null!=t.getItemAt||Array.isArray(t)){var m=parseInt(k,10);if(!isNaN(m))return Array.isArray(t)?t[m]:t.getItemAt(m)}m=b.getProperties(t);return b.isPropertyDeclared(m,k)?m.get(k):t[k]}function e(k,t,m){if(null==k)return k;if((k=c(t[m],k))||!(m<t.length-1))return m===t.length-1?k:e(k,t,m+1)}function d(k,t,m=0){return"string"!==typeof t||t.includes(".")?e(k,b.pathToArray(t),m):c(t,k)}a.exists=function(k,t){return void 0!==
d(t,k)};a.get=function(k,t){return d(k,t)};a.valueOf=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/utils":function(){define(["exports","../handleUtils","../lang","../maybe"],function(a,b,c,e){function d(g){return g?g.__accessor__?g.__accessor__:g.propertyInvalidated?g:null:null}function k(g,l,r){return l?Object.keys(l).reduce((p,n)=>{let v=null;var h="merge";r&&(v=r.path?`${r.path}.${n}`:n,h=r.policy(v));if("replace"===h||"replace-arrays"===h&&Array.isArray(p[n]))return p[n]=
l[n],p;if(void 0===p[n])return p[n]=c.clone(l[n]),p;let q=p[n];h=l[n];if(q===h)return p;if(Array.isArray(h)||Array.isArray(p))q=q?Array.isArray(q)?p[n]=q.concat():p[n]=[q]:p[n]=[],h&&(Array.isArray(h)||(h=[h]),h.forEach(u=>{q.includes(u)||q.push(u)}));else if(h&&"object"===typeof h)if(r){const u=r.path;r.path=e.assumeNonNull(v);p[n]=k(q,h,r);r.path=u}else p[n]=k(q,h,null);else if(!p.hasOwnProperty(n)||l.hasOwnProperty(n))p[n]=h;return p},g||{}):g}function t(g){return Array.isArray(g)?g:g.split(".")}
function m(g){return g.includes(",")?g.split(",").map(l=>l.trim()):[g.trim()]}function f(g){if(Array.isArray(g)){const l=[];for(const r of g)l.push(...m(r));return l}return m(g)}a.getDependsInfo=function(g,l){const r=d(g);return r?r.getDependsInfo(g,l,""):""};a.getProperties=d;a.isPropertyDeclared=function(g,l){return null!=g&&g.metadatas&&null!=g.metadatas[l]};a.merge=function(g,l,r){return r?k(g,l,{policy:r,path:""}):k(g,l,null)};a.once=function(g){let l=!1;return()=>{l||(l=!0,g())}};a.parse=function(g,
l,r,p){l=f(l);return 1!==l.length?(l=l.map(n=>p(g,n,r)),b.handlesGroup(l)):p(g,l[0],r)};a.parseConditionalPath=function(g){if(!g.includes("?"))return null;g=t(g);const l=Array(g.length);for(let r=0;r<g.length;r++){const p=g[r];l[r]="?"===p[p.length-1];l[r]&&(g[r]=p.slice(0,-1))}return{fullPath:g.join("."),conditional:l}};a.pathToArray=t;a.pathToStringOrArray=function(g){return!g||"string"===typeof g&&!g.includes(".")?g:t(g)};a.splitPath=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/handleUtils":function(){define(["exports","./maybe"],function(a,b){function c(e){return{remove:()=>{e&&(e(),e=void 0)}}}a.asyncHandle=function(e,d){let k=!1,t=null;e.then(m=>{k?m.remove():t=m});return c(()=>{k=!0;b.isSome(t)?t.remove():b.isSome(d)&&(d.abort(),d=null)})};a.destroyHandle=function(e){return c(b.isSome(e)?()=>e.destroy():void 0)};a.handlesGroup=function(e){return c(()=>e.forEach(d=>b.isSome(d)&&d.remove()))};a.makeHandle=c;a.refHandle=function(e){return c(()=>{const d=e();
b.isSome(d)&&d.remove()})};a.timeoutHandle=function(e,d){const k=setTimeout(e,d);return c(()=>clearTimeout(k))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/lang":function(){define(["exports","./arrayUtils","./maybe","./typedArrayUtil"],function(a,b,c,e){function d(p,n){let v;if(n)for(v in p)p.hasOwnProperty(v)&&(void 0===p[v]?delete p[v]:p[v]instanceof Object&&d(p[v],!0));else for(v in p)p.hasOwnProperty(v)&&void 0===p[v]&&delete p[v];return p}function k(p){if(!p||"object"!==
typeof p||"function"===typeof p)return p;var n=l(p);if(c.isSome(n))return n;if("function"===typeof p.clone)return p.clone();if(m(p))return p.map(k);if(f(p))return p.clone();n={};for(const v of Object.getOwnPropertyNames(p))n[v]=k(p[v]);return n}function t(p){if(!p||"object"!==typeof p||"function"===typeof p||"HTMLElement"in globalThis&&p instanceof HTMLElement)return p;var n=l(p);if(c.isSome(n))return n;if(m(p)){let v=!0;p=p.map(h=>{const q=t(h);null!=h&&null==q&&(v=!1);return q});return v?p:null}if("function"===
typeof p.clone)return p.clone();if(!f(p)){n=new (Object.getPrototypeOf(p).constructor);for(const v of Object.getOwnPropertyNames(p)){const h=p[v],q=t(h);if(null!=h&&null==q)return null;n[v]=q}return n}return null}function m(p){return"function"===typeof p.map&&"function"===typeof p.forEach}function f(p){return"function"===typeof p.notifyChange&&"function"===typeof p.watch}function g(p){if("[object Object]"!==Object.prototype.toString.call(p))return!1;p=Object.getPrototypeOf(p);return null===p||p===
Object.prototype}function l(p){if(e.isInt8Array(p)||e.isUint8Array(p)||e.isUint8ClampedArray(p)||e.isInt16Array(p)||e.isUint16Array(p)||e.isInt32Array(p)||e.isUint32Array(p)||e.isFloat32Array(p)||e.isFloat64Array(p))return p.slice();if(p instanceof Date)return new Date(p.getTime());if(p instanceof ArrayBuffer)return p.slice(0,p.byteLength);if(p instanceof Map){var n=new Map;for(const [v,h]of p)n.set(v,k(h));return n}if(p instanceof Set){n=new Set;for(const v of p)n.add(k(v));return n}return null}
function r(p,n){if(null===p||null===n)return!1;const v=Object.keys(p);if(null===n||Object.keys(n).length!==v.length)return!1;for(const h of v)if(p[h]!==n[h]||!Object.prototype.hasOwnProperty.call(n,h))return!1;return!0}a.clone=k;a.equals=function(p,n){return p===n||"number"===typeof p&&isNaN(p)&&"number"===typeof n&&isNaN(n)||"function"===typeof(p||{}).getTime&&"function"===typeof(n||{}).getTime&&p.getTime()===n.getTime()||!1};a.equalsShallow=function(p,n){if(p===n)return!0;if(null===p||void 0===
p||"string"===typeof p)return p===n;if("number"===typeof p)return p===n||"number"===typeof n&&isNaN(p)&&isNaN(n);if(p instanceof Date)return n instanceof Date&&p.getTime()===n.getTime();if(Array.isArray(p))return Array.isArray(n)&&b.equals(p,n);if(p instanceof Set){var v;if(v=n instanceof Set)a:if(p.size!==n.size)v=!1;else{for(const h of p)if(!n.has(h)){v=!1;break a}v=!0}return v}if(p instanceof Map){if(v=n instanceof Map)a:if(p.size!==n.size)v=!1;else{for(const [h,q]of p)if(p=n.get(h),p!==q||void 0===
p&&!n.has(h)){v=!1;break a}v=!0}return v}return g(p)?g(n)&&r(p,n):!1};a.fixJson=d;a.isAccessorLike=f;a.isPlainObject=g;a.tryClone=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/arrayUtils":function(){define(["exports","./maybe","./RandomLCG"],function(a,b,c){function e(p){return p}function d(p,n=e){if(p&&0!==p.length){var v=p[0],h=n(v);for(let q=1;q<p.length;++q){const u=p[q],z=Number(n(u));z>h&&(h=z,v=u)}return v}}function k(p,n,v,h){h=h||g;var q=Math.max(0,h.last-10);
for(let u=q;u<v;++u)if(p[u]===n)return h.last=u;v=Math.min(q,v);for(q=0;q<v;++q)if(p[q]===n)return h.last=q;return-1}function t(p){return p?(r.seed=p,()=>r.getFloat()):Math.random}const m=!!Array.prototype.fill;let f=function(){this.last=0};const g=new f,l=new Set,r=new c;a.PositionHint=f;a.binaryFindClosest=function(p,n,v){if(p&&0!==p.length){var h=p.length-1,q=p[0];if(n<=v(q))return q;q=p[h];if(n>=v(q))return q;var u=0;q=0;for(var z=h;u<z;){q=u+Math.floor((z-u)/2);const w=p[q],A=v(w);if(A===n)return w;
if(n<A){if(0<q){z=p[q-1];var x=v(z);if(n>x)return n-x>=A-n?w:z}z=q}else{if(q<h&&(u=p[q+1],x=v(u),n<x))return n-A>=x-n?u:w;u=q+1}}return p[q]}};a.binaryIndexOf=function(p,n,v){const h=p.length;let q=0;for(var u=h-1;q<u;){const z=q+Math.floor((u-q)/2);n>p[z]?q=z+1:u=z}u=p[q];return v?n>=p[h-1]?-1:u===n?q:q-1:u===n?q:-1};a.constant=function(p,n){if(m)return Array(p).fill(n);const v=Array(p);for(let h=0;h<p;h++)v[h]=n;return v};a.difference=function(p,n,v){let h,q;v?(h=n.filter(u=>!p.some(z=>v(z,u))),
q=p.filter(u=>!n.some(z=>v(z,u)))):(h=n.filter(u=>!p.includes(u)),q=p.filter(u=>!n.includes(u)));return{added:h,removed:q}};a.equals=function(p,n,v){if(b.isNone(p)&&b.isNone(n))return!0;if(b.isNone(p)||b.isNone(n)||p.length!==n.length)return!1;if(v)for(let h=0;h<p.length;h++){if(!v(p[h],n[h]))return!1}else for(v=0;v<p.length;v++)if(p[v]!==n[v])return!1;return!0};a.filterInPlace=function(p,n){let v=0;for(let h=0;h<p.length;++h){const q=p[h];n(q,h)&&(p[v]=q,v++)}p.length=v};a.first=function(p){if(p)return 0<
p.length?p[0]:void 0};a.groupToMap=function(p,n){const v=new Map,h=p.length;for(let q=0;q<h;q++){const u=p[q],z=n(u,q,p),x=v.get(z);x?x.push(u):v.set(z,[u])}return v};a.indexOf=k;a.intersect=function(p,n,v){return p&&n?v?p.filter(h=>-1<n.findIndex(q=>v(h,q))):p.filter(h=>n.includes(h)):[]};a.isArrayLike=function(p){return p&&"number"===typeof p.length};a.last=function(p){if(p){var n=p.length;return 0<n?p[n-1]:void 0}};a.max=d;a.min=function(p,n=e){return d(p,v=>-n(v))};a.pickRandom=function(p,n,v){const h=
p.length;if(n>=h)return p.slice(0);v=t(v);const q=new Set,u=[];for(;u.length<n;){const z=Math.floor(v()*h);q.has(z)||(q.add(z),u.push(p[z]))}return u};a.range=function(p,n){void 0===n&&(n=p,p=0);const v=Array(n-p);for(let h=p;h<n;h++)v[h-p]=h;return v};a.remove=function(p,n){const v=p.indexOf(n);return-1!==v?(p.splice(v,1),n):null};a.removeUnordered=function(p,n,v,h){const q=null==v?p.length:v;h=k(p,n,q,h);if(-1!==h)return p[h]=p[q-1],null==v&&p.pop(),n};a.removeUnorderedMany=function(p,n,v=p.length,
h=n.length,q,u){if(0===h||0===v)return v;l.clear();for(let z=0;z<h;++z)l.add(n[z]);q=q||g;n=Math.max(0,q.last-10);for(h=n;h<v;++h)if(l.has(p[h])&&(u&&u.push(p[h]),l.delete(p[h]),p[h]=p[v-1],--v,--h,0===l.size||0===v))return l.clear(),v;for(h=0;h<n;++h)if(l.has(p[h])&&(u&&u.push(p[h]),l.delete(p[h]),p[h]=p[v-1],--v,--h,0===l.size||0===v))return l.clear(),v;l.clear();return v};a.shuffle=function(p,n){n=t(n);for(let v=p.length-1;0<v;v--){const h=Math.floor(n()*(v+1)),q=p[v];p[v]=p[h];p[h]=q}return p};
a.splitIntoChunks=function(p,n){const v=p.length;if(0===v)return[];const h=[];for(let q=0;q<v;q+=n)h.push(p.slice(q,q+n));return h};a.unique=function(p,n){return n?p.filter((v,h,q)=>q.findIndex(n.bind(null,v))===h):p.filter((v,h,q)=>q.indexOf(v)===h)};a.update=function(p,n){let v=p.length!==n.length;v&&(p.length=n.length);for(let h=0;h<n.length;++h)p[h]!==n[h]&&(p[h]=n[h],v=!0);return v};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/RandomLCG":function(){define(["../chunks/_rollupPluginBabelHelpers"],
function(a){let b=function(){function c(d=1){this._seed=d}var e=c.prototype;e.getInt=function(){return this._seed=(c._a*this._seed+c._c)%c._m};e.getFloat=function(){return this.getInt()/(c._m-1)};e.getIntRange=function(d,k){return Math.round(this.getFloatRange(d,k))};e.getFloatRange=function(d,k){k-=d;const t=this.getInt()/c._m;return d+t*k};a._createClass(c,[{key:"seed",set:function(d){this._seed=null==d?Math.random()*c._m:d}}]);return c}();b._m=2147483647;b._a=48271;b._c=0;return b})},"esri/core/typedArrayUtil":function(){define(["exports",
"./maybe"],function(a,b){a.NATIVE_ARRAY_MAX_SIZE=1024;a.estimateSize=function(c){return b.isSome(c)?128+c.buffer.byteLength+64:0};a.isArrayBuffer=function(c){return c instanceof ArrayBuffer};a.isFloat32Array=function(c){return c&&c.constructor&&"Float32Array"===c.constructor.name};a.isFloat64Array=function(c){return c&&c.constructor&&"Float64Array"===c.constructor.name};a.isInt16Array=function(c){return c&&c.constructor&&"Int16Array"===c.constructor.name};a.isInt32Array=function(c){return c&&c.constructor&&
"Int32Array"===c.constructor.name};a.isInt8Array=function(c){return c&&c.constructor&&"Int8Array"===c.constructor.name};a.isUint16Array=function(c){return c&&c.constructor&&"Uint16Array"===c.constructor.name};a.isUint32Array=function(c){return c&&c.constructor&&"Uint32Array"===c.constructor.name};a.isUint8Array=function(c){return c&&c.constructor&&"Uint8Array"===c.constructor.name};a.isUint8ClampedArray=function(c){return c&&c.constructor&&"Uint8ClampedArray"===c.constructor.name};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","../maybe","./utils"],function(a,b,c,e){function d(m){let f=m.constructor.__accessorMetadata__;const g=Object.prototype.hasOwnProperty.call(m.constructor,"__accessorMetadata__");if(!f)f={},Object.defineProperty(m.constructor,"__accessorMetadata__",{value:f,enumerable:!1,configurable:!0,writable:!0});else if(!g){f=Object.create(f);for(const l in f)f[l]=b.clone(f[l]);Object.defineProperty(m.constructor,
"__accessorMetadata__",{value:f,enumerable:!1,configurable:!0,writable:!0})}return c.assumeNonNull(m.constructor.__accessorMetadata__)}function k(m){return t.test(m)?"replace":"merge"}const t=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;a.getPropertiesMetadata=d;a.getPropertyMetadata=function(m,f){m=d(m);let g=m[f];g||(g=m[f]={});return g};a.mergeProperty=function(m,f){return e.merge(m,f,k)};a.setPropertyMetadata=function(m,f,g){d(m)[f]=g};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/accessorSupport/Properties":function(){define("../../chunks/_rollupPluginBabelHelpers ../has ../lang ../Logger ../maybe ../ObjectPool ./interfaces ./Property ./PropertyOrigin ./Store ./tracking ./utils ./tracking/Flags".split(" "),function(a,b,c,e,d,k,t,m,f,g,l,r,p){e.getLogger("esri.core.accessorSupport.Properties");b=function(){function v(q){this.host=q;this.properties=new Map;this.ctorArgs=null;this.destroyed=!1;this.lifecycle=t.Lifecycle.INITIALIZING;this.store=
new g.Store;this._origin=f.OriginId.USER;q=d.assumeNonNull(this.host.constructor.__accessorMetadata__);for(const u in q){const z=new m.Property(this,u,q[u]);this.properties.set(u,z)}this.metadatas=q}var h=v.prototype;h.initialize=function(){this.lifecycle=t.Lifecycle.CONSTRUCTING};h.constructed=function(){this.lifecycle=t.Lifecycle.CONSTRUCTED};h.destroy=function(){this.destroyed=!0;for(const [q,u]of this.properties){if(u.metadata.autoDestroy){const z=this.internalGet(q);z&&z&&"function"===typeof z.destroy&&
(z.destroy(),~u.observerObject.flags&p.Flags.NonNullable&&this._internalSet(u,null))}u.destroy()}};h.get=function(q){const u=this.properties.get(q);if(u.metadata.get)return u.getComputed();l.trackAccess(u.observerObject);const z=this.store;return z.has(q)?z.get(q):u.metadata.value};h.originOf=function(q){const u=this.store.originOf(q);return void 0===u&&(q=this.properties.get(q),void 0!==q&&q.observerObject.flags&p.Flags.HasDefaultValue)?"defaults":f.idToName(u)};h.has=function(q){return this.properties.has(q)?
this.store.has(q):!1};h.keys=function(){return[...this.properties.keys()]};h.internalGet=function(q){const u=this.properties.get(q);if(void 0!==u)return this.store.has(q)?this.store.get(q):u.metadata.value};h.internalSet=function(q,u){q=this.properties.get(q);void 0!==q&&this._internalSet(q,u)};h.getDependsInfo=function(q,u,z){const x=this.properties.get(u);if(void 0===x)return"";const w=new Set;var A=l.runTracked({onObservableAccessed:E=>w.add(E),onTrackingEnd:()=>{}},()=>x.metadata.get?.call(q)),
B=q.declaredClass.split(".").pop();u=`${z}${B}.${u}: ${A}\n`;if(0===w.size)return u;z+="  ";for(const E of w){if(!(E instanceof m.Property))continue;A=E.properties.host;B=E.propertyName;const y=r.getProperties(A);u=y?u+y.getDependsInfo(A,B,z):u+`${z}${B}: undefined\n`}return u};h.setAtOrigin=function(q,u,z){q=this.properties.get(q);if(void 0!==q)return this._setAtOrigin(q,u,z)};h.isOverridden=function(q){q=this.properties.get(q);return void 0!==q&&!!(q.observerObject.flags&p.Flags.Overriden)};h.clearOverride=
function(q){q=this.properties.get(q);const u=q?.observerObject;u&&u.flags&p.Flags.Overriden&&(u.flags&=~p.Flags.Overriden,q.notifyChange())};h.override=function(q,u){q=this.properties.get(q);if(!(void 0===q||null==u&&q.observerObject.flags&p.Flags.NonNullable)){var z=q.metadata.cast;if(z){u=this._cast(z,u);const {valid:x,value:w}=u;n.release(u);if(!x)return;u=w}q.observerObject.flags|=p.Flags.Overriden;this._internalSet(q,u)}};h.set=function(q,u){q=this.properties.get(q);if(!(void 0===q||null==u&&
q.observerObject.flags&p.Flags.NonNullable)){var z=q.metadata.cast;if(z){u=this._cast(z,u);const {valid:x,value:w}=u;n.release(u);if(!x)return;u=w}(z=q.metadata.set)?z.call(this.host,u):this._internalSet(q,u)}};h.setDefaultOrigin=function(q){this._origin=f.nameToId(q)};h.getDefaultOrigin=function(){return f.idToName(this._origin)};h.notifyChange=function(q){q=this.properties.get(q);void 0!==q&&q.notifyChange()};h.invalidate=function(q){q=this.properties.get(q);void 0!==q&&q.invalidate()};h.commit=
function(q){q=this.properties.get(q);void 0!==q&&q.commit()};h._internalSet=function(q,u){this._setAtOrigin(q,u,this.lifecycle!==t.Lifecycle.INITIALIZING?this._origin:f.OriginId.DEFAULTS)};h._setAtOrigin=function(q,u,z){const x=this.store,w=q.propertyName;x.has(w,z)&&c.equals(u,x.get(w))&&~q.observerObject.flags&p.Flags.Overriden&&z===x.originOf(w)||(q.invalidate(),x.set(w,u,z),q.commit(),l.initializeDependencyTracking(this.host,q))};h._cast=function(q,u){const z=n.acquire();z.valid=!0;z.value=u;
q&&(z.value=q.call(this.host,u,z));return z};a._createClass(v,[{key:"initialized",get:function(){return this.lifecycle!==t.Lifecycle.INITIALIZING}}]);return v}();e=function(){function v(){this.value=null;this.valid=!0}var h=v.prototype;h.acquire=function(){this.valid=!0};h.release=function(){this.value=null};return v}();const n=new k(e);return b})},"esri/core/has":function(){define(function(){function a(c){return"function"===typeof b[c]?b[c]=b[c](globalThis):b[c]}let b;b=globalThis.dojoConfig?.has||
globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{};a.add=(c,e,d,k)=>{if(k||"undefined"===typeof b[c])b[c]=e;return d&&a(c)};a.cache=b;a.add("esri-deprecation-warnings",!0);(()=>{a.add("host-webworker","undefined"!==typeof globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);var c="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document;a.add("host-browser",
c);a.add("dom",c);if(a("host-browser")){var e=navigator;c=e.userAgent;var d=e.appVersion;e=parseFloat(d);a.add("edge",parseFloat(c.split("Edge/")[1])||void 0);a.add("webkit",!a("edge")&&parseFloat(c.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&parseFloat(c.split("Chrome/")[1])||void 0);a.add("safari",!d.includes("Safari")||a("chrome")||a("edge")?void 0:parseFloat(d.split("Version/")[1]));a.add("mac",d.includes("Macintosh"));if(c.match(/(iPhone|iPod|iPad)/)){d=RegExp.$1.replace(/P/,"p");
var k=c.match(/OS ([\d_]+)/)?RegExp.$1:"1";k=parseFloat(k.replace(/_/,".").replace(/_/g,""));a.add(d,k);a.add("ios",k)}a("webkit")||(c.includes("Gecko")&&!a("edge")&&a.add("mozilla",e),a("mozilla")&&a.add("ff",parseFloat(c.split("Firefox/")[1]||c.split("Minefield/")[1])||void 0))}})();(()=>{if(globalThis.navigator){var c=navigator.userAgent;const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(c);c=/iPhone/i.test(c);e&&a.add("esri-mobile",e);c&&a.add("esri-iPhone",c);a.add("esri-geolocation",
!!navigator.geolocation)}a.add("esri-wasm","WebAssembly"in globalThis);a.add("esri-shared-array-buffer",()=>{const e=!1===globalThis.crossOriginIsolated;return"SharedArrayBuffer"in globalThis&&!e});a.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])));a.add("esri-atomics","Atomics"in globalThis);a.add("esri-workers","Worker"in globalThis);a.add("web-feat:cache","caches"in globalThis);a.add("esri-workers-arraybuffer-transfer",
!a("safari")||12<=Number(a("safari")));a.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]);a.add("featurelayer-simplify-payload-size-factors",[1,1,4]);a.add("featurelayer-snapshot-enabled",!0);a.add("featurelayer-snapshot-point-min-threshold",8E4);a.add("featurelayer-snapshot-point-max-threshold",4E5);a.add("featurelayer-snapshot-point-coverage",.1);a.add("featurelayer-advanced-symbols",!1);a.add("featurelayer-pbf",!0);a.add("featurelayer-pbf-statistics",!1);a.add("feature-layers-workers",!0);
a.add("feature-polyline-generalization-factor",1);a.add("mapview-transitions-duration",200);a.add("mapview-srswitch-adjust-rotation-scale-threshold",24E6);a.add("mapserver-pbf-version-support",10.81);a.add("mapservice-popup-identify-max-tolerance",20);a.add("heatmap-allow-raster-fallback",!0);a.add("heatmap-force-raster",!1);!a("host-webworker")&&a("host-browser")&&(a.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),a.add("esri-image-decode",()=>{if("decode"in new Image){const e=
new Image;e.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';e.decode().then(()=>{a.add("esri-image-decode",!0,!0,!0)}).catch(()=>{a.add("esri-image-decode",!1,!0,!0)})}else return!1}),a.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");e.href="?'";return e.href.includes("?%27")}))})();return a})},"esri/core/Logger":function(){define(["../chunks/_rollupPluginBabelHelpers","../config","./has","./maybe",
"./string"],function(a,b,c,e,d){const k={info:0,warn:1,error:2,none:3};c=function(){function t(f){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=f.level&&(this.level=f.level);null!=f.writer&&(this.writer=f.writer);this._module=f.module;t._loggers[this.module]=this;f=this.module.lastIndexOf(".");-1!==f&&(this._parent=t.getLogger(this.module.slice(0,f)))}var m=t.prototype;m.error=function(...f){this._log("error","always",
...f)};m.warn=function(...f){this._log("warn","always",...f)};m.info=function(...f){this._log("info","always",...f)};m.errorOnce=function(...f){this._log("error","once",...f)};m.warnOnce=function(...f){this._log("warn","once",...f)};m.infoOnce=function(...f){this._log("info","once",...f)};m.errorOncePerTick=function(...f){this._log("error","oncePerTick",...f)};m.warnOncePerTick=function(...f){this._log("warn","oncePerTick",...f)};m.infoOncePerTick=function(...f){this._log("info","oncePerTick",...f)};
t.getLogger=function(f){let g=t._loggers[f];g||(g=new t({module:f}));return g};m._log=function(f,g,...l){if(this._matchLevel(f)){if("always"!==g&&!t._throttlingDisabled){const r=this._argsToKey(l),p=this._loggedMessages[f].get(r);if("once"===g&&null!=p||"oncePerTick"===g&&p&&p>=t._tickCounter)return;this._loggedMessages[f].set(r,t._tickCounter);t._scheduleTickCounterIncrement()}for(const r of b.log.interceptors)if(r(f,this.module,...l))return;this._inheritedWriter()(f,this.module,...l)}};m._parentWithMember=
function(f,g){let l=this;for(;e.isSome(l);){const r=l[f];if(e.isSome(r))return r;l=l.parent}return g};m._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};m._consoleWriter=function(f,g,...l){console[f](`[${g}]`,...l)};m._matchLevel=function(f){return k[this._parentWithMember("level",b.log.level?b.log.level:"warn")]<=k[f]};m._argsToKey=function(...f){return d.numericHash(JSON.stringify(f,(g,l)=>"object"!==typeof l||Array.isArray(l)?l:"[Object]"))};t._scheduleTickCounterIncrement=
function(){t._tickCounterScheduled||(t._tickCounterScheduled=!0,Promise.resolve().then(()=>{t._tickCounter++;t._tickCounterScheduled=!1}))};a._createClass(t,[{key:"module",get:function(){return this._module}},{key:"parent",get:function(){return this._parent}},{key:"test",get:function(){const f=this;return{loggedMessages:f._loggedMessages,clearLoggedWarnings(){return f._loggedMessages.warn.clear()}}}}],[{key:"testSingleton",get:function(){return{resetLoggers(f={}){const g=t._loggers;t._loggers=f;return g},
set throttlingDisabled(f){t._throttlingDisabled=f}}}}]);return t}();c._loggers={};c._tickCounter=0;c._tickCounterScheduled=!1;c._throttlingDisabled=!1;return c})},"esri/config":function(){define(["module","./core/has","./core/object"],function(a,b,c){b={analysisTheme:{accentColor:[255,128,0],textColor:"white"},apiKey:void 0,applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",
geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!1,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),
interceptors:[],maxUrlLength:2E3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(c.deepMerge(b,globalThis.esriConfig,!0),delete b.has);b.assetsPath||(a=(new URL(a.uri,document.baseURI)).href,b.assetsPath=a.slice(0,a.lastIndexOf("esri/")),b.defaultAssetsPath=b.assetsPath);return b})},"esri/core/object":function(){define(["exports","./lang"],function(a,b){function c(d,k,t){for(const m of d){if(null==
t)return;if(!(m in t))if(k)t[m]={};else return;t=t[m]}return t}function e(d,k,t){return k?Object.keys(k).reduce((m,f)=>{let g=m[f],l=k[f];if(g===l)return m;if(void 0===g)return m[f]=b.clone(l),m;if(Array.isArray(l)||Array.isArray(m))g=g?Array.isArray(g)?m[f]=g.concat():m[f]=[g]:m[f]=[],l&&(Array.isArray(l)||(l=[l]),t?l.forEach(r=>{g.includes(r)||g.push(r)}):m[f]=l.concat());else if(l&&"object"===typeof l)m[f]=e(g,l,t);else if(!m.hasOwnProperty(f)||k.hasOwnProperty(f))m[f]=l;return m},d||{}):d}a.deepMerge=
function(d,k,t=!1){return e(d,k,t)};a.getDeepValue=function(d,k){if(null!=k)return k[d]||c(d.split("."),!1,k)};a.setDeepValue=function(d,k,t){const m=d.split(".");d=m.pop();(t=c(m,!0,t))&&d&&(t[d]=k)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/string":function(){define(["exports","./object"],function(a,b){function c(d){return null==d?"":d}const e=/\{([^\}]+)\}/g;a.escapeRegExpString=function(d,k){return d.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,t=>k&&k.includes(t)?
t:`\\${t}`)};a.numericHash=function(d){let k=0;for(let t=0;t<d.length;t++)k=(k<<5)-k+d.charCodeAt(t),k|=0;return k};a.replace=function(d,k){return d.replace(e,"object"===typeof k?(t,m)=>c(b.getDeepValue(m,k)):(t,m)=>c(k(m)))};a.stripHTML=function(d){return(new DOMParser).parseFromString(d||"","text/html").body.innerText||""};a.templateHasKey=function(d,k){return(new RegExp(`{${k}}`,"ig")).test(d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/interfaces":function(){define(["exports"],
function(a){a.Lifecycle=void 0;var b=a.Lifecycle||(a.Lifecycle={});b[b.INITIALIZING=0]="INITIALIZING";b[b.CONSTRUCTING=1]="CONSTRUCTING";b[b.CONSTRUCTED=2]="CONSTRUCTED";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Property":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ./ObservableBase ./PropertyOrigin ./tracking ./tracking/Flags".split(" "),function(a,b,c,e,d,k){let t=function(){function g(r,p,n){this.properties=r;this.propertyName=
p;this.metadata=n;this.observerObject=new m;this._handles=this._accessed=null;this.observerObject.flags=k.Flags.Dirty|(n.nonNullable?k.Flags.NonNullable:0)|(n.hasOwnProperty("value")?k.Flags.HasDefaultValue:0)|(void 0===n.get?k.Flags.DepTrackingInitialized:0)|(void 0===n.dependsOn?k.Flags.AutoTracked:0);f.register(this,this.observerObject)}var l=g.prototype;l.destroy=function(){this.observerObject.destroy();this._accessed=null;this._clearObservationHandles();f.unregister(this)};l.getComputed=function(){const r=
this.observerObject;d.trackAccess(r);var p=this.properties.store;const n=this.propertyName;var v=r.flags;const h=p.get(n);if(v&k.Flags.Computing||~v&k.Flags.Dirty&&p.has(n))return h;r.flags|=k.Flags.Computing;const q=this.properties.host;v&k.Flags.AutoTracked?v=d.runTracked(this,this.metadata.get,q):(d.trackExplicitDependencies(q,this),v=this.metadata.get.call(q));p.set(n,v,e.OriginId.COMPUTED);p=p.get(n);p===h?r.flags&=~k.Flags.Dirty:d.runUntracked(this.commit,this);r.flags&=~k.Flags.Computing;return p};
l.onObservableAccessed=function(r){r!==this.observerObject&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(r)||this._accessed.push(r))};l.onTrackingEnd=function(){this._clearObservationHandles();const r=this.observerObject;r.flags|=k.Flags.DepTrackingInitialized;const p=this._accessed;if(null!==p){var n=this._handles;null===n&&(n=this._handles=[]);for(let v=0;v<p.length;++v)n.push(p[v].observe(r));p.length=0}};l.notifyChange=function(){const r=this.observerObject;r.onInvalidated();
r.onCommitted()};l.invalidate=function(){this.observerObject.onInvalidated()};l.commit=function(){const r=this.observerObject;r.flags&=~k.Flags.Dirty;r.onCommitted()};l._clearObservationHandles=function(){const r=this._handles;if(null!==r){for(let p=0;p<r.length;++p)r[p].remove();r.length=0}};return g}(),m=function(g){function l(){var p=g.apply(this,arguments)||this;p.flags=0;return p}b._inheritsLoose(l,g);var r=l.prototype;r.onInvalidated=function(){~this.flags&k.Flags.Overriden&&(this.flags|=k.Flags.Dirty);
const p=this._observers;if(p&&0<p.length)for(const n of p)n.onInvalidated()};r.onCommitted=function(){var p=this._observers;if(p&&0<p.length){p=p.slice();for(const n of p)n.onCommitted()}};r.destroy=function(){if(this.flags&k.Flags.Dirty)this.onCommitted();g.prototype.destroy.call(this)};return l}(c.ObservableBase);const f=new FinalizationRegistry(g=>{g.destroy()});a.Property=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ObservableBase":function(){define(["exports",
"./tracking/ObservationHandle"],function(a,b){let c=function(){function d(){this._observers=null;this.destroyed=!1}var k=d.prototype;k.observe=function(t){if(this.destroyed||t.destroyed)return e;null==this._observers&&(this._observers=[]);const m=this._observers;let f=!1,g=!1;const l=m.length;for(let r=0;r<l;++r){const p=m[r];if(p.destroyed)g=!0;else if(p===t){f=!0;break}}f||(m.push(t),g&&this._removeDestroyedObservers());return new b.ObservationHandle(m,t)};k._removeDestroyedObservers=function(){const t=
this._observers;if(t&&0!==t.length){var m=t.length,f=0;for(let g=0;g<m;++g){for(;g+f<m;)if(t[g+f].destroyed)++f;else break;if(0<f)if(g+f<m)t[g]=t[g+f];else break}t.length=m-f}};k.destroy=function(){if(!this.destroyed){this.destroyed=!0;var t=this._observers;if(null!=t){for(const m of t)m.onCommitted();this._observers=null}}};return d}();const e={remove:()=>{}};a.ObservableBase=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports",
"../../arrayUtils"],function(a,b){let c=function(){function e(d,k){this._observers=d;this._observer=k}e.prototype.remove=function(){b.remove(this._observers,this._observer)};return e}();a.ObservationHandle=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports","../maybe"],function(a,b){function c(d){switch(d){case "defaults":return a.OriginId.DEFAULTS;case "service":return a.OriginId.SERVICE;case "portal-item":return a.OriginId.PORTAL_ITEM;
case "web-scene":return a.OriginId.WEB_SCENE;case "web-map":return a.OriginId.WEB_MAP;case "user":return a.OriginId.USER;default:return null}}function e(d){switch(d){case a.OriginId.DEFAULTS:return"defaults";case a.OriginId.SERVICE:return"service";case a.OriginId.PORTAL_ITEM:return"portal-item";case a.OriginId.WEB_SCENE:return"web-scene";case a.OriginId.WEB_MAP:return"web-map";case a.OriginId.USER:return"user"}return b.assumeNonNull(void 0)}a.OriginId=void 0;(function(d){d[d.DEFAULTS=0]="DEFAULTS";
d[d.COMPUTED=1]="COMPUTED";d[d.SERVICE=2]="SERVICE";d[d.PORTAL_ITEM=3]="PORTAL_ITEM";d[d.WEB_SCENE=4]="WEB_SCENE";d[d.WEB_MAP=5]="WEB_MAP";d[d.USER=6]="USER"})(a.OriginId||(a.OriginId={}));a.OriginIdNum=a.OriginId.USER+1;a.idToName=e;a.idToReadableName=function(d){return e(d)};a.idToWritableName=function(d){return e(d)};a.nameToId=c;a.readableNameToId=function(d){return c(d)};a.writableNameToId=function(d){return c(d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking":function(){define(["exports",
"../has","../Logger","./utils","./tracking/Flags"],function(a,b,c,e,d){function k(z){v.onObservableAccessed(z)}function t(z,x,w){if(h)return m(z,x,w);v=z;n.push(z);z=x.call(w);f();return z}function m(z,x,w){const A=h;h=!0;v=z;n.push(z);z=null;try{z=x.call(w)}catch(B){q&&c.getLogger("esri.core.accessorSupport.tracking").error(B)}f();h=A;return z}function f(){var z=n.length;if(1<z){const x=n.pop();v=n[z-2];x.onTrackingEnd()}else 1===z?(z=n.pop(),v=p,z.onTrackingEnd()):v=p}function g(z,x){const w=x.observerObject;
if(!(w.flags&d.Flags.DepTrackingInitialized)){var A=q;q=!1;w.flags&d.Flags.AutoTracked?m(x,x.metadata.get,z):l(z,x);q=A}}function l(z,x){const w=x.observerObject;w.flags&d.Flags.ExplicitlyTracking||(w.flags|=d.Flags.ExplicitlyTracking,m(x,()=>{var A=x.metadata.dependsOn||u;for(const B of A)if("string"!==typeof B||B.includes(".")){A=e.pathToArray(B);for(let E=0,y=z;E<A.length&&null!=y&&"object"===typeof y;++E)y=r(y,A[E],E!==A.length-1)}else r(z,B,!1)}),w.flags&=~d.Flags.ExplicitlyTracking)}function r(z,
x,w){x="?"===x[x.length-1]?x.slice(0,-1):x;if(null!=z.getItemAt||Array.isArray(z)){var A=parseInt(x,10);if(!isNaN(A))return Array.isArray(z)?z[A]:z.getItemAt(A)}if(A=e.getProperties(z)?.properties.get(x))k(A.observerObject),g(z,A);return w?z[x]:void 0}const p={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},n=[];let v=p,h=!1,q=!1;const u=[];a.initializeDependencyTracking=g;a.runTracked=t;a.runTrackedNoThrow=m;a.runUntracked=function(z,x){return t(p,z,x)};a.trackAccess=k;a.trackExplicitDependencies=
l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/Flags":function(){define(["exports"],function(a){a.Flags=void 0;var b=a.Flags||(a.Flags={});b[b.Dirty=1]="Dirty";b[b.Overriden=2]="Overriden";b[b.Computing=4]="Computing";b[b.NonNullable=8]="NonNullable";b[b.HasDefaultValue=16]="HasDefaultValue";b[b.DepTrackingInitialized=32]="DepTrackingInitialized";b[b.AutoTracked=64]="AutoTracked";b[b.ExplicitlyTracking=128]="ExplicitlyTracking";Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,c){let e=function(){function d(){this._values=new Map;this.multipleOriginsSupported=!1}var k=d.prototype;k.clone=function(t){const m=new d;this._values.forEach((f,g)=>{t&&t.has(g)||m.set(g,b.clone(f))});return m};k.get=function(t){return this._values.get(t)};k.originOf=function(){return c.OriginId.USER};k.keys=function(){return[...this._values.keys()]};
k.set=function(t,m){this._values.set(t,m)};k.delete=function(t){this._values.delete(t)};k.has=function(t){return this._values.has(t)};k.forEach=function(t){this._values.forEach(t)};return d}();a.Store=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/set":function(){define(["exports","../Error","../has","../Logger","./get"],function(a,b,c,e,d){function k(t,m,f){if(t&&m)if("object"===typeof m)for(var g of Object.getOwnPropertyNames(m))k(t,g,m[g]);else if(m.includes("."))m=
m.split("."),g=m.splice(m.length-1,1)[0],k(d.get(t,m),g,f);else{g=t.__accessor__;if(null!=g&&c("esri-unknown-property-errors")&&null==g.metadatas[m])throw new b("set:unknown-property","setting unknown property '"+m+"' on instance of "+g.host.declaredClass);t[m]=f}}a.set=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Error":function(){define(["../chunks/_rollupPluginBabelHelpers","./lang","./Logger","./Message"],function(a,b,c,e){e=function(d){function k(t,m,f){var g=
d.call(this,t,m,f)||this;return a._assertThisInitialized(g)instanceof k?g:new k(t,m,f)}a._inheritsLoose(k,d);k.prototype.toJSON=function(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,m)=>{if(m&&"object"===typeof m&&"function"===typeof m.toJSON)return m;try{return b.clone(m)}catch(f){return"[object]"}}))}}catch(t){throw c.getLogger("esri.core.Error").error(t),t;}return{name:this.name,message:this.message,details:this.details}};
k.fromJSON=function(t){return new k(t.name,t.message,t.details)};return k}(e);e.prototype.type="error";return e})},"esri/core/Message":function(){define(["./object"],function(a){function b(c,e){return c.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,(d,k)=>{if(""===k)return"$";d=a.getDeepValue(k,e);d=null==d?"":d;if("undefined"===typeof d)throw Error(`could not find key "${k}" in template`);return d.toString()})}return function(){function c(e,d,k){this.name=e;this.details=k;this instanceof c&&(this.message=
(d&&b(d,k))??"")}c.prototype.toString=function(){return"["+this.name+"]: "+this.message};return c}()})},"esri/core/accessorSupport/watch":function(){define("exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ../SetUtils ../uid ./get ./trackingUtils ./utils".split(" "),function(a,b,c,e,d,k,t,m,f,g){function l(y){A.delete(y);A.add(y);B||(B=d.schedule(p))}function r(y){if(!y.removed){var C=y.oldValue,D=y.getValue();y.equals(C,D)||(y.oldValue=D,y.notify(D,C))}}function p(){let y=10;for(;B&&
y--;){B=null;const C=n(),D=w.acquire();for(const J of C){const M=J.uid;r(J);M===J.uid&&J.removed&&D.push(J)}for(const J of A)J.removed&&(D.push(J),A.delete(J));for(const J of D)x.pool.release(J);w.release(D);w.release(C);E.forEach(J=>J())}}function n(){const y=w.acquire();y.length=A.size;let C=0;for(const D of A)y[C]=D,++C;A.clear();return y}function v(y,C,D){let J=g.parse(y,C,D,(M,L,I)=>{let G,K,H=f.reactionDeferred(()=>m.valueOf(M,L),(O,Q)=>{M.__accessor__.destroyed||G&&G.uid!==K?J.remove():(G||
(G=x.acquireUntracked(O,I,Q,M,L),K=G.uid),l(G))});return{remove:g.once(()=>{H.remove();G&&(G.uid!==K||G.removed||(G.removed=!0,l(G)),G=null);J=H=null})}});return J}function h(y,C,D){const J=g.parse(y,C,D,(M,L,I)=>{let G=!1;return f.reaction(()=>m.valueOf(M,L),(K,H)=>{M.__accessor__.destroyed?J.remove():G||(G=!0,c.equals(H,K)||I.call(M,K,H,L,M),G=!1)})});return J}function q(y,C,D){let J,M,L=f.reactionDeferred(y,(I,G)=>{J&&J.uid!==M?L.remove():(J||(J=x.acquireTracked(I,C,G,D),M=J.uid),l(J))});return{remove:g.once(()=>
{L.remove();J&&(J.uid!==M||J.removed||(J.removed=!0,l(J)),J=null);L=null})}}function u(y,C,D){let J=!1;return f.reaction(y,(M,L)=>{J||(J=!0,D(L,M)||C(M,L),J=!1)})}var z;(function(y){y[y.Untracked=0]="Untracked";y[y.Tracked=1]="Tracked"})(z||(z={}));let x=function(){function y(){this.uid=t.generateUID();this.removed=!1;this.equals=this.path=this.target=this.getValue=this.callback=this.oldValue=this.type=null}y.acquireUntracked=function(D,J,M,L,I){return this.pool.acquire(z.Untracked,D,J,M,L,I,c.equals)};
y.acquireTracked=function(D,J,M,L){return this.pool.acquire(z.Tracked,D,J,M,null,null,L)};var C=y.prototype;C.notify=function(D,J){this.type===z.Untracked?this.callback.call(this.target,D,J,this.path,this.target):this.callback.call(null,D,J)};C.acquire=function(D,J,M,L,I,G,K){this.uid=t.generateUID();this.removed=!1;this.type=D;this.oldValue=J;this.callback=M;this.getValue=L;this.target=I;this.path=G;this.equals=K};C.release=function(){this.target=this.path=this.oldValue=this.callback=this.getValue=
null;this.uid=t.generateUID();this.removed=!0};return y}();x.pool=new e.ReentrantObjectPool(x);const w=new b,A=new Set;let B;const E=new Set;a.afterDispatch=function(y){E.add(y);return{remove(){E.delete(y)}}};a.dispatch=p;a.isValueInUse=function(y){return k.someSet(A,C=>C.oldValue===y)};a.removeTarget=function(y){for(const C of A.values())C.target===y&&(C.removed=!0)};a.watch=function(y,C,D,J=!1){return!y.__accessor__||y.__accessor__.destroyed?{remove(){}}:J?h(y,C,D):v(y,C,D)};a.watchTracked=function(y,
C,D=!1,J=c.equalsShallow){return D?u(y,C,J):q(y,C,J)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ReentrantObjectPool":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./maybe","./ObjectPool"],function(a,b,c,e){e=function(d){function k(){var m=d.apply(this,arguments)||this;m._set=new Set;return m}b._inheritsLoose(k,d);var t=k.prototype;t.destroy=function(){d.prototype.destroy.call(this);this._set=c.nullifyNonNullableForDispose(this._set)};t.acquire=
function(...m){m=d.prototype.acquire.call(this,...m);this._set.delete(m);return m};t.release=function(m){m&&!this._set.has(m)&&(d.prototype.release.call(this,m),this._set.add(m))};t._dispose=function(m){this._set.delete(m);d.prototype._dispose.call(this,m)};return k}(e);a.ReentrantObjectPool=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/scheduling":function(){define("exports ./maybe ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils ./time".split(" "),function(a,
b,c,e,d,k,t){function m(D){D=new n(D);z.push(D);A.willDispatch||(A.willDispatch=!0,c.nextTick(r));return D}function f(D){D=new p(D);x.push(D);null==B&&(v=performance.now(),B=requestAnimationFrame(g));return new w(D)}function g(){const D=performance.now();B=null;B=0<x.length?requestAnimationFrame(g):null;A.executeFrameTasks(D)}function l(){x.forAll(D=>{D.removed&&E.push(D)});x.removeUnorderedMany(E.data,E.length);E.clear()}function r(){for(;z.length;){const D=b.assumeNonNull(z.shift());D.isActive&&
D.callback()}A.willDispatch=!1}let p=function(D){this.phases=D;this.paused=!1;this.ticks=-1;this.removed=!1},n=function(){function D(J){this.callback=J;this.isActive=!0}D.prototype.remove=function(){this.isActive=!1};return D}(),v=0,h=0;const q={time:t.Milliseconds(0),deltaTime:t.Milliseconds(0),elapsedFrameTime:t.Milliseconds(0),frameDuration:t.Milliseconds(0)},u="prepare preRender render postRender update finish".split(" "),z=[],x=new d;let w=function(){function D(M){this._task=M}var J=D.prototype;
J.remove=function(){this._task.removed=!0};J.pause=function(){this._task.paused=!0};J.resume=function(){this._task.paused=!1};return D}();const A={frameTasks:x,willDispatch:!1,clearFrameTasks:function(D=!1){x.forAll(J=>{J.removed=!0});D&&l()},dispatch:r,executeFrameTasks:function(D){const J=t.Milliseconds(D-v);v=D;var M=0<h?h:1E3/60;const L=Math.max(0,J-M);q.time=D;q.frameDuration=t.Milliseconds(M-L);for(let I=0;I<u.length;I++){M=performance.now();const G=u[I];x.forAll(K=>{K.paused||K.removed||(0===
I&&K.ticks++,K.phases[G]&&(q.elapsedFrameTime=t.Milliseconds(performance.now()-D),q.deltaTime=0===K.ticks?t.Milliseconds(0):J,K.phases[G]?.call(K,q)))});y[I].record(performance.now()-M)}l();C.record(performance.now()-D)}};let B=null;const E=new d,y=u.map(D=>new e(D)),C=new e("total");a.FrameTaskHandle=w;a.addFrameTask=f;a.debug=A;a.performanceInfo=y;a.performanceTotal=C;a.schedule=m;a.setFrameDuration=function(D){h=Math.max(0,D)};a.waitAnimationFrame=function(){const D=k.createResolver(),J=f({postRender:()=>
{J.remove();m(D)}});return D.promise};a.waitTicks=function(D=1,J){const M=k.createResolver(),L=()=>{k.isAborted(J)?M.reject(k.createAbortError()):0===D?M():(--D,c.nextTick(()=>L()))};L();return M.promise};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/nextTick":function(){define(["exports"],function(a){const b=[];a.nextTick=function(c){b.push(c);1===b.length&&queueMicrotask(()=>{const e=b.slice();b.length=0;for(const d of e)d()})};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/PerformanceSampler":function(){define(["../chunks/_rollupPluginBabelHelpers","./maybe"],function(a,b){return function(){function c(e,d=30){this.name=e;this._counter=0;this._samples=Array(d)}c.prototype.record=function(e){b.isSome(e)&&(this._samples[++this._counter%this._samples.length]=e)};a._createClass(c,[{key:"median",get:function(){return this._samples.slice().sort((e,d)=>e-d)[Math.floor(this._samples.length/2)]}},{key:"average",get:function(){return this._samples.reduce((e,
d)=>e+d,0)/this._samples.length}},{key:"last",get:function(){return this._samples[this._counter%this._samples.length]}}]);return c}()})},"esri/core/PooledArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./arrayUtils","./HeapSort"],function(a,b,c){function e(d){d.data.length>1.5*d.length&&(d.data.length=Math.floor(1.1*d.length))}return function(){function d(t){this.data=[];this._length=0;this._allocator=void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=new b.PositionHint;
t&&(t.initialSize&&(this.data=Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),void 0!==t.deallocator&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>e(this)))}var k=d.prototype;k.toArray=function(){return this.data.slice(0,this.length)};k.filter=function(t){const m=[];for(let f=0;f<this._length;f++){const g=this.data[f];t(g)&&m.push(g)}return m};k.getItemAt=function(t){if(!(0>t||t>=this._length))return this.data[t]};k.includes=function(t,m){t=this.data.indexOf(t,m);
return-1!==t&&t<this.length};k.clear=function(){this.length=0};k.prune=function(){this.clear();this.data=[]};k.push=function(t){this.data[this._length++]=t};k.pushArray=function(t,m=t.length){for(let f=0;f<m;f++)this.data[this._length++]=t[f]};k.fill=function(t,m){for(let f=0;f<m;f++)this.data[this._length++]=t};k.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];++this._length;return t};k.unshift=function(t){this.data.unshift(t);
this._length++;e(this)};k.pop=function(){if(0!==this.length){var t=this.data[this.length-1];--this.length;this._shrink();return t}};k.remove=function(t){const m=b.indexOf(this.data,t,this.length,this._hint);if(-1!==m)return this.data.splice(m,1),--this.length,t};k.removeUnordered=function(t){return this.removeUnorderedIndex(b.indexOf(this.data,t,this.length,this._hint))};k.removeUnorderedIndex=function(t){if(!(t>=this.length||0>t))return this.swapElements(t,this.length-1),this.pop()};k.removeUnorderedMany=
function(t,m=t.length,f){this.length=b.removeUnorderedMany(this.data,t,this.length,m,this._hint,f);this._shrink()};k.front=function(){if(0!==this.length)return this.data[0]};k.back=function(){if(0!==this.length)return this.data[this.length-1]};k.swapElements=function(t,m){if(!(t>=this.length||m>=this.length||t===m)){var f=this.data[t];this.data[t]=this.data[m];this.data[m]=f}};k.sort=function(t){c.sort(this.data,0,this.length,t)};k.iterableSort=function(t){return c.iterableSort(this.data,0,this.length,
t)};k.some=function(t,m){for(let f=0;f<this.length;++f)if(t.call(m,this.data[f],f,this.data))return!0;return!1};k.find=function(t,m){for(let f=0;f<this.length;++f){const g=this.data[f];if(t.call(m,g,f))return g}};k.filterInPlace=function(t,m){let f=0;for(let g=0;g<this._length;++g){const l=this.data[g];t.call(m,l,g,this.data)&&(this.data[g]=this.data[f],this.data[f]=l,f++)}if(this._deallocator)for(t=f;t<this._length;t++)this.data[t]=this._deallocator(this.data[t]);this._length=f;this._shrink();return this};
k.forAll=function(t,m){const f=this.length,g=this.data;for(let l=0;l<f;++l)t.call(m,g[l],l,g)};k.forEach=function(t,m){for(let f=0;f<this.length;++f)t.call(m,this.data[f],f,this.data)};k.map=function(t,m){const f=Array(this.length);for(let g=0;g<this.length;++g)f[g]=t.call(m,this.data[g],g,this.data);return f};k.reduce=function(t,m){for(let f=0;f<this.length;++f)m=t(m,this.data[f],f,this.data);return m};k.has=function(t){const m=this.length,f=this.data;for(let g=0;g<m;++g)if(f[g]===t)return!0;return!1};
a._createClass(d,[{key:"length",get:function(){return this._length},set:function(t){if(t>this._length)if(this._allocator)for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=t;else{if(this._deallocator)for(let m=t;m<this._length;++m)this.data[m]=this._deallocator(this.data[m]);this._length=t;this._shrink()}}}]);return d}()})},"esri/core/HeapSort":function(){define(function(){var a;(function(b){const c=(d,k,t,m)=>{let f=k;const g=t>>>1,l=d[f-1];
for(;k<=g;){k=f<<1;k<t&&0>m(d[k-1],d[k])&&++k;const r=d[k-1];if(0>=m(r,l))break;d[f-1]=r;f=k}d[f-1]=l},e=(d,k)=>d<k?-1:d>k?1:0;b.sort=function(d,k,t,m){void 0===k&&(k=0);void 0===t&&(t=d.length);void 0===m&&(m=e);for(var f=t>>>1;f>k;f--)c(d,f,t,m);f=k+1;for(--t;t>k;t--){const g=d[k];d[k]=d[t];d[t]=g;c(d,f,t,m)}};b.iterableSort=function*(d,k,t,m){void 0===k&&(k=0);void 0===t&&(t=d.length);void 0===m&&(m=e);for(var f=t>>>1;f>k;f--)c(d,f,t,m),yield;f=k+1;for(--t;t>k;t--){const g=d[k];d[k]=d[t];d[t]=
g;c(d,f,t,m);yield}}})(a||(a={}));return a})},"esri/core/promiseUtils":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./clock ./deprecate ./Error ./events ./Logger ./maybe".split(" "),function(a,b,c,e,d,k,t,m){function f(){f=b._asyncToGenerator(function*(C,D){const J=C.slice(),M=yield Promise.all(C.map((L,I)=>D(L,I)));return J.filter((L,I)=>M[I])});return f.apply(this,arguments)}function g(C="Aborted"){return new d("AbortError",C)}function l(C,D="Aborted"){if(p(C))throw g(D);}function r(C){return m.isSome(C)?
"aborted"in C?C:C.signal:C}function p(C){C=r(C);return m.isSome(C)&&C.aborted}function n(C,D){C=r(C);if(!m.isNone(C))if(C.aborted)D();else return k.once(C,"abort",()=>D())}function v(C){return"AbortError"===C?.name}function h(){h=b._asyncToGenerator(function*(C){try{return yield C}catch(D){if(!v(D))throw D;}});return h.apply(this,arguments)}function q(){q=b._asyncToGenerator(function*(C,D=t.getLogger("esri")){try{return yield C}catch(J){v(J)||D.error(J)}});return q.apply(this,arguments)}function u(){let C=
null;const D=new Promise((J,M)=>{C={promise:void 0,resolve:J,reject:M}});C.promise=D;return C}function z(C){return x.apply(this,arguments)}function x(){x=b._asyncToGenerator(function*(C){if(C){if("function"!==typeof C.forEach){const D=Object.keys(C),J=D.map(I=>C[I]),M=yield z(J),L={};D.map((I,G)=>L[I]=M[G]);return L}return new Promise(D=>{const J=[];let M=C.length;0===M&&D(J);C.forEach(L=>{const I={promise:L||Promise.resolve(L)};J.push(I);I.promise.then(G=>{I.value=G}).catch(G=>{I.error=G}).then(()=>
{--M;0===M&&D(J)})})})}});return x.apply(this,arguments)}function w(){w=b._asyncToGenerator(function*(C){return(yield z(C)).filter(D=>!!D.value).map(D=>D.value)});return w.apply(this,arguments)}function A(C,D,J){const M=new AbortController;n(J,()=>M.abort());return new Promise((L,I)=>{let G=setTimeout(()=>{G=0;L(D)},C);n(M,()=>{G&&(clearTimeout(G),I(g()))})})}function B(C){return C&&"function"===typeof C.then}function E(C){return B(C)?C:Promise.resolve(C)}function y(){y=b._asyncToGenerator(function*(C){yield Promise.resolve();
l(C)});return y.apply(this,arguments)}a.after=A;a.always=function(C,D){return C.then(D,D)};a.create=function(C){e.deprecatedFunction(t.getLogger("esri.core.promiseUtils"),"create",{moduleName:"esri.core.promiseUtils",replacement:"new Promise()",version:"4.24"});return new Promise((D,J)=>{try{C(D,J)}catch(M){Promise.resolve().then(()=>J(M))}})};a.createAbortError=g;a.createDeferred=u;a.createResolver=function(){let C,D;const J=new Promise((L,I)=>{C=L;D=I}),M=L=>{C(L)};M.resolve=L=>C(L);M.reject=L=>
D(L);M.timeout=(L,I)=>c.clock.setTimeout(()=>M.reject(I),L);M.promise=J;return M};a.debounce=function(C,D=-1){let J,M,L,I,G=null;const K=(...H)=>{if(J){M=H;I&&I.reject(g());I=u();H=m.assumeNonNull(I.promise);if(G){var O=G;G=null;O.abort()}return H}L=I||u();I=null;if(0<D){const W=new AbortController,T=J=E(C(...H,W.signal));A(D).then(()=>{J===T&&(I?W.abort():G=W)})}else J=1,J=E(C(...H));H=()=>{const W=M;M=L=J=G=null;null!=W&&K(...W)};O=J;const Q=L;O.then(H,H);O.then(Q.resolve,Q.reject);return m.assumeNonNull(Q.promise)};
return K};a.eachAlways=z;a.eachAlwaysValues=function(C){return w.apply(this,arguments)};a.filter=function(C,D){return f.apply(this,arguments)};a.ignoreAbortErrors=function(C){return h.apply(this,arguments)};a.isAbortError=v;a.isAborted=p;a.isPromiseLike=B;a.logOnError=function(C){return q.apply(this,arguments)};a.onAbort=n;a.onAbortOrThrow=function(C,D){C=r(C);if(!m.isNone(C))return l(C),k.once(C,"abort",()=>D(g()))};a.throwIfAbortError=function(C){if(v(C))throw C;};a.throwIfAborted=l;a.throwIfNotAbortError=
function(C){if(!v(C))throw C;};a.timeout=function(C,D,J,M){const L=J&&"abort"in J?J:null;null!=M||L||(M=J);let I=setTimeout(()=>{I=0;L&&L.abort()},D);const G=()=>M||new d("promiseUtils:timeout","The wrapped promise did not resolve within "+D+" ms");return C.then(K=>{if(0===I)throw G();clearTimeout(I);return K},K=>{clearTimeout(I);throw 0===I?G():K;})};a.waitTick=function(C){return y.apply(this,arguments)};a.when=E;a.whenOrAbort=function(C,D){const J=r(D);return m.isNone(J)?C:new Promise((M,L)=>{let I=
n(D,()=>L(g()));const G=()=>I=m.removeMaybe(I);C.then(G,G);C.then(M,L)})};a.whenOrTimeout=function(C,D,J){return Promise.race([C,A(D).then(()=>{throw new d("timeout",`Did not resolve within ${D} milliseconds (${J??"timeout"})`);})])};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/clock":function(){define(["exports"],function(a){function b(e){return{setTimeout:(d,k)=>{const t=e.setTimeout(d,k);return{remove:()=>e.clearTimeout(t)}}}}const c=b(globalThis);a.clock=c;a.wrap=
b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/deprecate":function(){define(["exports","./has"],function(a,b){function c(k,t,m=!1){m&&d.has(t)||(m&&d.add(t),k.warn(`\ud83d\uded1 DEPRECATED - ${t}`))}function e(k,t,m={}){if(b("esri-deprecation-warnings")){const {replacement:f,version:g,see:l,warnOnce:r}=m;f&&(t+=`\n\t\ud83d\udee0\ufe0f Replacement: ${f}`);g&&(t+=`\n\t\u2699\ufe0f Version: ${g}`);l&&(t+=`\n\t\ud83d\udd17 See ${l} for more details.`);c(k,t,r)}}const d=new Set;
a.deprecated=e;a.deprecatedFunction=function(k,t,m={}){if(b("esri-deprecation-warnings")){const {moduleName:f}=m;e(k,`Function: ${(f?f+"::":"")+t+"()"}`,m)}};a.deprecatedModule=function(k,t,m={}){b("esri-deprecation-warnings")&&e(k,`Module: ${t}`,m)};a.deprecatedProperty=function(k,t,m={}){if(b("esri-deprecation-warnings")){const {moduleName:f}=m;e(k,`Property: ${(f?f+"::":"")+t}`,m)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/events":function(){define(["exports"],
function(a){function b(d){return d&&("function"===typeof d.on||"function"===typeof d.addEventListener)}function c(d,k,t){if(!b(d))throw new TypeError("target is not a Evented or EventTarget object");if("on"in d)return d.on(k,t);if(Array.isArray(k)){const m=k.slice();for(const f of m)d.addEventListener(f,t);return{remove(){for(const f of m)d.removeEventListener(f,t)}}}d.addEventListener(k,t);return{remove(){d.removeEventListener(k,t)}}}const e={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",
Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function({key:d}){return e[d]||d};a.ieKeyNormalizationMap=e;a.isEventTarget=b;a.on=c;a.once=function(d,k,t){if(!b(d))throw new TypeError("target is not a Evented or EventTarget object");if("once"in d)return d.once(k,t);const m=c(d,k,f=>{m.remove();t.call(d,f)});return{remove(){m.remove()}}};a.pausable=function(d,k,t){let m=!1;const f=c(d,
k,g=>{m||t.call(d,g)});return{resume(){m=!1},pause(){m=!0},remove(){f.remove()}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/time":function(){define(["exports"],function(a){a.Milliseconds=function(b){return b};a.Seconds=function(b){return b};a.millisecondsFromSeconds=function(b){return 1E3*b};a.secondsFromMilliseconds=function(b){return.001*b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/SetUtils":function(){define(["exports","./maybe"],
function(a,b){a.someSet=function(c,e){for(const d of c.entries())if(e(d[0]))return!0;return!1};a.union=function(c,e){const d=new Set;b.isSome(c)&&c.forEach(k=>d.add(k));b.isSome(e)&&e.forEach(k=>d.add(k));return d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/uid":function(){define(["exports"],function(a){let b=0;a.NullUID=0;a.generateUID=function(){return++b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/trackingUtils":function(){define(["exports",
"./tracking","./tracking/SimpleTrackingTarget"],function(a,b,c){let e=!1;const d=[];a.autorun=function(k){function t(){if(m&&!f)if(e)d.includes(t)||d.unshift(t);else for(m.clear(),f=e=!0,b.runTracked(m,k),e=f=!1;d.length;)d.pop()()}let m=new c.SimpleTrackingTarget(t),f=!1;f=!0;b.runTracked(m,k);f=!1;return{remove:function(){m&&(m.destroy(),m=null)}}};a.reaction=function(k,t){function m(){if(f&&!l)if(e)d.includes(m)||d.unshift(m);else{var r=g;f.clear();l=e=!0;g=b.runTracked(f,k);e=l=!1;for(t(g,r);d.length;)d.pop()()}}
let f=new c.SimpleTrackingTarget(m),g=null,l=!1;l=!0;g=b.runTracked(f,k);l=!1;return{remove:function(){f&&(f.destroy(),g=f=null)}}};a.reactionDeferred=function(k,t){function m(){if(!f)return null;f.clear();return g=b.runTracked(f,k)}let f=new c.SimpleTrackingTarget(function(){t(g,m)}),g=null;m();return{remove:function(){f&&(f.destroy(),f=null);g=null}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports"],
function(a){function b(){}let c=function(){function k(m){this._notify=m;this._accessed=[];this._handles=[];this._observerObject=new e(this._notify);d.register(this,this._observerObject)}var t=k.prototype;t.destroy=function(){this._accessed.length=0;this._observerObject?.destroy();this.clear();d.unregister(this)};t.onObservableAccessed=function(m){const f=this._accessed;f.includes(m)||f.push(m)};t.onTrackingEnd=function(){const m=this._handles,f=this._accessed,g=this._observerObject;for(let l=0;l<
f.length;++l)m.push(f[l].observe(g));f.length=0};t.clear=function(){const m=this._handles;for(let f=0;f<m.length;++f)m[f].remove();m.length=0};return k}(),e=function(){function k(m){this._notify=m;this._invalidCount=0;this.destroyed=!1}var t=k.prototype;t.onInvalidated=function(){this._invalidCount++};t.onCommitted=function(){if(!this.destroyed){var m=this._invalidCount;1===m?(this._invalidCount=0,this._notify()):this._invalidCount=0<m?m-1:0}};t.destroy=function(){this.destroyed=!0;this._notify=b};
return k}();const d=new FinalizationRegistry(k=>{k.destroy()});a.SimpleTrackingTarget=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(a,b,c,e,d,k){function t(f){let g=0;var l=f;if(c.isLongFormType(f))return c.ensureLongFormType(f);for(;Array.isArray(l)&&1===l.length&&"string"!==typeof l[0]&&"number"!==typeof l[0];)l=l[0],g++;return c.isOneOf(l)?
0===g?c.ensureOneOf(l):c.ensureNArrayTyped(c.ensureOneOf(l),g):1===g?c.ensureArray(l):1<g?c.ensureNArray(l,g):f.from?f.from:c.ensureType(f)}function m(f,g){return l=>{l=+f(l);null!=g.step&&(l=Math.round(l/g.step)*g.step);null!=g.min&&(l=Math.max(g.min,l));null!=g.max&&(l=Math.min(g.max,l));return l}}a.ensureRange=m;a.property=function(f={}){return(g,l)=>{if(g===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${g.name}.${l}. Accessor does not support static properties.`);
var r=Object.getOwnPropertyDescriptor(g,l);const p=d.getPropertyMetadata(g,l);r&&(r.get||r.set?(p.get=r.get||p.get,p.set=r.set||p.set):"value"in r&&("value"in f&&b.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${l}" on "${g.constructor.name}" already defined in the metadata`,f),p.value=f.value=r.value));null!=f.readOnly&&(p.readOnly=f.readOnly);if(g=f.aliasOf){const n="string"===typeof g?g:g.source;g="string"===typeof g?null:!0===g.overridable;
let v;p.dependsOn=[n];p.get=function(){let h=e.get(this,n);if("function"===typeof h){v||(v=n.split(".").slice(0,-1).join("."));const q=e.get(this,v);q&&(h=h.bind(q))}return h};p.readOnly||(p.set=g?function(h){this._override(l,h)}:function(h){k.set(this,n,h)})}g=f.type;r=f.types;p.cast||(g?p.cast=t(g):r&&(Array.isArray(r)?p.cast=c.ensureArrayTyped(c.ensureOneOfType(r[0])):p.cast=c.ensureOneOfType(r)));d.mergeProperty(p,f);f.range&&(p.cast=m(p.cast,f.range))}};a.propertyJSONMeta=function(f,g,l){f=d.getPropertyMetadata(f,
l);f.json||(f.json={});f=f.json;void 0!==g&&(f.origins||(f.origins={}),f.origins[g]||(f.origins[g]={}),f=f.origins[g]);return f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger","../MapUtils"],function(a,b,c,e){function d(I){return null==I?I:new Date(I)}function k(I){return null==I?I:!!I}function t(I){return null==I?I:I.toString()}function m(I){if(null==I)return I;I=parseFloat(I);return isNaN(I)?
0:I}function f(I){return null==I?I:Math.round(parseFloat(I))}function g(I){return I&&I.constructor&&void 0!==I.constructor.__accessorMetadata__}function l(I,G){return null!=G&&I&&!(G instanceof I)}function r(I){return I&&I.Type?"function"===typeof I.Type?I.Type:I.Type.base:null}function p(I,G){var K;(K=!G||!G.constructor)||(K=G.constructor,K=!(K&&"isCollection"in K));if(K)return n(I,G)?G:new I(G);K=r(I.prototype.itemType);const H=r(G.constructor.prototype.itemType);if(!K)return G;if(!H)return new I(G);
if(K===H)return G;if(K.prototype.isPrototypeOf(H.prototype))return new I(G);n(I,G);return G}function n(I,G){return g(G)?(J.error("Accessor#set","Assigning an instance of '"+(G.declaredClass||"unknown")+"' which is not a subclass of '"+h(I)+"'"),!0):!1}function v(I,G){return null==G?G:I&&"isCollection"in I?p(I,G):l(I,G)?n(I,G)?G:new I(G):G}function h(I){return I&&I.prototype&&I.prototype.declaredClass||"unknown"}function q(I){switch(I){case Number:return m;case L:return f;case Boolean:return k;case String:return t;
case Date:return d;default:return e.getOrCreateMapValue(M,I,()=>v.bind(null,I))}}function u(I,G){const K=q(I);return 1===arguments.length?K:K(G)}function z(I,G,K){return 1===arguments.length?z.bind(null,I):G?Array.isArray(G)?G.map(H=>I(H,K)):[I(G,K)]:G}function x(I,G,K){return 0!==G&&Array.isArray(K)?K.map(H=>x(I,G-1,H)):I(K)}function w(I,G,K){if(2===arguments.length)return w.bind(null,I,G);if(!K)return K;K=x(I,G,K);let H=G;for(var O=K;0<H&&Array.isArray(O);)H--,O=O[0];if(void 0!==O)for(O=0;O<H;O++)K=
[K];return K}function A(I,G){if(2===arguments.length)return A(I).call(null,G);const K=new Set,H=I.filter(T=>"function"!==typeof T),O=I.filter(T=>"function"===typeof T);for(const T of I)"string"!==typeof T&&"number"!==typeof T||K.add(T);let Q=null,W=null;return(T,Y)=>{if(null==T)return T;const X=typeof T,ra="string"===X||"number"===X;if(ra&&(K.has(T)||O.some(Ba=>"string"===X&&Ba===String||"number"===X&&Ba===Number))||"object"===X&&O.some(Ba=>!l(T,Ba)))return T;ra&&H.length?(Q||(Q=H.map(Ba=>"string"===
typeof Ba?`'${Ba}'`:`${Ba}`).join(", ")),J.error("Accessor#set",`'${T}' is not a valid value for this property, only the following values are valid: ${Q}`)):"object"===typeof T&&O.length?(W||(W=O.map(Ba=>h(Ba)).join(", ")),J.error("Accessor#set",`'${T}' is not a valid value for this property, value must be one of ${W}`)):J.error("Accessor#set",`'${T}' is not a valid value for this property`);Y&&(Y.valid=!1);return null}}function B(I,G){if(2===arguments.length)return B(I).call(null,G);const K={},H=
[],O=[];for(const W in I.typeMap){const T=I.typeMap[W];K[W]=u(T);H.push(h(T));O.push(W)}const Q="string"===typeof I.key?W=>W[I.key]:I.key;return W=>{if(I.base&&!l(I.base,W)||null==W)return W;var T=Q(W)||I.defaultKeyValue;const Y=K[T];if(!Y)return J.error("Accessor#set",`Invalid property value, value needs to be one of ${`'${H.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${O.join("', '")}'`})`),null;if(!l(I.typeMap[T],W))return W;if("string"===typeof I.key&&!g(W)){T={};
for(const X in W)X!==I.key&&(T[X]=W[X]);return Y(T)}return Y(W)}}function E(I){switch(I.type){case "native":return u(I.value);case "array":return z(E(I.value));case "one-of":return y(I);default:return null}}function y(I){let G=null;return(K,H)=>{if(D(K,I))return K;null==G&&(G=C(I));J.error("Accessor#set",`Invalid property value, value needs to be of type ${G}`);H&&(H.valid=!1);return null}}function C(I){switch(I.type){case "native":switch(I.value){case Number:return"number";case String:return"string";
case Boolean:return"boolean";case L:return"integer";case Date:return"date";default:return h(I.value)}case "array":return`array of ${C(I.value)}`;case "one-of":return I=I.values.map(G=>C(G)),`one of ${I.slice(0,I.length-1)} or ${I[I.length-1]}`}return"unknown"}function D(I,G){if(null==I)return!0;switch(G.type){case "native":switch(G.value){case Number:case L:return"number"===typeof I;case Boolean:return"boolean"===typeof I;case String:return"string"===typeof I}return I instanceof G.value;case "array":return Array.isArray(I)?
!I.some(K=>!D(K,G.value)):!1;case "one-of":return G.values.some(K=>D(I,K))}}const J=c.getLogger("esri.core.accessorSupport.ensureTypes"),M=new WeakMap;let L=function(){};a.Integer=L;a.ensureArray=function(I,G){return 1===arguments.length?z(u.bind(null,I)):z(u.bind(null,I),G)};a.ensureArrayTyped=z;a.ensureBoolean=k;a.ensureClass=v;a.ensureDate=d;a.ensureInteger=f;a.ensureLongFormType=E;a.ensureNArray=function(I,G,K){return 2===arguments.length?w(u.bind(null,I),G):w(u.bind(null,I),G,K)};a.ensureNArrayTyped=
w;a.ensureNumber=m;a.ensureOneOf=A;a.ensureOneOfType=B;a.ensureString=t;a.ensureType=u;a.isClassedType=g;a.isLongFormType=function(I){if(!(I&&"type"in I))return!1;switch(I.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(I){return Array.isArray(I)?!I.some(G=>{G=typeof G;return!("string"===G||"number"===G||"function"===G&&1<I.length)}):!1};a.requiresType=l;a.types={native(I){return{type:"native",value:I}},array(I){return{type:"array",value:I}},oneOf(I){return{type:"one-of",
values:I}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MapUtils":function(){define(["exports"],function(a){a.findInMap=function(b,c){for(const [e,d]of b)if(c(d,e))return d;return null};a.first=function(b){b=b.values().next();return!0!==b.done?b.value:null};a.getOrCreateMapValue=function(b,c,e){const d=b.get(c);if(void 0!==d)return d;e=e();b.set(c,e);return e};a.someMap=function(b,c){for(const [e,d]of b)if(c(d,e))return!0;return!1};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/accessorSupport/decorators/subclass":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../has ../beforeDestroy ../interfaces ../metadata ../tracking ../extensions/serializableProperty".split(" "),function(a,b,c,e,d,k,t,m){function f(p,n){return null==n.get?function(){const v=this.__accessor__.properties.get(p);if(void 0!==v){t.trackAccess(v.observerObject);var h=this.__accessor__.store;return h.has(p)?h.get(p):v.metadata.value}}:function(){const v=
this.__accessor__.properties.get(p);if(void 0!==v)return v.getComputed()}}function g(p){const n=k.getPropertiesMetadata(p.prototype),v={};for(const h of Object.getOwnPropertyNames(n)){const q=n[h];m.processPrototypePropertyMetadata(q);v[h]={enumerable:!0,configurable:!0,get:f(h,q),set(u){const z=this.__accessor__;if(void 0===z)Object.defineProperty(this,h,{enumerable:!0,configurable:!0,writable:!0,value:u});else if(!Object.isFrozen(this)){if(z.initialized&&q.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${h}' of ${this.declaredClass}`);
if(z.lifecycle===d.Lifecycle.CONSTRUCTED&&q.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${h}' of ${this.declaredClass}`);z.set(h,u)}}}}Object.defineProperties(p.prototype,v)}const l=new Set,r=new Set;a.finalizeClass=g;a.subclass=function(p){return n=>{n.prototype.declaredClass=p;g(n);const v=[],h=[];for(var q=n.prototype;q;)q.hasOwnProperty("initialize")&&!l.has(q.initialize)&&(l.add(q.initialize),v.push(q.initialize)),q.hasOwnProperty("destroy")&&!r.has(q.destroy)&&
(r.add(q.destroy),h.push(q.destroy)),q=Object.getPrototypeOf(q);l.clear();r.clear();q=function(u){function z(...x){var w=u.call(this,...x)||this;if(w.constructor===z&&"function"===typeof w.postscript){v.length&&Object.defineProperty(b._assertThisInitialized(w),"initialize",{enumerable:!1,configurable:!0,value(){for(let A=v.length-1;0<=A;A--)v[A].call(this)}});if(h.length){let A=!1;const B=w[e.BEFORE_DESTROY_SYMBOL];Object.defineProperty(b._assertThisInitialized(w),"destroy",{enumerable:!1,configurable:!0,
value(){if(!A){A=!0;B.call(this);for(let E=0;E<h.length;E++)h[E].call(this)}}})}w.postscript(...x)}return w}b._inheritsLoose(z,u);return z}(n);q.__accessorMetadata__=k.getPropertiesMetadata(n.prototype);q.prototype.declaredClass=p;return q}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
function(a,b,c,e,d,k){function t(g,l,r){let p=g&&g.json;g&&g.json&&g.json.origins&&r&&(g=r.origin&&g.json.origins[r.origin])&&("any"===l||l in g)&&(p=g);return p}function m(g){if(g.type){var l=0;for(g=g.type;Array.isArray(g)&&!b.isOneOf(g);)g=g[0],l++;return{type:g,ndimArray:l}}}function f(g){if(g.types){var l=0;for(g=g.types;Array.isArray(g);)g=g[0],l++;return{types:g,ndimArray:l}}}a.originSpecificPropertyDefinition=t;a.originSpecificReadPropertyDefinition=function(g,l){return t(g,"read",l)};a.originSpecificWritePropertyDefinition=
function(g,l){return t(g,"write",l)};a.processPrototypePropertyMetadata=function(g){if(d.process(g)){c.process(g);var l=g.json.types?f(g.json):g.type?m(g):f(g);if(g.json.origins)for(const p in g.json.origins){const n=g.json.origins[p];if(n.types){var r=n;r=r.type?m(r):f(r)}else r=l;e.create(r,n,!1);n.types&&!n.write&&g.json.write&&g.json.write.enabled&&(n.write={...g.json.write});k.create(r,n)}e.create(l,g.json,!0);k.create(l,g.json)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],function(a){a.process=function(b){if(b.json&&b.json.origins){const c=b.json.origins;b={"web-document":["web-scene","web-map"]};for(const e in b)if(c[e]){const d=c[e];b[e].forEach(k=>{c[k]=d});delete c[e]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),
function(a,b,c,e,d,k){function t(u){var z=u.ndimArray??0;if(1<z)return l(u);if(1===z)return r(u);if("type"in u&&p(u.type)){z=u.type.prototype?.itemType?.Type;const x=r("function"===typeof z?{type:z}:{types:z});return(w,A,B)=>(w=x(w,A,B))?new u.type(w):w}return m(u)}function m(u){return"type"in u?f(u.type):h(u.types)}function f(u){return u.prototype.read?(z,x,w)=>{if(null==z)return z;x=typeof z;if("object"!==x)q.error(`Expected JSON value of type 'object' to deserialize type '${u.prototype.declaredClass}', but got '${x}'`);
else return x=new u,x.read(z,w),x}:u.fromJSON}function g(u,z,x,w){return 0!==w&&Array.isArray(z)?z.map(A=>g(u,A,x,w-1)):u(z,void 0,x)}function l(u){const z=m(u),x=g.bind(null,z),w=u.ndimArray??0;return(A,B,E)=>{if(null==A)return A;A=x(A,E,w);B=w;for(E=A;0<B&&Array.isArray(E);)B--,E=E[0];if(void 0!==E)for(E=0;E<B;E++)A=[A];return A}}function r(u){const z=m(u);return(x,w,A)=>{if(null==x)return x;if(Array.isArray(x)){w=[];for(const B of x)x=z(B,void 0,A),void 0!==x&&w.push(x);return w}A=z(x,void 0,A);
return void 0!==A?[A]:void 0}}function p(u){return k.isCollection(u)?(u=u.prototype.itemType)&&u.Type?"function"===typeof u.Type?n(u.Type):v(u.Type):!1:!1}function n(u){return Array.isArray(u)?!1:!!u&&u.prototype&&("read"in u.prototype||"fromJSON"in u||p(u))}function v(u){for(const z in u.typeMap)if(!n(u.typeMap[z]))return!1;return!0}function h(u){let z=null;const x=u.errorContext??"type";return(w,A,B)=>{if(null==w)return w;A=typeof w;if("object"!==A)q.error(`Expected JSON value of type 'object' to deserialize, but got '${A}'`);
else{if(!z){A={};for(var E in u.typeMap){const D=u.typeMap[E];var y=d.getPropertiesMetadata(D.prototype);if("function"===typeof u.key)continue;y=y[u.key];if(!y)continue;y.json?.type&&Array.isArray(y.json.type)&&1===y.json.type.length&&"string"===typeof y.json.type[0]&&(A[y.json.type[0]]=D);y=y.json?.write;if(!y||!y.writer){A[E]=D;continue}var C=y.target;C="string"===typeof C?C:u.key;const J={};y.writer(E,J,C);J[C]&&(A[J[C]]=D)}z=A}E=u.key;if("string"===typeof E){if(A=(E=w[E])?z[E]:u.defaultKeyValue?
u.typeMap[u.defaultKeyValue]:void 0)return E=new A,E.read(w,B),E;E=`Type '${E||"unknown"}' is not supported`;B&&B.messages&&w&&B.messages.push(new e(`${x}:unsupported`,E,{definition:w,context:B}));q.error(E)}}}}const q=b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=function(u,z,x){u&&(x||z.read)&&!z.read?.reader&&!1!==z.read?.enabled&&(x="types"in u?v(u.types):n(u.type),x&&c.setDeepValue("read.reader",t(u),z))};a.createTypeReader=t;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/Warning":function(){define(["../chunks/_rollupPluginBabelHelpers","./Message"],function(a,b){b=function(c){function e(d,k,t){var m=c.call(this,d,k,t)||this;return a._assertThisInitialized(m)instanceof e?m:new e(d,k,t)}a._inheritsLoose(e,c);return e}(b);b.prototype.type="warning";return b})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],function(a){a.isCollection=function(b){return!!b&&b.prototype&&
b.prototype.declaredClass&&0===b.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],function(a){function b(d){d.name&&(d.read?"object"===typeof d.read?void 0===d.read.source&&(d.read.source=d.name):d.read={source:d.name}:d.read={source:d.name},d.write?"object"===typeof d.write?void 0===d.write.target&&(d.write.target=d.name):d.write=
{target:d.name}:d.write={target:d.name})}function c(d){"boolean"===typeof d.read?d.read={enabled:d.read}:"function"===typeof d.read?d.read={enabled:!0,reader:d.read}:d.read&&"object"===typeof d.read&&void 0===d.read.enabled&&(d.read.enabled=!0)}function e(d){"boolean"===typeof d.write?d.write={enabled:d.write}:"function"===typeof d.write?d.write={enabled:!0,writer:d.write}:d.write&&"object"===typeof d.write&&void 0===d.write.enabled&&(d.write.enabled=!0)}a.process=function(d){d.json||(d.json={});
c(d.json);e(d.json);b(d.json);if(d.json.origins)for(const k in d.json.origins)c(d.json.origins[k]),e(d.json.origins[k]),b(d.json.origins[k]);return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports","../../../Error","../../../Logger","../../../object","./type"],function(a,b,c,e,d){function k(v){return(h,q,u,z)=>{if(!h||t(h,v,z))return f(h,q,u,z)}}function t(v,h,q){for(var u in h.typeMap)if(v instanceof
h.typeMap[u])return!0;q?.messages&&(u=h.errorContext??"type",h=`Values of type '${("function"!==typeof h.key?v[h.key]:v.declaredClass)??"Unknown"}' cannot be written`,q&&q.messages&&v&&q.messages.push(new b(`${u}:unsupported`,h,{definition:v,context:q})),c.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(h));return!1}function m(v){return(h,q,u,z)=>{if(!h||!Array.isArray(h))return f(h,q,u,z);h=h.filter(x=>t(x,v,z));return f(h,q,u,z)}}function f(v,h,q,u){e.setDeepValue(q,
g(v,u),h)}function g(v,h){return v&&"function"===typeof v.write?v.write({},h):v&&"function"===typeof v.toJSON?v.toJSON():"number"===typeof v?l(v):v}function l(v){return-Infinity===v?-Number.MAX_VALUE:Infinity===v?Number.MAX_VALUE:isNaN(v)?null:v}function r(v,h,q,u){null===v?v=null:v&&"function"===typeof v.map?(v=v.map(z=>g(z,u)),"function"===typeof v.toArray&&(v=v.toArray())):v=[g(v,u)];e.setDeepValue(q,v,h)}function p(v,h,q){return 0!==q&&Array.isArray(v)?v.map(u=>p(u,h,q-1)):g(v,h)}function n(v){return(h,
q,u,z)=>{if(null===h)h=null;else{h=p(h,z,v);z=v;for(var x=h;0<z&&Array.isArray(x);)z--,x=x[0];if(void 0!==x)for(x=0;x<z;x++)h=[h]}e.setDeepValue(u,h,q)}}a.create=function(v,h){if(h.write&&!h.write.writer&&(!1!==h.write.enabled||h.write.overridePolicy)){var q=v?.ndimArray??0;v&&(1===q||"type"in v&&d.isCollection(v.type))?h.write.writer=r:1<q?h.write.writer=n(q):h.types?Array.isArray(h.types)?h.write.writer=m(h.types[0]):h.write.writer=k(h.types):h.write.writer=f}};a.numberToJSON=l;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/ObservableChangesType":function(){define(["exports"],function(a){a.ObservableChangesType=void 0;var b=a.ObservableChangesType||(a.ObservableChangesType={});b[b.ADD=1]="ADD";b[b.REMOVE=2]="REMOVE";b[b.MOVE=4]="MOVE";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/shared":function(){define(["exports"],function(a){a.shared=function(b){return(c,e)=>{c[e]=b}};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../ObservableBase"],function(a,b,c){c=function(e){function d(){return e.apply(this,arguments)||this}b._inheritsLoose(d,e);d.prototype.notify=function(){var k=this._observers;if(k&&0<k.length){k=k.slice();for(const t of k)t.onInvalidated(),t.onCommitted()}};return d}(c.ObservableBase);a.SimpleObservable=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/collectionUtils":function(){define(["exports","./Collection"],function(a,b){a.castForReferenceSetter=function(c){return c};a.referenceSetter=function(c,e,d=b){e||(e=new d);if(e===c)return e;e.removeAll();c&&(Array.isArray(c)||"items"in c&&Array.isArray(c.items))?e.addMany(c):c&&e.add(c);return e};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/JSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./accessorSupport/DefaultsStore ./accessorSupport/defaultsStoreUtils ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l){const r=p=>{p=function(n){function v(...q){q=n.call(this,...q)||this;const u=d.assumeNonNull(f.getProperties(b._assertThisInitialized(q))),z=u.store,x=new k.DefaultsStore;u.store=x;t.setupConstructedDefaults(u,z,x);return q}b._inheritsLoose(v,n);var h=v.prototype;h.read=function(q,u){m.read(this,q,u)};h.write=function(q={},u){return g.write(this,q,u)};h.toJSON=function(q){return this.write({},q)};v.fromJSON=function(q,u){if(q){if(q.declaredClass)throw Error("JSON object is already hydrated");
var z=new this;z.read(q,u);q=z}else q=null;return q};return v}(p);p=c.__decorate([l.subclass("esri.core.JSONSupport")],p);p.prototype.toJSON.isDefaultToJSON=!0;return p};a.JSONSupport=function(p){function n(){return p.apply(this,arguments)||this}b._inheritsLoose(n,p);return n}(r(e));a.JSONSupport=c.__decorate([l.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=r;a.isJSONSupport=function(p){return p&&"read"in p&&"write"in p&&"toJSON"in p};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/accessorSupport/DefaultsStore":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,c){let e=function(){function k(){this._values=new Map;this.multipleOriginsSupported=!1}var t=k.prototype;t.clone=function(m){const f=new k;this._values.forEach((g,l)=>{m&&m.has(l)||f.set(l,b.clone(g.value),g.origin)});return f};t.get=function(m,f){f=this._normalizeOrigin(f);m=this._values.get(m);return null==f||m?.origin===f?m?.value:void 0};t.originOf=function(m){return this._values.get(m)?.origin??
c.OriginId.USER};t.keys=function(m){m=this._normalizeOrigin(m);const f=[...this._values.keys()];return null==m?f:f.filter(g=>this._values.get(g)?.origin===m)};t.set=function(m,f,g){g=this._normalizeOrigin(g);if(g===c.OriginId.DEFAULTS){const l=this._values.get(m);if(l&&null!=l.origin&&l.origin>g)return}this._values.set(m,new d(f,g))};t.delete=function(m,f){f=this._normalizeOrigin(f);null!=f&&this._values.get(m)?.origin!==f||this._values.delete(m)};t.has=function(m,f){f=this._normalizeOrigin(f);return null!=
f?this._values.get(m)?.origin===f:this._values.has(m)};t.forEach=function(m){this._values.forEach(({value:f},g)=>m(f,g))};t._normalizeOrigin=function(m){if(null!=m)return m===c.OriginId.DEFAULTS?m:c.OriginId.USER};return k}(),d=function(k,t){this.value=k;this.origin=t};a.DefaultsStore=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/defaultsStoreUtils":function(){define(["exports","./PropertyOrigin"],function(a,b){a.setupConstructedDefaults=function(c,e,
d){e.keys().forEach(k=>{d.set(k,e.get(k),b.OriginId.DEFAULTS)});Object.keys(c.metadatas).forEach(k=>{c.internalGet(k)&&d.set(k,c.internalGet(k),b.OriginId.DEFAULTS)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils","./extensions/serializableProperty"],function(a,b,c,e){const d={origin:"service"};a.read=function(k,t,m=d){if(t&&"object"===typeof t){var f=c.getProperties(k),g=f.metadatas,l={};for(const w of Object.getOwnPropertyNames(t)){var r=
l,p=g,n=w,v=t,h=m,q=e.originSpecificReadPropertyDefinition(p[n],h);q&&(!q.read||!1!==q.read.enabled&&!q.read.source)&&(r[n]=!0);for(const A of Object.getOwnPropertyNames(p)){q=e.originSpecificReadPropertyDefinition(p[A],h);a:{var u=n;var z=v;if(q&&q.read&&!1!==q.read.enabled&&q.read.source){q=q.read.source;if("string"===typeof q){if(q===u||q.includes(".")&&0===q.indexOf(u)&&b.exists(q,z)){u=!0;break a}}else for(const B of q)if(B===u||B.includes(".")&&0===B.indexOf(u)&&b.exists(B,z)){u=!0;break a}u=
!1}else u=!1}u&&(r[A]=!0)}}f.setDefaultOrigin(m.origin);for(var x of Object.getOwnPropertyNames(l))p=(p=(r=e.originSpecificReadPropertyDefinition(g[x],m).read)&&r.source)&&"string"===typeof p?b.valueOf(t,p):t[x],r&&r.reader&&(p=r.reader.call(k,p,t,m)),void 0!==p&&f.set(x,p);if(!m||!m.ignoreDefaults){f.setDefaultOrigin("defaults");for(const w of Object.getOwnPropertyNames(g))l[w]||(x=k,t=w,g=f,r=m,p=(p=e.originSpecificPropertyDefinition(g.metadatas[t],"any",r))&&p.default,void 0!==p&&(x="function"===
typeof p?p.call(x,t,r):p,void 0!==x&&g.set(t,x)))}f.setDefaultOrigin("user")}};a.readLoadable=function(k,t,m,f=d){t={...f,messages:[]};m(t);t.messages?.forEach(g=>{"warning"!==g.type||k.loaded?f&&f.messages&&f.messages.push(g):k.loadWarnings.push(g)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/write":function(){define("exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,b,c,e,d,
k,t){function m(g,l,r,p,n){const v={};l.write?.writer?.call(g,p,v,r,n);return v}function f(g,l,r,p,n,v){if(!p||!p.write)return!1;const h=g.get(r);if(!n&&p.write.overridePolicy){var q=p.write.overridePolicy.call(g,h,r,v);void 0!==q&&(n=q)}n||(n=p.write);if(!n||!1===n.enabled)return!1;if((null===h&&!n.allowNull&&!n.writerEnsuresNonNull||void 0===h)&&n.isRequired)return(l=new c("web-document-write:property-required",`Missing value for required property '${r}' on '${g.declaredClass}'`,{propertyName:r,
target:g}),v)&&v.messages?v.messages.push(l):l&&!v&&e.getLogger("esri.core.accessorSupport.write").error(l.name,l.message),!1;if(void 0===h||null===h&&!n.allowNull&&!n.writerEnsuresNonNull)return!1;if(q=!l.store.multipleOriginsSupported||l.store.originOf(r)===d.OriginId.DEFAULTS)q=p.default,void 0===q?q=!1:null!=p.defaultEquals?q=p.defaultEquals(h):"function"===typeof q?Array.isArray(h)?(g=q.call(g,r,v),q=b.equals(g,h)):q=!1:q=q===h;return q||!n.ignoreOrigin&&v&&v.origin&&l.store.multipleOriginsSupported&&
l.store.originOf(r)<d.nameToId(v.origin)?!1:!0}a.willPropertyWrite=function(g,l,r,p){const n=k.getProperties(g),v=t.originSpecificWritePropertyDefinition(n.metadatas[l],p);return v?f(g,n,l,v,r,p):!1};a.write=function(g,l,r){if(g&&"function"===typeof g.toJSON&&(!g.toJSON.isDefaultToJSON||!g.write))return k.merge(l,g.toJSON(r));const p=k.getProperties(g),n=p.metadatas;for(const v in n){const h=t.originSpecificWritePropertyDefinition(n[v],r);if(!f(g,p,v,h,void 0,r))continue;const q=g.get(v),u=m(g,h,
h.write&&"string"===typeof h.write.target?h.write.target:v,q,r);0<Object.keys(u).length&&(l=k.merge(l,u),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>k.merge(l,u,()=>"replace-arrays"))),r&&r.writtenProperties&&r.writtenProperties.push({target:g,propName:v,oldOrigin:d.idToReadableName(p.store.originOf(v)),newOrigin:r.origin}))}return l};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Loadable":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Error ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m){const f=g=>{g=function(l){function r(...n){var v=l.call(this,...n)||this;v._loadController=null;v.loadError=null;v.loadStatus="not-loaded";v._set("loadWarnings",[]);v.addResolvingPromise(new Promise(h=>{const q=v.load.bind(a._assertThisInitialized(v));v.load=u=>{const z=new Promise((x,w)=>{const A=d.onAbortOrThrow(u,w);v.destroyed&&w(new c("load:instance-destroyed",`Instance of '${v.declaredClass||v.constructor.name}' is already destroyed`,{instance:a._assertThisInitialized(v)}));
v._promiseProps.when(x,w).finally(()=>{A&&A.remove()})});if("not-loaded"===v.loadStatus){v._set("loadStatus","loading");const x=v._loadController=new AbortController;q({signal:x.signal});d.onAbort(x.signal,()=>{v._promiseProps.abort()})}h();return z}}));v.when(()=>{v._set("loadStatus","loaded");v._loadController=null},h=>{v._set("loadStatus","failed");v._set("loadError",h);v._loadController=null});return v}a._inheritsLoose(r,l);var p=r.prototype;p.load=function(){return null};p.cancelLoad=function(){if(this.isFulfilled())return this;
this._set("loadError",new c("load:cancelled","Cancelled"));this._loadController?.abort();return this};a._createClass(r,[{key:"loaded",get:function(){return"loaded"===this.loadStatus}},{key:"loadWarnings",get:function(){return this._get("loadWarnings")}}]);return r}(g);b.__decorate([t.property({readOnly:!0})],g.prototype,"loaded",null);b.__decorate([t.property({readOnly:!0})],g.prototype,"loadError",void 0);b.__decorate([t.property({clonable:!1})],g.prototype,"loadStatus",void 0);b.__decorate([t.property({type:[k],
readOnly:!0})],g.prototype,"loadWarnings",null);return g=b.__decorate([m.subclass("esri.core.Loadable")],g)};e=function(g){function l(){return g.apply(this,arguments)||this}a._inheritsLoose(l,g);return l}(f(e.EsriPromise));e=b.__decorate([m.subclass("esri.core.Loadable")],e);(function(g){g.LoadableMixin=f;g.isLoadable=function(l){return!(!l||!l.load)}})(e||(e={}));return e})},"esri/core/Promise":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){var m;(function(l){l[l.PENDING=0]="PENDING";l[l.RESOLVED=1]="RESOLVED";l[l.REJECTED=2]="REJECTED"})(m||(m={}));let f=function(){function l(p){this.instance=p;this._resolver=k.createDeferred();this._status=m.PENDING;this._resolvingPromises=[];this._resolver.promise.then(()=>{this._status=m.RESOLVED;this._cleanUp()},()=>{this._status=m.REJECTED;this._cleanUp()})}var r=l.prototype;r.addResolvingPromise=function(p){this._resolvingPromises.push(p);this._tryResolve()};r.isResolved=
function(){return this._status===m.RESOLVED};r.isRejected=function(){return this._status===m.REJECTED};r.isFulfilled=function(){return this._status!==m.PENDING};r.abort=function(){this._resolver.reject(k.createAbortError())};r.when=function(p,n){return this._resolver.promise.then(p,n)};r._cleanUp=function(){this._allPromise=this._resolvingPromises=this._allPromise=null};r._tryResolve=function(){if(!this.isFulfilled()){var p=k.createDeferred(),n=[...this._resolvingPromises,d.assumeNonNull(p.promise)],
v=this._allPromise=Promise.all(n);v.then(()=>{this.isFulfilled()||this._allPromise!==v||this._resolver.resolve(this.instance)},h=>{this.isFulfilled()||this._allPromise!==v||k.isAbortError(h)||this._resolver.reject(h)});p.resolve()}};return l}();const g=l=>{l=function(r){function p(...v){v=r.call(this,...v)||this;v._promiseProps=new f(b._assertThisInitialized(v));v.addResolvingPromise(Promise.resolve());return v}b._inheritsLoose(p,r);var n=p.prototype;n.isResolved=function(){return this._promiseProps.isResolved()};
n.isRejected=function(){return this._promiseProps.isRejected()};n.isFulfilled=function(){return this._promiseProps.isFulfilled()};n.when=function(v,h){return(new Promise((q,u)=>{this._promiseProps.when(q,u)})).then(v,h)};n.catch=function(v){return this.when(null,v)};n.addResolvingPromise=function(v){v&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in v?v.when():v)};return p}(l);return l=c.__decorate([t.subclass("esri.core.Promise")],l)};a.EsriPromise=function(l){function r(){return l.apply(this,
arguments)||this}b._inheritsLoose(r,l);return r}(g(e));a.EsriPromise=c.__decorate([t.subclass("esri.core.Promise")],a.EsriPromise);a.EsriPromiseMixin=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/loadAll":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./asyncUtils ./Collection ./Loadable ./maybe".split(" "),function(a,b,c,e,d,k){function t(){t=b._asyncToGenerator(function*(g,l){yield g.load();return m(g,l)});return t.apply(this,arguments)}function m(g,
l){return f.apply(this,arguments)}function f(){f=b._asyncToGenerator(function*(g,l){const r=[],p=(...v)=>{for(const h of v)k.isNone(h)||(Array.isArray(h)?p(...h):e.isCollection(h)?h.forEach(q=>p(q)):d.isLoadable(h)&&r.push(h))};l(p);let n=null;yield c.map(r,function(){var v=b._asyncToGenerator(function*(h){h=yield c.result("loadAll"in h&&"function"===typeof h.loadAll?h.loadAll():h.load());!1!==h.ok||n||(n=h)});return function(h){return v.apply(this,arguments)}}());if(n)throw n.error;return g});return f.apply(this,
arguments)}a.loadAll=function(g,l){return t.apply(this,arguments)};a.loadAllChildren=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/asyncUtils":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/property ./accessorSupport/ensureType ./arrayUtils ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t,m,f,g){function l(){l=b._asyncToGenerator(function*(z,x,w){return(yield k.eachAlways(z.map((A,
B)=>x.apply(w,[A,B])))).map(A=>A.value)});return l.apply(this,arguments)}function r(z){return{ok:!0,value:z}}function p(z){return{ok:!1,error:z}}function n(z){return d.isSome(z)&&!0===z.ok?z.value:null}function v(z){return d.isSome(z)&&!1===z.ok?z.error:null}function h(){h=b._asyncToGenerator(function*(z){if(d.isNone(z))return{ok:!1,error:Error("no promise provided")};try{return r(yield z)}catch(x){return p(x)}});return h.apply(this,arguments)}function q(){q=b._asyncToGenerator(function*(z){try{return r(yield z)}catch(x){return k.throwIfAbortError(x),
p(x)}});return q.apply(this,arguments)}let u=function(z){function x(A,B){var E=z.call(this,{})||this;E._result=null;E._abortHandle=null;E.abort=()=>{E._abortController=d.abortMaybe(E._abortController)};E.remove=E.abort;E._abortController=new AbortController;const {signal:y}=E._abortController;E.promise=A(y);E.promise.then(C=>{E._result=r(C);E._cleanup()},C=>{E._result=p(C);E._cleanup()});E._abortHandle=k.onAbort(B,E.abort);return E}b._inheritsLoose(x,z);var w=x.prototype;w.normalizeCtorArgs=function(){return{}};
w.destroy=function(){this.abort()};w._cleanup=function(){this._abortHandle=d.removeMaybe(this._abortHandle);this._abortController=null};b._createClass(x,[{key:"value",get:function(){return n(this._result)}},{key:"error",get:function(){return v(this._result)}},{key:"finished",get:function(){return d.isSome(this._result)}}]);return x}(e);c.__decorate([t.property()],u.prototype,"value",null);c.__decorate([t.property()],u.prototype,"error",null);c.__decorate([t.property()],u.prototype,"finished",null);
c.__decorate([t.property()],u.prototype,"promise",void 0);c.__decorate([t.property()],u.prototype,"_result",void 0);u=c.__decorate([g.subclass("esri.core.asyncUtils.ReactiveTask")],u);a.assertResult=function(z){if(!0===z.ok)return z.value;throw z.error;};a.createTask=function(z,x){return new u(z,x)};a.forEach=function(z,x,w){return k.eachAlways(z.map((A,B)=>x.apply(w,[A,B])))};a.makeResultError=p;a.makeResultOk=r;a.map=function(z,x,w){return l.apply(this,arguments)};a.result=function(z){return h.apply(this,
arguments)};a.resultError=v;a.resultOrAbort=function(z){return q.apply(this,arguments)};a.resultValue=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/urlUtils":function(){define("exports ../config ./Error ./Logger ./maybe ../portal/support/urlUtils".split(" "),function(a,b,c,e,d,k){function t(P){if(!P)return null;const Z={path:null,query:null},ia=new Na(P),qa=P.indexOf("?");null===ia.query?Z.path=P:(Z.path=P.substring(0,qa),Z.query=m(ia.query));ia.fragment&&(Z.hash=ia.fragment,
null===ia.query&&(Z.path=Z.path.substring(0,Z.path.length-(ia.fragment.length+1))));return Z}function m(P){var Z=P.split("\x26");P={};for(const qa of Z){if(!qa)continue;var ia=qa.indexOf("\x3d");0>ia?(Z=decodeURIComponent(qa),ia=""):(Z=decodeURIComponent(qa.slice(0,ia)),ia=decodeURIComponent(qa.slice(ia+1)));let ea=P[Z];"string"===typeof ea&&(ea=P[Z]=[ea]);Array.isArray(ea)?ea.push(ia):P[Z]=ia}return P}function f(P){return P&&"object"===typeof P&&"toJSON"in P&&"function"===typeof P.toJSON}function g(P,
Z){return P?Z&&"function"===typeof Z?Object.keys(P).map(ia=>encodeURIComponent(ia)+"\x3d"+encodeURIComponent(Z(ia,P[ia]))).join("\x26"):Object.keys(P).map(ia=>{const qa=P[ia];if(null==qa)return"";const ea=encodeURIComponent(ia)+"\x3d";return(ia=Z&&Z[ia])?ea+encodeURIComponent(ia(qa)):Array.isArray(qa)?qa.map(U=>f(U)?ea+encodeURIComponent(JSON.stringify(U)):ea+encodeURIComponent(U)).join("\x26"):f(qa)?ea+encodeURIComponent(JSON.stringify(qa)):ea+encodeURIComponent(qa)}).filter(ia=>ia).join("\x26"):
""}function l(P){const Z=P.indexOf("?");-1!==Z?(Ia.path=P.slice(0,Z),Ia.query=P.slice(Z+1)):(Ia.path=P,Ia.query=null);return Ia}function r(P){P=l(P).path;P&&"/"===P[P.length-1]||(P=`${P}/`);P=O(P,!0);return P=P.toLowerCase()}function p(P){const Z=Y.proxyRules;P=r(P);for(let ia=0;ia<Z.length;ia++)if(0===P.indexOf(Z[ia].urlPrefix))return Z[ia]}function n(P){P=q(P);const Z=P.indexOf("/sharing");return 0<Z?P.substring(0,Z):P.replace(/\/+$/,"")}function v(P,Z,ia=!1){if(!P||!Z)return!1;P=W(P);Z=W(Z);return!ia&&
P.scheme!==Z.scheme||null==P.host||null==Z.host?!1:P.host.toLowerCase()===Z.host.toLowerCase()&&P.port===Z.port}function h(P,Z=wa,ia){if(J(P))return ia&&ia.preserveProtocolRelative?P:"http"===S.scheme&&S.authority===z(P).slice(2)?`http:${P}`:`https:${P}`;if(!M(P)){ia=d.assumeNonNull;var qa=u;if("/"===P[0]){var ea=Z.indexOf("//");ea=Z.indexOf("/",ea+2);Z=-1===ea?Z:Z.slice(0,ea)}return ia.call(d,qa(Z,P))}return P}function q(P){P=P.trim();P=h(P);if(/^https?:\/\//i.test(P)){const Z=l(P);P=Z.path.replace(/\/{2,}/g,
"/");P=P.replace("/","//");Z.query&&(P+=`?${Z.query}`)}P=P.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return P=Q(P)}function u(...P){var Z=P.filter(d.isSome);if(Z&&Z.length){P=[];if(x(Z[0])){var ia=Z[0],qa=ia.indexOf("//");-1!==qa&&(P.push(ia.slice(0,qa+1)),G(Z[0])&&(P[0]+="/"),Z[0]=ia.slice(qa+2))}else"/"===Z[0][0]&&P.push("");Z=Z.reduce((ea,U)=>U?ea.concat(U.split("/")):ea,[]);for(ia=0;ia<Z.length;ia++)qa=Z[ia],".."===qa&&0<P.length&&".."!==P[P.length-1]?P.pop():(!qa&&ia===Z.length-1||qa&&
("."!==qa||0===P.length))&&P.push(qa);return P.join("/")}}function z(P,Z=!1){if(null==P||w(P)||A(P))return null;var ia=P.indexOf("://");if(-1===ia&&J(P))ia=2;else if(-1!==ia)ia+=3;else return null;ia=P.indexOf("/",ia);-1!==ia&&(P=P.slice(0,ia));Z&&(P=O(P,!0));return P}function x(P){return J(P)||M(P)}function w(P){return null!=P&&"blob:"===P.slice(0,5)}function A(P){return null!=P&&"data:"===P.slice(0,5)}function B(P){P=E(P);if(!P||!P.isBase64)return null;P=atob(P.data);const Z=new Uint8Array(P.length);
for(let ia=0;ia<P.length;ia++)Z[ia]=P.charCodeAt(ia);return Z.buffer}function E(P){P=P.match(V);if(!P)return null;const [,Z,ia,qa]=P;return{mediaType:Z,isBase64:!!ia,data:qa}}function y(P){const Z=B(P);if(!Z)return null;P=E(P);return new Blob([Z],{type:P.mediaType})}function C(P,Z){if(!P)return!1;const ia=document.createElement("a");if(!("download"in ia))return!1;P=URL.createObjectURL(P);ia.download=Z;ia.href=P;ia.style.display="none";document.body.appendChild(ia);ia.click();document.body.removeChild(ia);
URL.revokeObjectURL(P);return!0}function D(P,Z){return window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(P,Z):!1}function J(P){return null!=P&&"/"===P[0]&&"/"===P[1]}function M(P){return null!=P&&X.test(P)}function L(P){return null!=P&&Ba.test(P)||"https"===S.scheme&&J(P)}function I(P){return null!=P&&ra.test(P)||"http"===S.scheme&&J(P)}function G(P){return null!=P&&Ga.test(P)}function K(P){return J(P)?`https:${P}`:P.replace(ra,"https:")}function H(){return"https"===S.scheme}function O(P,
Z=!1){if(J(P))return P.slice(2);P=P.replace(X,"");Z&&1<P.length&&"/"===P[0]&&"/"===P[1]&&(P=P.slice(2));return P}function Q(P){const Z=Y.httpsDomains;if(!I(P))return P;const ia=P.indexOf("/",7);let qa;qa=-1===ia?P:P.slice(0,ia);qa=qa.toLowerCase().slice(7);if(Ha.test(qa))if(qa.endsWith(":80"))qa=qa.slice(0,-3),P=P.replace(":80","");else return P;if("http"===S.scheme&&qa===S.authority&&!da.test(P))return P;if(H()&&qa===S.authority||Z&&Z.some(ea=>qa===ea||qa.endsWith(`.${ea}`))||H()&&!p(P))P=K(P);return P}
function W(P){if("string"===typeof P)return new Na(h(P));P.scheme||(P.scheme=S.scheme);return P}const T=e.getLogger("esri.core.urlUtils"),Y=b.request,X=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,ra=/^\s*http:/i,Ba=/^\s*https:/i,Ga=/^\s*file:/i,Ha=/:\d+$/,da=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,na=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),xa=RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");let Na=function(){function P(Z=""){this.uri=Z;this.port=
this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;Z=d.assumeNonNull(this.uri.match(na));this.scheme=Z[2]||(Z[1]?"":null);this.authority=Z[4]||(Z[3]?"":null);this.path=Z[5];this.query=Z[7]||(Z[6]?"":null);this.fragment=Z[9]||(Z[8]?"":null);null!=this.authority&&(Z=d.assumeNonNull(this.authority.match(xa)),this.user=Z[3]||null,this.password=Z[4]||null,this.host=Z[6]||Z[7],this.port=Z[9]||null)}P.prototype.toString=function(){return this.uri};return P}();
const Oa={},N=new Na(b.applicationUrl);let S=N;const ja=function(){var P=d.assumeNonNull(S.path);P=P.substring(0,P.lastIndexOf(P.split("/")[P.split("/").length-1]));return`${`${S.scheme}://${S.host}${null!=S.port?`:${S.port}`:""}`}${P}`}();let wa=ja;const Ia={path:"",query:""},V=/^data:(.*?)(;base64)?,(.*)$/,aa=/([^.]*)\.([^\/]*)$/,oa=/(^data:image\/svg|\.svg$)/i;a.Url=Na;a.addProxy=function(P){var Z=p(P),ia=void 0;if(Z){var qa=l(Z.proxyUrl);ia=qa.path;qa=qa.query?m(qa.query):null}ia&&(Z=t(P),P=ia+
"?"+Z.path,(ia=g({...qa,...Z.query}))&&(P=`${P}?${ia}`));return P};a.addProxyRule=function(P){P={proxyUrl:P.proxyUrl,urlPrefix:r(P.urlPrefix)};const Z=Y.proxyRules,ia=P.urlPrefix;let qa=Z.length;for(let ea=0;ea<Z.length;ea++){const U=Z[ea].urlPrefix;if(0===ia.indexOf(U)){if(ia.length===U.length)return-1;qa=ea;break}0===U.indexOf(ia)&&(qa=ea+1)}Z.splice(qa,0,P);return qa};a.addQueryParameter=function(P,Z,ia){P=t(P);const qa=P.query||{};qa[Z]=String(ia);return`${P.path}?${g(qa)}`};a.addQueryParameters=
function(P,Z){P=t(P);const ia=P.query||{};for(const qa in Z)ia[qa]=Z[qa];return(Z=g(ia))?`${P.path}?${Z}`:P.path};a.base64UrlEncode=function(P){return btoa(String.fromCharCode.apply(null,P)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")};a.changeDomain=function(P,Z,ia){if(!(Z&&ia&&P&&x(P)))return P;const qa=P.indexOf("//");var ea=P.indexOf("/",qa+2);const U=P.indexOf(":",qa+2);ea=Math.min(0>ea?P.length:ea,0>U?P.length:U);if(P.slice(qa+2,ea).toLowerCase()!==Z.toLowerCase())return P;Z=P.slice(0,
qa+2);P=P.slice(ea);return`${Z}${ia}${P}`};a.dataComponents=E;a.dataToArrayBuffer=B;a.dataToBlob=y;a.downloadBlobAsFile=function(P,Z){C(P,Z)||D(P,Z)};a.downloadDataAsFile=function(P,Z){var ia=(ia=y(P))?C(ia,Z):!1;ia||(P=y(P))&&D(P,Z)};a.getAppBaseUrl=()=>wa;a.getAppUrl=()=>S;a.getFilename=function(P,Z){if(!P)return"";P=t(P).path.replace(/\/+$/,"");P=P.substring(P.lastIndexOf("/")+1);if(!Z?.length)return P;Z=new RegExp(`.(${Z.join("|")})$`,"ig");return P.replace(Z,"")};a.getInterceptor=function(P){const Z=
qa=>null==qa||qa instanceof RegExp&&qa.test(P)||"string"===typeof qa&&P.startsWith(qa),ia=Y.interceptors;if(ia)for(const qa of ia)if(Array.isArray(qa.urls)){if(qa.urls.some(Z))return qa}else if(Z(qa.urls))return qa;return null};a.getOrigin=z;a.getPathExtension=function(P){return d.isNone(P)?null:(P=P.match(aa))?P[2]:null};a.getProxyRule=p;a.getProxyUrl=function(P=!1){let Z,ia=Y.proxyUrl;if("string"===typeof P){if(Z=L(P),P=p(P))ia=P.proxyUrl}else Z=!!P;if(!ia)throw T.warn("esri/config: esriConfig.request.proxyUrl is not set."),
new c("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");Z&&H()&&(ia=K(ia));return t(ia)};a.hasProtocol=M;a.hasSameCanonicalArcGISOnlinePortal=function(P,Z){if(!P||!Z)return!1;P=n(P);Z=n(Z);P=k.parseKnownArcGISOnlineDomain(P);Z=k.parseKnownArcGISOnlineDomain(Z);return d.isSome(P)&&d.isSome(Z)?P.portalHostname===Z.portalHostname:!1};a.hasSameCanonicalPortal=function(P,Z){if(!P||!Z)return!1;P=n(P);Z=n(Z);const ia=k.parseKnownArcGISOnlineDomain(P),qa=k.parseKnownArcGISOnlineDomain(Z);
return d.isSome(ia)&&d.isSome(qa)?ia.portalHostname===qa.portalHostname:d.isSome(ia)||d.isSome(qa)?!1:v(P,Z,!0)};a.hasSameOrigin=v;a.hasSamePortal=function(P,Z){P=n(P);Z=n(Z);return O(P)===O(Z)};a.isAbsolute=x;a.isAppHTTPS=H;a.isBlobProtocol=w;a.isDataProtocol=A;a.isHTTPSProtocol=L;a.isProtocolRelative=J;a.isSVG=function(P){return oa.test(P)};a.isTrustedServer=function(P){if("string"===typeof P)if(x(P))P=W(P);else return!0;if(v(P,S))return!0;const Z=Y.trustedServers||[];for(let qa=0;qa<Z.length;qa++){var ia=
Z[qa];Oa[ia]||(M(ia)||J(ia)?Oa[ia]=[new Na(h(ia))]:Oa[ia]=[new Na(`http://${ia}`),new Na(`https://${ia}`)]);ia=Oa[ia];for(let ea=0;ea<ia.length;ea++)if(v(P,ia[ea]))return!0}return!1};a.join=u;a.makeAbsolute=h;a.makeData=function(P){return P.isBase64?`data:${P.mediaType};base64,${P.data}`:`data:${P.mediaType},${P.data}`};a.makeRelative=function(P,Z=wa,ia){if(null==P||!x(P))return P;var qa=q(P),ea=qa.toLowerCase();Z=q(Z).toLowerCase().replace(/\/+$/,"");if((ia=ia?q(ia).toLowerCase().replace(/\/+$/,
""):null)&&0!==Z.indexOf(ia))return P;const U=(Ca,Qa,fa)=>{fa=Ca.indexOf(Qa,fa);return-1===fa?Ca.length:fa};let ca=U(ea,"/",ea.indexOf("//")+2),la=-1;for(;ea.slice(0,ca+1)===Z.slice(0,ca)+"/";){la=ca+1;if(ca===ea.length)break;ca=U(ea,"/",ca+1)}if(-1===la||ia&&la<ia.length)return P;P=qa.slice(la);qa=Z.slice(la-1).replace(/[^/]+/g,"").length;if(0<qa)for(ea=0;ea<qa;ea++)P=`../${P}`;else P=`./${P}`;return P};a.normalize=q;a.objectToQuery=g;a.queryToObject=m;a.removeFile=function(P){let Z=0;if(x(P)){var ia=
P.indexOf("//");-1!==ia&&(Z=ia+2)}ia=P.lastIndexOf("/");return ia<Z?P:P.slice(0,ia+1)};a.removeQueryParameter=function(P,Z){const {path:ia,query:qa}=t(P);if(!qa)return P;delete qa[Z];return(P=g(qa))?`${ia}?${P}`:ia};a.removeQueryParameters=function(P,Z){P=t(P);const ia=Object.keys(P.query||{});0<ia.length&&Z&&Z.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${ia.join(", ")}.`);return P.path};a.removeTrailingSlash=function(P){return P.replace(/\/+$/,
"")};a.splitPathExtension=function(P){if(d.isNone(P))return null;const Z=P.match(aa);return Z?{path:Z[1],extension:Z[2]}:{path:P,extension:null}};a.test={setAppUrl:P=>S=P,setAppBaseUrl:P=>wa=P,restoreUrls:()=>{S=N;wa=ja}};a.toHTTP=function(P){return J(P)?`http:${P}`:P.replace(Ba,"http:")};a.toHTTPS=K;a.trustedServersUrlCache=Oa;a.urlToObject=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/urlUtils":function(){define(["exports"],function(a){const b=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,
c={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};a.isSecureProxyService=function(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)};a.parseKnownArcGISOnlineDomain=function(e){e=e?.match(b);if(!e)return null;const [,d,k,t]=e;if(!d)return null;let m=e=null,f=null;const {devext:g,qaext:l,www:r}=c;if(k)if(e=
d,t)switch(t.toLowerCase()){case "devext":({customBaseUrl:m,portalHostname:f}=g);break;case "qa":({customBaseUrl:m,portalHostname:f}=l);break;default:return null}else({customBaseUrl:m,portalHostname:f}=r);else switch(d.toLowerCase()){case "devext":({customBaseUrl:m,portalHostname:f}=g);break;case "qaext":({customBaseUrl:m,portalHostname:f}=l);break;case "www":({customBaseUrl:m,portalHostname:f}=r);break;default:return null}return{customBaseUrl:m,isPortal:!1,portalHostname:f,urlKey:e}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","./property"],function(a,b){a.writer=function(c,e,d){let k,t;void 0===e?(t=c,k=[void 0]):"string"!==typeof e?(t=c,k=[void 0],d=e):(t=e,k=Array.isArray(c)?c:[c]);return(m,f)=>{const g=m.constructor.prototype;for(const l of k){const r=b.propertyJSONMeta(m,l,t);r.write&&"object"===typeof r.write||(r.write={});d&&(r.write.target=d);r.write.writer=g[f]}}};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/SpatialReference":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/unitUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),function(a,b,c,e,d,k,t,m,f,g){var l;c=l=function(r){function p(v){v=r.call(this,v)||this;v.latestWkid=null;v.wkid=
null;v.wkt=null;v.vcsWkid=null;v.latestVcsWkid=null;v.imageCoordinateSystem=null;return v}a._inheritsLoose(p,r);p.fromJSON=function(v){if(!v)return null;if(v.wkid){if(102100===v.wkid)return l.WebMercator;if(4326===v.wkid)return l.WGS84}const h=new l;h.read(v);return h};var n=p.prototype;n.normalizeCtorArgs=function(v){return v&&"object"===typeof v?v:{["string"===typeof v?"wkt":"wkid"]:v}};n.writeWkt=function(v,h){this.wkid||(h.wkt=v)};n.clone=function(){if(this===l.WGS84)return l.WGS84;if(this===
l.WebMercator)return l.WebMercator;const v=new l;null!=this.wkid?(v.wkid=this.wkid,null!=this.latestWkid&&(v.latestWkid=this.latestWkid),null!=this.vcsWkid&&(v.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(v.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(v.wkt=this.wkt);this.imageCoordinateSystem&&(v.imageCoordinateSystem=e.clone(this.imageCoordinateSystem));return v};n.equals=function(v){if(null==v)return!1;if(this.imageCoordinateSystem||v.imageCoordinateSystem){if(null==this.imageCoordinateSystem||
null==v.imageCoordinateSystem)return!1;const {id:h,referenceServiceName:q}=v.imageCoordinateSystem,{geodataXform:u}=v.imageCoordinateSystem,z=this.imageCoordinateSystem;return null==h||u?JSON.stringify(z)===JSON.stringify(v.imageCoordinateSystem):q?z.id===h&&z.referenceServiceName===q:z.id===h}return g.equals(this,v)};n.toJSON=function(v){return this.write(void 0,v)};a._createClass(p,[{key:"isWGS84",get:function(){return g.isWGS84(this)}},{key:"isWebMercator",get:function(){return g.isWebMercator(this)}},
{key:"isGeographic",get:function(){return g.isGeographic(this)}},{key:"isWrappable",get:function(){return g.isWrappable(this)}},{key:"metersPerUnit",get:function(){return d.getMetersPerUnitForSR(this)}},{key:"unit",get:function(){return d.getUnitString(this)||(this.isGeographic?"degrees":null)}}]);return p}(c.JSONSupport);c.GCS_NAD_1927=null;c.WGS84=null;c.WebMercator=null;c.PlateCarree=null;b.__decorate([t.property({readOnly:!0})],c.prototype,"isWGS84",null);b.__decorate([t.property({readOnly:!0})],
c.prototype,"isWebMercator",null);b.__decorate([t.property({readOnly:!0})],c.prototype,"isGeographic",null);b.__decorate([t.property({readOnly:!0})],c.prototype,"isWrappable",null);b.__decorate([t.property({type:k.Integer,json:{write:!0}})],c.prototype,"latestWkid",void 0);b.__decorate([t.property({readOnly:!0})],c.prototype,"metersPerUnit",null);b.__decorate([t.property({readOnly:!0})],c.prototype,"unit",null);b.__decorate([t.property({type:k.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===
this.wkt?!0:!1}}}}}}})],c.prototype,"wkid",void 0);b.__decorate([t.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],c.prototype,"wkt",void 0);b.__decorate([f.writer("wkt"),f.writer("web-scene","wkt")],c.prototype,"writeWkt",null);b.__decorate([t.property({type:k.Integer,json:{write:!0}})],c.prototype,"vcsWkid",void 0);b.__decorate([t.property({type:k.Integer,json:{write:!0}})],c.prototype,"latestVcsWkid",void 0);b.__decorate([t.property()],
c.prototype,"imageCoordinateSystem",void 0);c=l=b.__decorate([m.subclass("esri.geometry.SpatialReference")],c);c.prototype.toJSON.isDefaultToJSON=!0;c.GCS_NAD_1927=new c({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});c.WGS84=new c(g.WGS84);c.WebMercator=new c(g.WebMercator);c.PlateCarree=new c(g.PlateCarree);Object.freeze&&(Object.freeze(c.GCS_NAD_1927),Object.freeze(c.WGS84),
Object.freeze(c.WebMercator));return c})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ./maybe ../geometry/ellipsoidUtils ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),function(a,b,c,e,d,k,t,m){function f(O){O=G[O];if(!O)throw Error("unknown type");return O}function g(O){return I[O].baseUnit}function l(O,Q=null){Q=Q||f(O);return I[Q].baseUnit===O}function r(O,Q,W){if(Q===W)return O;const T=f(Q);if(T!==
f(W))throw Error("incompatible units");O=l(Q,T)?O:O*I[T].units[Q].inBaseUnits;return l(W,T)?O:O/I[T].units[W].inBaseUnits}function p(O,Q){O=r(O,Q,"meters");return 3E3>Math.abs(O)?"meters":"kilometers"}function n(O,Q){O=r(O,Q,"meters");return 1E5>Math.abs(O)?"meters":"kilometers"}function v(O,Q){O=r(O,Q,"feet");return 1E3>Math.abs(O)?"feet":"miles"}function h(O,Q){O=r(O,Q,"feet");return 1E5>Math.abs(O)?"feet":"miles"}function q(O,Q){O=r(O,Q,"square-meters");return 3E6>Math.abs(O)?"square-meters":"square-kilometers"}
function u(O,Q){O=r(O,Q,"square-feet");return 1E6>Math.abs(O)?"square-feet":"square-miles"}function z(O){return L.fromJSON(O.toLowerCase())||null}function x(O){const Q=w(O),W=d.getReferenceEllipsoid(O).metersPerDegree;return Q>=W?"meters":E(O)}function w(O,Q=k.earth.metersPerDegree){return e.unwrapOr(A(O,!0),Q)}function A(O,Q=!1){const W=e.isSome(O)?O.wkid:null;O=e.isSome(O)?O.wkt:null;let T=null;if(W){if(t.isWKIDFromMars(W))return k.mars.metersPerDegree;if(t.isWKIDFromMoon(W))return k.moon.metersPerDegree;
T=D.values[D[W]];!T&&Q&&M.has(W)&&(T=y)}else O&&(/^PROJCS/i.test(O)?T=B(C.exec(O),T):/^GEOCCS/i.test(O)&&(T=B(J.exec(O),T)));return T}function B(O,Q){return O&&O[1]?parseFloat(O[1].split(",")[1]):Q}function E(O){var Q=e.isSome(O)?O.wkid:null,W=e.isSome(O)?O.wkt:null;O=null;if(Q)O=D.units[D[Q]];else if(W&&(Q=/^PROJCS/i.test(W)?C:/^GEOCCS/i.test(W)?J:null)&&(Q=Q.exec(W))&&Q[1]&&(Q=Q[1],O=(O=/[\\"\\']{1}([^\\"\\']+)/.exec(Q))&&O[1],!O||!D.units.includes(O))){Q=parseFloat(Q.split(",")[1]);O=null;W=D.values;
for(let T=0;T<W.length;++T)if(1E-7>Math.abs(Q-W[T])){O=D.units[T];break}}return e.isSome(O)?z(O):null}const y=k.earth.radius*Math.PI/200,C=/UNIT\[([^\]]+)\]\]$/i,D=m,J=/UNIT\[([^\]]+)\]/i,M=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),L=c.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",
yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});b={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},
"us-feet":{inBaseUnits:1200/3937}};m={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(O=>O*O)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};
const I={length:{baseUnit:"meters",units:b},area:{baseUnit:"square-meters",units:m},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},
angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},G=(()=>{const O={};for(const Q in I)for(const W in I[Q].units)O[W]=Q;return O})(),K="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" "),H=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);b=c.strict()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",
esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"});m=c.strict()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",
esriYards:"yards"});c=c.strict()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"});a.angleUnitsJSONMap=c;a.areaUnitFromSpatialReference=function(O){O=E(O);return e.isNone(O)?null:H.get(O)};a.areaUnitsJSONMap=b;a.baseUnitForUnit=function(O){return g(f(O))};a.baseUnitForUnitType=g;a.convertUnit=r;a.getDefaultUnitSystem=function(O){O=E(O);if(e.isNone(O))return null;switch(O){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};a.getMetersPerUnit=A;a.getMetersPerUnitForSR=w;a.getMetersPerVerticalUnitForSR=function(O){if(e.isSome(O)&&!t.isEarth(O))return 1;O=w(O);return 1E5<O?1:O};a.getUnitString=E;a.getVerticalUnitStringForSR=x;a.inchesPerMeter=39.37;a.isBaseUnit=l;a.isMeasurementSystem=function(O){return"imperial"===O||"metric"===O};a.lengthToDegrees=function(O,Q,W){return r(O,Q,"meters")/(W*Math.PI/180)};a.lengthUnitFromSpatialReference=
function(O){O=E(O);return e.isNone(O)||!K.includes(O)?null:O};a.lengthUnitsJSONMap=m;a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");a.measurementLengthUnits=K;a.preferredAreaUnit=function(O,Q,W){switch(W){case "metric":return q(O,Q);case "imperial":return u(O,Q);default:return W}};a.preferredImperialAreaUnit=u;a.preferredImperialLengthUnit=v;a.preferredImperialVerticalLengthUnit=
h;a.preferredLengthUnit=function(O,Q,W){switch(W){case "metric":return p(O,Q);case "imperial":return v(O,Q);default:return W}};a.preferredMetricAreaUnit=q;a.preferredMetricLengthUnit=p;a.preferredMetricVerticalLengthUnit=n;a.preferredVerticalLengthUnit=function(O,Q,W){switch(W){case "metric":return n(O,Q);case "imperial":return h(O,Q);default:return W}};a.unitFromRESTJSON=z;a.unitToRESTJSON=function(O){return L.toJSON(O)||null};a.unitType=f;a.verticalLengthUnitFromSpatialReference=function(O){O=x(O);
return e.isNone(O)||!K.includes(O)?null:O};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/jsonMap":function(){define(["exports","./object"],function(a,b){let c=function(){function e(k,t={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=k;this._options=t;this.apiValues=[];this.jsonValues=[];this._apiToJSON=this._invertMap(k);this.apiValues=this._getKeysSorted(this._apiToJSON);this.jsonValues=this._getKeysSorted(this._jsonToAPI);this.read=m=>this.fromJSON(m);this.write=
(m,f,g)=>{m=this.toJSON(m);void 0!==m&&b.setDeepValue(g,m,f)};this.write.isJSONMapWriter=!0}var d=e.prototype;d.toJSON=function(k){return null==k?null:this._apiToJSON.hasOwnProperty(k)?(k=this._apiToJSON[k],this._options.useNumericKeys?+k:k):this._options.ignoreUnknown?void 0:k};d.fromJSON=function(k){return null!=k&&this._jsonToAPI.hasOwnProperty(k)?this._jsonToAPI[k]:this._options.ignoreUnknown?void 0:k};d._invertMap=function(k){const t={};for(const m in k)t[k[m]]=m;return t};d._getKeysSorted=function(k){const t=
[];for(const m in k)t.push(m);t.sort();return t};return e}();a.JSONMap=c;a.strict=function(){return function(e,d){return new c(e,{ignoreUnknown:!0,...d})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/ellipsoidUtils":function(){define(["exports","../core/maybe","./support/Ellipsoid","./support/spatialReferenceUtils"],function(a,b,c,e){function d(g){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${g.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}
const k=d(c.earth),t=d(c.mars),m=d(c.moon),f={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${c.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`};a.SphericalECEFSpatialReferenceLike=k;a.SphericalPCPFMarsLike=
t;a.SphericalPCPFMoonLike=m;a.WGS84ECEFSpatialReferenceLike=f;a.getReferenceEllipsoid=function(g){return b.isSome(g)&&(e.isMars(g)||e.equals(g,t))?c.mars:b.isSome(g)&&(e.isMoon(g)||e.equals(g,m))?c.moon:c.earth};a.getReferenceEllipsoidFromWKID=function(g){return e.isWKIDFromMars(g)?c.mars:e.isWKIDFromMoon(g)?c.moon:c.earth};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Ellipsoid":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(a,
b){let c=function(){function t(m,f,g,l){this.semiMajorAxis=m;this.flattening=f;this.outerAtmosphereRimWidth=g;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=Math.PI*this.semiMajorAxis;this.metersPerDegree=this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-1;this.eccentricitySquared=l?l:2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/
3}b._createClass(t,[{key:"radius",get:function(){return this.semiMajorAxis}}]);return t}();const e=new c(6378137,1/298.257223563,3E5,.006694379990137799),d=new c(3396190,.005886007555525457,23E4),k=new c(1737400,0,0);a.Ellipsoid=c;a.earth=e;a.mars=d;a.moon=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/maybe","../../core/string","./SupportedGCSWkids","./WKIDUnitConversion"],function(a,b,c,e,d){function k(q){return l(q)&&
null!=q.wkid&&!0===r[q.wkid]}function t(q){return q===e.SupportedGCSWkids.GCSMARS2000||q===e.SupportedGCSWkids.GCSMARS2000_SPHERE}function m(q){return l(q)&&null!=q.wkid&&t(q.wkid)}function f(q){return q===e.SupportedGCSWkids.GCSMOON2000}function g(q){return l(q)&&null!=q.wkid&&f(q.wkid)}function l(q){return b.isSome(q)&&(null!=q.wkid&&2E3<=q.wkid||null!=q.wkt)}const r={102113:!0,102100:!0,3857:!0,3785:!0},p={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},n=[-2.0037508342788905E7,
2.0037508342788905E7],v=[-2.0037508342787E7,2.0037508342787E7],h={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:n,origin:v,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:n,origin:v,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:n,origin:v,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:n,origin:v,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],
dx:1E-5}};c={wkid:4326,wkt:c.replace(h[4326].wkTemplate,{Central_Meridian:"0.0"})};a.PlateCarree={wkid:32662};a.WGS84=c;a.WebMercator={wkid:102100,latestWkid:3857};a.equals=function(q,u){return q===u?!0:b.isNone(q)||b.isNone(u)?!1:null!=q.wkid||null!=u.wkid?q.wkid===u.wkid||k(q)&&k(u)||null!=u.latestWkid&&q.wkid===u.latestWkid||null!=q.latestWkid&&u.wkid===q.latestWkid:q.wkt&&u.wkt?q.wkt.toUpperCase()===u.wkt.toUpperCase():!1};a.getInfo=function(q){return l(q)&&q.wkid?h[q.wkid]||null:null};a.isCGCS2000=
function(q){return l(q)&&q.wkid===e.SupportedGCSWkids.CGCS2000};a.isEarth=function(q){return!(m(q)||g(q))};a.isGeographic=function(q){return l(q)?q.wkid?null==d[q.wkid]:q.wkt?!!/^\s*GEOGCS/i.test(q.wkt):!1:!1};a.isMars=m;a.isMoon=g;a.isPlateCarree=function(q){return l(q)&&32662===q.wkid};a.isValid=l;a.isWGS84=function(q){return l(q)&&4326===q.wkid};a.isWKIDFromMars=t;a.isWKIDFromMoon=f;a.isWebMercator=k;a.isWrappable=function(q){return l(q)&&null!=q.wkid&&!0===p[q.wkid]};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/support/SupportedGCSWkids":function(){define(["exports"],function(a){a.SupportedGCSWkids=void 0;var b=a.SupportedGCSWkids||(a.SupportedGCSWkids={});b[b.CGCS2000=4490]="CGCS2000";b[b.GCSMARS2000=104971]="GCSMARS2000";b[b.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE";b[b.GCSMOON2000=104903]="GCSMOON2000";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;const b={values:[1,
.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,
2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,
3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,
3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,
3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,
5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,
6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,
6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,
6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,
6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,
7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,
7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,
8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,
8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,
8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,
21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,
28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,
102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,
103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,
103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,
103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,
103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=
a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=
a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=
a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=
a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=
a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=
a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=
a;a++)b[a]=0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=
a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=
a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8518;8529>=a;a++)b[a]=2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=9271;9273>=a;a++)b[a]=0;for(a=9295;9297>=a;a++)b[a]=0;for(a=9356;9360>=
a;a++)b[a]=0;for(a=9404;9407>=a;a++)b[a]=0;for(a=9476;9482>=a;a++)b[a]=0;for(a=9487;9494>=a;a++)b[a]=0;for(a=9697;9699>=a;a++)b[a]=0;for(a=9821;9865>=a;a++)b[a]=0;for(a=20002;20032>=a;a++)b[a]=0;for(a=20047;20049>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20904;20932>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21004;21032>=
a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21207;21264>=a;a++)b[a]=0;for(a=21307;21364>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21453;21463>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22207;22222>=a;a++)b[a]=0;for(a=22234;22236>=
a;a++)b[a]=0;for(a=22243;22250>=a;a++)b[a]=0;for(a=22262;22265>=a;a++)b[a]=0;for(a=22307;22322>=a;a++)b[a]=0;for(a=22348;22357>=a;a++)b[a]=0;for(a=22407;22422>=a;a++)b[a]=0;for(a=22462;22465>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22607;22622>=a;a++)b[a]=0;for(a=22641;22646>=a;a++)b[a]=0;for(a=22648;22657>=a;a++)b[a]=0;for(a=22707;22722>=a;a++)b[a]=0;for(a=22762;22765>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=
a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=
a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=
a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=
a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32159>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=
a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=
a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=
a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102901;102933>=a;a++)b[a]=2;for(a=102934;102950>=a;a++)b[a]=13;for(a=102951;102955>=
a;a++)b[a]=0;for(a=102961;102963>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=
a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=
a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=
a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=
a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103694>=a;a++)b[a]=0;for(a=103696;103699>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103890>=a;a++)b[a]=0;for(a=103891;103896>=a;a++)b[a]=2;for(a=103900;103971>=a;a++)b[a]=2;for(a=103972;103977>=a;a++)b[a]=0;for(a=112E3;112101>=
a;a++)b[a]=0;return b})},"esri/portal/Portal":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ../intl/locale ./PortalQueryParams ./PortalQueryResult ./PortalUser ../support/apiKeyUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A){const B=D=>Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"}));var E;let y;const C={PortalGroup:()=>new Promise((D,J)=>a(["./PortalGroup"],M=>D(B(M)),J)),PortalItem:()=>new Promise((D,J)=>a(["./PortalItem"],M=>D(B(M)),J)),PortalUser:()=>new Promise((D,J)=>a(["./PortalUser"],M=>D(B(M)),J))};m=E=function(D){function J(L){L=D.call(this,L)||this;L._esriIdCredentialCreateHandle=null;L.access=null;L.allSSL=
!1;L.authMode="auto";L.authorizedCrossOriginDomains=null;L.basemapGalleryGroupQuery=null;L.bingKey=null;L.canListApps=!1;L.canListData=!1;L.canListPreProvisionedItems=!1;L.canProvisionDirectPurchase=!1;L.canSearchPublic=!0;L.canShareBingPublic=!1;L.canSharePublic=!1;L.canSignInArcGIS=!1;L.canSignInIDP=!1;L.colorSetsGroupQuery=null;L.commentsEnabled=!1;L.created=null;L.culture=null;L.customBaseUrl=null;L.defaultBasemap=null;L.defaultDevBasemap=null;L.defaultExtent=null;L.defaultVectorBasemap=null;
L.description=null;L.devBasemapGalleryGroupQuery=null;L.eueiEnabled=null;L.featuredGroups=null;L.featuredItemsGroupQuery=null;L.galleryTemplatesGroupQuery=null;L.livingAtlasGroupQuery=null;L.hasCategorySchema=!1;L.helperServices=null;L.homePageFeaturedContent=null;L.homePageFeaturedContentCount=null;L.httpPort=null;L.httpsPort=null;L.id=null;L.ipCntryCode=null;L.isPortal=!1;L.isReadOnly=!1;L.layerTemplatesGroupQuery=null;L.maxTokenExpirationMinutes=null;L.modified=null;L.name=null;L.portalHostname=
null;L.portalMode=null;L.portalProperties=null;L.region=null;L.rotatorPanels=null;L.showHomePageDescription=!1;L.sourceJSON=null;L.supportsHostedServices=!1;L.symbolSetsGroupQuery=null;L.templatesGroupQuery=null;L.units=null;L.url=e.portalUrl;L.urlKey=null;L.user=null;L.useStandardizedQuery=!1;L.useVectorBasemaps=!1;L.vectorBasemapGalleryGroupQuery=null;return L}b._inheritsLoose(J,D);var M=J.prototype;M.normalizeCtorArgs=function(L){return"string"===typeof L?{url:L}:L};M.destroy=function(){this._esriIdCredentialCreateHandle=
g.removeMaybe(this._esriIdCredentialCreateHandle)};M.readAuthorizedCrossOriginDomains=function(L){if(L)for(const I of L)e.request.trustedServers.includes(I)||e.request.trustedServers.push(I);return L};M.readDefaultBasemap=function(L){return this._readBasemap(L)};M.readDefaultDevBasemap=function(L){return this._readBasemap(L)};M.readDefaultVectorBasemap=function(L){return this._readBasemap(L)};M.readUrlKey=function(L){return L?L.toLowerCase():L};M.readUser=function(L){let I=null;L&&(I=w.fromJSON(L),
I.portal=this);return I};M.load=function(L){const I=(new Promise((G,K)=>a(["../Basemap"],H=>G(B(H)),K))).then(({default:G})=>{l.throwIfAborted(L);y=G}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,L)).then(G=>{if(d.id){const K=d.id;this.credential=K.findCredential(this.restUrl);this.credential||this.authMode!==E.AUTH_MODE_AUTO||(this._esriIdCredentialCreateHandle=K.on("credential-create",()=>{K.findCredential(this.restUrl)&&this.signIn().catch(()=>{})}))}this.sourceJSON=
G;this.read(G)});this.addResolvingPromise(I);return Promise.resolve(this)};M.createElevationLayers=function(){var L=b._asyncToGenerator(function*(){yield this.load();const I=this._getHelperService("defaultElevationLayers"),G=(yield new Promise((K,H)=>a(["../layers/ElevationLayer"],O=>K(B(O)),H))).default;return I?I.map(K=>new G({id:K.id,url:K.url})):[]});return function(){return L.apply(this,arguments)}}();M.fetchBasemaps=function(L,I){const G=new z;G.query=L||(e.apiKey&&A.supportsApiKey(this.url)?
this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);G.disableExtraQuery=!0;return this.queryGroups(G,I).then(K=>{G.num=100;G.query='type:"Web Map" -type:"Web Application"';return K.total?(K=K.results[0],G.sortField=K.sortField||"name",G.sortOrder=K.sortOrder||"desc",K.queryItems(G,I)):null}).then(K=>K&&K.total?K.results.filter(H=>"Web Map"===H.type).map(H=>new y({portalItem:H})):[])};M.fetchCategorySchema=function(L){return this.hasCategorySchema?
this.request(this.restUrl+"/portals/self/categorySchema",L).then(I=>I.categorySchema):l.isAborted(L)?Promise.reject(l.createAbortError()):Promise.resolve([])};M.fetchFeaturedGroups=function(L){const I=this.featuredGroups,G=new z;G.num=100;G.sortField="title";if(I&&I.length){const K=[];for(const H of I)K.push(`(title:"${H.title}" AND owner:${H.owner})`);G.query=K.join(" OR ");return this.queryGroups(G,L).then(H=>H.results)}return l.isAborted(L)?Promise.reject(l.createAbortError()):Promise.resolve([])};
M.fetchRegions=function(L){const I=this.user?.culture||this.culture||u.getLocale();return this.request(this.restUrl+"/portals/regions",{...L,query:{culture:I}})};M.fetchSettings=function(L){const I=this.user?.culture||this.culture||u.getLocale();return this.request(this.restUrl+"/portals/self/settings",{...L,query:{culture:I}})};J.getDefault=function(){if(!E._default||E._default.destroyed)E._default=new E;return E._default};M.queryGroups=function(L,I){return this.queryPortal("/community/groups",L,
"PortalGroup",I)};M.queryItems=function(L,I){return this.queryPortal("/search",L,"PortalItem",I)};M.queryUsers=function(L,I){L.sortField||(L.sortField="username");return this.queryPortal("/community/users",L,"PortalUser",I)};M.fetchSelf=function(L=this.authMode,I=!1,G){const K=this.restUrl+"/portals/self";L={authMode:L,query:{culture:u.getLocale().toLowerCase()},...G};"auto"===L.authMode&&(L.authMode="no-prompt");I&&(L.query.default=!0);return this.request(K,L)};M.queryPortal=function(L,I,G,K){const H=
p.ensureType(z,I),O=Q=>this.request(this.restUrl+L,{...H.toRequestOptions(this),...K}).then(W=>{const T=H.clone();T.start=W.nextStart;return new x({nextQueryParams:T,queryParams:H,total:W.total,results:E._resultsToTypedArray(Q,{portal:this},W,K)})}).then(W=>Promise.all(W.results.map(T=>"function"===typeof T.when?T.when():W)).then(()=>W,T=>{l.throwIfAbortError(T);return W}));return G&&C[G]?C[G]().then(({default:Q})=>{l.throwIfAborted(K);return O(Q)}):O()};M.signIn=function(){if(this.authMode===E.AUTH_MODE_ANONYMOUS)return Promise.reject(new t("portal:invalid-auth-mode",
`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const L=I=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return I||(this.authMode="immediate"),this.load().then(()=>null);if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=I;return this.fetchSelf("immediate")});if(this.user&&this.credential===I)return null;this.credential=I;return this.fetchSelf("immediate")}).then(G=>
{G&&(this.sourceJSON=G,this.read(G))});return d.id?d.id.getCredential(this.restUrl).then(I=>L(I)):L(this.credential)};M.normalizeUrl=function(L){const I=this.credential&&this.credential.token;return this._normalizeSSL(I?L+(L.includes("?")?"\x26":"?")+"token\x3d"+I:L)};M.requestToTypedArray=function(L,I,G){return this.request(L,I).then(K=>{const H=E._resultsToTypedArray(G,{portal:this},K);return Promise.all(H.map(O=>"function"===typeof O.when?O.when():K)).then(()=>H,()=>H)})};M.request=function(L,
I={}){const G={f:"json",...I.query},{authMode:K=this.authMode===E.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:H=null,cacheBust:O=!1,method:Q="auto",responseType:W="json",signal:T}=I;I={authMode:K,body:H,cacheBust:O,method:Q,query:G,responseType:W,timeout:0,signal:T};return k(this._normalizeSSL(L),I).then(Y=>Y.data)};M.toJSON=function(){throw new t("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};J.fromJSON=function(L){if(!L)return null;if(L.declaredClass)throw Error("JSON object is already hydrated");
return new E({sourceJSON:L})};M._getHelperService=function(L){const I=this.helperServices&&this.helperServices[L];if(!I)throw new t("portal:service-not-found",`The \`helperServices\` do not include an entry named "${L}"`);return I};M._normalizeSSL=function(L){return L.replace(/^http:/i,"https:").replace(":7080",":7443")};M._readBasemap=function(L){return L?(L=y.fromJSON(L),L.portalItem={portal:this},L):null};J._resultsToTypedArray=function(L,I,G,K){let H=[];if(G){const O=g.isSome(K)?K.signal:null;
H=G.listings||G.notifications||G.userInvitations||G.tags||G.items||G.groups||G.comments||G.provisions||G.results||G.relatedItems||G;if(L||I)H=H.map(Q=>{Q=Object.assign(L?L.fromJSON(Q):Q,I);"function"===typeof Q.load&&Q.load(O);return Q})}else H=[];return H};b._createClass(J,[{key:"extraQuery",get:function(){const L=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!L?` AND orgid:${this.id}`:null}},{key:"isOrganization",get:function(){return!!this.access}},{key:"itemPageUrl",get:function(){return this.url?
`${this.url}/home/item.html`:null}},{key:"restUrl",get:function(){let L=this.url;if(L){const I=L.indexOf("/sharing");L=0<I?L.substring(0,I):this.url.replace(/\/+$/,"");L+="/sharing/rest"}return L}},{key:"thumbnailUrl",get:function(){const L=this.restUrl,I=this.thumbnail;return L&&I?this._normalizeSSL(L+"/portals/self/resources/"+I):null}}]);return J}(m.JSONSupportMixin(f));m.AUTH_MODE_ANONYMOUS="anonymous";m.AUTH_MODE_AUTO="auto";m.AUTH_MODE_IMMEDIATE="immediate";c.__decorate([r.property()],m.prototype,
"access",void 0);c.__decorate([r.property()],m.prototype,"allSSL",void 0);c.__decorate([r.property()],m.prototype,"authMode",void 0);c.__decorate([r.property()],m.prototype,"authorizedCrossOriginDomains",void 0);c.__decorate([v.reader("authorizedCrossOriginDomains")],m.prototype,"readAuthorizedCrossOriginDomains",null);c.__decorate([r.property()],m.prototype,"basemapGalleryGroupQuery",void 0);c.__decorate([r.property()],m.prototype,"bingKey",void 0);c.__decorate([r.property()],m.prototype,"canListApps",
void 0);c.__decorate([r.property()],m.prototype,"canListData",void 0);c.__decorate([r.property()],m.prototype,"canListPreProvisionedItems",void 0);c.__decorate([r.property()],m.prototype,"canProvisionDirectPurchase",void 0);c.__decorate([r.property()],m.prototype,"canSearchPublic",void 0);c.__decorate([r.property()],m.prototype,"canShareBingPublic",void 0);c.__decorate([r.property()],m.prototype,"canSharePublic",void 0);c.__decorate([r.property()],m.prototype,"canSignInArcGIS",void 0);c.__decorate([r.property()],
m.prototype,"canSignInIDP",void 0);c.__decorate([r.property()],m.prototype,"colorSetsGroupQuery",void 0);c.__decorate([r.property()],m.prototype,"commentsEnabled",void 0);c.__decorate([r.property({type:Date})],m.prototype,"created",void 0);c.__decorate([r.property()],m.prototype,"credential",void 0);c.__decorate([r.property()],m.prototype,"culture",void 0);c.__decorate([r.property()],m.prototype,"currentVersion",void 0);c.__decorate([r.property()],m.prototype,"customBaseUrl",void 0);c.__decorate([r.property()],
m.prototype,"defaultBasemap",void 0);c.__decorate([v.reader("defaultBasemap")],m.prototype,"readDefaultBasemap",null);c.__decorate([r.property()],m.prototype,"defaultDevBasemap",void 0);c.__decorate([v.reader("defaultDevBasemap")],m.prototype,"readDefaultDevBasemap",null);c.__decorate([r.property({type:q})],m.prototype,"defaultExtent",void 0);c.__decorate([r.property()],m.prototype,"defaultVectorBasemap",void 0);c.__decorate([v.reader("defaultVectorBasemap")],m.prototype,"readDefaultVectorBasemap",
null);c.__decorate([r.property()],m.prototype,"description",void 0);c.__decorate([r.property()],m.prototype,"devBasemapGalleryGroupQuery",void 0);c.__decorate([r.property()],m.prototype,"eueiEnabled",void 0);c.__decorate([r.property({readOnly:!0})],m.prototype,"extraQuery",null);c.__decorate([r.property()],m.prototype,"featuredGroups",void 0);c.__decorate([r.property()],m.prototype,"featuredItemsGroupQuery",void 0);c.__decorate([r.property()],m.prototype,"galleryTemplatesGroupQuery",void 0);c.__decorate([r.property()],
m.prototype,"livingAtlasGroupQuery",void 0);c.__decorate([r.property()],m.prototype,"hasCategorySchema",void 0);c.__decorate([r.property()],m.prototype,"helpBase",void 0);c.__decorate([r.property()],m.prototype,"helperServices",void 0);c.__decorate([r.property()],m.prototype,"helpMap",void 0);c.__decorate([r.property()],m.prototype,"homePageFeaturedContent",void 0);c.__decorate([r.property()],m.prototype,"homePageFeaturedContentCount",void 0);c.__decorate([r.property()],m.prototype,"httpPort",void 0);
c.__decorate([r.property()],m.prototype,"httpsPort",void 0);c.__decorate([r.property()],m.prototype,"id",void 0);c.__decorate([r.property()],m.prototype,"ipCntryCode",void 0);c.__decorate([r.property({readOnly:!0})],m.prototype,"isOrganization",null);c.__decorate([r.property()],m.prototype,"isPortal",void 0);c.__decorate([r.property()],m.prototype,"isReadOnly",void 0);c.__decorate([r.property({readOnly:!0})],m.prototype,"itemPageUrl",null);c.__decorate([r.property()],m.prototype,"layerTemplatesGroupQuery",
void 0);c.__decorate([r.property()],m.prototype,"maxTokenExpirationMinutes",void 0);c.__decorate([r.property({type:Date})],m.prototype,"modified",void 0);c.__decorate([r.property()],m.prototype,"name",void 0);c.__decorate([r.property()],m.prototype,"portalHostname",void 0);c.__decorate([r.property()],m.prototype,"portalMode",void 0);c.__decorate([r.property()],m.prototype,"portalProperties",void 0);c.__decorate([r.property()],m.prototype,"region",void 0);c.__decorate([r.property({readOnly:!0})],m.prototype,
"restUrl",null);c.__decorate([r.property()],m.prototype,"rotatorPanels",void 0);c.__decorate([r.property()],m.prototype,"showHomePageDescription",void 0);c.__decorate([r.property()],m.prototype,"sourceJSON",void 0);c.__decorate([r.property()],m.prototype,"staticImagesUrl",void 0);c.__decorate([r.property({json:{name:"2DStylesGroupQuery"}})],m.prototype,"stylesGroupQuery2d",void 0);c.__decorate([r.property({json:{name:"stylesGroupQuery"}})],m.prototype,"stylesGroupQuery3d",void 0);c.__decorate([r.property()],
m.prototype,"supportsHostedServices",void 0);c.__decorate([r.property()],m.prototype,"symbolSetsGroupQuery",void 0);c.__decorate([r.property()],m.prototype,"templatesGroupQuery",void 0);c.__decorate([r.property()],m.prototype,"thumbnail",void 0);c.__decorate([r.property({readOnly:!0})],m.prototype,"thumbnailUrl",null);c.__decorate([r.property()],m.prototype,"units",void 0);c.__decorate([r.property()],m.prototype,"url",void 0);c.__decorate([r.property()],m.prototype,"urlKey",void 0);c.__decorate([v.reader("urlKey")],
m.prototype,"readUrlKey",null);c.__decorate([r.property()],m.prototype,"user",void 0);c.__decorate([v.reader("user")],m.prototype,"readUser",null);c.__decorate([r.property()],m.prototype,"useStandardizedQuery",void 0);c.__decorate([r.property()],m.prototype,"useVectorBasemaps",void 0);c.__decorate([r.property()],m.prototype,"vectorBasemapGalleryGroupQuery",void 0);return m=E=c.__decorate([h.subclass("esri.portal.Portal")],m)})},"esri/kernel":function(){define("require exports ./chunks/_rollupPluginBabelHelpers ./core/has ./core/urlUtils ./support/revision".split(" "),
function(a,b,c,e,d,k){b.id=void 0;e("host-webworker")||console.debug(`Using ArcGIS Maps SDK for JavaScript ${"4.26"} [Date: ${k.buildDate}, Revision: ${k.commitHash.slice(0,8)}]`);b.buildDate=k.buildDate;b.revision=k.commitHash;b.addTokenParameter=function(t){const m=b.id&&b.id.findCredential(t);return m&&m.token?d.addQueryParameter(t,"token",m.token):t};b.setId=function(t){b.id=t};b.version="4.26";b.workerMessages={request(t,m){return c._asyncToGenerator(function*(){var {default:f}=yield new Promise((r,
p)=>a(["./request"],n=>r(Object.freeze(Object.defineProperty({__proto__:null,default:n},Symbol.toStringTag,{value:"Module"}))),p)),g=t.options;const l=g.responseType;g.signal=m?.signal;g.responseType="native"===l||"native-request-init"===l?"native-request-init":l&&["blob","json","text"].includes(l)&&d.getInterceptor(t.url)?.after?l:"array-buffer";f=yield f(t.url,g);g={data:f.data,httpStatus:f.httpStatus,ssl:f.ssl};switch(f.requestOptions?.responseType){case "native-request-init":return delete g.data.signal,
g;case "blob":g.data=yield g.data.arrayBuffer();break;case "json":g.data=(new TextEncoder).encode(JSON.stringify(g.data)).buffer;break;case "text":g.data=(new TextEncoder).encode(g.data).buffer}return{result:g,transferList:[g.data]}})()}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/support/revision":function(){define(["exports"],function(a){a.buildDate="20230309";a.commitHash="8e9a2e63cdc956796b4b8e591eb3d89800a75811";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/request":function(){define("require ./chunks/_rollupPluginBabelHelpers ./config ./kernel ./core/Error ./core/has ./core/lang ./core/maybe ./core/promiseUtils ./core/urlUtils ./portal/support/urlUtils ./support/apiKeyUtils ./support/requestUtils".split(" "),function(a,b,c,e,d,k,t,m,f,g,l,r,p){function n(da,na){return v.apply(this,arguments)}function v(){v=b._asyncToGenerator(function*(da,na){var xa=g.isDataProtocol(da);const Na=g.isBlobProtocol(da);Na||xa||(da=g.normalize(da));const Oa={url:da,
requestOptions:{...m.unwrap(na)}};let N=g.getInterceptor(da);if(N){da=yield J(N,Oa);if(null!=da)return{data:da,getHeader:Ga,httpStatus:200,requestOptions:Oa.requestOptions,url:Oa.url};N.after||N.error||(N=null)}da=Oa.url;na=Oa.requestOptions;if("image"===na.responseType){if(k("host-webworker")||k("host-node"))throw u("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),Oa);}else if(xa)throw u("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+
na.responseType),Oa);if("head"===na.method){if(na.body)throw u("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),Oa);if(xa||Na)throw u("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),Oa);}yield z();if(W)return W.execute(da,na);const S=new AbortController;f.onAbort(na,()=>S.abort());xa=yield G({controller:S,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:N,params:Oa,redoRequest:!1,
useIdentity:T.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1});N?.after?.(xa);return xa});return v.apply(this,arguments)}function h(da){(da=g.getOrigin(da))&&!n._corsServers.includes(da)&&n._corsServers.push(da)}function q(da){da=g.getOrigin(da);return!da||da.endsWith(".arcgis.com")||n._corsServers.includes(da)||g.isTrustedServer(da)}function u(da,na,xa,Na){let Oa="Error";const N={url:xa.url,requestOptions:xa.requestOptions,getHeader:Ga,ssl:!1};if(na instanceof d)return na.details?(na.details=
t.clone(na.details),na.details.url=xa.url,na.details.requestOptions=xa.requestOptions):na.details=N,na;if(na){xa=Na&&(wa=>Na.headers.get(wa));const S=Na&&Na.status,ja=na.message;ja&&(Oa=ja);xa&&(N.getHeader=xa);N.httpStatus=(null!=na.httpCode?na.httpCode:na.code)||S||0;N.subCode=na.subcode;N.messageCode=na.messageCode;N.messages="string"===typeof na.details?[na.details]:na.details;N.raw=Ha in na?na[Ha]:na}return f.isAbortError(na)?f.createAbortError():new d(da,Oa,N)}function z(){return x.apply(this,
arguments)}function x(){x=b._asyncToGenerator(function*(){k("host-webworker")?W||(W=yield new Promise((da,na)=>a(["./core/workers/request"],da,na))):n._abortableFetch||(n._abortableFetch=globalThis.fetch.bind(globalThis))});return x.apply(this,arguments)}function w(){return A.apply(this,arguments)}function A(){A=b._asyncToGenerator(function*(){e.id||(yield new Promise((da,na)=>a(["./identity/IdentityManager"],xa=>da(Object.freeze(Object.defineProperty({__proto__:null,default:xa},Symbol.toStringTag,
{value:"Module"}))),na)))});return A.apply(this,arguments)}function B(da){return E.apply(this,arguments)}function E(){E=b._asyncToGenerator(function*(da){const na=da.params.url,xa=da.params.requestOptions,Na=da.controller.signal,Oa=xa.body;let N=null,S=null;Y&&"HTMLFormElement"in globalThis&&(Oa instanceof FormData?N=Oa:Oa instanceof HTMLFormElement&&(N=new FormData(Oa)));"string"===typeof Oa&&(S=Oa);da.fetchOptions={cache:xa.cacheBust&&!n._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",
headers:xa.headers||{},method:"head"===xa.method?"HEAD":"GET",mode:"cors",priority:T.priority,redirect:"follow",signal:Na};if(N||S)da.fetchOptions.body=N||S;"anonymous"===xa.authMode&&(da.useIdentity=!1);da.hasToken=!!(/token=/i.test(na)||xa.query?.token||N?.get("token"));!da.hasToken&&c.apiKey&&r.supportsApiKey(na)&&(xa.query||(xa.query={}),xa.query.token=c.apiKey,da.hasToken=!0);if(da.useIdentity&&!da.hasToken&&!da.credentialToken&&!y(na)&&!f.isAborted(Na)){let ja;"immediate"===xa.authMode?(yield w(),
ja=yield e.id.getCredential(na,{signal:Na}),da.credential=ja):"no-prompt"===xa.authMode?(yield w(),ja=yield e.id.getCredential(na,{prompt:!1,signal:Na}).catch(()=>{}),da.credential=ja):e.id&&(ja=e.id.findCredential(na));ja&&(da.credentialToken=ja.token,da.useSSL=!!ja.ssl)}});return E.apply(this,arguments)}function y(da){return Ba.some(na=>na.test(da))}function C(da){return D.apply(this,arguments)}function D(){D=b._asyncToGenerator(function*(da){let na=da.params.url;const xa=da.params.requestOptions,
Na=da.fetchOptions??{},Oa=g.isBlobProtocol(na)||g.isDataProtocol(na),N=xa.responseType||"json";var S=Oa?0:null!=xa.timeout?xa.timeout:T.timeout,ja=!1;if(!Oa){da.useSSL&&(na=g.toHTTPS(na));xa.cacheBust&&"default"===Na.cache&&(na=g.addQueryParameter(na,"request.preventCache",Date.now()));var wa={...xa.query};da.credentialToken&&(wa.token=da.credentialToken);ja=g.objectToQuery(wa);k("esri-url-encodes-apostrophe")&&(ja=ja.replace(/'/g,"%27"));const oa=na.length+1+ja.length;ja="delete"===xa.method||"post"===
xa.method||"put"===xa.method||!!xa.body||oa>T.maxUrlLength;const P=xa.useProxy||!!g.getProxyRule(na);if(P){const Z=g.getProxyUrl(na);var Ia=Z.path;!ja&&Ia.length+1+oa>T.maxUrlLength&&(ja=!0);Z.query&&(wa={...Z.query,...wa})}if("HEAD"===Na.method&&(ja||P)){if(ja){if(oa>T.maxUrlLength)throw u("request:invalid-parameters",Error("URL exceeds maximum length"),da.params);throw u("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),da.params);}if(P)throw u("request:invalid-parameters",
Error("cannot use proxy when method is 'head'"),da.params);}ja?(Na.method="delete"===xa.method?"DELETE":"put"===xa.method?"PUT":"POST",xa.body?na=g.addQueryParameters(na,wa):(Na.body=g.objectToQuery(wa),Na.headers||(Na.headers={}),Na.headers["Content-Type"]="application/x-www-form-urlencoded")):na=g.addQueryParameters(na,wa);P&&(da.useProxy=!0,na=`${Ia}?${na}`);wa.token&&Y&&Na.body instanceof FormData&&!l.isSecureProxyService(na)&&Na.body.set("token",wa.token);xa.hasOwnProperty("withCredentials")?
da.withCredentials=xa.withCredentials:g.hasSameOrigin(na,g.getAppUrl())||(g.isTrustedServer(na)?da.withCredentials=!0:e.id&&(Ia=e.id.findServerInfo(na))&&Ia.webTierAuth&&(da.withCredentials=!0));da.withCredentials&&(Na.credentials="include",p.isNoCorsRequestRequired(na)&&(yield p.sendNoCorsRequest(ja?g.addQueryParameters(na,wa):na)))}wa=0;let V=!1;0<S&&(wa=setTimeout(()=>{V=!0;da.controller.abort()},S));S=void 0;let aa;try{if("native-request-init"===xa.responseType)aa=Na,aa.url=na;else if("image"!==
xa.responseType||"default"!==Na.cache||"GET"!==Na.method||ja||L(xa.headers)||!Oa&&!da.useProxy&&T.proxyUrl&&!q(na))if(S=yield n._abortableFetch(na,Na),da.useProxy||h(na),"native"===xa.responseType)aa=S;else{if("HEAD"!==Na.method)if(S.ok){switch(N){case "array-buffer":aa=yield S.arrayBuffer();break;case "blob":case "image":aa=yield S.blob();break;default:aa=yield S.text()}wa&&(clearTimeout(wa),wa=0);if("json"===N||"xml"===N||"document"===N)if(aa)switch(N){case "json":aa=JSON.parse(aa);break;case "xml":aa=
I(aa,"application/xml");break;case "document":aa=I(aa,"text/html")}else aa=null;if(aa){if("array-buffer"===N||"blob"===N){const oa=S.headers.get("Content-Type");if(oa&&/application\/json|text\/plain/i.test(oa)&&750>=aa["blob"===N?"size":"byteLength"])try{const P=yield(new Response(aa)).json();P.error&&(aa=P)}catch{}}"image"===N&&aa instanceof Blob&&(aa=yield Q(URL.createObjectURL(aa),da,!0))}}else aa=yield S.text()}else aa=yield Q(na,da)}catch(oa){if("AbortError"===oa.name){if(V)throw Error("Timeout exceeded");
throw f.createAbortError("Request canceled");}if(!S&&oa instanceof TypeError&&T.proxyUrl&&!xa.body&&"delete"!==xa.method&&"head"!==xa.method&&"post"!==xa.method&&"put"!==xa.method&&!da.useProxy&&!q(na))da.redoRequest=!0,g.addProxyRule({proxyUrl:T.proxyUrl,urlPrefix:g.getOrigin(na)??""});else throw oa;}finally{wa&&clearTimeout(wa)}return[S,aa]});return D.apply(this,arguments)}function J(da,na){return M.apply(this,arguments)}function M(){M=b._asyncToGenerator(function*(da,na){if(null!=da.responseData)return da.responseData;
da.headers&&(na.requestOptions.headers={...na.requestOptions.headers,...da.headers});da.query&&(na.requestOptions.query={...na.requestOptions.query,...da.query});if(da.before){let xa,Na;try{Na=yield da.before(na)}catch(Oa){xa=u("request:interceptor",Oa,na)}if(Na instanceof Error||Na instanceof d)xa=u("request:interceptor",Na,na);if(xa)throw da.error&&da.error(xa),xa;return Na}});return M.apply(this,arguments)}function L(da){if(da)for(const na of Object.getOwnPropertyNames(da))if(da[na])return!0;return!1}
function I(da,na){let xa;try{xa=(new DOMParser).parseFromString(da,na)}catch{}if(!xa||xa.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return xa}function G(da){return K.apply(this,arguments)}function K(){K=b._asyncToGenerator(function*(da){yield B(da);let na;try{do[na,xa]=yield C(da);while(!(yield H(da,na,xa)))}catch(N){var xa=u("request:server",N,da.params,na);xa.details.ssl=da.useSSL;da.interceptor&&da.interceptor.error&&da.interceptor.error(xa);throw xa;}var Na=
da.params.url;xa&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(Na)&&(da.hasToken||da.credentialToken||!xa.user?.username||g.isTrustedServer(Na)||(Na=g.getOrigin(Na,!0))&&T.trustedServers.push(Na),Array.isArray(xa.authorizedCrossOriginNoCorsDomains)&&p.registerNoCorsDomains(xa.authorizedCrossOriginNoCorsDomains));if((Na=da.credential)&&e.id){var Oa=e.id.findServerInfo(Na.server);if(Oa=Oa&&Oa.owningSystemUrl)Oa=Oa.replace(/\/?$/,"/sharing"),(Na=e.id.findCredential(Oa,Na.userId))&&-1===e.id._getIdenticalSvcIdx(Oa,
Na)&&Na.resources.unshift(Oa)}return{data:xa,getHeader:na?N=>na?.headers.get(N):Ga,httpStatus:na?.status??200,requestOptions:da.params.requestOptions,ssl:da.useSSL,url:da.params.url}});return K.apply(this,arguments)}function H(da,na,xa){return O.apply(this,arguments)}function O(){O=b._asyncToGenerator(function*(da,na,xa){if(da.redoRequest)return da.redoRequest=!1;var Na=da.params.requestOptions;if(!na||"native"===Na.responseType||"native-request-init"===Na.responseType)return!0;let Oa;if(!na.ok)throw Oa=
Error(`Unable to load ${na.url} status: ${na.status}`),Oa[Ha]=xa,Oa;xa&&(xa.error?Oa=xa.error:"error"===xa.status&&Array.isArray(xa.messages)&&(Oa={...xa},Oa[Ha]=xa,Oa.details=xa.messages));let N;na=null;let S;Oa&&(N=Number(Oa.code),na=Oa.hasOwnProperty("subcode")?Number(Oa.subcode):null,S=(S=Oa.messageCode)&&S.toUpperCase());Na=Na.authMode;if(403===N&&(4===na||Oa.message&&Oa.message.toLowerCase().includes("ssl")&&!Oa.message.toLowerCase().includes("permission"))){if(!da.useSSL)return da.useSSL=!0,
!1}else if(!da.hasToken&&da.useIdentity&&("no-prompt"!==Na||498===N)&&void 0!==N&&X.includes(N)&&!y(da.params.url)&&(403!==N||S&&!ra.includes(S)&&(null==na||2===na&&da.credentialToken))){yield w();try{const ja=yield e.id.getCredential(da.params.url,{error:u("request:server",Oa,da.params),prompt:"no-prompt"!==Na,signal:da.controller.signal,token:da.credentialToken});da.credential=ja;da.credentialToken=ja.token;da.useSSL=da.useSSL||ja.ssl;return!1}catch(ja){if("no-prompt"===Na)return da.credential=
void 0,da.credentialToken=void 0,!1;Oa=ja}}if(Oa)throw Oa;return!0});return O.apply(this,arguments)}function Q(da,na,xa=!1){const Na=na.controller.signal,Oa=new Image;Oa.crossOrigin=na.withCredentials?"use-credentials":"anonymous";Oa.alt="";Oa.fetchPriority=T.priority;Oa.src=da;return p.loadImageAsync(Oa,da,xa,Na)}let W;const T=c.request,Y="FormData"in globalThis,X=[499,498,403,401],ra=["COM_0056","COM_0057","SB_0008"],Ba=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],
Ga=()=>null,Ha=Symbol();n._abortableFetch=null;n._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return n})},"esri/support/apiKeyUtils":function(){define(["exports","../core/urlUtils"],function(a,b){const c=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];a.isApiKey=function(e){return!!e&&4<e.length&&e.startsWith("AAPK")};a.supportsApiKey=function(e){const d=b.getOrigin(e,!0);return d?d.endsWith(".arcgis.com")&&
!c.includes(d)&&!e.endsWith("/sharing/rest/generateToken"):!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestUtils":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../config ../core/has ../core/maybe ../core/promiseUtils ../core/urlUtils".split(" "),function(a,b,c,e,d,k,t){function m(){try{return new DOMException("Aborted","AbortError")}catch{const g=Error();g.name="AbortError";return g}}function f(){f=b._asyncToGenerator(function*(g){var l=c.request.crossOriginNoCorsDomains;
const r=t.getOrigin(g);l&&r&&(l[r.toLowerCase()]=Date.now());l=t.urlToObject(g);g=l.path;"json"===l.query?.f&&(g+="?f\x3djson");try{yield fetch(g,{mode:"no-cors",credentials:"include"})}catch{}});return f.apply(this,arguments)}a.isNoCorsRequestRequired=function(g){const l=c.request.crossOriginNoCorsDomains;return l&&(g=t.getOrigin(g))?(g=g.toLowerCase(),!t.hasSameOrigin(g,t.getAppUrl())&&l[g]<Date.now()-36E5):!1};a.loadImageAsync=function(g,l,r=!1,p){return new Promise((n,v)=>{if(k.isAborted(p))v(m());
else{var h=()=>{z();v(Error(`Unable to load ${l}`))},q=()=>{const x=g;z();n(x)},u=()=>{if(g){var x=g;z();x.src="";v(m())}},z=()=>{e("esri-image-decode")||(g.removeEventListener("error",h),g.removeEventListener("load",q));g=q=h=null;d.isSome(p)&&p.removeEventListener("abort",u);u=null;r&&URL.revokeObjectURL(l)};d.isSome(p)&&p.addEventListener("abort",u);e("esri-image-decode")?g.decode().then(q,h):(g.addEventListener("error",h),g.addEventListener("load",q))}})};a.registerNoCorsDomains=function(g){c.request.crossOriginNoCorsDomains||
(c.request.crossOriginNoCorsDomains={});const l=c.request.crossOriginNoCorsDomains;for(let r of g)r=r.toLowerCase(),/^https?:\/\//.test(r)?l[t.getOrigin(r)??""]=0:(l[t.getOrigin("http://"+r)??""]=0,l[t.getOrigin("https://"+r)??""]=0)};a.sendNoCorsRequest=function(g){return f.apply(this,arguments)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","./property"],function(a,b){a.reader=function(c,e,d){let k,t;void 0===
e||Array.isArray(e)?(t=c,d=e,k=[void 0]):(t=e,k=Array.isArray(c)?c:[c]);return(m,f)=>{const g=m.constructor.prototype;k.forEach(l=>{l=b.propertyJSONMeta(m,l,t);l.read&&"object"===typeof l.read||(l.read={});l.read.reader=g[f];d&&(l.read.source=(l.read.source||[]).concat(d))})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Extent":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/string ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersectsBase ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v){function h(u,z,x){return null==z?x:null==x?z:u(z,x)}var q;k=q=function(u){function z(...w){w=u.call(this,...w)||this;w.type="extent";w.xmin=0;w.ymin=0;w.mmin=void 0;w.zmin=void 0;w.xmax=0;w.ymax=0;w.mmax=void 0;w.zmax=void 0;return w}a._inheritsLoose(z,u);var x=z.prototype;x.normalizeCtorArgs=function(w,A,B,E,y){return!w||"esri.geometry.SpatialReference"!==w.declaredClass&&null==w.wkid?"object"===typeof w?(w.spatialReference=null==w.spatialReference?l.WGS84:
w.spatialReference,w):{xmin:w,ymin:A,xmax:B,ymax:E,spatialReference:null==y?l.WGS84:y}:{spatialReference:w,xmin:0,ymin:0,xmax:0,ymax:0}};z.fromBounds=function(w,A){return new q({xmin:w[0],ymin:w[1],xmax:w[2],ymax:w[3],spatialReference:A})};z.fromPoint=function(w){return new q({xmin:w.x,ymin:w.y,zmin:w.z,xmax:w.x,ymax:w.y,zmax:w.z,spatialReference:w.spatialReference})};x.centerAt=function(w){const A=this.center;return null!=w.z&&this.hasZ?this.offset(w.x-A.x,w.y-A.y,w.z-A.z):this.offset(w.x-A.x,w.y-
A.y)};x.clone=function(){const w=new q;w.xmin=this.xmin;w.ymin=this.ymin;w.xmax=this.xmax;w.ymax=this.ymax;w.spatialReference=this.spatialReference;null!=this.zmin&&(w.zmin=this.zmin,w.zmax=this.zmax);null!=this.mmin&&(w.mmin=this.mmin,w.mmax=this.mmax);return w};x.contains=function(w){if(!w)return!1;const A=this.spatialReference,B=w.spatialReference;A&&B&&!A.equals(B)&&v.canProject(A,B)&&(w=A.isWebMercator?v.geographicToWebMercator(w):v.webMercatorToGeographic(w,!0));return"point"===w.type?r.extentContainsPoint(this,
w):"extent"===w.type?r.extentContainsExtent(this,w):!1};x.equals=function(w){if(this===w)return!0;if(c.isNone(w))return!1;const A=this.spatialReference,B=w.spatialReference;A&&B&&!A.equals(B)&&v.canProject(A,B)&&(w=A.isWebMercator?v.geographicToWebMercator(w):v.webMercatorToGeographic(w,!0));return this.xmin===w.xmin&&this.ymin===w.ymin&&this.zmin===w.zmin&&this.mmin===w.mmin&&this.xmax===w.xmax&&this.ymax===w.ymax&&this.zmax===w.zmax&&this.mmax===w.mmax};x.expand=function(w){w=.5*(1-w);var A=this.width*
w;const B=this.height*w;this.xmin+=A;this.ymin+=B;this.xmax-=A;this.ymax-=B;this.hasZ&&(A=(this.zmax-this.zmin)*w,this.zmin+=A,this.zmax-=A);this.hasM&&(w*=this.mmax-this.mmin,this.mmin+=w,this.mmax-=w);return this};x.intersects=function(w){if(c.isNone(w))return!1;"mesh"===w.type&&(w=w.extent);const A=this.spatialReference,B=w.spatialReference;A&&B&&!n.equals(A,B)&&v.canProject(A,B)&&(w=A.isWebMercator?v.geographicToWebMercator(w):v.webMercatorToGeographic(w,!0));return p.getFeatureExtentIntersector(w.type)(this,
w)};x.normalize=function(){const w=this._normalize(!1,!0);return Array.isArray(w)?w:[w]};x.offset=function(w,A,B){this.xmin+=w;this.ymin+=A;this.xmax+=w;this.ymax+=A;null!=B&&(this.zmin+=B,this.zmax+=B);return this};x.shiftCentralMeridian=function(){return this._normalize(!0)};x.union=function(w){if(this===w)return this;this.xmin=Math.min(this.xmin,w.xmin);this.ymin=Math.min(this.ymin,w.ymin);this.xmax=Math.max(this.xmax,w.xmax);this.ymax=Math.max(this.ymax,w.ymax);if(this.hasZ||w.hasZ)this.zmin=
h(Math.min,this.zmin,w.zmin),this.zmax=h(Math.max,this.zmax,w.zmax);if(this.hasM||w.hasM)this.mmin=h(Math.min,this.mmin,w.mmin),this.mmax=h(Math.max,this.mmax,w.mmax);return this};x.intersection=function(w){if(this===w)return this;if(c.isNone(w)||!this.intersects(w))return null;this.xmin=Math.max(this.xmin,w.xmin);this.ymin=Math.max(this.ymin,w.ymin);this.xmax=Math.min(this.xmax,w.xmax);this.ymax=Math.min(this.ymax,w.ymax);if(this.hasZ||w.hasZ)this.zmin=h(Math.max,this.zmin,w.zmin),this.zmax=h(Math.min,
this.zmax,w.zmax);if(this.hasM||w.hasM)this.mmin=h(Math.max,this.mmin,w.mmin),this.mmax=h(Math.min,this.mmax,w.mmax);return this};x.toJSON=function(w){return this.write({},w)};x._shiftCM=function(w=n.getInfo(this.spatialReference)){if(!w||!this.spatialReference)return this;const A=this.spatialReference,B=this._getCM(w);if(B){const E=A.isWebMercator?v.webMercatorToGeographic(B):B;this.xmin-=B.x;this.xmax-=B.x;A.isWebMercator||(E.x=this._normalizeX(E.x,w).x);this.spatialReference=new l(e.replace((A.isWGS84?
w.altTemplate:null)??w.wkTemplate,{Central_Meridian:E.x}))}return this};x._getCM=function(w){let A=null;const [B,E]=w.valid;w=this.xmin;const y=this.xmax;w>=B&&w<=E&&y>=B&&y<=E||(A=this.center);return A};x._normalize=function(w,A,B){const E=this.spatialReference;if(!E)return this;B=B??n.getInfo(E);if(null==B)return this;const y=this._getParts(B).map(J=>J.extent);if(2>y.length)return y[0]||this;if(2<y.length)return w?this._shiftCM(B):this.set({xmin:B.valid[0],xmax:B.valid[1]});if(w)return this._shiftCM(B);
if(A)return y;let C=!0,D=!0;y.forEach(J=>{J.hasZ||(C=!1);J.hasM||(D=!1)});return{rings:y.map(J=>{const M=[[J.xmin,J.ymin],[J.xmin,J.ymax],[J.xmax,J.ymax],[J.xmax,J.ymin],[J.xmin,J.ymin]];if(C){var L=(J.zmax-J.zmin)/2;for(let I=0;I<M.length;I++)M[I].push(L)}if(D)for(J=(J.mmax-J.mmin)/2,L=0;L<M.length;L++)M[L].push(J);return M}),hasZ:C,hasM:D,spatialReference:E}};x._getParts=function(w){let A=this.cache._parts;if(!A){A=[];const {ymin:L,ymax:I,spatialReference:G}=this;var B=this.width,E=this.xmin,y=
this.xmax;w=w||n.getInfo(G);const [K,H]=w.valid;var C=this._normalizeX(this.xmin,w);var D=C.x,J=C.frameId;C=this._normalizeX(this.xmax,w);w=C.x;C=C.frameId;var M=D===w&&0<B;if(B>2*H){B=new q(E<y?D:w,L,H,I,G);E=new q(K,L,E<y?w:D,I,G);y=new q(0,L,H,I,G);D=new q(K,L,0,I,G);w=[];M=[];B.contains(y)&&w.push(J);B.contains(D)&&M.push(J);E.contains(y)&&w.push(C);E.contains(D)&&M.push(C);for(let O=J+1;O<C;O++)w.push(O),M.push(O);A.push({extent:B,frameIds:[J]},{extent:E,frameIds:[C]},{extent:y,frameIds:w},{extent:D,
frameIds:M})}else D>w||M?A.push({extent:new q(D,L,H,I,G),frameIds:[J]},{extent:new q(K,L,w,I,G),frameIds:[C]}):A.push({extent:new q(D,L,w,I,G),frameIds:[J]});this.cache._parts=A}C=this.hasZ;B=this.hasM;if(C||B)for(J={},C&&(J.zmin=this.zmin,J.zmax=this.zmax),B&&(J.mmin=this.mmin,J.mmax=this.mmax),C=0;C<A.length;C++)A[C].extent.set(J);return A};x._normalizeX=function(w,A){const [B,E]=A.valid;A=2*E;var y=0;w>E?(y=Math.ceil(Math.abs(w-E)/A),w-=y*A):w<B&&(y=Math.ceil(Math.abs(w-B)/A),w+=y*A,y=-y);return{x:w,
frameId:y}};a._createClass(z,[{key:"cache",get:function(){this.commitProperty("xmin");this.commitProperty("ymin");this.commitProperty("zmin");this.commitProperty("mmin");this.commitProperty("xmax");this.commitProperty("ymax");this.commitProperty("zmax");this.commitProperty("mmax");this.commitProperty("spatialReference");return{}}},{key:"center",get:function(){const w=new g({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(w.z=.5*(this.zmin+
this.zmax));this.hasM&&(w.m=.5*(this.mmin+this.mmax));return w}},{key:"extent",get:function(){return this.clone()}},{key:"hasM",get:function(){return null!=this.mmin&&null!=this.mmax}},{key:"hasZ",get:function(){return null!=this.zmin&&null!=this.zmax}},{key:"height",get:function(){return Math.abs(this.ymax-this.ymin)}},{key:"width",get:function(){return Math.abs(this.xmax-this.xmin)}}]);return z}(f);b.__decorate([d.property({readOnly:!0})],k.prototype,"cache",null);b.__decorate([d.property({readOnly:!0})],
k.prototype,"center",null);b.__decorate([d.property({readOnly:!0})],k.prototype,"extent",null);b.__decorate([d.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],k.prototype,"hasM",null);b.__decorate([d.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],k.prototype,"hasZ",null);b.__decorate([d.property({readOnly:!0})],k.prototype,"height",null);b.__decorate([d.property({readOnly:!0})],k.prototype,"width",null);b.__decorate([d.property({type:Number,json:{type:[Number,
String],write:{enabled:!0,allowNull:!0}}})],k.prototype,"xmin",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],k.prototype,"ymin",void 0);b.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],k.prototype,"mmin",void 0);b.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],k.prototype,"zmin",void 0);b.__decorate([d.property({type:Number,
json:{write:!0}})],k.prototype,"xmax",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],k.prototype,"ymax",void 0);b.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],k.prototype,"mmax",void 0);b.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],k.prototype,"zmax",void 0);k=q=b.__decorate([m.subclass("esri.geometry.Extent")],
k);k.prototype.toJSON.isDefaultToJSON=!0;return k})},"esri/geometry/Geometry":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./SpatialReference".split(" "),function(a,b,c,e,d,k,t,m,f){c=function(g){function l(...p){p=g.call(this,...p)||this;p.type=null;p.hasM=!1;p.hasZ=
!1;p.spatialReference=f.WGS84;return p}a._inheritsLoose(l,g);var r=l.prototype;r.readSpatialReference=function(p,n){if(p instanceof f)return p;if(null!=p){const v=new f;v.read(p,n);return v}return p};r.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};r.clearCache=function(){this.notifyChange("cache")};r.getCacheValue=function(p){return this.cache[p]};r.setCacheValue=function(p,n){this.cache[p]=n};a._createClass(l,[{key:"cache",get:function(){this.commitProperty("spatialReference");
return{}}},{key:"extent",get:function(){return null}}]);return l}(c.JSONSupport);b.__decorate([e.property()],c.prototype,"type",void 0);b.__decorate([e.property({readOnly:!0})],c.prototype,"cache",null);b.__decorate([e.property({readOnly:!0})],c.prototype,"extent",null);b.__decorate([e.property({type:Boolean,json:{write:{overridePolicy(g){return{enabled:g}}}}})],c.prototype,"hasM",void 0);b.__decorate([e.property({type:Boolean,json:{write:{overridePolicy(g){return{enabled:g}}}}})],c.prototype,"hasZ",
void 0);b.__decorate([e.property({type:f,json:{write:!0},value:f.WGS84})],c.prototype,"spatialReference",void 0);b.__decorate([t.reader("spatialReference")],c.prototype,"readSpatialReference",null);return c=b.__decorate([m.subclass("esri.geometry.Geometry")],c)})},"esri/geometry/Point":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h){function q(x){return x&&("esri.geometry.SpatialReference"===x.declaredClass||null!=x.wkid)}var u;const z=[0,0];t=u=function(x){function w(...B){B=x.call(this,...B)||this;B.x=0;B.y=0;B.z=void 0;B.m=void 0;B.type="point";return B}a._inheritsLoose(w,x);w.copy=function(B,E){E._set("x",B._get("x"));E._set("y",B._get("y"));E._set("z",B._get("z"));E._set("m",B._get("m"));B=B._get("spatialReference");E._set("spatialReference",Object.isFrozen(B)?B:B.clone())};var A=
w.prototype;A.normalizeCtorArgs=function(B,E,y,C,D){let J;if(Array.isArray(B))J=B,D=E,B=J[0],E=J[1],y=J[2],C=J[3];else if(B&&"object"===typeof B){if(J=B,B=null!=J.x?J.x:J.longitude,E=null!=J.y?J.y:J.latitude,y=J.z,C=J.m,(D=J.spatialReference)&&"esri.geometry.SpatialReference"!==D.declaredClass&&(D=new p(D)),null!=J.longitude||null!=J.latitude)null==J.longitude?c.getLogger(this.declaredClass).warn(".longitude\x3d","Latitude was defined without longitude"):null==J.latitude?c.getLogger(this.declaredClass).warn(".latitude\x3d",
"Longitude was defined without latitude"):!J.declaredClass&&D&&D.isWebMercator&&(E=h.lngLatToXY(J.longitude,J.latitude,z),B=E[0],E=E[1])}else q(y)?(D=y,y=null):q(C)&&(D=C,C=null);B={x:B,y:E};null==B.x&&null!=B.y?c.getLogger(this.declaredClass).warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==B.y&&null!=B.x&&c.getLogger(this.declaredClass).warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=D&&(B.spatialReference=D);null!=y&&(B.z=y);null!=C&&(B.m=C);return B};
A.writeX=function(B,E,y){E[y]=isNaN(B)?"NaN":B};A.readX=function(B){return"string"===typeof B?NaN:B};A.clone=function(){const B=new u;B.x=this.x;B.y=this.y;B.z=this.z;B.m=this.m;B.spatialReference=this.spatialReference;return B};A.copy=function(B){u.copy(B,this);return this};A.equals=function(B){if(e.isNone(B))return!1;const {x:E,y,z:C,m:D,spatialReference:J}=this,{z:M,m:L}=B;let {x:I,y:G,spatialReference:K}=B;if(!J.equals(K))if(J.isWebMercator&&K.isWGS84)[I,G]=h.lngLatToXY(I,G),K=J;else if(J.isWGS84&&
K.isWebMercator)[I,G]=h.xyToLngLat(I,G),K=J;else return!1;return E===I&&y===G&&C===M&&D===L&&J.wkid===K.wkid};A.offset=function(B,E,y){this.x+=B;this.y+=E;null!=y&&(this.z=(this.z??0)+y);return this};A.normalize=function(){if(!this.spatialReference)return this;var B=v.getInfo(this.spatialReference);if(!B)return this;let E=this.x;const [y,C]=B.valid;B=2*C;let D;E>C?(D=Math.ceil(Math.abs(E-C)/B),E-=D*B):E<y&&(D=Math.ceil(Math.abs(E-y)/B),E+=D*B);this._set("x",E);return this};A.distance=function(B){return n.distance(this,
B)};A.toArray=function(){const B=this.hasZ,E=this.hasM;return B&&E?[this.x,this.y,this.z,this.m]:B?[this.x,this.y,this.z]:E?[this.x,this.y,this.m]:[this.x,this.y]};A.toJSON=function(B){return this.write({},B)};a._createClass(w,[{key:"cache",get:function(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");this.commitProperty("spatialReference");return{}}},{key:"hasM",get:function(){return void 0!==this.m},set:function(B){const E=void 0!==this._get("m");
B!==E&&(this._set("m",B?0:void 0),this._set("hasM",B))}},{key:"hasZ",get:function(){return void 0!==this.z},set:function(B){const E=void 0!==this._get("z");B!==E&&(this._set("z",B?0:void 0),this._set("hasZ",B))}},{key:"latitude",get:function(){const {spatialReference:B,x:E,y}=this;if(B){if(B.isWebMercator)return h.xyToLngLat(E,y,z)[1];if(B.isGeographic)return y}return null},set:function(B){const {spatialReference:E,x:y}=this;null!=B&&E&&(E.isWebMercator?this._set("y",h.lngLatToXY(y,B,z)[1]):E.isGeographic&&
this._set("y",B),this._set("latitude",B))}},{key:"longitude",get:function(){const {x:B,y:E,spatialReference:y}=this;if(y){if(y.isWebMercator)return h.xyToLngLat(B,E,z)[0];if(y.isGeographic)return B}return null},set:function(B){const {y:E,spatialReference:y}=this;null!=B&&y&&(y.isWebMercator?this._set("x",h.lngLatToXY(B,E,z)[0]):y.isGeographic&&this._set("x",B),this._set("longitude",B))}}]);return w}(r);b.__decorate([d.property({readOnly:!0})],t.prototype,"cache",null);b.__decorate([d.property({type:Boolean,
json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],t.prototype,"hasM",null);b.__decorate([d.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],t.prototype,"hasZ",null);b.__decorate([d.property({type:Number})],t.prototype,"latitude",null);b.__decorate([d.property({type:Number})],t.prototype,"longitude",null);b.__decorate([d.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),k.cast(x=>isNaN(x)?x:l.ensureNumber(x))],t.prototype,"x",
void 0);b.__decorate([g.writer("x")],t.prototype,"writeX",null);b.__decorate([m.reader("x")],t.prototype,"readX",null);b.__decorate([d.property({type:Number,json:{write:!0}})],t.prototype,"y",void 0);b.__decorate([d.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],t.prototype,"z",void 0);b.__decorate([d.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],t.prototype,"m",void 0);t=u=b.__decorate([f.subclass("esri.geometry.Point")],
t);t.prototype.toJSON.isDefaultToJSON=!0;return t})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports","../ensureType","../metadata"],function(a,b,c){function e(m){const f="__accessorMetadata__"in m?b.ensureType(m):m;return function(...g){g.push(f);if("number"===typeof g[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return d.apply(this,g)}}function d(m,f,g,l){c.getPropertyMetadata(m,f).cast=l}function k(m){return(f,g)=>{c.getPropertyMetadata(f,
m).cast=f[g]}}const t=Object.prototype.toString;a.cast=function(...m){if(3!==m.length||"string"!==typeof m[1]){if(1===m.length&&"[object Function]"===t.call(m[0]))return e(m[0]);if(1===m.length&&"string"===typeof m[0])return k(m[0])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/pointUtils":function(){define(["exports"],function(a){a.distance=function(b,c){const e=b.x-c.x,d=b.y-c.y;b=b.hasZ&&c.hasZ?b.z-c.z:0;return Math.sqrt(e*e+d*d+b*b)};a.squareDistance=
function(b,c){const e=b.x-c.x,d=b.y-c.y;b=b.hasZ&&c.hasZ?b.z-c.z:0;return e*e+d*d+b*b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/webMercatorUtils":function(){define("exports ../../core/lang ../../core/maybe ../SpatialReference ./Ellipsoid ./spatialReferenceUtils".split(" "),function(a,b,c,e,d,k){function t(r,p,n,v,h){h.spatialReference=n;if("x"in r&&"x"in h)[h.x,h.y]=p(r.x,r.y,l,v);else if("xmin"in r&&"xmin"in h)[h.xmin,h.ymin]=p(r.xmin,r.ymin,l,v),[h.xmax,
h.ymax]=p(r.xmax,r.ymax,l,v);else if("paths"in r&&"paths"in h||"rings"in r&&"rings"in h){r="paths"in r?r.paths:r.rings;n=[];for(let u=0;u<r.length;u++){const z=r[u];var q=[];n.push(q);for(let x=0;x<z.length;x++)q.push(p(z[x][0],z[x][1],[0,0],v)),2<z[x].length&&q[x].push(z[x][2]),3<z[x].length&&q[x].push(z[x][3])}"paths"in h?h.paths=n:h.rings=n}else if("points"in r&&"points"in h){r=r.points;n=[];for(q=0;q<r.length;q++)n[q]=p(r[q][0],r[q][1],[0,0],v),2<r[q].length&&n[q].push(r[q][2]),3<r[q].length&&
n[q].push(r[q][3]);h.points=n}return h}function m(r,p){const n=r&&(null!=r.wkid||null!=r.wkt?r:r.spatialReference),v=p&&(null!=p.wkid||null!=p.wkt?p:p.spatialReference);return r&&"type"in r&&"mesh"===r.type||p&&"type"in p&&"mesh"===p.type||!n||!v?!1:k.equals(v,n)?!0:k.isWebMercator(v)&&k.isWGS84(n)||k.isWebMercator(n)&&k.isWGS84(v)}function f(r,p,n=[0,0]){89.99999<p?p=89.99999:-89.99999>p&&(p=-89.99999);p*=.017453292519943;n[0]=.017453292519943*r*d.earth.radius;n[1]=d.earth.halfSemiMajorAxis*Math.log((1+
Math.sin(p))/(1-Math.sin(p)));return n}function g(r,p,n=[0,0],v=!1){r=r/d.earth.radius*57.29577951308232;n[0]=v?r:r-360*Math.floor((r+180)/360);n[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-p/d.earth.radius)));return n}const l=[0,0];a.canProject=m;a.geographicToWebMercator=function(r,p=!1,n=b.clone(r)){return t(r,f,e.WebMercator,p,n)};a.lngLatToXY=f;a.project=function(r,p){if(c.isNone(r))return null;const n=r.spatialReference;p=p&&(null!=p.wkid||null!=p.wkt?p:p.spatialReference);return m(n,
p)?k.equals(n,p)?b.clone(r):k.isWebMercator(p)?t(r,f,e.WebMercator,!1,b.clone(r)):k.isWGS84(p)?t(r,g,e.WGS84,!1,b.clone(r)):null:null};a.webMercatorToGeographic=function(r,p=!1,n=b.clone(r)){return t(r,g,e.WGS84,p,n)};a.x2lon=function(r){return r/d.earth.radius};a.xyToLngLat=g;a.y2lat=function(r){return Math.PI/2-2*Math.atan(Math.exp(-r/d.earth.radius))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/contains":function(){define(["exports","../../core/maybe"],
function(a,b){function c(f,g){return e(f,g[0],g[1])}function e(f,g,l,r){return g>=f.xmin&&g<=f.xmax&&l>=f.ymin&&l<=f.ymax?null!=r&&f.hasZ?r>=f.zmin&&r<=f.zmax:!0:!1}function d(f,g){return k(f.rings,g)}function k(f,g){if(!f)return!1;if(!Array.isArray(f[0][0]))return t(!1,f,g);let l=!1;for(let r=0,p=f.length;r<p;r++)l=t(l,f[r],g);return l}function t(f,g,l){const [r,p]=l;l=0;for(let n=0,v=g.length;n<v;n++){l++;l===v&&(l=0);const [h,q]=g[n],[u,z]=g[l];(q<p&&z>=p||z<p&&q>=p)&&h+(p-q)/(z-q)*(u-h)<r&&(f=
!f)}return f}const m=[0,0];a.extentContainsCoords2D=c;a.extentContainsCoords3D=function(f,g){return e(f,g[0],g[1],g[2])};a.extentContainsExtent=function(f,g){const {xmin:l,ymin:r,zmin:p,xmax:n,ymax:v,zmax:h}=g;return f.hasZ&&g.hasZ?e(f,l,r,p)&&e(f,l,v,p)&&e(f,n,v,p)&&e(f,n,r,p)&&e(f,l,r,h)&&e(f,l,v,h)&&e(f,n,v,h)&&e(f,n,r,h):e(f,l,r)&&e(f,l,v)&&e(f,n,v)&&e(f,n,r)};a.extentContainsMultipoint=function(f,g){if(!g.points||g.points.length)return!1;for(const l of g.points)if(!c(f,l))return!1;return!0};
a.extentContainsPoint=function(f,g){return b.isSome(g)?e(f,g.x,g.y,g.z):!1};a.extentContainsXYZ=e;a.polygonContainsCoords=d;a.polygonContainsPoint=function(f,g){m[1]=g.y;m[0]=g.x;return d(f,m)};a.ringsContainsCoords=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/intersectsBase":function(){define(["exports","./contains"],function(a,b){function c(u,z){return b.extentContainsPoint(u,z)}function e(u,z){var x=u.hasZ&&z.hasZ;if(u.xmin<=z.xmin){var w=z.xmin;if(u.xmax<
w)return!1}else if(w=u.xmin,z.xmax<w)return!1;if(u.ymin<=z.ymin){if(w=z.ymin,u.ymax<w)return!1}else if(w=u.ymin,z.ymax<w)return!1;if(x&&z.hasZ)if(u.zmin<=z.zmin){if(x=z.zmin,u.zmax<x)return!1}else if(x=u.zmin,z.zmax<x)return!1;return!0}function d(u,z){const {points:x,hasZ:w}=z;z=w?b.extentContainsCoords3D:b.extentContainsCoords2D;for(const A of x)if(z(u,A))return!0;return!1}function k(u,z){return t(u,z.rings)}function t(u,z){l[0]=u.xmin;l[1]=u.ymax;r[0]=u.xmax;r[1]=u.ymax;p[0]=u.xmin;p[1]=u.ymin;
n[0]=u.xmax;n[1]=u.ymin;for(var x of v)if(b.ringsContainsCoords(z,x))return!0;for(const w of z)if(w.length){z=w[0];if(b.extentContainsCoords2D(u,z))return!0;for(x=1;x<w.length;x++){const A=w[x];if(b.extentContainsCoords2D(u,A)||f(z,A,h))return!0;z=A}}return!1}function m(u,z){l[0]=u.xmin;l[1]=u.ymax;r[0]=u.xmax;r[1]=u.ymax;p[0]=u.xmin;p[1]=u.ymin;n[0]=u.xmax;n[1]=u.ymin;z=z.paths;for(const x of z){if(!z.length)continue;let w=x[0];if(b.extentContainsCoords2D(u,w))return!0;for(let A=1;A<x.length;A++){const B=
x[A];if(b.extentContainsCoords2D(u,B)||f(w,B,h))return!0;w=B}}return!1}function f(u,z,x){for(let w=0;w<x.length;w++)if(g(u,z,x[w][0],x[w][1]))return!0;return!1}function g(u,z,x,w,A){const [B,E]=u,[y,C]=z,[D,J]=x,[M,L]=w;var I=M-D;u=B-D;z=y-B;const G=L-J;x=E-J;w=C-E;const K=G*z-I*w;if(0===K)return!1;I=(I*x-G*u)/K;u=(z*x-w*u)/K;return 0<=I&&1>=I&&0<=u&&1>=u?(A&&(A[0]=B+I*(y-B),A[1]=E+I*(C-E)),!0):!1}const l=[0,0],r=[0,0],p=[0,0],n=[0,0],v=[l,r,p,n],h=[[p,l],[l,r],[r,n],[n,p]],q=[0,0];a.extentIntersectsExtent=
e;a.extentIntersectsMultipoint=d;a.extentIntersectsPoint=c;a.extentIntersectsPolygon=k;a.extentIntersectsPolyline=m;a.extentIntersectsRings=t;a.getFeatureExtentIntersector=function(u){switch(u){case "esriGeometryEnvelope":case "extent":return e;case "esriGeometryMultipoint":case "multipoint":return d;case "esriGeometryPoint":case "point":return c;case "esriGeometryPolygon":case "polygon":return k;case "esriGeometryPolyline":case "polyline":return m}};a.isSelfIntersecting=function(u){for(let C=0;C<
u.length;C++){const D=u[C];for(var z=0;z<D.length-1;z++){var x=D[z],w=D[z+1];for(var A=C+1;A<u.length;A++)for(var B=0;B<u[A].length-1;B++){var E=u[A][B],y=u[A][B+1];if(g(x,w,E,y,q)&&!(q[0]===x[0]&&q[1]===x[1]||q[0]===E[0]&&q[1]===E[1]||q[0]===w[0]&&q[1]===w[1]||q[0]===y[0]&&q[1]===y[1]))return!0}}z=D.length;if(!(4>=z))for(x=0;x<z-3;x++)for(w=z-1,0===x&&(w=z-2),A=D[x],B=D[x+1],E=x+2;E<w;E++){y=D[E];const J=D[E+1];if(g(A,B,y,J,q)&&!(q[0]===A[0]&&q[1]===A[1]||q[0]===y[0]&&q[1]===y[1]||q[0]===B[0]&&q[1]===
B[1]||q[0]===J[0]&&q[1]===J[1]))return!0}}return!1};a.segmentIntersects=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/locale":function(){define(["exports"],function(a){function b(){return m??globalThis.navigator?.language??"en"}function c(){void 0===t&&(t=b());return t}function e(r=c()){return/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(r)?.[1].toLowerCase()}function d(){const r=k??b();t!==r&&(t=r,[...l].forEach(p=>{p.call(null,r)}),[...g].forEach(p=>{p.call(null,r)}))}let k=
void 0,t=void 0;const m=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,f={he:!0,ar:!0},g=[],l=[];globalThis.addEventListener?.("languagechange",d);a.beforeLocaleChange=function(r){l.push(r);return{remove(){g.splice(l.indexOf(r),1)}}};a.getDefaultLocale=b;a.getLanguage=e;a.getLocale=c;a.onLocaleChange=function(r){g.push(r);return{remove(){g.splice(g.indexOf(r),1)}}};a.prefersRTL=function(r=c()){r=e(r);return void 0!==r&&(f[r]||!1)};a.setLocale=function(r){k=r?r:void 0;d()};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/portal/PortalQueryParams":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/jsonMap ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),function(a,b,c,e,d,k,t,m,f,g,l,r){var p;const n=new e.JSONMap({avgRating:"avg-rating",
numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});c=p=function(v){function h(u){u=v.call(this,u)||this;u.categories=null;u.disableExtraQuery=!1;u.extent=null;u.filter=null;u.num=10;u.query=null;u.sortField=null;u.start=1;return u}a._inheritsLoose(h,v);var q=h.prototype;q.clone=function(){return new p({categories:this.categories?d.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,
query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};q.toRequestOptions=function(u,z){let x=[];this.categories&&(x=this.categories.map(B=>Array.isArray(B)?JSON.stringify(B):B));let w="";if(this.extent){var A=r.project(this.extent,l.WGS84);k.isSome(A)&&(w=`${A.xmin},${A.ymin},${A.xmax},${A.ymax}`)}A=this.query;!this.disableExtraQuery&&u.extraQuery&&(A="("+A+")"+u.extraQuery);u={categories:x,bbox:w,q:A,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};
this.sortField&&(u.sortField=this.sortField.split(",").map(B=>n.toJSON(B.trim())).join(","),u.sortOrder=this.sortOrder);return{query:{...z,...u}}};a._createClass(h,[{key:"sortOrder",get:function(){return this._get("sortOrder")||"asc"},set:function(u){"asc"!==u&&"desc"!==u||this._set("sortOrder",u)}}]);return h}(c);b.__decorate([t.property()],c.prototype,"categories",void 0);b.__decorate([t.property()],c.prototype,"disableExtraQuery",void 0);b.__decorate([t.property({type:g})],c.prototype,"extent",
void 0);b.__decorate([t.property()],c.prototype,"filter",void 0);b.__decorate([t.property()],c.prototype,"num",void 0);b.__decorate([t.property()],c.prototype,"query",void 0);b.__decorate([t.property()],c.prototype,"sortField",void 0);b.__decorate([t.property()],c.prototype,"sortOrder",null);b.__decorate([t.property()],c.prototype,"start",void 0);return c=p=b.__decorate([f.subclass("esri.portal.PortalQueryParams")],c)})},"esri/portal/PortalQueryResult":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){c=function(m){function f(g){g=m.call(this,g)||this;g.nextQueryParams=null;g.queryParams=null;g.results=null;g.total=null;return g}a._inheritsLoose(f,m);return f}(c);b.__decorate([e.property()],c.prototype,"nextQueryParams",void 0);b.__decorate([e.property()],c.prototype,"queryParams",void 0);b.__decorate([e.property()],c.prototype,"results",void 0);b.__decorate([e.property()],c.prototype,"total",void 0);return c=b.__decorate([t.subclass("esri.portal.PortalQueryResult")],c)})},
"esri/portal/PortalUser":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass ./PortalFolder ./PortalGroup".split(" "),function(a,b,c,e,d,k,t,m,f,g,l){var r;d=r=function(p){function n(...h){h=p.call(this,...h)||this;h.access=null;h.created=null;h.culture=null;h.description=null;h.email=null;h.fullName=
null;h.modified=null;h.orgId=null;h.portal=null;h.preferredView=null;h.privileges=null;h.region=null;h.role=null;h.roleId=null;h.sourceJSON=null;h.units=null;h.username=null;h.userType=null;return h}b._inheritsLoose(n,p);var v=n.prototype;v.addItem=function(h){const q=h&&h.item;var u=h&&h.data;h=h&&h.folder;const z={method:"post"};q&&(z.query=q.createPostQuery(),null!=u&&("string"===typeof u?z.query.text=u:"object"===typeof u&&(z.query.text=JSON.stringify(u))));u=this.userContentUrl;h&&(u+="/"+("string"===
typeof h?h:h.id));return this.portal.request(u+"/addItem",z).then(x=>{q.id=x.id;q.portal=this.portal;return q.loaded?q.reload():q.load()})};v.deleteItem=function(h){let q=this.userContentUrl;h.ownerFolder&&(q+="/"+h.ownerFolder);return this.portal.request(q+`/items/${h.id}/delete`,{method:"post"}).then(()=>{h.id=null;h.portal=null})};v.deleteItems=function(h){const q=this.userContentUrl+"/deleteItems";var u=h.map(z=>z.id);return u.length?(u={method:"post",query:{items:u.join(",")}},this.portal.request(q,
u).then(()=>{h.forEach(z=>{z.id=null;z.portal=null})})):Promise.resolve(void 0)};v.fetchFolders=function(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then(h=>h&&h.folders?h.folders.map(q=>{q=g.fromJSON(q);q.portal=this.portal;return q}):[])};v.fetchGroups=function(){return this.portal.request(this.url??"").then(h=>h&&h.groups?h.groups.map(q=>{q=l.fromJSON(q);q.portal=this.portal;return q}):[])};v.fetchItems=function(h){const q=h??{};let u=this.userContentUrl??"";q.folder&&
(u+="/"+q.folder.id);let z;return(new Promise((x,w)=>a(["./PortalItem"],A=>x(Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}))),w))).then(({default:x})=>{z=x;return this.portal.request(u,{query:{folders:!1,num:q.num||10,start:q.start||1,sortField:q.sortField||"created",sortOrder:q.sortOrder||"asc"}})}).then(x=>{let w;return x&&x.items?(w=x.items.map(A=>{A=z.fromJSON(A);A.portal=this.portal;return A}),Promise.all(w.map(A=>A.load())).catch(A=>A).then(()=>
({items:w,nextStart:x.nextStart,total:x.total}))):{items:[],nextStart:-1,total:0}})};v.fetchTags=function(){return this.portal.request(this.url+"/tags").then(h=>h.tags)};v.getThumbnailUrl=function(h){let q=this.thumbnailUrl;q&&h&&(q+=`&w=${h}`);return q};v.queryFavorites=function(h){return this.favGroupId?(this._favGroup||(this._favGroup=new l({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(h)):Promise.reject(new e("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};
v.toJSON=function(){throw new e("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};n.fromJSON=function(h){if(!h)return null;if(h.declaredClass)throw Error("JSON object is already hydrated");const q=new r;q.sourceJSON=h;q.read(h);return q};b._createClass(n,[{key:"thumbnailUrl",get:function(){const h=this.url,q=this.thumbnail;return h&&q?this.portal.normalizeUrl(`${h}/info/${q}?f=json`):null}},{key:"userContentUrl",get:function(){const h=this.get("portal.restUrl");return h?
`${h}/content/users/${this.username}`:null}},{key:"url",get:function(){const h=this.get("portal.restUrl");return h?`${h}/community/users/${this.username}`:null}}]);return n}(d.JSONSupport);c.__decorate([k.property()],d.prototype,"access",void 0);c.__decorate([k.property({type:Date})],d.prototype,"created",void 0);c.__decorate([k.property()],d.prototype,"culture",void 0);c.__decorate([k.property()],d.prototype,"description",void 0);c.__decorate([k.property()],d.prototype,"email",void 0);c.__decorate([k.property()],
d.prototype,"favGroupId",void 0);c.__decorate([k.property()],d.prototype,"fullName",void 0);c.__decorate([k.property({type:Date})],d.prototype,"modified",void 0);c.__decorate([k.property()],d.prototype,"orgId",void 0);c.__decorate([k.property()],d.prototype,"portal",void 0);c.__decorate([k.property()],d.prototype,"preferredView",void 0);c.__decorate([k.property()],d.prototype,"privileges",void 0);c.__decorate([k.property()],d.prototype,"region",void 0);c.__decorate([k.property()],d.prototype,"role",
void 0);c.__decorate([k.property()],d.prototype,"roleId",void 0);c.__decorate([k.property()],d.prototype,"sourceJSON",void 0);c.__decorate([k.property()],d.prototype,"thumbnail",void 0);c.__decorate([k.property({readOnly:!0})],d.prototype,"thumbnailUrl",null);c.__decorate([k.property()],d.prototype,"units",void 0);c.__decorate([k.property({readOnly:!0})],d.prototype,"userContentUrl",null);c.__decorate([k.property({readOnly:!0})],d.prototype,"url",null);c.__decorate([k.property()],d.prototype,"username",
void 0);c.__decorate([k.property()],d.prototype,"userType",void 0);return d=r=c.__decorate([f.subclass("esri.portal.PortalUser")],d)})},"esri/portal/PortalFolder":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t,m){e=function(f){function g(l){l=f.call(this,l)||this;
l.created=null;l.id=null;l.portal=null;l.title=null;l.username=null;return l}a._inheritsLoose(g,f);g.prototype.toJSON=function(){throw new c("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};a._createClass(g,[{key:"url",get:function(){const l=this.get("portal.restUrl");return l?`${l}/content/users/${this.username}/${this.id}`:null}}]);return g}(e.JSONSupport);b.__decorate([d.property({type:Date})],e.prototype,"created",void 0);b.__decorate([d.property()],e.prototype,"id",
void 0);b.__decorate([d.property()],e.prototype,"portal",void 0);b.__decorate([d.property()],e.prototype,"title",void 0);b.__decorate([d.property({readOnly:!0})],e.prototype,"url",null);b.__decorate([d.property()],e.prototype,"username",void 0);return e=b.__decorate([m.subclass("esri.portal.PortalFolder")],e)})},"esri/portal/PortalGroup":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass ./PortalQueryParams".split(" "),
function(a,b,c,e,d,k,t,m,f,g){e=function(l){function r(n){n=l.call(this,n)||this;n.access=null;n.created=null;n.description=null;n.id=null;n.isInvitationOnly=!1;n.modified=null;n.owner=null;n.portal=null;n.snippet=null;n.sortField=null;n.sortOrder=null;n.tags=null;n.title=null;return n}a._inheritsLoose(r,l);var p=r.prototype;p.fetchCategorySchema=function(n){return d.unwrapOrThrow(this.portal).request(this.url+"/categorySchema",n).then(v=>{v=v.categorySchema||[];return v.some(h=>"contentCategorySetsGroupQuery.LivingAtlas"===
h.source)?this._fetchCategorySchemaSet("LivingAtlas",n):v})};p.fetchMembers=function(n){return d.unwrapOrThrow(this.portal).request(this.url+"/users",n)};p.getThumbnailUrl=function(n){let v=this.thumbnailUrl;v&&n&&(v+=`&w=${n}`);return v};p.toJSON=function(){throw new c("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};p.queryItems=function(n,v){n=t.ensureType(g,n);const h=d.unwrapOrThrow(this.portal);if(5<parseFloat(h.currentVersion))return n=n||new g,h.queryPortal(`/content/groups/${this.id}/search`,
n,"PortalItem",v);n=n?n.clone():new g;n.query="group:"+this.id+(n.query?" "+n.query:"");return h.queryItems(n,v)};p._fetchCategorySchemaSet=function(n,v){const h=d.unwrapOrThrow(this.portal);return h.fetchSelf(h.authMode,!0,v).then(q=>{if(q=q.contentCategorySetsGroupQuery){const u=new g;u.disableExtraQuery=!0;u.num=1;u.query=q;return h.queryGroups(u,v)}throw new c("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(q=>{if(q.total){q=q.results[0];const u=new g;
u.num=1;u.query=`typekeywords:"${n}"`;return q.queryItems(u,v)}throw new c("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(q=>q.total?q.results[0].fetchData("json",v).then(u=>(u=u&&u.categorySchema)&&u.length?u:[]):[])};a._createClass(r,[{key:"thumbnailUrl",get:function(){const n=this.url,v=this.thumbnail;return n&&v&&this.portal?this.portal?.normalizeUrl(`${n}/info/${v}?f=json`):null}},{key:"url",get:function(){const n=this.get("portal.restUrl");return n?
n+"/community/groups/"+this.id:null}}]);return r}(e.JSONSupport);b.__decorate([k.property()],e.prototype,"access",void 0);b.__decorate([k.property({type:Date})],e.prototype,"created",void 0);b.__decorate([k.property()],e.prototype,"description",void 0);b.__decorate([k.property()],e.prototype,"id",void 0);b.__decorate([k.property()],e.prototype,"isInvitationOnly",void 0);b.__decorate([k.property({type:Date})],e.prototype,"modified",void 0);b.__decorate([k.property()],e.prototype,"owner",void 0);b.__decorate([k.property()],
e.prototype,"portal",void 0);b.__decorate([k.property()],e.prototype,"snippet",void 0);b.__decorate([k.property()],e.prototype,"sortField",void 0);b.__decorate([k.property()],e.prototype,"sortOrder",void 0);b.__decorate([k.property()],e.prototype,"tags",void 0);b.__decorate([k.property()],e.prototype,"thumbnail",void 0);b.__decorate([k.property({readOnly:!0})],e.prototype,"thumbnailUrl",null);b.__decorate([k.property()],e.prototype,"title",void 0);b.__decorate([k.property({readOnly:!0})],e.prototype,
"url",null);return e=b.__decorate([f.subclass("esri.portal.PortalGroup")],e)})},"esri/portal/PortalItem":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../assets ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u){var z;const x=new Set("Map Service;Feature Service;Feature Collection;Scene Service;Image Service;Stream Service;Vector Tile Service;GeoJson;CSV;KML;WFS;WMTS;WMS;Feed".split(";")),w=new Set(["KML","GeoJson","CSV"]);k=z=function(A){function B(y){y=A.call(this,y)||this;y.access=null;y.accessInformation=null;y.apiKey=null;y.applicationProxies=null;y.avgRating=null;y.categories=null;y.created=null;y.culture=null;y.description=null;y.extent=null;y.groupCategories=
null;y.id=null;y.isOrgItem=!1;y.itemControl=null;y.licenseInfo=null;y.modified=null;y.name=null;y.numComments=null;y.numRatings=null;y.numViews=null;y.owner=null;y.ownerFolder=null;y.portal=null;y.screenshots=null;y.size=null;y.snippet=null;y.sourceJSON=null;y.sourceUrl=null;y.spatialReference=null;y.tags=null;y.title=null;y.type=null;y.typeKeywords=null;y.url=null;return y}b._inheritsLoose(B,A);B.from=function(y){return r.ensureClass(z,y)};var E=B.prototype;E.destroy=function(){this.portal=null};
E.readExtent=function(y){return y&&y.length?new v(y[0][0],y[0][1],y[1][0],y[1][1]):null};E.load=function(y){const C=this.portal??(this.portal=h.getDefault()),D=C.load(y).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?C.request(this.itemUrl,{signal:f.isSome(y)?y.signal:null,query:{token:this.apiKey}}):{}).then(J=>{this.sourceJSON=J;this.read(J)});this.addResolvingPromise(D);return Promise.resolve(this)};E.addRating=function(){var y=b._asyncToGenerator(function*(C){const D={method:"post",
query:{}};C instanceof u&&(C=C.rating);null==C||isNaN(C)||"number"!==typeof C||(D.query.rating=C);if(!this.portal)return null;yield this.portal.request(this.itemUrl+"/addRating",D);return new u({rating:C,created:new Date})});return function(C){return y.apply(this,arguments)}}();E.clone=function(){var y={access:this.access,accessInformation:this.accessInformation,applicationProxies:t.clone(this.applicationProxies),avgRating:this.avgRating,categories:t.clone(this.categories),created:t.clone(this.created),
culture:this.culture,description:this.description,extent:t.clone(this.extent),groupCategories:t.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:t.clone(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:t.clone(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,
tags:t.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:t.clone(this.typeKeywords),url:this.url};this.loaded&&(y.loadStatus="loaded");y=(new z({sourceJSON:this.sourceJSON})).set(y);y._set("isOrgItem",this.isOrgItem);return y};E.createPostQuery=function(){const y=this.toJSON();for(var C of["tags","typeKeywords","categories"])y[C]&&(y[C]=y[C].join(", "));({extent:C}=y);C&&(y.extent=JSON.stringify(C));return y};E.deleteRating=function(){var y=b._asyncToGenerator(function*(){yield f.unwrapOrThrow(this.portal).request(this.itemUrl+
"/deleteRating",{method:"post"})});return function(){return y.apply(this,arguments)}}();E.fetchData=function(y="json",C){return f.unwrapOrThrow(this.portal).request(this.itemUrl+"/data",{responseType:y,...C,query:{token:this.apiKey}})};E.fetchRating=function(){var y=b._asyncToGenerator(function*(C){C=yield f.unwrapOrThrow(this.portal).request(this.itemUrl+"/rating",{query:{token:this.apiKey},...C});return null!=C.rating?(C.created=new Date(C.created),new u(C)):null});return function(C){return y.apply(this,
arguments)}}();E.fetchRelatedItems=function(y,C){return f.unwrapOrThrow(this.portal).requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...y,token:this.apiKey},...C},z)};E.getThumbnailUrl=function(y){let C=this.thumbnailUrl;C&&y&&(C+=`&w=${y}`);return C};E.reload=function(){return f.unwrapOrThrow(this.portal).request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(y=>{this.sourceJSON=y;this.read(y);return this})};E.update=function(y){return this.id?this.load().then(()=>f.unwrapOrThrow(this.portal).signIn()).then(()=>
{const C=y&&y.data,D={method:"post"};D.query=this.createPostQuery();for(const J in D.query)null===D.query[J]&&(D.query[J]="");D.query.clearEmptyFields=!0;null!=C&&("string"===typeof C?D.query.text=C:"object"===typeof C&&(D.query.text=JSON.stringify(C)));return this.portal.request(`${this.userItemUrl}/update`,D).then(()=>this.reload())}):Promise.reject(new d("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};E.copy=function(){var y=b._asyncToGenerator(function*(C){if(!this.id)throw new d("portal:item-does-not-exist",
"The item does not exist yet");yield this.load();const {portal:D,itemUrl:J}=this;yield f.unwrapOrThrow(D).signIn();const {copyResources:M,folder:L,tags:I,title:G}=C||{};C={method:"post",query:{copyPrivateResources:"all"===M,folder:"string"===typeof L?L:L?.id,includeResources:!!M,tags:I?.join(","),title:G}};({itemId:C}=yield D.request(`${J}/copy`,C));return new z({id:C,portal:D})});return function(C){return y.apply(this,arguments)}}();E.updateThumbnail=function(y){return this.id?this.load().then(()=>
this.portal.signIn()).then(()=>{const C=y.thumbnail,D=y.filename,J={method:"post"};if("string"===typeof C)g.isDataProtocol(C)?J.query={data:C}:J.query={url:g.makeAbsolute(C)},f.isSome(D)&&(J.query.filename=D);else{const M=new FormData;f.isSome(D)?M.append("file",C,D):M.append("file",C);J.body=M}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,J).then(()=>this.reload())}):Promise.reject(new d("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};E.fetchResources=
function(){var y=b._asyncToGenerator(function*(C={},D){return(yield new Promise((J,M)=>a(["./support/resourceUtils"],J,M))).fetchResources(this,C,D)});return function(){return y.apply(this,arguments)}}();E.addResource=function(){var y=b._asyncToGenerator(function*(C,D,J){const M=yield new Promise((L,I)=>a(["./support/resourceUtils"],L,I));C.portalItem=this;return M.addOrUpdateResource(C,"add",D,J)});return function(C,D,J){return y.apply(this,arguments)}}();E.removeResource=function(){var y=b._asyncToGenerator(function*(C,
D){const J=yield new Promise((M,L)=>a(["./support/resourceUtils"],M,L));if(C.portalItem&&C.portalItem.itemUrl!==this.itemUrl)throw new d("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return J.removeResource(this,C,D)});return function(C,D){return y.apply(this,arguments)}}();E.removeAllResources=function(){var y=b._asyncToGenerator(function*(C){return(yield new Promise((D,J)=>a(["./support/resourceUtils"],D,J))).removeAllResources(this,
C)});return function(C){return y.apply(this,arguments)}}();E.resourceFromPath=function(y){return new q({portalItem:this,path:y})};E.toJSON=function(){var y=this.extent;y={accessInformation:this.accessInformation,categories:t.clone(this.categories),created:this.created&&this.created.getTime(),description:this.description,extent:y&&[[y.xmin,y.ymin],[y.xmax,y.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,
ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:t.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:t.clone(this.typeKeywords),url:this.url};return t.fixJson(y)};B.fromJSON=function(y){if(!y)return null;if(y.declaredClass)throw Error("JSON object is already hydrated");return new z({sourceJSON:y})};E._getPostQuery=function(){const y=this.toJSON();for(const C in y)"tags"===C&&null!==y[C]&&(y[C]=
y[C].join(", ")),"typeKeywords"===C&&null!==y[C]&&(y[C]=y[C].join(", ")),"extent"===C&&y[C]&&(y[C]=JSON.stringify(y[C]));return y};b._createClass(B,[{key:"displayName",get:function(){const y=this.type,C=this.typeKeywords||[];let D=y;"Feature Service"===y||"Feature Collection"===y?D=C.includes("Table")?"Table":C.includes("Route Layer")?"Route Layer":C.includes("Markup")?"Markup":"Feature Layer":"Image Service"===y?D=C.includes("Elevation 3D Layer")?"Elevation Layer":C.includes("Tiled Imagery")?"Tiled Imagery Layer":
"Imagery Layer":"Scene Service"===y?D="Scene Layer":"Video Service"===y?D="Video Layer":"Scene Package"===y?D="Scene Layer Package":"Stream Service"===y?D="Feature Layer":"Geoprocessing Service"===y&&this.portal&&this.portal.isPortal?D=C.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===y?D="Locator":"Geoenrichment Service"===y?D="GeoEnrichment Service":"Microsoft Powerpoint"===y?D="Microsoft PowerPoint":"GeoJson"===y?D="GeoJSON":"Globe Service"===y?D="Globe Layer":"Vector Tile Service"===
y?D="Tile Layer":"netCDF"===y?D="NetCDF":"Map Service"===y?D=C.includes("Spatiotemporal")||!C.includes("Hosted Service")&&!C.includes("Tiled")||C.includes("Relational")?"Map Image Layer":"Tile Layer":y&&y.toLowerCase().includes("add in")?D=y.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===y?D="Big Data File Share":"Compact Tile Package"===y?D="Tile Package (tpkx)":"OGCFeatureServer"===y?D="OGC Feature Layer":"web mapping application"===y&&C.includes("configurableApp")?D="Instant App":
"Insights Page"===y&&(D="Insights Report");return D}},{key:"iconUrl",get:function(){var y=this.type&&this.type.toLowerCase()||"";const C=this.typeKeywords||[];let D=!1,J=!1,M=!1,L=!1,I=!1,G=!1;0<y.indexOf("service")||"feature collection"===y||"kml"===y||"wms"===y||"wmts"===y||"wfs"===y?(D=C.includes("Hosted Service"),"feature service"===y||"feature collection"===y||"kml"===y||"wfs"===y?(J=C.includes("Table"),M=C.includes("Route Layer"),L=C.includes("Markup"),I=C.includes("Spatiotemporal"),G=C.includes("UtilityNetwork"),
y=I&&J?"spatiotemporaltable":J?"table":M?"routelayer":L?"markup":I?"spatiotemporal":D?"featureshosted":G?"utilitynetwork":"features"):y="map service"===y||"wms"===y||"wmts"===y?D||C.includes("Tiled")||"wmts"===y?"maptiles":"mapimages":"scene service"===y?C.includes("Line")?"sceneweblayerline":C.includes("3DObject")?"sceneweblayermultipatch":C.includes("Point")?"sceneweblayerpoint":C.includes("IntegratedMesh")?"sceneweblayermesh":C.includes("PointCloud")?"sceneweblayerpointcloud":C.includes("Polygon")?
"sceneweblayerpolygon":C.includes("Building")?"sceneweblayerbuilding":C.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===y?C.includes("Elevation 3D Layer")?"elevationlayer":C.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===y?"streamlayer":"video service"===y?"mediaservice":"vector tile service"===y?"vectortile":"datastore catalog service"===y?"datastorecollection":"geocoding service"===y?"geocodeservice":"geoprocessing service"===y?C.includes("Web Tool")&&
this.portal&&this.portal.isPortal?"tool":"layers":"geodata service"===y?"geodataservice":"layers"):y="web map"===y||"cityengine web scene"===y?"maps":"web scene"===y?C.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===y&&C.includes("configurableApp")?"instantapps":"web mapping application"===y||"mobile application"===y||"application"===y||"operation view"===y||"desktop application"===y?"apps":"map document"===y||"map package"===y||"published map"===y||"scene document"===
y||"globe document"===y||"basemap package"===y||"mobile basemap package"===y||"mobile map package"===y||"project package"===y||"project template"===y||"pro map"===y||"layout"===y||"layer"===y&&C.includes("ArcGIS Pro")||"explorer map"===y&&C.indexOf("Explorer Document")?"mapsgray":"service definition"===y||"csv"===y||"shapefile"===y||"cad drawing"===y||"geojson"===y||"360 vr experience"===y||"netcdf"===y||"administrative report"===y?"datafiles":"explorer add in"===y||"desktop add in"===y||"windows viewer add in"===
y||"windows viewer configuration"===y?"appsgray":"arcgis pro add in"===y||"arcgis pro configuration"===y?"addindesktop":"rule package"===y||"file geodatabase"===y||"sqlite geodatabase"===y||"csv collection"===y||"kml collection"===y||"windows mobile package"===y||"map template"===y||"desktop application template"===y||"gml"===y||"arcpad package"===y||"code sample"===y||"form"===y||"document link"===y||"earth configuration"===y||"operations dashboard add in"===y||"rules package"===y||"image"===y||
"workflow manager package"===y||"explorer map"===y&&C.includes("Explorer Mapping Application")||C.includes("Document")?"datafilesgray":"network analysis service"===y||"geoprocessing service"===y||"geodata service"===y||"geometry service"===y||"geoprocessing package"===y||"locator package"===y||"geoprocessing sample"===y||"workflow manager service"===y?"toolsgray":"layer"===y||"layer package"===y||"explorer layer"===y?"layersgray":"scene package"===y?"scenepackage":"mobile scene package"===y?"mobilescenepackage":
"tile package"===y||"compact tile package"===y?"tilepackage":"task file"===y?"taskfile":"report template"===y?"report-template":"statistical data collection"===y?"statisticaldatacollection":"insights workbook"===y?"workbook":"insights model"===y?"insightsmodel":"insights page"===y?"insightspage":"insights theme"===y?"insightstheme":"hub initiative"===y?"hubinitiative":"hubpage"===y?"hubpage":"hub event"===y?"hubevent":"hub site application"===y?"hubsite":"hub project"===y?"hubproject":"relational database connection"===
y?"relationaldatabaseconnection":"big data file share"===y?"datastorecollection":"image collection"===y?"imagecollection":"style"===y?"style":"desktop style"===y?"desktopstyle":"dashboard"===y?"dashboard":"raster function template"===y?"rasterprocessingtemplate":"vector tile package"===y?"vectortilepackage":"ortho mapping project"===y?"orthomappingproject":"ortho mapping template"===y?"orthomappingtemplate":"solution"===y?"solutions":"geopackage"===y?"geopackage":"deep learning package"===y?"deeplearningpackage":
"real time analytic"===y?"realtimeanalytics":"big data analytic"===y?"bigdataanalytics":"feed"===y?"feed":"excalibur imagery project"===y?"excaliburimageryproject":"notebook"===y?"notebook":"storymap"===y?"storymap":"survey123 add in"===y?"survey123addin":"mission"===y?"mission":"mission report"===y?"missionreport":"quickcapture project"===y?"quickcaptureproject":"pro report"===y?"proreport":"pro report template"===y?"proreporttemplate":"urban model"===y?"urbanmodel":"web experience"===y?"experiencebuilder":
"web experience template"===y?"webexperiencetemplate":"experience builder widget"===y?"experiencebuilderwidget":"experience builder widget package"===y?"experiencebuilderwidgetpackage":"workflow"===y?"workflow":"insights script"===y?"insightsscript":"kernel gateway connection"===y?"kernelgatewayconnection":"hub initiative template"===y?"hubinitiativetemplate":"storymap theme"===y?"storymaptheme":"knowledge graph"===y?"knowledgegraph":"native application"===y?"nativeapp":"native application installer"===
y?"nativeappinstaller":"link chart"===y?"linkchart":"investigation"===y?"investigation":"ogcfeatureserver"===y?"features":"pro project"===y?"proproject":"insights workbook package"===y?"insightsworkbookpackage":"apache parquet"===y?"apacheparquet":"notebook code snippets"===y||"notebook code snippet library"===y?"notebookcodesnippets":"suitability model"===y?"suitabilitymodel":"esri classifier definition"===y?"classifierdefinition":"esri classification schema"===y?"classificationschema":"insights data engineering workbook"===
y?"dataengineeringworkbook":"insights data engineering model"===y?"dataengineeringmodel":"deep learning studio project"===y?"deeplearningproject":"discussion"===y?"discussion":"allsource project"===y?"allsourceproject":"api key"===y?"apikey":"maps";return y?e.getAssetUrl("esri/images/portal/"+y+"16.png"):null}},{key:"isLayer",get:function(){return null!=this.type&&x.has(this.type)}},{key:"itemPageUrl",get:function(){const y=this.portal?.itemPageUrl;return y&&this.id?`${y}?id=${this.id}`:null}},{key:"itemUrl",
get:function(){const y=this.portal?.restUrl;return y&&this.id?`${y}/content/items/${this.id}`:null}},{key:"thumbnailUrl",get:function(){const y=this.itemUrl,C=this.thumbnail;return y&&C?this.portal?.normalizeUrl(`${y}/info/${C}?f=json`)??null:null}},{key:"userItemUrl",get:function(){const y=this.get("portal.restUrl");if(!y)return null;const C=this.owner||this.get("portal.user.username");return C?`${y}/content/users/${this.ownerFolder?`${C}/${this.ownerFolder}`:C}/items/${this.id}`:null}}]);return B}(k.JSONSupportMixin(m));
c.__decorate([l.property({type:["private","shared","org","public"]})],k.prototype,"access",void 0);c.__decorate([l.property()],k.prototype,"accessInformation",void 0);c.__decorate([l.property({type:String})],k.prototype,"apiKey",void 0);c.__decorate([l.property({json:{read:{source:"appProxies"}}})],k.prototype,"applicationProxies",void 0);c.__decorate([l.property()],k.prototype,"avgRating",void 0);c.__decorate([l.property()],k.prototype,"categories",void 0);c.__decorate([l.property({type:Date})],
k.prototype,"created",void 0);c.__decorate([l.property()],k.prototype,"culture",void 0);c.__decorate([l.property()],k.prototype,"description",void 0);c.__decorate([l.property({readOnly:!0})],k.prototype,"displayName",null);c.__decorate([l.property({type:v})],k.prototype,"extent",void 0);c.__decorate([p.reader("extent")],k.prototype,"readExtent",null);c.__decorate([l.property()],k.prototype,"groupCategories",void 0);c.__decorate([l.property({readOnly:!0})],k.prototype,"iconUrl",null);c.__decorate([l.property()],
k.prototype,"id",void 0);c.__decorate([l.property({readOnly:!0})],k.prototype,"isLayer",null);c.__decorate([l.property({type:Boolean,readOnly:!0})],k.prototype,"isOrgItem",void 0);c.__decorate([l.property()],k.prototype,"itemControl",void 0);c.__decorate([l.property({readOnly:!0})],k.prototype,"itemPageUrl",null);c.__decorate([l.property({readOnly:!0})],k.prototype,"itemUrl",null);c.__decorate([l.property()],k.prototype,"licenseInfo",void 0);c.__decorate([l.property({type:Date})],k.prototype,"modified",
void 0);c.__decorate([l.property()],k.prototype,"name",void 0);c.__decorate([l.property()],k.prototype,"numComments",void 0);c.__decorate([l.property()],k.prototype,"numRatings",void 0);c.__decorate([l.property()],k.prototype,"numViews",void 0);c.__decorate([l.property()],k.prototype,"owner",void 0);c.__decorate([l.property()],k.prototype,"ownerFolder",void 0);c.__decorate([l.property({type:h})],k.prototype,"portal",void 0);c.__decorate([l.property()],k.prototype,"screenshots",void 0);c.__decorate([l.property()],
k.prototype,"size",void 0);c.__decorate([l.property()],k.prototype,"snippet",void 0);c.__decorate([l.property()],k.prototype,"sourceJSON",void 0);c.__decorate([l.property({type:String})],k.prototype,"sourceUrl",void 0);c.__decorate([l.property({type:String})],k.prototype,"spatialReference",void 0);c.__decorate([l.property()],k.prototype,"tags",void 0);c.__decorate([l.property()],k.prototype,"thumbnail",void 0);c.__decorate([l.property({readOnly:!0})],k.prototype,"thumbnailUrl",null);c.__decorate([l.property()],
k.prototype,"title",void 0);c.__decorate([l.property()],k.prototype,"type",void 0);c.__decorate([l.property()],k.prototype,"typeKeywords",void 0);c.__decorate([l.property({type:String,json:{read(A,B){w.has(B.type)&&(B=this.portal?.restUrl,A||(A=B&&this.id?`${B}/content/items/${this.id}/data`:null));return A}}})],k.prototype,"url",void 0);c.__decorate([l.property({readOnly:!0})],k.prototype,"userItemUrl",null);return k=z=c.__decorate([n.subclass("esri.portal.PortalItem")],k)})},"esri/assets":function(){define("exports ./config ./request ./core/Error ./core/Logger ./core/urlUtils".split(" "),
function(a,b,c,e,d,k){function t(f){if(!b.assetsPath)throw m.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new e("assets:path-not-set","config.assetsPath is not set");return k.join(b.assetsPath,f)}const m=d.getLogger("esri.assets");a.fetchAsset=function(f,g){return c(t(f),g)};a.getAssetUrl=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/PortalItemResource":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){e=function(p){function n(h){h=p.call(this,h)||this;h.portalItem=null;return h}b._inheritsLoose(n,p);var v=n.prototype;v.normalizeCtorArgs=function(h){return h&&h.portalItem&&h.path?{...h,path:this._normalizePath(h.path,h.portalItem)}:h};v._castPath=function(h){return this._normalizePath(h,this.portalItem)};v.fetch=function(h="json",q){const u=this.url;if(t.isNone(u))throw new d("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");
return this.portalItem.portal.request(u,{responseType:h,query:{token:this.portalItem.apiKey},signal:t.get(q,"signal")})};v.update=function(){var h=b._asyncToGenerator(function*(q,u){return(yield new Promise((z,x)=>a(["./support/resourceUtils"],z,x))).addOrUpdateResource(this,"update",q,u)});return function(q,u){return h.apply(this,arguments)}}();v.hasPath=function(){return t.isSome(this.path)};v._normalizePath=function(h,q){if(t.isNone(h))return h;h=h.replace(/^\/+/,"");t.isSome(q)&&m.isAbsolute(h)&&
(h=m.makeRelative(h,q.itemUrl));return h?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,"")};b._createClass(n,[{key:"path",set:function(h){t.isSome(h)&&m.isAbsolute(h)?k.getLogger(this.declaredClass).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",h)}},{key:"url",get:function(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}},{key:"itemRelativeUrl",get:function(){return this.portalItem&&this.path?
`./resources/${this.path}`:null}}]);return n}(e);c.__decorate([f.property()],e.prototype,"portalItem",void 0);c.__decorate([f.property({type:String,value:null})],e.prototype,"path",null);c.__decorate([g.cast("path")],e.prototype,"_castPath",null);c.__decorate([f.property({type:String,readOnly:!0})],e.prototype,"url",null);c.__decorate([f.property({type:String,readOnly:!0})],e.prototype,"itemRelativeUrl",null);return e=c.__decorate([r.subclass("esri.portal.PortalItemResource")],e)})},"esri/portal/PortalRating":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){c=function(m){function f(g){g=m.call(this,g)||this;g.created=null;g.rating=null;return g}a._inheritsLoose(f,m);return f}(c);b.__decorate([e.property()],c.prototype,"created",void 0);b.__decorate([e.property()],c.prototype,"rating",void 0);return c=b.__decorate([t.subclass("esri.portal.PortalRating")],c)})},"esri/support/basemapDefinitions":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../assets","../intl/messages"],function(a,b,c,e){function d(){d=b._asyncToGenerator(function*(k){if(k){var t=
k.includes("-vector")?k.slice(0,k.indexOf("-vector")):k,m=yield e.fetchMessageBundle("esri/t9n/basemaps");return m[k]||m[t]}});return d.apply(this,arguments)}a.esriBasemapDefinitions={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,
visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/terrain.jpg")},
baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",
classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/oceans.jpg")},
baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",
classic:!0,deprecated:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",
title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",
classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",
visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-relief.jpg")},
baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",
classic:!0,get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",
url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",
title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-night.jpg")},
title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return c.getAssetUrl("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",
title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",
layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",
title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},
"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",
url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},
"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",
title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}};a.getBasemapTitle=function(k){return d.apply(this,arguments)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/messages":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../core/Error","../core/promiseUtils","./locale"],function(a,b,c,e,d){function k(q){for(const u of n.keys())g(q.pattern,u)&&n.delete(u)}
function t(){t=b._asyncToGenerator(function*(q){const u=d.getLocale();n.has(q)||n.set(q,m(q,u));(q=n.get(q))&&(yield v.add(q));return q});return t.apply(this,arguments)}function m(q,u){return f.apply(this,arguments)}function f(){f=b._asyncToGenerator(function*(q,u){const z=[];for(const x of p)if(g(x.pattern,q))try{return yield x.fetchMessageBundle(q,u)}catch(w){z.push(w)}if(z.length)throw new c("intl:message-bundle-error",`Errors occurred while loading "${q}"`,{errors:z});throw new c("intl:no-message-bundle-loader",
`No loader found for message bundle "${q}"`);});return f.apply(this,arguments)}function g(q,u){return"string"===typeof q?u.startsWith(q):q.test(u)}const l=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,r={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0},p=[],n=new Map;d.beforeLocaleChange(()=>
{n.clear()});const v=new (function(){function q(){this._numLoading=0;this._dfd=null}var u=q.prototype;u.waitForAll=function(){var z=b._asyncToGenerator(function*(){this._dfd&&(yield this._dfd.promise)});return function(){return z.apply(this,arguments)}}();u.add=function(z){this._increase();z.then(()=>this._decrease(),()=>this._decrease());return this.waitForAll()};u._increase=function(){this._numLoading++;this._dfd||(this._dfd=e.createDeferred())};u._decrease=function(){this._numLoading=Math.max(this._numLoading-
1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)};return q}()),h={cache:n,loaders:p};a.fetchMessageBundle=function(q){return t.apply(this,arguments)};a.normalizeMessageBundleLocale=function(q){if(!l.test(q))return null;q=l.exec(q);if(null===q)return null;const [,u,z]=q;q=u+(z?"-"+z.toUpperCase():"");return r[q]??!1?q:r[u]??!1?u:null};a.registerMessageBundleLoader=function(q){p.includes(q)||(k(q),p.unshift(q));return{remove(){const u=p.indexOf(q);-1<u&&(p.splice(u,1),k(q))}}};
a.test=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/webdoc/support/writeUtils":function(){define("exports ../../core/Error ../../core/lang ../../core/maybe ../../core/object ../../core/accessorSupport/extensions/serializableProperty/writer ../../layers/support/layerUtils".split(" "),function(a,b,c,e,d,k,t){function m(l,r){"maxScale"in l&&(r.maxScale=k.numberToJSON(l.maxScale)??void 0);"minScale"in l&&(r.minScale=k.numberToJSON(l.minScale)??void 0)}const f=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile wms wmts".split(" ")),
g=new Set("csv feature geo-rss geojson group imagery imagery-tile kml map-image map-notes media ogc-feature route subtype-group tile unknown unsupported vector-tile web-tile wfs wms wmts".split(" "));a.disableRestrictedWriting=function(l){f.add(l);g.add(l)};a.enableRestrictedWriting=function(l){f.delete(l);g.delete(l)};a.getLayerJSON=function(l,r,p){if(!("write"in l&&l.write))return p&&p.messages&&p.messages.push(new b("layer:unsupported",`Layers (${l.title}, ${l.id}) of type '${l.declaredClass}' cannot be persisted`,
{layer:l})),null;if(p.restrictedWebMapWriting){var n="basemap"===p.layerContainerType?f:"operational-layers"===p.layerContainerType?g:null;n=e.isSome(n)?n.has(l.type)&&!t.isFeatureCollectionLayer(l):!0}else n=!0;if(n)return r={},l.write(r,p)?r:null;if(e.isSome(r)){r=c.clone(r);if(p=r)t.isFeatureCollectionLayer(l)?(n=(n=d.getDeepValue("featureCollection.layers",p))&&n[0]&&n[0].layerDefinition)&&m(l,n):"stream"===l.type?(n=p.layerDefinition=p.layerDefinition||{},m(l,n)):"group"!==l.type&&m(l,p);if(p&&
("blendMode"in l&&(p.blendMode=l.blendMode,"normal"===p.blendMode&&delete p.blendMode),p.opacity=k.numberToJSON(l.opacity)??void 0,p.title=l.title||"Layer",p.visibility=l.visible,"legendEnabled"in l&&"wmts"!==l.type))if(t.isFeatureCollectionLayer(l)){if(p=p.featureCollection)p.showLegend=l.legendEnabled}else p.showLegend=l.legendEnabled}return r};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layerUtils":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers",
"../../kernel","../../request","../../core/maybe"],function(a,b,c,e,d){function k(){k=b._asyncToGenerator(function*(t,m){var f=c.id?.findServerInfo(t);if(null!=f?.currentVersion)return f.owningSystemUrl||null;f=t.toLowerCase().indexOf("/rest/services");if(-1===f)return null;t=`${t.substring(0,f)}/rest/info`;m=d.isSome(m)?m.signal:null;({data:m}=yield e(t,{query:{f:"json"},responseType:"json",signal:m}));return m?.owningSystemUrl||null});return k.apply(this,arguments)}a.getEffectiveEditingEnabled=
function(t){a:if("editingEnabled"in t)switch(t.type){case "csv":case "feature":case "geojson":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":var m=!0;break a;default:m=!1}else m=!1;return m?"effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled:!1};a.getEffectiveLayerCapabilities=function(t){a:if("capabilities"in t)switch(t.type){case "csv":case "feature":case "geojson":case "imagery":case "knowledge-graph-sublayer":case "ogc-feature":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":case "wfs":var m=
!0;break a;default:m=!1}else m=!1;return m?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null};a.getOwningPortalUrl=function(t,m){return k.apply(this,arguments)};a.getTileMaxtrixSetFromActiveLayer=function(t){if(t.activeLayer){const m=t.activeLayer.tileMatrixSet;if(m)return m;if(t=t.activeLayer.tileMatrixSets)return t}return null};a.isBaseLayer=function(t){return null!=t&&null!=t.parent&&"declaredClass"in t.parent&&"esri.Basemap"===t.parent.declaredClass&&t.parent.baseLayers.includes(t)};
a.isBasemapSupportedLayer=function(t){t=t?.type;return"imagery-tile"===t||"tile"===t||"open-street-map"===t||"vector-tile"===t||"web-tile"===t||"wmts"===t};a.isFeatureCollectionLayer=function(t){return"feature"===t?.type&&!t.url&&"memory"===t.source?.type};a.isFeatureServiceLayer=function(t){return"feature"===t?.type&&"feature-layer"===t.source?.type};a.isGroupLayer=function(t){return null!=t&&"type"in t&&"group"===t.type};a.isImageryTileLayer=function(t){return"imagery-tile"===t?.type};a.isSceneServiceLayer=
function(t){t=t?.type;return"building-scene"===t||"integrated-mesh"===t||"point-cloud"===t||"scene"===t};a.isTiledLayer=function(t){t=t?.type;return"base-tile"===t||"tile"===t||"elevation"===t||"imagery-tile"===t||"base-elevation"===t||"open-street-map"===t||"wcs"===t||"web-tile"===t||"wmts"===t||"vector-tile"===t};a.isVoxelLayer=function(t){return"voxel"===t?.type};a.sceneServiceLayerTypeToClassName={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",
Building:"BuildingSceneLayer"};a.serializeLayerDefinitions=function(t){const m=/[:;]/,f=[];let g=!1;if(t&&(t.forEach((l,r)=>{f.push([r,l]);!g&&m.test(l)&&(g=!0)}),0<f.length)){if(g){const l={};f.forEach(r=>{l[r[0]]=r[1]});t=JSON.stringify(l)}else{const l=[];f.forEach(r=>{l.push(r[0]+":"+r[1])});t=l.join(";")}return t}return null};a.serializeTimeOptions=function(t){if(t){var m=[];t.forEach((f,g)=>{m.push('"'+g+'":'+JSON.stringify(f))});if(m.length)return"{"+m.join(",")+"}"}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/Ground":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Color ./core/Collection ./core/collectionUtils ./core/compilerUtils ./core/Error ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./ground/NavigationConstraint ./views/3d/support/debugFlags ./webdoc/support/opacityUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w){function A(E){return"elevation"===E.type||E&&"createElevationSampler"in E}var B;f=B=function(E){function y(D){var J=E.call(this,D)||this;J.opacity=1;J.shading=!x.TERRAIN_USE_LEGACY_SHADING;J.surfaceColor=null;J.navigationConstraint=null;J.layers=new d;J.layers.on("after-add",M=>{M=M.item;M.parent&&M.parent!==b._assertThisInitialized(J)&&"remove"in M.parent&&M.parent.remove(M);M.parent=b._assertThisInitialized(J);"elevation"!==M.type&&"base-elevation"!==
M.type&&p.getLogger(J.declaredClass).error(`Layer '${M.title}, id:${M.id}' of type '${M.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)});J.layers.on("after-remove",M=>{M.item.parent=null});return J}b._inheritsLoose(y,E);var C=y.prototype;C.initialize=function(){this.when().catch(D=>{p.getLogger(this.declaredClass).error("#load()","Failed to load ground",D)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};
C.destroy=function(){const D=this.layers.removeAll();for(const J of D)J.destroy();this.layers.destroy()};C.normalizeCtorArgs=function(D){D&&"resourceInfo"in D&&(this._set("resourceInfo",D.resourceInfo),D={...D},delete D.resourceInfo);return D};C.writeLayers=function(D,J,M,L){const I=[];D&&(L={...L,layerContainerType:"ground"},D.forEach(G=>{if("write"in G){const K={};t.typeCast(G)().write(K,L)&&I.push(K)}else L&&L.messages&&L.messages.push(new m("layer:unsupported",`Layers (${G.title}, ${G.id}) of type '${G.declaredClass}' cannot be persisted in the ground`,
{layer:G}))}));J.layers=I};C.load=function(D){this.addResolvingPromise(this._loadFromSource(D));return Promise.resolve(this)};C.loadAll=function(){return r.loadAll(this,D=>{D(this.layers)})};C.queryElevation=function(){var D=b._asyncToGenerator(function*(J,M){yield this.load({signal:M?.signal});var {ElevationQuery:L}=yield new Promise((G,K)=>a(["./layers/support/ElevationQuery"],G,K));n.throwIfAborted(M);L=new L;const I=this.layers.filter(A).toArray();return L.queryAll(I,J,M)});return function(J,
M){return D.apply(this,arguments)}}();C.createElevationSampler=function(){var D=b._asyncToGenerator(function*(J,M){yield this.load({signal:M?.signal});var {ElevationQuery:L}=yield new Promise((G,K)=>a(["./layers/support/ElevationQuery"],G,K));n.throwIfAborted(M);L=new L;const I=this.layers.filter(A).toArray();return L.createSamplerAll(I,J,M)});return function(J,M){return D.apply(this,arguments)}}();C.clone=function(){const D={opacity:this.opacity,surfaceColor:g.clone(this.surfaceColor),navigationConstraint:g.clone(this.navigationConstraint),
layers:this.layers.slice()};this.loaded&&(D.loadStatus="loaded");return(new B({resourceInfo:this.resourceInfo})).set(D)};C.read=function(D,J){this.resourceInfo||this._set("resourceInfo",{data:D,context:J});E.prototype.read.call(this,D,J)};C._loadFromSource=function(D){const J=this.resourceInfo;return J?this._loadLayersFromJSON(J.data,J.context,D):Promise.resolve()};C._loadLayersFromJSON=function(D,J,M){const L=J&&J.origin||"web-scene",I=J&&J.portal||null,G=J&&J.url||null;return(new Promise((K,H)=>
a(["./layers/support/layersCreator"],K,H))).then(({populateOperationalLayers:K})=>{n.throwIfAborted(M);const H=[];D.layers&&Array.isArray(D.layers)&&H.push(K(this.layers,D.layers,{context:{origin:L,url:G,portal:I,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}));return n.eachAlways(H)}).then(()=>{})};b._createClass(y,[{key:"layers",set:function(D){this._set("layers",k.referenceSetter(D,this._get("layers")))}}]);return y}(f.JSONSupportMixin(l));c.__decorate([v.property({json:{read:!1}})],
f.prototype,"layers",null);c.__decorate([u.writer("layers")],f.prototype,"writeLayers",null);c.__decorate([v.property({readOnly:!0})],f.prototype,"resourceInfo",void 0);c.__decorate([v.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:h.Integer,read:{reader:w.transparencyToOpacity,source:"transparency"},write:{writer:(E,y)=>{y.transparency=w.opacityToTransparency(E)},target:"transparency"}}})],f.prototype,"opacity",void 0);c.__decorate([v.property({type:Boolean,nonNullable:!0,json:{read:!1}})],
f.prototype,"shading",void 0);c.__decorate([v.property({type:e,json:{type:[h.Integer],write:(E,y)=>{y.surfaceColor=E.toJSON().slice(0,3)}}})],f.prototype,"surfaceColor",void 0);c.__decorate([v.property({type:z.NavigationConstraint,json:{write:!0}})],f.prototype,"navigationConstraint",void 0);return f=B=c.__decorate([q.subclass("esri.Ground")],f)})},"esri/Color":function(){define(["./chunks/_rollupPluginBabelHelpers","./colorUtils","./core/mathUtils","./core/maybe","./core/accessorSupport/ensureType"],
function(a,b,c,e,d){function k(f){return c.clamp(d.ensureInteger(f),0,255)}function t(f,g,l){f=Number(f);return isNaN(f)?l:f<g?g:f>l?l:f}let m=function(){function f(l){this.b=this.g=this.r=255;this.a=1;l&&this.setColor(l)}f.blendColors=function(l,r,p,n=new f){n.r=Math.round(l.r+(r.r-l.r)*p);n.g=Math.round(l.g+(r.g-l.g)*p);n.b=Math.round(l.b+(r.b-l.b)*p);n.a=l.a+(r.a-l.a)*p;return n._sanitize()};f.fromRgb=function(l,r){var p=l.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(p){l=p[2].split(/\s*,\s*/);
p=p[1];if("rgb"===p&&3===l.length||"rgba"===p&&4===l.length)return p=l[0],"%"===p.charAt(p.length-1)?(p=l.map(n=>2.56*parseFloat(n)),4===l.length&&(p[3]=parseFloat(l[3])),f.fromArray(p,r)):f.fromArray(l.map(n=>parseFloat(n)),r);if("hsl"===p&&3===l.length||"hsla"===p&&4===l.length)return f.fromArray(b.hsla2rgba(parseFloat(l[0]),parseFloat(l[1])/100,parseFloat(l[2])/100,parseFloat(l[3])),r)}return null};f.fromHex=function(l,r=new f){if(4!==l.length&&7!==l.length||"#"!==l[0])return null;const p=4===
l.length?4:8,n=(1<<p)-1;let v=Number("0x"+l.substr(1));if(isNaN(v))return null;["b","g","r"].forEach(h=>{const q=v&n;v>>=p;r[h]=4===p?17*q:q});r.a=1;return r};f.fromArray=function(l,r=new f){r._set(Number(l[0]),Number(l[1]),Number(l[2]),Number(l[3]));isNaN(r.a)&&(r.a=1);return r._sanitize()};f.fromString=function(l,r){const p=b.isNamedColor(l)?b.getNamedColor(l):null;return p&&f.fromArray(p,r)||f.fromRgb(l,r)||f.fromHex(l,r)};f.fromJSON=function(l){return l&&new f([l[0],l[1],l[2],l[3]/255])};f.toUnitRGB=
function(l){return e.isSome(l)?[l.r/255,l.g/255,l.b/255]:null};f.toUnitRGBA=function(l){return e.isSome(l)?[l.r/255,l.g/255,l.b/255,null!=l.a?l.a:1]:null};var g=f.prototype;g.setColor=function(l){"string"===typeof l?f.fromString(l,this):Array.isArray(l)?f.fromArray(l,this):(this._set(l.r??0,l.g??0,l.b??0,l.a??1),l instanceof f||this._sanitize());return this};g.toRgb=function(){return[this.r,this.g,this.b]};g.toRgba=function(){return[this.r,this.g,this.b,this.a]};g.toHex=function(){const l=this.r.toString(16),
r=this.g.toString(16),p=this.b.toString(16);return`#${2>l.length?"0"+l:l}${2>r.length?"0"+r:r}${2>p.length?"0"+p:p}`};g.toCss=function(l=!1){const r=this.r+", "+this.g+", "+this.b;return l?`rgba(${r}, ${this.a})`:`rgb(${r})`};g.toString=function(){return this.toCss(!0)};g.toJSON=function(){return this.toArray()};g.toArray=function(l=f.AlphaMode.ALWAYS){const r=k(this.r),p=k(this.g),n=k(this.b);return l===f.AlphaMode.ALWAYS||1!==this.a?[r,p,n,k(255*this.a)]:[r,p,n]};g.clone=function(){return new f(this.toRgba())};
g.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};g.equals=function(l){return e.isSome(l)&&l.r===this.r&&l.g===this.g&&l.b===this.b&&l.a===this.a};g._sanitize=function(){this.r=Math.round(t(this.r,0,255));this.g=Math.round(t(this.g,0,255));this.b=Math.round(t(this.b,0,255));this.a=t(this.a,0,1);return this};g._set=function(l,r,p,n){this.r=l;this.g=r;this.b=p;this.a=n};a._createClass(f,[{key:"isBright",get:function(){return 127<=.299*this.r+.587*this.g+.114*this.b}}]);return f}();
m.prototype.declaredClass="esri.Color";(function(f){f=f.AlphaMode||(f.AlphaMode={});f[f.ALWAYS=0]="ALWAYS";f[f.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"})(m||(m={}));return m})},"esri/colorUtils":function(){define(["exports"],function(a){function b(d){return e[d]??e[d.toLowerCase()]}function c(d,k,t){0>t&&++t;1<t&&--t;const m=6*t;return 1>m?d+(k-d)*m:1>2*t?k:2>3*t?d+(k-d)*(2/3-t)*6:d}const e={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,
0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,
255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,
1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,
240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,
1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,
25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,
51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,
222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};a.getNamedColor=b;a.getNamedColorCopy=function(d){return[...b(d)]};a.hex2rgba=function(d){var k=5<d.length;const t=k?8:4,m=(1<<t)-1,f=k?1:17;k=k?9===d.length:5===d.length;d=Number("0x"+d.substr(1));if(isNaN(d))return null;const g=[0,0,0,1];k&&(k=d&m,d>>=t,g[3]=f*k/255);k=d&m;d>>=t;g[2]=f*k;k=d&m;d>>=t;g[1]=f*k;k=d&m;d>>=t;g[0]=f*k;return g};a.hsla2rgba=function(d,k,t,m=1){d=(d%360+360)%360/360;k=.5>=t?t*(k+1):t+k-t*k;t=2*t-k;return[Math.round(255*
c(t,k,d+1/3)),Math.round(255*c(t,k,d)),Math.round(255*c(t,k,d-1/3)),m]};a.isNamedColor=function(d){return e[d]||e[d.toLowerCase()]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/mathUtils":function(){define(["exports","./maybe","../chunks/vec3","../chunks/vec4"],function(a,b,c,e){function d(u,z,x){return Math.min(Math.max(u,z),x)}function k(u,z,x){return u+(z-u)*x}function t(u){return Math.asin(d(u,-1,1))}function m(u,z,x=1E-6){return u===z?!0:Number.isFinite(u)&&Number.isFinite(z)?
(u>z?u-z:z-u)<=x:!1}function f(u){n.setFloat64(0,u);return n.getBigInt64(0)}function g(u){n.setBigInt64(0,u);return n.getFloat64(0)}function l(u){u=Math.abs(u);var z=f(u);z=z<=v?g(v):g(z-v);return Math.abs(u-z)}function r(u){p[0]=u;return p[0]}const p=new Float32Array(1),n=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT)),v=BigInt("1000000"),h=l(1),q=r(3.4028234663852886E38);a.NUMBER_MAX_FLOAT32=q;a.acosClamped=function(u){return Math.acos(d(u,-1,1))};a.applyOpacity=function(u,z,x){return e.set(u,
z[0],z[1],z[2],z[3]*x)};a.asinClamped=t;a.cartesianToSpherical=function(u,z){const x=c.length(u),w=t(u[2]/x);c.set(z,x,w,Math.atan2(u[1]/x,u[0]/x));return z};a.clamp=d;a.clampFloat32=function(u){return r(Math.max(-q,Math.min(u,q)))};a.deg2rad=function(u){return u*Math.PI/180};a.floatEqualAbsolute=m;a.floatEqualRelative=function(u,z,x=1E-6){if(u===z)return!0;if(!Number.isFinite(u)||!Number.isFinite(z))return!1;const w=Math.abs(u-z),A=Math.abs(u),B=Math.abs(z);if(0===u||0===z||1E-12>A&&1E-12>B){if(w>
.01*x)return!1}else if(w/(A+B)>x)return!1;return!0};a.floatEqualUlp=function(u,z,x=h){if(u===z)return!0;if(!Number.isFinite(u)||!Number.isFinite(z))return!1;if(b.isSome(x)&&l(Math.min(Math.abs(u),Math.abs(z)))<x)return Math.abs(u-z)<=x;u=f(u);z=f(z);return 0>u!==0>z||(u<z?z-u:u-z)>v?!1:!0};a.hasScaling=function(u){const z=u[3]*u[3]+u[4]*u[4]+u[5]*u[5],x=u[6]*u[6]+u[7]*u[7]+u[8]*u[8];return!(m(u[0]*u[0]+u[1]*u[1]+u[2]*u[2],1)&&m(z,1)&&m(x,1))};a.isPowerOfTwo=function(u){return 0===(u&u-1)};a.lerp=
k;a.nextHighestPowerOfTen=function(u){return 10**Math.ceil(Math.LOG10E*Math.log(u))};a.nextHighestPowerOfTwo=function(u){--u;for(let z=1;32>z;z<<=1)u|=u>>z;return u+1};a.nextPowerOfTwo=function(u){u--;u|=u>>1;u|=u>>2;u|=u>>4;u|=u>>8;u|=u>>16;u++;return u};a.rad2deg=function(u){return 180*u/Math.PI};a.reciprocalClamped=function(u,z=1E-6){return(0>u?-1:1)/Math.max(Math.abs(u),z)};a.roundToNearest=function(u,z){return 0===z?0:Math.round(u/z)*z};a.scale=function(u,z,x,w,A){return k(w,A,(u-z)/(x-z))};
a.smoothstep=function(u,z,x){u=d((x-u)/(z-u),0,1);return u*u*(3-2*u)};a.sphericalToCartesian=function(u,z){const x=u[0],w=u[1];u=u[2];const A=Math.cos(w);c.set(z,x*A*Math.cos(u),x*A*Math.sin(u),x*Math.sin(w))};a.step=function(u,z){return z<u?0:1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec3":function(){define(["exports","./vec3f64","./common"],function(a,b,c){function e(da){const na=da[0],xa=da[1];da=da[2];return Math.sqrt(na*na+xa*xa+da*da)}function d(da,na){da[0]=
na[0];da[1]=na[1];da[2]=na[2];return da}function k(da,na,xa,Na){da[0]=na;da[1]=xa;da[2]=Na;return da}function t(da,na,xa){da[0]=na[0]+xa[0];da[1]=na[1]+xa[1];da[2]=na[2]+xa[2];return da}function m(da,na,xa){da[0]=na[0]-xa[0];da[1]=na[1]-xa[1];da[2]=na[2]-xa[2];return da}function f(da,na,xa){da[0]=na[0]*xa[0];da[1]=na[1]*xa[1];da[2]=na[2]*xa[2];return da}function g(da,na,xa){da[0]=na[0]/xa[0];da[1]=na[1]/xa[1];da[2]=na[2]/xa[2];return da}function l(da,na){da[0]=Math.ceil(na[0]);da[1]=Math.ceil(na[1]);
da[2]=Math.ceil(na[2]);return da}function r(da,na){da[0]=Math.floor(na[0]);da[1]=Math.floor(na[1]);da[2]=Math.floor(na[2]);return da}function p(da,na){da[0]=Math.abs(na[0]);da[1]=Math.abs(na[1]);da[2]=Math.abs(na[2]);return da}function n(da,na){da[0]=Math.sign(na[0]);da[1]=Math.sign(na[1]);da[2]=Math.sign(na[2]);return da}function v(da,na,xa){da[0]=Math.min(na[0],xa[0]);da[1]=Math.min(na[1],xa[1]);da[2]=Math.min(na[2],xa[2]);return da}function h(da,na,xa){da[0]=Math.max(na[0],xa[0]);da[1]=Math.max(na[1],
xa[1]);da[2]=Math.max(na[2],xa[2]);return da}function q(da,na){da[0]=Math.round(na[0]);da[1]=Math.round(na[1]);da[2]=Math.round(na[2]);return da}function u(da,na,xa){da[0]=na[0]*xa;da[1]=na[1]*xa;da[2]=na[2]*xa;return da}function z(da,na,xa,Na){da[0]=na[0]+xa[0]*Na;da[1]=na[1]+xa[1]*Na;da[2]=na[2]+xa[2]*Na;return da}function x(da,na){const xa=na[0]-da[0],Na=na[1]-da[1];da=na[2]-da[2];return Math.sqrt(xa*xa+Na*Na+da*da)}function w(da,na){const xa=na[0]-da[0],Na=na[1]-da[1];da=na[2]-da[2];return xa*
xa+Na*Na+da*da}function A(da){const na=da[0],xa=da[1];da=da[2];return na*na+xa*xa+da*da}function B(da,na){da[0]=-na[0];da[1]=-na[1];da[2]=-na[2];return da}function E(da,na){da[0]=1/na[0];da[1]=1/na[1];da[2]=1/na[2];return da}function y(da,na){var xa=na[0];const Na=na[1],Oa=na[2];xa=xa*xa+Na*Na+Oa*Oa;0<xa&&(xa=1/Math.sqrt(xa),da[0]=na[0]*xa,da[1]=na[1]*xa,da[2]=na[2]*xa);return da}function C(da,na){return da[0]*na[0]+da[1]*na[1]+da[2]*na[2]}function D(da,na,xa){const Na=na[0],Oa=na[1];na=na[2];const N=
xa[0],S=xa[1];xa=xa[2];da[0]=Oa*xa-na*S;da[1]=na*N-Na*xa;da[2]=Na*S-Oa*N;return da}function J(da,na,xa,Na){const Oa=na[0],N=na[1];na=na[2];da[0]=Oa+Na*(xa[0]-Oa);da[1]=N+Na*(xa[1]-N);da[2]=na+Na*(xa[2]-na);return da}function M(da,na,xa,Na,Oa,N){const S=N*N,ja=S*(2*N-3)+1,wa=S*(N-2)+N,Ia=S*(N-1);N=S*(3-2*N);da[0]=na[0]*ja+xa[0]*wa+Na[0]*Ia+Oa[0]*N;da[1]=na[1]*ja+xa[1]*wa+Na[1]*Ia+Oa[1]*N;da[2]=na[2]*ja+xa[2]*wa+Na[2]*Ia+Oa[2]*N;return da}function L(da,na,xa,Na,Oa,N){var S=1-N,ja=S*S;const wa=N*N,Ia=
ja*S;ja*=3*N;S*=3*wa;N*=wa;da[0]=na[0]*Ia+xa[0]*ja+Na[0]*S+Oa[0]*N;da[1]=na[1]*Ia+xa[1]*ja+Na[1]*S+Oa[1]*N;da[2]=na[2]*Ia+xa[2]*ja+Na[2]*S+Oa[2]*N;return da}function I(da,na){na=na||1;var xa=c.RANDOM;const Na=2*xa()*Math.PI;xa=2*xa()-1;const Oa=Math.sqrt(1-xa*xa)*na;da[0]=Math.cos(Na)*Oa;da[1]=Math.sin(Na)*Oa;da[2]=xa*na;return da}function G(da,na,xa){const Na=na[0],Oa=na[1];na=na[2];da[0]=xa[0]*Na+xa[4]*Oa+xa[8]*na+xa[12];da[1]=xa[1]*Na+xa[5]*Oa+xa[9]*na+xa[13];da[2]=xa[2]*Na+xa[6]*Oa+xa[10]*na+
xa[14];return da}function K(da,na,xa){const Na=na[0],Oa=na[1];na=na[2];da[0]=Na*xa[0]+Oa*xa[3]+na*xa[6];da[1]=Na*xa[1]+Oa*xa[4]+na*xa[7];da[2]=Na*xa[2]+Oa*xa[5]+na*xa[8];return da}function H(da,na,xa){const Na=xa[0],Oa=xa[1],N=xa[2],S=na[0],ja=na[1];na=na[2];let wa=Oa*na-N*ja,Ia=N*S-Na*na,V=Na*ja-Oa*S;xa=2*xa[3];da[0]=S+wa*xa+2*(Oa*V-N*Ia);da[1]=ja+Ia*xa+2*(N*wa-Na*V);da[2]=na+V*xa+2*(Na*Ia-Oa*wa);return da}function O(da,na,xa,Na){const Oa=[],N=[];Oa[0]=na[0]-xa[0];Oa[1]=na[1]-xa[1];Oa[2]=na[2]-xa[2];
N[0]=Oa[0];N[1]=Oa[1]*Math.cos(Na)-Oa[2]*Math.sin(Na);N[2]=Oa[1]*Math.sin(Na)+Oa[2]*Math.cos(Na);da[0]=N[0]+xa[0];da[1]=N[1]+xa[1];da[2]=N[2]+xa[2];return da}function Q(da,na,xa,Na){const Oa=[],N=[];Oa[0]=na[0]-xa[0];Oa[1]=na[1]-xa[1];Oa[2]=na[2]-xa[2];N[0]=Oa[2]*Math.sin(Na)+Oa[0]*Math.cos(Na);N[1]=Oa[1];N[2]=Oa[2]*Math.cos(Na)-Oa[0]*Math.sin(Na);da[0]=N[0]+xa[0];da[1]=N[1]+xa[1];da[2]=N[2]+xa[2];return da}function W(da,na,xa,Na){const Oa=[],N=[];Oa[0]=na[0]-xa[0];Oa[1]=na[1]-xa[1];Oa[2]=na[2]-xa[2];
N[0]=Oa[0]*Math.cos(Na)-Oa[1]*Math.sin(Na);N[1]=Oa[0]*Math.sin(Na)+Oa[1]*Math.cos(Na);N[2]=Oa[2];da[0]=N[0]+xa[0];da[1]=N[1]+xa[1];da[2]=N[2]+xa[2];return da}function T(da,na){d(Ga,da);d(Ha,na);y(Ga,Ga);y(Ha,Ha);da=C(Ga,Ha);return 1<da?0:-1>da?Math.PI:Math.acos(da)}function Y(da){return"vec3("+da[0]+", "+da[1]+", "+da[2]+")"}function X(da,na){return da[0]===na[0]&&da[1]===na[1]&&da[2]===na[2]}function ra(da,na){if(da===na)return!0;const xa=da[0],Na=da[1];da=da[2];const Oa=na[0],N=na[1];na=na[2];const S=
c.getEpsilon();return Math.abs(xa-Oa)<=S*Math.max(1,Math.abs(xa),Math.abs(Oa))&&Math.abs(Na-N)<=S*Math.max(1,Math.abs(Na),Math.abs(N))&&Math.abs(da-na)<=S*Math.max(1,Math.abs(da),Math.abs(na))}function Ba(da,na,xa){const Na=xa[0]-na[0],Oa=xa[1]-na[1];na=xa[2]-na[2];xa=Na*Na+Oa*Oa+na*na;if(0<xa)return xa=1/Math.sqrt(xa),da[0]=Na*xa,da[1]=Oa*xa,da[2]=na*xa,da;da[0]=0;da[1]=0;da[2]=0;return da}const Ga=b.create(),Ha=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,abs:p,add:t,angle:T,
bezier:L,ceil:l,copy:d,cross:D,direction:Ba,dist:x,distance:x,div:g,divide:g,dot:C,equals:ra,exactEquals:X,floor:r,hermite:M,inverse:E,len:e,length:e,lerp:J,max:h,min:v,mul:f,multiply:f,negate:B,normalize:y,random:I,rotateX:O,rotateY:Q,rotateZ:W,round:q,scale:u,scaleAndAdd:z,set:k,sign:n,sqrDist:w,sqrLen:A,squaredDistance:w,squaredLength:A,str:Y,sub:m,subtract:m,transformMat3:K,transformMat4:G,transformQuat:H},Symbol.toStringTag,{value:"Module"}));a.abs=p;a.add=t;a.angle=T;a.bezier=L;a.ceil=l;a.copy=
d;a.cross=D;a.direction=Ba;a.dist=x;a.distance=x;a.div=g;a.divide=g;a.dot=C;a.equals=ra;a.exactEquals=X;a.floor=r;a.hermite=M;a.inverse=E;a.len=e;a.length=e;a.lerp=J;a.max=h;a.min=v;a.mul=f;a.multiply=f;a.negate=B;a.normalize=y;a.random=I;a.rotateX=O;a.rotateY=Q;a.rotateZ=W;a.round=q;a.scale=u;a.scaleAndAdd=z;a.set=k;a.sign=n;a.sqrDist=w;a.sqrLen=A;a.squaredDistance=w;a.squaredLength=A;a.str=Y;a.sub=m;a.subtract=m;a.transformMat3=K;a.transformMat4=G;a.transformQuat=H;a.vec3=b})},"esri/chunks/vec3f64":function(){define(["exports"],
function(a){function b(){return[0,0,0]}function c(u){return[u[0],u[1],u[2]]}function e(u,z,x){return[u,z,x]}function d(u){const z=b(),x=Math.min(3,u.length);for(let w=0;w<x;++w)z[w]=u[w];return z}function k(u,z){return new Float64Array(u,z,3)}function t(){return b()}function m(){return[1,1,1]}function f(){return[1,0,0]}function g(){return[0,1,0]}function l(){return[0,0,1]}const r=b(),p=m(),n=f(),v=g(),h=l(),q=Object.freeze(Object.defineProperty({__proto__:null,ONES:p,UNIT_X:n,UNIT_Y:v,UNIT_Z:h,ZEROS:r,
clone:c,create:b,createView:k,fromArray:d,fromValues:e,ones:m,unitX:f,unitY:g,unitZ:l,zeros:t},Symbol.toStringTag,{value:"Module"}));a.ONES=p;a.UNIT_X=n;a.UNIT_Y=v;a.UNIT_Z=h;a.ZEROS=r;a.clone=c;a.create=b;a.createView=k;a.fromArray=d;a.fromValues=e;a.ones=m;a.unitX=f;a.unitY=g;a.unitZ=l;a.vec3f64=q;a.zeros=t})},"esri/chunks/common":function(){define(["exports"],function(a){function b(){return t}function c(r){t=r}function e(r){return r*f}function d(r){return r*g}function k(r,p){return Math.abs(r-
p)<=t*Math.max(1,Math.abs(r),Math.abs(p))}let t=1E-6;const m=Math.random,f=Math.PI/180,g=180/Math.PI,l=Object.freeze(Object.defineProperty({__proto__:null,RANDOM:m,equals:k,getEpsilon:b,setEpsilon:c,toDegree:d,toRadian:e},Symbol.toStringTag,{value:"Module"}));a.RANDOM=m;a.common=l;a.equals=k;a.getEpsilon=b;a.setEpsilon=c;a.toDegree=d;a.toRadian=e})},"esri/chunks/vec4":function(){define(["exports","./common"],function(a,b){function c(G,K){G[0]=K[0];G[1]=K[1];G[2]=K[2];G[3]=K[3];return G}function e(G,
K,H,O,Q){G[0]=K;G[1]=H;G[2]=O;G[3]=Q;return G}function d(G,K,H){G[0]=K[0]+H[0];G[1]=K[1]+H[1];G[2]=K[2]+H[2];G[3]=K[3]+H[3];return G}function k(G,K,H){G[0]=K[0]-H[0];G[1]=K[1]-H[1];G[2]=K[2]-H[2];G[3]=K[3]-H[3];return G}function t(G,K,H){G[0]=K[0]*H[0];G[1]=K[1]*H[1];G[2]=K[2]*H[2];G[3]=K[3]*H[3];return G}function m(G,K,H){G[0]=K[0]/H[0];G[1]=K[1]/H[1];G[2]=K[2]/H[2];G[3]=K[3]/H[3];return G}function f(G,K){G[0]=Math.ceil(K[0]);G[1]=Math.ceil(K[1]);G[2]=Math.ceil(K[2]);G[3]=Math.ceil(K[3]);return G}
function g(G,K){G[0]=Math.floor(K[0]);G[1]=Math.floor(K[1]);G[2]=Math.floor(K[2]);G[3]=Math.floor(K[3]);return G}function l(G,K,H){G[0]=Math.min(K[0],H[0]);G[1]=Math.min(K[1],H[1]);G[2]=Math.min(K[2],H[2]);G[3]=Math.min(K[3],H[3]);return G}function r(G,K,H){G[0]=Math.max(K[0],H[0]);G[1]=Math.max(K[1],H[1]);G[2]=Math.max(K[2],H[2]);G[3]=Math.max(K[3],H[3]);return G}function p(G,K){G[0]=Math.round(K[0]);G[1]=Math.round(K[1]);G[2]=Math.round(K[2]);G[3]=Math.round(K[3]);return G}function n(G,K,H){G[0]=
K[0]*H;G[1]=K[1]*H;G[2]=K[2]*H;G[3]=K[3]*H;return G}function v(G,K,H,O){G[0]=K[0]+H[0]*O;G[1]=K[1]+H[1]*O;G[2]=K[2]+H[2]*O;G[3]=K[3]+H[3]*O;return G}function h(G,K){const H=K[0]-G[0],O=K[1]-G[1],Q=K[2]-G[2];G=K[3]-G[3];return Math.sqrt(H*H+O*O+Q*Q+G*G)}function q(G,K){const H=K[0]-G[0],O=K[1]-G[1],Q=K[2]-G[2];G=K[3]-G[3];return H*H+O*O+Q*Q+G*G}function u(G){const K=G[0],H=G[1],O=G[2];G=G[3];return Math.sqrt(K*K+H*H+O*O+G*G)}function z(G){const K=G[0],H=G[1],O=G[2];G=G[3];return K*K+H*H+O*O+G*G}function x(G,
K){G[0]=-K[0];G[1]=-K[1];G[2]=-K[2];G[3]=-K[3];return G}function w(G,K){G[0]=1/K[0];G[1]=1/K[1];G[2]=1/K[2];G[3]=1/K[3];return G}function A(G,K){const H=K[0],O=K[1],Q=K[2];K=K[3];let W=H*H+O*O+Q*Q+K*K;0<W&&(W=1/Math.sqrt(W),G[0]=H*W,G[1]=O*W,G[2]=Q*W,G[3]=K*W);return G}function B(G,K){return G[0]*K[0]+G[1]*K[1]+G[2]*K[2]+G[3]*K[3]}function E(G,K,H,O){const Q=K[0],W=K[1],T=K[2];K=K[3];G[0]=Q+O*(H[0]-Q);G[1]=W+O*(H[1]-W);G[2]=T+O*(H[2]-T);G[3]=K+O*(H[3]-K);return G}function y(G,K){var H=b.RANDOM;K=
K||1;let O,Q,W,T,Y,X;do O=2*H()-1,Q=2*H()-1,Y=O*O+Q*Q;while(1<=Y);do W=2*H()-1,T=2*H()-1,X=W*W+T*T;while(1<=X);H=Math.sqrt((1-Y)/X);G[0]=K*O;G[1]=K*Q;G[2]=K*W*H;G[3]=K*T*H;return G}function C(G,K,H){const O=K[0],Q=K[1],W=K[2];K=K[3];G[0]=H[0]*O+H[4]*Q+H[8]*W+H[12]*K;G[1]=H[1]*O+H[5]*Q+H[9]*W+H[13]*K;G[2]=H[2]*O+H[6]*Q+H[10]*W+H[14]*K;G[3]=H[3]*O+H[7]*Q+H[11]*W+H[15]*K;return G}function D(G,K,H){var O=K[0];const Q=K[1],W=K[2],T=H[0],Y=H[1],X=H[2];H=H[3];const ra=H*O+Y*W-X*Q,Ba=H*Q+X*O-T*W,Ga=H*W+T*
Q-Y*O;O=-T*O-Y*Q-X*W;G[0]=ra*H+O*-T+Ba*-X-Ga*-Y;G[1]=Ba*H+O*-Y+Ga*-T-ra*-X;G[2]=Ga*H+O*-X+ra*-Y-Ba*-T;G[3]=K[3];return G}function J(G){return"vec4("+G[0]+", "+G[1]+", "+G[2]+", "+G[3]+")"}function M(G,K){return G[0]===K[0]&&G[1]===K[1]&&G[2]===K[2]&&G[3]===K[3]}function L(G,K){const H=G[0],O=G[1],Q=G[2];G=G[3];const W=K[0],T=K[1],Y=K[2];K=K[3];const X=b.getEpsilon();return Math.abs(H-W)<=X*Math.max(1,Math.abs(H),Math.abs(W))&&Math.abs(O-T)<=X*Math.max(1,Math.abs(O),Math.abs(T))&&Math.abs(Q-Y)<=X*
Math.max(1,Math.abs(Q),Math.abs(Y))&&Math.abs(G-K)<=X*Math.max(1,Math.abs(G),Math.abs(K))}const I=Object.freeze(Object.defineProperty({__proto__:null,add:d,ceil:f,copy:c,dist:h,distance:h,div:m,divide:m,dot:B,equals:L,exactEquals:M,floor:g,inverse:w,len:u,length:u,lerp:E,max:r,min:l,mul:t,multiply:t,negate:x,normalize:A,random:y,round:p,scale:n,scaleAndAdd:v,set:e,sqrDist:q,sqrLen:z,squaredDistance:q,squaredLength:z,str:J,sub:k,subtract:k,transformMat4:C,transformQuat:D},Symbol.toStringTag,{value:"Module"}));
a.add=d;a.ceil=f;a.copy=c;a.dist=h;a.distance=h;a.div=m;a.divide=m;a.dot=B;a.equals=L;a.exactEquals=M;a.floor=g;a.inverse=w;a.len=u;a.length=u;a.lerp=E;a.max=r;a.min=l;a.mul=t;a.multiply=t;a.negate=x;a.normalize=A;a.random=y;a.round=p;a.scale=n;a.scaleAndAdd=v;a.set=e;a.sqrDist=q;a.sqrLen=z;a.squaredDistance=q;a.squaredLength=z;a.str=J;a.sub=k;a.subtract=k;a.transformMat4=C;a.transformQuat=D;a.vec4=I})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(a,b){a.neverReached=function(c){};
a.neverReachedSilent=function(c){};a.typeCast=function(c){return()=>c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/ground/NavigationConstraint":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/Error ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t,m,f,g,l){var r;
a.NavigationConstraint=r=function(p){function n(v){v=p.call(this,v)||this;v.type="none";return v}b._inheritsLoose(n,p);n.prototype.clone=function(){return new r({type:this.type})};return n}(e.JSONSupport);c.__decorate([g.enumeration({none:"none",stayAbove:"stay-above"})],a.NavigationConstraint.prototype,"type",void 0);a.NavigationConstraint=r=c.__decorate([l.subclass("esri.ground.NavigationConstraint")],a.NavigationConstraint);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports",
"../../jsonMap","./property"],function(a,b,c){a.enumeration=function(e,d={}){e=e instanceof b.JSONMap?e:new b.JSONMap(e,d);e={type:d?.ignoreUnknown??!0?e.apiValues:String,json:{type:e.jsonValues,read:d?.readOnly?!1:{reader:e.read},write:{writer:e.write}}};void 0!==d?.readOnly&&(e.readOnly=!!d.readOnly);void 0!==d?.default&&(e.json.default=d.default);void 0!==d?.name&&(e.json.name=d.name);void 0!==d?.nonNullable&&(e.nonNullable=d.nonNullable);return c.property(e)};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/views/3d/support/debugFlags":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t){c=function(m){function f(){var g=m.apply(this,arguments)||this;g.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1;g.DECONFLICTOR_SHOW_VISIBLE=
!1;g.DECONFLICTOR_SHOW_INVISIBLE=!1;g.DECONFLICTOR_SHOW_GRID=!1;g.LABELS_SHOW_BORDER=!1;g.TEXT_SHOW_BASELINE=!1;g.TEXT_SHOW_BORDER=!1;g.OVERLAY_DRAW_DEBUG_TEXTURE=!1;g.OVERLAY_SHOW_CENTER=!1;g.SHOW_POI=!1;g.TESTS_DISABLE_OPTIMIZATIONS=!1;g.TESTS_DISABLE_FAST_UPDATES=!1;g.DRAW_MESH_GEOMETRY_NORMALS=!1;g.FEATURE_TILE_FETCH_SHOW_TILES=!1;g.FEATURE_TILE_TREE_SHOW_TILES=!1;g.TERRAIN_TILE_TREE_SHOW_TILES=!1;g.I3S_TREE_SHOW_TILES=!1;g.I3S_SHOW_MODIFICATIONS=!1;g.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1;
g.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1;g.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1;g.LINE_WIREFRAMES=!1;g.TERRAIN_USE_LEGACY_SHADING=!1;return g}a._inheritsLoose(f,m);return f}(c);b.__decorate([e.property()],c.prototype,"SCENEVIEW_HITTEST_RETURN_INTERSECTOR",void 0);b.__decorate([e.property()],c.prototype,"DECONFLICTOR_SHOW_VISIBLE",void 0);b.__decorate([e.property()],c.prototype,"DECONFLICTOR_SHOW_INVISIBLE",void 0);b.__decorate([e.property()],c.prototype,"DECONFLICTOR_SHOW_GRID",void 0);b.__decorate([e.property()],
c.prototype,"LABELS_SHOW_BORDER",void 0);b.__decorate([e.property()],c.prototype,"TEXT_SHOW_BASELINE",void 0);b.__decorate([e.property()],c.prototype,"TEXT_SHOW_BORDER",void 0);b.__decorate([e.property()],c.prototype,"OVERLAY_DRAW_DEBUG_TEXTURE",void 0);b.__decorate([e.property()],c.prototype,"OVERLAY_SHOW_CENTER",void 0);b.__decorate([e.property()],c.prototype,"SHOW_POI",void 0);b.__decorate([e.property()],c.prototype,"TESTS_DISABLE_OPTIMIZATIONS",void 0);b.__decorate([e.property()],c.prototype,
"TESTS_DISABLE_FAST_UPDATES",void 0);b.__decorate([e.property()],c.prototype,"DRAW_MESH_GEOMETRY_NORMALS",void 0);b.__decorate([e.property()],c.prototype,"FEATURE_TILE_FETCH_SHOW_TILES",void 0);b.__decorate([e.property()],c.prototype,"FEATURE_TILE_TREE_SHOW_TILES",void 0);b.__decorate([e.property()],c.prototype,"TERRAIN_TILE_TREE_SHOW_TILES",void 0);b.__decorate([e.property()],c.prototype,"I3S_TREE_SHOW_TILES",void 0);b.__decorate([e.property()],c.prototype,"I3S_SHOW_MODIFICATIONS",void 0);b.__decorate([e.property()],
c.prototype,"LOD_INSTANCE_RENDERER_DISABLE_UPDATES",void 0);b.__decorate([e.property()],c.prototype,"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL",void 0);b.__decorate([e.property()],c.prototype,"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES",void 0);b.__decorate([e.property()],c.prototype,"LINE_WIREFRAMES",void 0);b.__decorate([e.property()],c.prototype,"TERRAIN_USE_LEGACY_SHADING",void 0);c=b.__decorate([t.subclass("esri.views.3d.support.DebugFlags")],c);return new c})},"esri/webdoc/support/opacityUtils":function(){define(["exports",
"../../core/accessorSupport/ensureType"],function(a,b){a.opacityToTransparency=function(c){c=b.ensureInteger(100*(1-c));return Math.max(0,Math.min(c,100))};a.transparencyToOpacity=function(c){return Math.max(0,Math.min(1-c/100,1))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/CollectionFlattener":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Collection ./maybe ./has ./Error ./Logger ./accessorSupport/watch ./accessorSupport/trackingUtils ./accessorSupport/decorators/property ./accessorSupport/ensureType ./arrayUtils ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p){d=function(n){function v(q){q=n.call(this,q)||this;q.getCollections=null;return q}a._inheritsLoose(v,n);var h=v.prototype;h.initialize=function(){this.own(f.autorun(()=>this._refresh()))};h.destroy=function(){this.getCollections=null};h._refresh=function(){const q=e.isSome(this.getCollections)?this.getCollections():null;if(e.isNone(q))this.removeAll();else{var u=0;for(const z of q)e.isSome(z)&&(u=this._processCollection(u,z));this.splice(u,this.length)}};h._createNewInstance=
function(q){return new c(q)};h._processCollection=function(q,u){if(!u)return q;const z=this.itemFilterFunction?this.itemFilterFunction:x=>!!x;for(const x of u)if(x&&(z(x)&&(u=this.indexOf(x,q),0<=u?u!==q&&this.reorder(x,q):this.add(x,q),++q),this.getChildrenFunction))if(u=this.getChildrenFunction(x),Array.isArray(u))for(const w of u)q=this._processCollection(q,w);else q=this._processCollection(q,u);return q};return v}(c);b.__decorate([g.property()],d.prototype,"getCollections",void 0);b.__decorate([g.property()],
d.prototype,"getChildrenFunction",void 0);b.__decorate([g.property()],d.prototype,"itemFilterFunction",void 0);return d=b.__decorate([p.subclass("esri.core.CollectionFlattener")],d)})},"esri/layers/support/editableLayers":function(){define(["exports","./layerUtils"],function(a,b){a.isEditableLayer=function(c){return!(!c?.loaded||!b.getEffectiveLayerCapabilities(c)?.operations?.supportsEditing||"editingEnabled"in c&&!b.getEffectiveEditingEnabled(c))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/support/basemapUtils":function(){define("exports ../Basemap ../config ../core/Collection ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/ensureType ./basemapDefinitions".split(" "),function(a,b,c,e,d,k,t,m,f){function g(y,C){let D;if("string"===typeof y){if(!(y in f.esriBasemapDefinitions))return C=Object.entries(f.esriBasemapDefinitions).filter(([,J])=>c.apiKey&&!J.classic||!c.apiKey&&J.classic&&!J.deprecated).map(([J])=>`"${J}"`).join(", "),B.warn(`Unable to find basemap definition for: ${y}. Try one of these: ${C}`),
null;C&&(D=C[y]);D||(D=b.fromId(y),C&&(C[y]=D))}else D=m.ensureType(b,y);D?.destroyed&&(B.warn("The provided basemap is already destroyed",{basemap:D}),D=null);return D}function l(y,C){const D=new e;y.forEach(J=>{const M=C.find(L=>w(h(J),h(L)))||J;D.includes(M)?D.push(J):D.push(M)});return D}function r(y){if(p(y.url))return!0;if("vector-tile"===y.type)for(const C in y.sourceNameToSource)if(p(y.sourceNameToSource[C]?.sourceUrl))return!0;return!1}function p(y){if(!y)return!1;y=new t.Url(t.makeAbsolute(y));
return!!y.authority&&E.test(y.authority)}function n(y){return y?!y.loaded&&y.resourceInfo?q(y.resourceInfo.data):{baseLayers:v(y.baseLayers),referenceLayers:v(y.referenceLayers)}:null}function v(y){return(e.isCollection(y)?y.toArray():y).map(h)}function h(y){return{type:y.type,url:A("urlTemplate"in y&&y.urlTemplate||y.url||"styleUrl"in y&&y.styleUrl||""),minScale:"minScale"in y&&null!=y.minScale?y.minScale:0,maxScale:"maxScale"in y&&null!=y.maxScale?y.maxScale:0,opacity:null!=y.opacity?y.opacity:
1,visible:null!=y.visible?!!y.visible:!0,sublayers:"map-image"!==y.type&&"wms"!==y.type||!k.isSome(y.sublayers)?void 0:y.sublayers?.map(C=>({id:C.id,visible:C.visible})),activeLayerId:"wmts"===y.type?y.activeLayer?.id:void 0}}function q(y){return y?{baseLayers:u((y.baseMapLayers??[]).filter(C=>!C.isReference)),referenceLayers:u((y.baseMapLayers??[]).filter(C=>C.isReference))}:null}function u(y){return y.map(C=>{let D;switch(C.layerType){case "VectorTileLayer":D="vector-tile";break;case "ArcGISTiledMapServiceLayer":D=
"tile";break;default:D="unknown"}return{type:D,url:A(C.templateUrl||C.urlTemplate||C.styleUrl||C.url),minScale:null!=C.minScale?C.minScale:0,maxScale:null!=C.maxScale?C.maxScale:0,opacity:null!=C.opacity?C.opacity:1,visible:null!=C.visibility?!!C.visibility:!0,sublayers:void 0,activeLayerId:void 0}})}function z(y,C,D){return null!=y!==(null!=C)?"not-equal":y&&C?x(y.baseLayers,C.baseLayers)?x(y.referenceLayers,C.referenceLayers)?"equal":D.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":
"equal"}function x(y,C){if(y.length!==C.length)return!1;for(let D=0;D<y.length;D++)if(!w(y[D],C[D]))return!1;return!0}function w(y,C){if(y.type!==C.type||"scene"===y.type||y.url!==C.url||y.minScale!==C.minScale||y.maxScale!==C.maxScale||y.visible!==C.visible||y.opacity!==C.opacity)return!1;if(k.isSome(y.activeLayerId)||k.isSome(C.activeLayerId))return y.activeLayerId===C.activeLayerId;if(k.isSome(y.sublayers)||k.isSome(C.sublayers)){if(k.isNone(y.sublayers)||k.isNone(C.sublayers)||y.sublayers.length!==
C.sublayers.length)return!1;for(let D=0;D<y.sublayers.length;D++){const J=y.sublayers.at(D),M=C.sublayers.at(D);if(J?.id!==M?.id||J?.visible!==M?.visible)return!1}}return!0}function A(y){return y?t.normalize(y).replace(/^\s*https?:/i,"").toLowerCase():""}const B=d.getLogger("esri.support.basemapUtils"),E=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;a.clonePreservingTiledLayers=function(y,C=null){y=g(y);if(!y)return null;const D=new b({id:y.id,title:y.title,baseLayers:y.baseLayers.slice(),referenceLayers:y.referenceLayers.slice()});
C&&(D.baseLayers=l(D.baseLayers,C.baseLayers),D.referenceLayers=l(D.referenceLayers,C.referenceLayers));D.load().catch(()=>{});D.portalItem=y.portalItem;return D};a.contentEquals=function(y,C){if(y===C)return!0;y=n(y);C=n(C);return"equal"===z(y,C,{mustMatchReferences:!0})};a.createCache=function(){return{}};a.destroyCache=function(y){for(const C in y){const D=y[C];!1===D?.destroyed&&D.destroy();delete y[C]}};a.ensureType=g;a.findSpatialReference=function(y,C){if(k.isNone(C)||k.isNone(y))return{spatialReference:null,
updating:!1};if("not-loaded"===C.loadStatus)return C.load(),{spatialReference:null,updating:!0};if(C.spatialReference)return{spatialReference:C.spatialReference,updating:!1};if(0===C.baseLayers.length)return{spatialReference:null,updating:!1};C=C.baseLayers.getItemAt(0);switch(C.loadStatus){case "not-loaded":C.load();case "loading":return{spatialReference:null,updating:!0};case "failed":return{spatialReference:null,updating:!1}}C=(("supportedSpatialReferences"in C?C.supportedSpatialReferences:null)||
["tileInfo"in C?C.tileInfo?.spatialReference:C.spatialReference]).filter(Boolean);const D=y.spatialReference;return D?{spatialReference:C.find(J=>D.equals(J))??C[0]??null,updating:!1}:{spatialReference:C[0],updating:!1}};a.getWellKnownBasemapId=function(y){let C=null;y=n(y);const D=!y?.baseLayers.length;for(const M in f.esriBasemapDefinitions){var J=q(f.esriBasemapDefinitions[M]);J=z(y,J,{mustMatchReferences:D});if("equal"===J){C=M;break}"base-layers-equal"===J&&(C=M)}return C};a.hasDeveloperBasemapLayer=
function(y){return!!y?.baseLayers.concat(y.referenceLayers).some(r)};a.isDeveloperBasemapLayer=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/collectionUtils":function(){define(["exports","../core/CollectionFlattener"],function(a,b){a.createFlattenedTablesCollection=function(c){return new b({getCollections:()=>[c.tables,c.layers],getChildrenFunction:e=>{const d=[];"tables"in e&&d.push(e.tables);"layers"in e&&d.push(e.layers);return d},itemFilterFunction:e=>{const d=
e.parent;return!!d&&"tables"in d&&d.tables.includes(e)}})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/groundUtils":function(){define(["exports","../Ground","../core/Logger","../core/accessorSupport/ensureType"],function(a,b,c,e){const d={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",
layerType:"ArcGISTiledElevationServiceLayer"}};a.ensureType=function(k){let t=null;"string"===typeof k?k in d?t=new b({resourceInfo:{data:{layers:[d[k]]}}}):c.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${k}. Try "world-elevation"`):t=e.ensureType(b,k);return t};a.groundElevationLayers=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/LayersMixin":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass ../layers/Layer".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){function p(n,v,h){if(n)for(let u=0,z=n.length;u<z;u++){var q=n.getItemAt(u);if(q[v]===h||"group"===q?.type&&(q=p(q.layers,v,h)))return q}}a.LayersMixin=n=>{n=function(v){function h(...u){var z=v.call(this,...u)||this;z.layers=new e;z.layers.on("before-add",x=>{x=x.item;x.parent&&"remove"in x.parent&&x.parent.remove(x)});z.layers.on("after-add",x=>{x=x.item;x.parent=b._assertThisInitialized(z);z.layerAdded(x);"elevation"!==x.type&&"base-elevation"!==x.type||k.getLogger(z.declaredClass).error(`Layer 'title:${x.title}, id:${x.id}' of type '${x.type}' is not supported as an operational layer and will therefore be ignored.`)});
z.layers.on("after-remove",x=>{x=x.item;x.parent=null;z.layerRemoved(x)});return z}b._inheritsLoose(h,v);var q=h.prototype;q.destroy=function(){const u=this.layers.removeAll();for(const z of u)this.layerRemoved(z),z.destroy();this.layers.destroy()};q.add=function(u,z){const x=this.layers;z=x.getNextIndex(z);u instanceof r?u.parent===this?this.reorder(u,z):x.add(u,z):t.isPromiseLike(u)?u.then(w=>{this.destroyed||this.add(w,z)}):k.getLogger(this.declaredClass).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")};
q.addMany=function(u,z){const x=this.layers;let w=x.getNextIndex(z);u.slice().forEach(A=>{A.parent===this?this.reorder(A,w):(x.add(A,w),w+=1)})};q.findLayerById=function(u){return p(this.layers,"id",u)};q.findLayerByUid=function(u){return p(this.layers,"uid",u)};q.remove=function(u){return this.layers.remove(u)};q.removeMany=function(u){return this.layers.removeMany(u)};q.removeAll=function(){return this.layers.removeAll()};q.reorder=function(u,z){return this.layers.reorder(u,z)};q.layerAdded=function(u){};
q.layerRemoved=function(u){};b._createClass(h,[{key:"layers",set:function(u){this._set("layers",d.referenceSetter(u,this._get("layers")))}}]);return h}(n);c.__decorate([m.property()],n.prototype,"layers",null);return n=c.__decorate([l.subclass("esri.support.LayersMixin")],n)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/Layer":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../geometry ../request ../core/Error ../core/Evented ../core/Identifiable ../core/Loadable ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass ./support/fromPortalItem ../geometry/Extent ../geometry/SpatialReference".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z){let x=0;e=function(w){function A(){var E=w.apply(this,arguments)||this;E.attributionDataUrl=null;E.fullExtent=new u(-180,-90,180,90,z.WGS84);E.id=Date.now().toString(16)+"-layer-"+x++;E.legendEnabled=!0;E.listMode="show";E.opacity=1;E.parent=null;E.popupEnabled=!0;E.attributionVisible=!0;E.spatialReference=z.WGS84;E.title=null;E.type=null;E.url=null;E.visible=!0;return E}b._inheritsLoose(A,w);A.fromArcGISServerUrl=function(){var E=b._asyncToGenerator(function*(y){y=
"string"===typeof y?{url:y}:y;return(yield new Promise((C,D)=>a(["./support/arcgisLayers"],C,D))).fromUrl(y)});return function(y){return E.apply(this,arguments)}}();A.fromPortalItem=function(E){return q.fromPortalItem(E)};var B=A.prototype;B.initialize=function(){this.when().catch(E=>{l.isAbortError(E)||g.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:E})})};B.destroy=function(){if(this.parent){const E=this.parent;
"layers"in E&&E.layers.includes(this)?E.layers.remove(this):"tables"in E&&E.tables.includes(this)?E.tables.remove(this):"baseLayers"in E&&E.baseLayers.includes(this)?E.baseLayers.remove(this):"baseLayers"in E&&E.referenceLayers.includes(this)&&E.referenceLayers.remove(this)}};B.fetchAttributionData=function(){var E=b._asyncToGenerator(function*(){const y=this.attributionDataUrl;if(this.hasAttributionData&&y)return(yield d(y,{query:{f:"json"},responseType:"json"})).data;throw new k("layer:no-attribution-data",
"Layer does not have attribution data");});return function(){return E.apply(this,arguments)}}();b._createClass(A,[{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){return r.urlToObject(this.url)}}]);return A}(t.EventedMixin(m.IdentifiableMixin(f)));c.__decorate([p.property({type:String})],e.prototype,"attributionDataUrl",void 0);c.__decorate([p.property({type:u})],e.prototype,"fullExtent",void 0);c.__decorate([p.property({readOnly:!0})],
e.prototype,"hasAttributionData",null);c.__decorate([p.property({type:String,clonable:!1})],e.prototype,"id",void 0);c.__decorate([p.property({type:Boolean,nonNullable:!0})],e.prototype,"legendEnabled",void 0);c.__decorate([p.property({type:["show","hide","hide-children"]})],e.prototype,"listMode",void 0);c.__decorate([p.property({type:Number,range:{min:0,max:1},nonNullable:!0})],e.prototype,"opacity",void 0);c.__decorate([p.property({clonable:!1})],e.prototype,"parent",void 0);c.__decorate([p.property({readOnly:!0})],
e.prototype,"parsedUrl",null);c.__decorate([p.property({type:Boolean})],e.prototype,"popupEnabled",void 0);c.__decorate([p.property({type:Boolean})],e.prototype,"attributionVisible",void 0);c.__decorate([p.property({type:z})],e.prototype,"spatialReference",void 0);c.__decorate([p.property({type:String})],e.prototype,"title",void 0);c.__decorate([p.property({readOnly:!0,json:{read:!1}})],e.prototype,"type",void 0);c.__decorate([p.property()],e.prototype,"url",void 0);c.__decorate([p.property({type:Boolean,
nonNullable:!0})],e.prototype,"visible",void 0);return e=c.__decorate([h.subclass("esri.layers.Layer")],e)})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),function(a,b,c,e,d,k,t,m,f,g,l){const r={base:e,key:"type",typeMap:{extent:c,multipoint:d,point:k,polyline:m,
polygon:t}};b=b.ensureOneOfType(r);a.Extent=c;a.BaseGeometry=e;a.Multipoint=d;a.Point=k;a.Polygon=t;a.Polyline=m;a.SpatialReference=f;a.featureGeometryTypeKebabDictionary=g.featureGeometryTypeKebabDictionary;a.typeKebabDictionary=g.typeKebabDictionary;a.fromJSON=l.fromJSON;a.ensureType=b;a.geometryTypes=r;a.isGeometry=function(p){return p instanceof e};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Multipoint":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l){function r(n){return(v,h)=>null==v?h:null==h?v:n(v,h)}var p;d=p=function(n){function v(...q){q=n.call(this,...q)||this;q.points=[];q.type="multipoint";return q}a._inheritsLoose(v,n);var h=v.prototype;h.normalizeCtorArgs=function(q,u){if(!q&&!u)return{};const z={};Array.isArray(q)?(z.points=q,z.spatialReference=u):!q||"esri.geometry.SpatialReference"!==q.declaredClass&&null==q.wkid?(q.points&&(z.points=q.points),q.spatialReference&&(z.spatialReference=q.spatialReference),
q.hasZ&&(z.hasZ=q.hasZ),q.hasM&&(z.hasM=q.hasM)):z.spatialReference=q;if(q=z.points&&z.points[0])void 0===z.hasZ&&void 0===z.hasM?(z.hasZ=2<q.length,z.hasM=!1):void 0===z.hasZ?z.hasZ=3<q.length:void 0===z.hasM&&(z.hasM=3<q.length);return z};h.writePoints=function(q,u){u.points=c.clone(this.points)};h.addPoint=function(q){l.updateSupportFromPoint(this,q);Array.isArray(q)?this.points.push(q):this.points.push(q.toArray());this.notifyChange("points");return this};h.clone=function(){const q={points:c.clone(this.points),
spatialReference:this.spatialReference};this.hasZ&&(q.hasZ=!0);this.hasM&&(q.hasM=!0);return new p(q)};h.getPoint=function(q){if(!this._validateInputs(q))return null;q=this.points[q];const u={x:q[0],y:q[1],spatialReference:this.spatialReference};let z=2;this.hasZ&&(u.z=q[2],z=3);this.hasM&&(u.m=q[z]);return new g(u)};h.removePoint=function(q){if(!this._validateInputs(q))return null;q=new g(this.points.splice(q,1)[0],this.spatialReference);this.notifyChange("points");return q};h.setPoint=function(q,
u){if(!this._validateInputs(q))return this;l.updateSupportFromPoint(this,u);Array.isArray(u)||(u=u.toArray());this.points[q]=u;this.notifyChange("points");return this};h.toJSON=function(q){return this.write({},q)};h._validateInputs=function(q){return null!=q&&0<=q&&q<this.points.length};a._createClass(v,[{key:"cache",get:function(){this.commitProperty("points");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const q=
this.points;if(!q.length)return null;const u=new m,z=this.hasZ,x=this.hasM,w=z?3:2;var A=q[0];const B=r(Math.min),E=r(Math.max);let [y,C]=A,[D,J]=A,M,L,I,G;for(let K=0,H=q.length;K<H;K++){A=q[K];const [O,Q]=A;y=B(y,O);C=B(C,Q);D=E(D,O);J=E(J,Q);if(z&&2<A.length){const W=A[2];M=B(M,W);I=E(I,W)}x&&A.length>w&&(A=A[w],L=B(L,A),G=E(G,A))}u.xmin=y;u.ymin=C;u.xmax=D;u.ymax=J;u.spatialReference=this.spatialReference;z?(u.zmin=M,u.zmax=I):(u.zmin=void 0,u.zmax=void 0);x?(u.mmin=L,u.mmax=G):(u.mmin=void 0,
u.mmax=void 0);return u}}]);return v}(f);b.__decorate([e.property({readOnly:!0})],d.prototype,"cache",null);b.__decorate([e.property()],d.prototype,"extent",null);b.__decorate([e.property({type:[[Number]],json:{write:{isRequired:!0}}})],d.prototype,"points",void 0);b.__decorate([t.writer("points")],d.prototype,"writePoints",null);d=p=b.__decorate([k.subclass("esri.geometry.Multipoint")],d);d.prototype.toJSON.isDefaultToJSON=!0;return d})},"esri/geometry/support/zmUtils":function(){define(["exports"],
function(a){a.updateSupportFromPoint=function(b,c,e=!1){let {hasM:d,hasZ:k}=b;Array.isArray(c)?4!==c.length||d||k?3===c.length&&e&&!d?(k=!0,d=!1):3===c.length&&d&&k&&(k=d=!1):k=d=!0:(k=!k&&c.hasZ&&(!d||c.hasM),d=!d&&c.hasM&&(!k||c.hasZ));b.hasZ=k;b.hasM=d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polygon":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/arrayUtils ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersectsBase ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x){var w;t=w=function(A){function B(...y){y=A.call(this,...y)||this;y.rings=[];y.type="polygon";return y}a._inheritsLoose(B,A);B.fromExtent=function(y){var C=y.clone().normalize();y=y.spatialReference;let D=!1,J=!1;for(const M of C)M.hasZ&&(D=!0),M.hasM&&(J=!0);C={rings:C.map(M=>{const L=[[M.xmin,M.ymin],[M.xmin,M.ymax],[M.xmax,M.ymax],[M.xmax,M.ymin],[M.xmin,M.ymin]];if(D&&M.hasZ){var I=M.zmin+.5*(M.zmax-M.zmin);for(let G=0;G<L.length;G++)L[G].push(I)}if(J&&
M.hasM)for(M=M.mmin+.5*(M.mmax-M.mmin),I=0;I<L.length;I++)L[I].push(M);return L}),spatialReference:y};D&&(C.hasZ=!0);J&&(C.hasM=!0);return new w(C)};var E=B.prototype;E.normalizeCtorArgs=function(y,C){let D=null,J,M,L=null;y&&!Array.isArray(y)?(D=y.rings?y.rings:null,C||(y.spatialReference?C=y.spatialReference:y.rings||(C=y)),J=y.hasZ,M=y.hasM):D=y;D=D||[];C=C||p.WGS84;D.length&&D[0]&&null!=D[0][0]&&"number"===typeof D[0][0]&&(D=[D]);if(L=D[0]&&D[0][0])void 0===J&&void 0===M?(J=2<L.length,M=3<L.length):
void 0===J?J=M?3<L.length:2<L.length:void 0===M&&(M=J?3<L.length:2<L.length);return{rings:D,spatialReference:C,hasZ:J,hasM:M}};E.writeRings=function(y,C){C.rings=e.clone(this.rings)};E.addRing=function(y){if(y){var C=this.rings,D=C.length;if(Array.isArray(y[0]))C[D]=y.concat();else{const J=[];for(let M=0,L=y.length;M<L;M++)J[M]=y[M].toArray();C[D]=J}this.notifyChange("rings");return this}};E.clone=function(){const y=new w;y.spatialReference=this.spatialReference;y.rings=e.clone(this.rings);y.hasZ=
this.hasZ;y.hasM=this.hasM;return y};E.equals=function(y){if(this===y)return!0;if(d.isNone(y))return!1;var C=this.spatialReference,D=y.spatialReference;if(d.isSome(C)!==d.isSome(D)||d.isSome(C)&&d.isSome(D)&&!C.equals(D)||this.rings.length!==y.rings.length)return!1;C=([J,M,L,I],[G,K,H,O])=>J===G&&M===K&&(null==L&&null==H||L===H)&&(null==I&&null==O||I===O);for(D=0;D<this.rings.length;D++)if(!c.equals(this.rings[D],y.rings[D],C))return!1;return!0};E.contains=function(y){if(!y)return!1;const C=z.project(y,
this.spatialReference);return v.polygonContainsPoint(this,d.isSome(C)?C:y)};E.isClockwise=function(y){y=Array.isArray(y[0])?y:y.map(C=>this.hasZ?this.hasM?[C.x,C.y,C.z,C.m]:[C.x,C.y,C.z]:[C.x,C.y]);return h.isClockwise(y,this.hasM,this.hasZ)};E.getPoint=function(y,C){if(!this._validateInputs(y,C))return null;y=this.rings[y][C];C=this.hasZ;const D=this.hasM;return C&&!D?new r(y[0],y[1],y[2],void 0,this.spatialReference):D&&!C?new r(y[0],y[1],void 0,y[2],this.spatialReference):C&&D?new r(y[0],y[1],
y[2],y[3],this.spatialReference):new r(y[0],y[1],this.spatialReference)};E.insertPoint=function(y,C,D){if(!this._validateInputs(y,C,!0))return this;x.updateSupportFromPoint(this,D);Array.isArray(D)||(D=D.toArray());this.rings[y].splice(C,0,D);this.notifyChange("rings");return this};E.removePoint=function(y,C){if(!this._validateInputs(y,C))return null;y=new r(this.rings[y].splice(C,1)[0],this.spatialReference);this.notifyChange("rings");return y};E.removeRing=function(y){if(!this._validateInputs(y,
null))return null;y=this.rings.splice(y,1)[0];const C=this.spatialReference;y=y.map(D=>new r(D,C));this.notifyChange("rings");return y};E.setPoint=function(y,C,D){if(!this._validateInputs(y,C))return this;x.updateSupportFromPoint(this,D);Array.isArray(D)||(D=D.toArray());this.rings[y][C]=D;this.notifyChange("rings");return this};E._validateInputs=function(y,C,D=!1){return null==y||0>y||y>=this.rings.length||null!=C&&(y=this.rings[y],D&&(0>C||C>y.length)||!D&&(0>C||C>=y.length))?!1:!0};E.toJSON=function(y){return this.write({},
y)};a._createClass(B,[{key:"cache",get:function(){this.commitProperty("rings");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"centroid",get:function(){const y=n.polygonCentroid(this);if(!y||isNaN(y[0])||isNaN(y[1])||this.hasZ&&isNaN(y[2]))return null;const C=new r;C.x=y[0];C.y=y[1];C.spatialReference=this.spatialReference;this.hasZ&&(C.z=y[2]);return C}},{key:"extent",get:function(){const {spatialReference:y}=this;var C=q.getPolygonExtent(this);
if(!C)return null;C=new g(C);C.spatialReference=y;return C}},{key:"isSelfIntersecting",get:function(){return u.isSelfIntersecting(this.rings)}}]);return B}(l);b.__decorate([k.property({readOnly:!0})],t.prototype,"cache",null);b.__decorate([k.property({readOnly:!0})],t.prototype,"centroid",null);b.__decorate([k.property({readOnly:!0})],t.prototype,"extent",null);b.__decorate([k.property({readOnly:!0})],t.prototype,"isSelfIntersecting",null);b.__decorate([k.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],
t.prototype,"rings",void 0);b.__decorate([f.writer("rings")],t.prototype,"writeRings",null);t=w=b.__decorate([m.subclass("esri.geometry.Polygon")],t);t.prototype.toJSON.isDefaultToJSON=!0;return t})},"esri/geometry/support/centroid":function(){define(["exports","./coordsUtils"],function(a,b){function c(t,m){if(!t||!t.length)return null;const f=[],g=[],l=m?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let r=0,p=t.length;r<p;r++){const n=e(t[r],
m,l);n&&g.push(n)}g.sort((r,p)=>{let n=r[2]-p[2];0===n&&m&&(n=r[4]-p[4]);return n});g.length&&(f[0]=g[0][0],f[1]=g[0][1],m&&(f[2]=g[0][3]),f[0]<l[0]||f[0]>l[1]||f[1]<l[2]||f[1]>l[3]||m&&(f[2]<l[4]||f[2]>l[5]))&&(f.length=0);if(!f.length)if(t=t[0]&&t[0].length?d(t[0],m):null)f[0]=t[0],f[1]=t[1],m&&2<t.length&&(f[2]=t[2]);else return null;return f}function e(t,m,f){let g=0,l=0,r=0,p=0,n=0;const v=t.length?t[0][0]:0,h=t.length?t[0][1]:0,q=t.length&&m?t[0][2]:0;for(let w=0;w<t.length;w++){var u=t[w],
z=t[(w+1)%t.length];const [A,B,E]=u;var x=A-v;const y=B-h,[C,D,J]=z,M=C-v,L=D-h,I=x*L-M*y;p+=I;g+=(x+M)*I;l+=(y+L)*I;m&&2<u.length&&2<z.length&&(u=E-q,z=J-q,x=x*z-M*u,r+=(u+z)*x,n+=x);A<f[0]&&(f[0]=A);A>f[1]&&(f[1]=A);B<f[2]&&(f[2]=B);B>f[3]&&(f[3]=B);m&&(E<f[4]&&(f[4]=E),E>f[5]&&(f[5]=E))}0<p&&(p*=-1);0<n&&(n*=-1);if(!p)return null;p*=.5;n*=.5;t=[g/(6*p)+v,l/(6*p)+h,p];m&&(f[4]===f[5]||0===n?(t[3]=(f[4]+f[5])/2,t[4]=0):(t[3]=r/(6*n)+q,t[4]=n));return t}function d(t,m){const f=m?[0,0,0]:[0,0],g=m?
[0,0,0]:[0,0];let l=0,r=0,p=0,n=0;for(let h=0,q=t.length;h<q-1;h++){var v=t[h];const u=t[h+1];if(v&&u){f[0]=v[0];f[1]=v[1];g[0]=u[0];g[1]=u[1];m&&2<v.length&&2<u.length&&(f[2]=v[2],g[2]=u[2]);const z=b.getLength(f,g);z&&(l+=z,v=b.getMidpoint(v,u),r+=z*v[0],p+=z*v[1],m&&2<v.length&&(n+=z*v[2]))}}return 0<l?m?[r/l,p/l,n/l]:[r/l,p/l]:t.length?t[0]:null}const k=1/3;a.extentCentroid=function(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null};a.lineCentroid=
d;a.polygonCentroid=function(t){return t?c(t.rings,t.hasZ??!1):null};a.ringCentroid=e;a.ringsCentroid=c;a.weightedAreaCentroid=function(t){if(!t||!t.rings)return null;({rings:t}=t);let m=0;for(var f=0;f<t.length;f++)m+=b.getRingArea(t[f]);if(1E-6>m)return c(t,!1);f=[0,0];const g=t[0][0];for(let v=0;v<t.length;v++)a:{let h=void 0;var l=f,r=g,p=t[v];if(!l||!p||3>p.length)break a;var n=p[0];const q=[0,0],u=[p[1][0]-n[0],p[1][1]-n[1]];for(let z=2;z<p.length;z++)q[0]=p[z][0]-n[0],q[1]=p[z][1]-n[1],h=.5*
k*(q[0]*u[1]-q[1]*u[0]),l[0]+=h*(u[0]+q[0]),l[1]+=h*(u[1]+q[1]),u[0]=q[0],u[1]=q[1];p=b.getRingArea(p);n=[n[0],n[1]];n[0]-=r[0];n[1]-=r[1];n[0]*=p;n[1]*=p;l[0]+=n[0];l[1]+=n[1]}f[0]*=1/m;f[1]*=1/m;f[0]+=g[0];f[1]+=g[1];return f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/coordsUtils":function(){define(["exports","../../core/arrayUtils","./spatialReferenceUtils"],function(a,b,c){function e(r,p){const n=p[0]-r[0],v=p[1]-r[1];return 2<r.length&&2<p.length?
(r=r[2]-p[2],Math.sqrt(n*n+v*v+r*r)):Math.sqrt(n*n+v*v)}function d(r,p,n){const v=r[0]+n*(p[0]-r[0]),h=r[1]+n*(p[1]-r[1]);return 2<r.length&&2<p.length?[v,h,r[2]+n*(p[2]-r[2])]:[v,h]}function k(r,p,n,v){let h=n[0];n=n[1];let q=v[0]-h,u=v[1]-n;if(0!==q||0!==u){const z=((r-h)*q+(p-n)*u)/(q*q+u*u);1<z?(h=v[0],n=v[1]):0<z&&(h+=q*z,n+=u*z)}q=r-h;u=p-n;return q*q+u*u}function t(r,p,n){const v=r.length;let h=0,q=0,u=0;for(let z=0;z<v;z++){const x=r[z],w=r[(z+1)%v];let A=2;h+=x[0]*w[1]-w[0]*x[1];2<x.length&&
2<w.length&&n&&(q+=x[0]*w[2]-w[0]*x[2],A=3);x.length>A&&w.length>A&&p&&(u+=x[0]*w[A]-w[0]*x[A])}return 0>=h&&0>=q&&0>=u}function m(r){const p=r.length;return 2<p&&b.equals(r[0],r[p-1])}function f(r){if("rings"in r)for(const p of r.rings)m(p)||p.push(p[0].slice())}function g(r,p){var n=c.getInfo(p);if(n){p=n.valid[0];n=n.valid[1];var v=n-p;for(const h of r){r=Infinity;let q=-Infinity;for(const u of h){const z=l(u[0],p,n);r=Math.min(r,z);q=Math.max(q,z);u[0]=z}r=q-r;v-r<r&&h.forEach(u=>{0>u[0]&&(u[0]+=
v)})}}}function l(r,p,n){const v=n-p;return r<p?n-(p-r)%v:r>n?p+(r-p)%v:r}a.closeRings=f;a.closeRingsAndFixWinding=function(r){if("rings"in r&&(f(r),0<r.rings.length&&!t(r.rings[0],r.hasM??!1,r.hasZ??!1)))for(const p of r.rings)p.reverse()};a.distanceFromPointToPolygon=function(r,p,n){n=n.rings;let v=!1,h=Infinity,q,u;for(let z=0;z<n.length;z++){const x=n[z];for(let w=0,A=x.length-1;w<x.length;A=w++)q=x[w],u=x[A],q[1]>p!==u[1]>p&&r<(u[0]-q[0])*(p-q[1])/(u[1]-q[1])+q[0]&&(v=!v),h=Math.min(h,k(r,p,
q,u))}return 0===h?0:(v?1:-1)*Math.sqrt(h)};a.distanceToSegmentSquared=k;a.geometryToCoordinates=function(r){if(!r)return null;if(Array.isArray(r))return r;const p=r.hasZ,n=r.hasM;if("point"===r.type)return n&&p?[r.x,r.y,r.z,r.m]:p?[r.x,r.y,r.z]:n?[r.x,r.y,r.m]:[r.x,r.y];if("polygon"===r.type)return r.rings.slice(0);if("polyline"===r.type)return r.paths.slice(0);if("multipoint"===r.type)return r.points.slice(0);if("extent"===r.type){r=r.clone().normalize();if(!r)return null;let v=!1,h=!1;r.forEach(q=>
{q.hasZ&&(v=!0);q.hasM&&(h=!0)});return r.map(q=>{const u=[[q.xmin,q.ymin],[q.xmin,q.ymax],[q.xmax,q.ymax],[q.xmax,q.ymin],[q.xmin,q.ymin]];if(v&&q.hasZ){var z=.5*(q.zmax-q.zmin);for(let x=0;x<u.length;x++)u[x].push(z)}if(h&&q.hasM)for(q=.5*(q.mmax-q.mmin),z=0;z<u.length;z++)u[z].push(q);return u})}return null};a.getLength=e;a.getMidpoint=function(r,p){return d(r,p,.5)};a.getPathLength=function(r){const p=r.length;let n=0;for(let v=0;v<p-1;++v)n+=e(r[v],r[v+1]);return n};a.getPointOnPath=function(r,
p){if(0>=p)return r[0];const n=r.length;let v=0;for(let h=0;h<n-1;++h){const q=e(r[h],r[h+1]);if(p-v<q)return d(r[h],r[h+1],(p-v)/q);v+=q}return r[n-1]};a.getRingArea=function(r){if(!r||3>r.length)return 0;let p=0;const n=r.length-1;for(let v=0;v<n;v++)p+=(r[v][0]-r[v+1][0])*(r[v][1]+r[v+1][1]);p+=(r[n][0]-r[0][0])*(r[n][1]+r[0][1]);return-.5*p};a.hasCompatibleTopology=function(r,p){if(r===p)return!0;if(r.type!==p.type)return!1;if("point"===r.type||"extent"===r.type)return!0;if("multipoint"===r.type)return r.points.length===
p.points.length;const [n,v]="polyline"===r.type?[r.paths,p.paths]:[r.rings,p.rings];return n.length===v.length&&n.every((h,q)=>h.length===v[q].length)};a.isClockwise=t;a.isClosed=m;a.projectPointOnLine=function(r,p,n,v){const [h,q]=p,[u,z]=n[v],[x,w]=n[v+1];p=x-u;n=w-z;v=Math.min(1,Math.max(0,((h-u)*p+(q-z)*n)/(p*p+n*n)));r[0]=u+p*v;r[1]=z+n*v;return r};a.unnormalizeGeometryOnDatelineCrossing=function(r){if("polygon"!==r.type&&"polyline"!==r.type)return r;g("polygon"===r.type?r.rings:r.paths,r.spatialReference);
return r};a.unnormalizeVerticesOnDatelineCrossing=g;a.unnormalizedCoordinate=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],function(a,b){function c(f,g=!1,l=!1){return g?l?{xmin:f[0],ymin:f[1],zmin:f[2],mmin:f[3],xmax:f[4],ymax:f[5],zmax:f[6],mmax:f[7]}:{xmin:f[0],ymin:f[1],zmin:f[2],xmax:f[3],ymax:f[4],zmax:f[5]}:l?{xmin:f[0],ymin:f[1],mmin:f[2],xmax:f[3],ymax:f[4],mmax:f[5]}:{xmin:f[0],ymin:f[1],
xmax:f[2],ymax:f[3]}}function e(f){const {hasZ:g,hasM:l,points:r}=f;return c(b.getPointsBounds(m,r,g??!1,l??!1),g,l)}function d(f){const {x:g,y:l,z:r,m:p}=f;f=null!=p;return null!=r?f?{xmin:g,ymin:l,zmin:r,mmin:p,xmax:g,ymax:l,zmax:r,mmax:p}:{xmin:g,ymin:l,zmin:r,xmax:g,ymax:l,zmax:r}:f?{xmin:g,ymin:l,mmin:p,xmax:g,ymax:l,mmax:p}:{xmin:g,ymin:l,xmax:g,ymax:l}}function k(f){const {hasZ:g,hasM:l,rings:r}=f;return(f=b.getRingsOrPathsBounds(m,r,g??!1,l??!1))?c(f,g,l):null}function t(f){const {hasZ:g,
hasM:l,paths:r}=f;return(f=b.getRingsOrPathsBounds(m,r,g??!1,l??!1))?c(f,g,l):null}const m=[];a.getGeometryExtent=function(f){return f?void 0!==f.xmin&&void 0!==f.ymin&&void 0!==f.xmax&&void 0!==f.ymax?f:void 0!==f.x&&void 0!==f.y?d(f):void 0!==f.rings?k(f):void 0!==f.paths?t(f):void 0!==f.points?e(f):null:null};a.getMultipointExtent=e;a.getPointExtent=d;a.getPolygonExtent=k;a.getPolylineExtent=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/boundsUtils":function(){define(["exports"],
function(a){function b(f){return void 0!==f.xmin&&void 0!==f.ymin&&void 0!==f.xmax&&void 0!==f.ymax}function c(f){return function(g,l){return null==g?l:null==l?g:f(g,l)}}function e(f,g,l,r){const p=l?3:2;if(!g.length||!g[0].length)return null;let [n,v]=g[0][0],[h,q]=g[0][0],u=void 0,z=void 0,x=void 0;var w=void 0;for(let A=0;A<g.length;A++){const B=g[A];for(let E=0;E<B.length;E++){const y=B[E],[C,D]=y;n=t(n,C);v=t(v,D);h=m(h,C);q=m(q,D);if(l&&2<y.length){const J=y[2];u=t(u,J);z=m(z,J)}r&&y.length>
p&&(w=y[p],x=t(u,w),w=m(z,w))}}if(l){if(r)return f[0]=n,f[1]=v,f[2]=u,f[3]=x,f[4]=h,f[5]=q,f[6]=z,f[7]=w,f.length=8,f;f[0]=n;f[1]=v;f[2]=u;f[3]=h;f[4]=q;f[5]=z;f.length=6;return f}if(r)return f[0]=n,f[1]=v,f[2]=x,f[3]=h,f[4]=q,f[5]=w,f.length=6,f;f[0]=n;f[1]=v;f[2]=h;f[3]=q;f.length=4;return f}function d(f,g,l,r,p,n){l=g.xmin;r=g.xmax;const v=g.ymin,h=g.ymax;let q=g.zmin,u=g.zmax,z=g.mmin;g=g.mmax;if(p){q=q||0;u=u||0;if(n)return f[0]=l,f[1]=v,f[2]=q,f[3]=z||0,f[4]=r,f[5]=h,f[6]=u,f[7]=g||0,f;f[0]=
l;f[1]=v;f[2]=q;f[3]=r;f[4]=h;f[5]=u;return f}if(n)return f[0]=l,f[1]=v,f[2]=z||0,f[3]=r,f[4]=h,f[5]=g||0,f;f[0]=l;f[1]=v;f[2]=r;f[3]=h;return f}function k(f,g,l,r,p,n){const v=l?3:2;r=r&&n;l=l&&p;if(!g.length||!g[0].length)return null;let [h,q]=g[0],[u,z]=g[0],x=void 0,w=void 0,A=void 0;var B=void 0;for(let E=0;E<g.length;E++){const y=g[E],[C,D]=y;h=t(h,C);q=t(q,D);u=m(u,C);z=m(z,D);if(l&&2<y.length){const J=y[2];x=t(x,J);w=m(w,J)}r&&y.length>v&&(B=y[v],A=t(x,B),B=m(w,B))}if(p){x=x||0;w=w||0;if(n)return f[0]=
h,f[1]=q,f[2]=x,f[3]=A||0,f[4]=u,f[5]=z,f[6]=w,f[7]=B||0,f;f[0]=h;f[1]=q;f[2]=x;f[3]=u;f[4]=z;f[5]=w;return f}if(n)return f[0]=h,f[1]=q,f[2]=A||0,f[3]=u,f[4]=z,f[5]=B||0,f;f[0]=h;f[1]=q;f[2]=u;f[3]=z;return f}const t=c(Math.min),m=c(Math.max);a.getBoundsXY=function(f,g){if(void 0!==g.paths)return e(f,g.paths,!1,!1);if(void 0!==g.rings)return e(f,g.rings,!1,!1);if(void 0!==g.points)return k(f,g.points,!1,!1,!1,!1);if(b(g))return d(f,g);void 0!==g.x&&void 0!==g.y&&(f[0]=g.x,f[1]=g.y,f[2]=g.x,f[3]=g.y);
return f};a.getBoundsXYZ=function(f,g){if(void 0!==g.paths)return e(f,g.paths,!0,!1);if(void 0!==g.rings)return e(f,g.rings,!0,!1);if(void 0!==g.points)return k(f,g.points,!0,!1,!0,!1);if(b(g))return d(f,g,!0,!1,!0,!1);void 0!==g.x&&void 0!==g.y&&(f[0]=g.x,f[1]=g.y,f[2]=g.z,f[3]=g.x,f[4]=g.y,f[5]=g.z);return f};a.getExtentBounds=d;a.getPointsBounds=k;a.getRingsOrPathsBounds=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polyline":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p){var n;d=n=function(v){function h(...u){u=v.call(this,...u)||this;u.paths=[];u.type="polyline";return u}a._inheritsLoose(h,v);var q=h.prototype;q.normalizeCtorArgs=function(u,z){let x=null,w,A,B=null;u&&!Array.isArray(u)?(x=u.paths?u.paths:null,z||(u.spatialReference?z=u.spatialReference:u.paths||(z=u)),w=u.hasZ,A=u.hasM):x=u;x=x||[];z=z||l.WGS84;x.length&&x[0]&&null!=x[0][0]&&"number"===typeof x[0][0]&&(x=[x]);if(B=x[0]&&x[0][0])void 0===w&&void 0===A?(w=2<B.length,
A=!1):void 0===w?w=!A&&3<B.length:void 0===A&&(A=!w&&3<B.length);return{paths:x,spatialReference:z,hasZ:w,hasM:A}};q.writePaths=function(u,z){z.paths=c.clone(this.paths)};q.addPath=function(u){if(u){var z=this.paths,x=z.length;if(Array.isArray(u[0]))z[x]=u.concat();else{const w=[];for(let A=0,B=u.length;A<B;A++)w[A]=u[A].toArray();z[x]=w}this.notifyChange("paths");return this}};q.clone=function(){const u=new n;u.spatialReference=this.spatialReference;u.paths=c.clone(this.paths);u.hasZ=this.hasZ;u.hasM=
this.hasM;return u};q.getPoint=function(u,z){if(!this._validateInputs(u,z))return null;u=this.paths[u][z];z=this.hasZ;const x=this.hasM;return z&&!x?new g(u[0],u[1],u[2],void 0,this.spatialReference):x&&!z?new g(u[0],u[1],void 0,u[2],this.spatialReference):z&&x?new g(u[0],u[1],u[2],u[3],this.spatialReference):new g(u[0],u[1],this.spatialReference)};q.insertPoint=function(u,z,x){if(!this._validateInputs(u,z,!0))return this;p.updateSupportFromPoint(this,x);Array.isArray(x)||(x=x.toArray());this.paths[u].splice(z,
0,x);this.notifyChange("paths");return this};q.removePath=function(u){if(!this._validateInputs(u,null))return null;u=this.paths.splice(u,1)[0];const z=this.spatialReference;u=u.map(x=>new g(x,z));this.notifyChange("paths");return u};q.removePoint=function(u,z){if(!this._validateInputs(u,z))return null;u=new g(this.paths[u].splice(z,1)[0],this.spatialReference);this.notifyChange("paths");return u};q.setPoint=function(u,z,x){if(!this._validateInputs(u,z))return this;p.updateSupportFromPoint(this,x);
Array.isArray(x)||(x=x.toArray());this.paths[u][z]=x;this.notifyChange("paths");return this};q._validateInputs=function(u,z,x=!1){return null==u||0>u||u>=this.paths.length||null!=z&&(u=this.paths[u],x&&(0>z||z>u.length)||!x&&(0>z||z>=u.length))?!1:!0};q.toJSON=function(u){return this.write({},u)};a._createClass(h,[{key:"cache",get:function(){this.commitProperty("paths");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const {spatialReference:u}=
this;var z=r.getPolylineExtent(this);if(!z)return null;z=new m(z);z.spatialReference=u;return z}}]);return h}(f);b.__decorate([e.property({readOnly:!0})],d.prototype,"cache",null);b.__decorate([e.property({readOnly:!0})],d.prototype,"extent",null);b.__decorate([e.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],d.prototype,"paths",void 0);b.__decorate([t.writer("paths")],d.prototype,"writePaths",null);d=n=b.__decorate([k.subclass("esri.geometry.Polyline")],d);d.prototype.toJSON.isDefaultToJSON=
!0;return d})},"esri/geometry/support/typeUtils":function(){define(["exports","../../core/jsonMap"],function(a,b){const c=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});b=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=c;a.typeKebabDictionary=
b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/jsonUtils":function(){define("exports ../../core/maybe ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,c,e,d,k,t,m){function f(v){return void 0!==v.xmin&&void 0!==v.ymin&&void 0!==v.xmax&&void 0!==v.ymax}function g(v){return void 0!==v.points}function l(v){return void 0!==v.x&&void 0!==v.y}function r(v){return void 0!==v.paths}function p(v){return void 0!==v.rings}
const n={esriGeometryPoint:k,esriGeometryPolyline:m,esriGeometryPolygon:t,esriGeometryEnvelope:c,esriGeometryMultipoint:d};a.fromJSON=function(v){return b.isNone(v)?null:v instanceof e?v:l(v)?k.fromJSON(v):r(v)?m.fromJSON(v):p(v)?t.fromJSON(v):g(v)?d.fromJSON(v):f(v)?c.fromJSON(v):null};a.getGeometryType=function(v){return v&&n[v]||null};a.getJsonType=function(v){return v?l(v)?"esriGeometryPoint":r(v)?"esriGeometryPolyline":p(v)?"esriGeometryPolygon":f(v)?"esriGeometryEnvelope":g(v)?"esriGeometryMultipoint":
null:null};a.isExtent=f;a.isMesh=function(v){return void 0!==v.vertexAttributes};a.isMultipoint=g;a.isPoint=l;a.isPolygon=p;a.isPolyline=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Identifiable":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","./accessorSupport/decorators/subclass"],function(a,b,c,e){let d=0;const k=t=>{t=function(m){function f(...g){g=m.call(this,...g)||this;Object.defineProperty(b._assertThisInitialized(g),
"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+d++});return g}b._inheritsLoose(f,m);return f}(t);return t=c.__decorate([e.subclass("esri.core.Identifiable")],t)};a.Identifiable=function(t){function m(){return t.apply(this,arguments)||this}b._inheritsLoose(m,t);return m}(k(function(){return function(){}}()));a.Identifiable=c.__decorate([e.subclass("esri.core.Identifiable")],a.Identifiable);a.IdentifiableMixin=k;a.NumericIdentifiableMixin=t=>{t=function(m){function f(...g){g=
m.call(this,...g)||this;Object.defineProperty(b._assertThisInitialized(g),"uid",{writable:!1,configurable:!1,value:d++});return g}b._inheritsLoose(f,m);return f}(t);return t=c.__decorate([e.subclass("esri.core.NumericIdentifiable")],t)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/fromPortalItem":function(){define(["require","exports","../../chunks/_rollupPluginBabelHelpers","../../config","../../core/Logger"],function(a,b,c,e,d){function k(){k=c._asyncToGenerator(function*(t){t=
"portalItem"in t?t:{portalItem:t};var m=yield new Promise((f,g)=>a(["../../portal/support/portalLayers"],f,g));try{return yield m.fromItem(t)}catch(f){throw t=(m=t&&t.portalItem)&&m.id||"unset",m=m&&m.portal&&m.portal.url||e.portalUrl,d.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+m+"', id: '"+t+"')",f),f;}});return k.apply(this,arguments)}b.fromPortalItem=function(t){return k.apply(this,arguments)};Object.defineProperty(b,
Symbol.toStringTag,{value:"Module"})})},"esri/support/TablesMixin":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t,m,f,g){function l(r,p,n){if(r)for(let h=0,q=r.length;h<q;h++){var v=r.getItemAt(h);if(v[p]===n||"group"===v?.type&&(v=
l(v.tables,p,n)))return v}}a.TablesMixin=r=>{r=function(p){function n(...h){var q=p.call(this,...h)||this;q.tables=new e;q.tables.on("after-add",u=>{u=u.item;u.parent&&u.parent!==b._assertThisInitialized(q)&&"tables"in u.parent&&u.parent.tables.remove(u);u.parent=b._assertThisInitialized(q);"feature"!==u.type&&k.getLogger(q.declaredClass).error(`Layer 'title:${u.title}, id:${u.id}' of type '${u.type}' is not supported as a table and will therefore be ignored.`)});q.tables.on("after-remove",u=>{u.item.parent=
null});return q}b._inheritsLoose(n,p);var v=n.prototype;v.destroy=function(){const h=this.tables.removeAll();for(const q of h)q.destroy();this.tables.destroy()};v.findTableById=function(h){return l(this.tables,"id",h)};v.findTableByUid=function(h){return l(this.tables,"uid",h)};b._createClass(n,[{key:"tables",set:function(h){this._set("tables",d.referenceSetter(h,this._get("tables")))}}]);return n}(r);c.__decorate([t.property()],r.prototype,"tables",null);return r=c.__decorate([g.subclass("esri.support.TablesMixin")],
r)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Viewpoint":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Camera ./geometry ./core/JSONSupport ./core/maybe ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/arrayUtils ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),function(a,b,c,e,d,k,t,m,f,g,l){function r(){return{enabled:!this.camera}}var p;d=p=function(n){function v(q){q=
n.call(this,q)||this;q.rotation=0;q.scale=0;q.targetGeometry=null;q.camera=null;return q}a._inheritsLoose(v,n);var h=v.prototype;h.castRotation=function(q){q%=360;0>q&&(q+=360);return q};h.clone=function(){return new p({rotation:this.rotation,scale:this.scale,targetGeometry:k.isSome(this.targetGeometry)?this.targetGeometry.clone():null,camera:k.isSome(this.camera)?this.camera.clone():null})};return v}(d.JSONSupport);b.__decorate([t.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,
write:!0},"web-scene":{write:{overridePolicy:r}}}}})],d.prototype,"rotation",void 0);b.__decorate([m.cast("rotation")],d.prototype,"castRotation",null);b.__decorate([t.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:r}}}}})],d.prototype,"scale",void 0);b.__decorate([t.property({types:e.geometryTypes,json:{read:l.fromJSON,write:!0,origins:{"web-scene":{read:l.fromJSON,write:{overridePolicy:r}}}}})],d.prototype,"targetGeometry",void 0);
b.__decorate([t.property({type:c,json:{write:!0}})],d.prototype,"camera",void 0);return d=p=b.__decorate([g.subclass("esri.Viewpoint")],d)})},"esri/Camera":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Clonable ./core/Cyclical ./core/JSONSupport ./core/mathUtils ./core/maybe ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/arrayUtils ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./geometry/Point".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v){c=function(h){function q(...z){z=h.call(this,...z)||this;z.position=new v([0,0,0]);z.heading=0;z.tilt=0;z.fov=55;return z}a._inheritsLoose(q,h);var u=q.prototype;u.normalizeCtorArgs=function(z,x,w,A){return z&&"object"===typeof z&&("x"in z||Array.isArray(z))?(z={position:z},null!=x&&(z.heading=x),null!=w&&(z.tilt=w),null!=A&&(z.fov=A),z):z};u.writePosition=function(z,x,w,A){const B=z.clone();B.x=n.ensureNumber(z.x||0);B.y=n.ensureNumber(z.y||0);B.z=z.hasZ?n.ensureNumber(z.z||
0):z.z;x[w]=B.write({},A)};u.readPosition=function(z,x){const w=new v;w.read(z,x);w.x=n.ensureNumber(w.x||0);w.y=n.ensureNumber(w.y||0);w.z=w.hasZ?n.ensureNumber(w.z||0):w.z;return w};u.equals=function(z){return t.isNone(z)?!1:this.tilt===z.tilt&&this.heading===z.heading&&this.fov===z.fov&&this.position.equals(z.position)};return q}(c.ClonableMixin(d.JSONSupport));b.__decorate([m.property({type:v,json:{write:{isRequired:!0}}})],c.prototype,"position",void 0);b.__decorate([p.writer("position")],c.prototype,
"writePosition",null);b.__decorate([l.reader("position")],c.prototype,"readPosition",null);b.__decorate([m.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),f.cast(h=>e.cyclicalDegrees.normalize(n.ensureNumber(h)))],c.prototype,"heading",void 0);b.__decorate([m.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),f.cast(h=>k.clamp(n.ensureNumber(h),-180,180))],c.prototype,"tilt",void 0);b.__decorate([m.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],
c.prototype,"fov",void 0);return c=b.__decorate([r.subclass("esri.Camera")],c)})},"esri/core/Clonable":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./has ./lang ./Logger ./maybe ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t,m,f,g,l){d=r=>{r=function(p){function n(){return p.apply(this,arguments)||this}b._inheritsLoose(n,p);n.prototype.clone=function(){var v=m.unwrapOrThrow(g.getProperties(this),
"unable to clone instance of non-accessor class"),h=v.metadatas;const q=v.store,u={};v=new Map;for(var z in h){var x=h[z];const w=q?.originOf(z),A=x.clonable;if(x.readOnly||!1===A||w!==f.OriginId.USER&&w!==f.OriginId.DEFAULTS&&w!==f.OriginId.WEB_MAP&&w!==f.OriginId.WEB_SCENE)continue;x=this[z];let B=null;B="function"===typeof A?A(x):"reference"===A?x:k.tryClone(x);if(null==x||null!=B)w===f.OriginId.DEFAULTS?v.set(z,B):u[z]=B}h=new (Object.getPrototypeOf(this).constructor)(u);if(v.size&&(z=g.getProperties(h)?.store))for(const [w,
A]of v)z.set(w,A,f.OriginId.DEFAULTS);return h};return n}(r);return r=c.__decorate([l.subclass("esri.core.Clonable")],r)};a.Clonable=function(r){function p(){return r.apply(this,arguments)||this}b._inheritsLoose(p,r);return p}(d(e));a.Clonable=c.__decorate([l.subclass("esri.core.Clonable")],a.Clonable);a.ClonableMixin=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Cyclical":function(){define(["exports","./mathUtils"],function(a,b){function c(m){for(const f in m){const g=
m[f];g instanceof Function&&(m[f]=g.bind(m))}return m}let e=function(){function m(g,l){this.min=g;this.max=l;this.range=l-g}var f=m.prototype;f.ndiff=function(g,l=0){return Math.ceil((g-l)/this.range)*this.range+l};f._normalize=function(g,l,r,p=0,n=!1){r-=p;r<g?r+=this.ndiff(g-r):r>l&&(r-=this.ndiff(r-l));n&&r===l&&(r=g);return r+p};f.normalize=function(g,l=0,r=!1){return this._normalize(this.min,this.max,g,l,r)};f.clamp=function(g,l=0){return b.clamp(g-l,this.min,this.max)+l};f.monotonic=function(g,
l,r){return g<l?l:l+this.ndiff(g-l,r)};f.minimalMonotonic=function(g,l,r){return this._normalize(g,g+this.range,l,r)};f.center=function(g,l,r){l=this.monotonic(g,l,r);return this.normalize((g+l)/2,r)};f.diff=function(g,l,r){return this.monotonic(g,l,r)-g};f.shortestSignedDiff=function(g,l){g=this.normalize(g);l=this.normalize(l);const r=l-g;g=l<g?this.minimalMonotonic(g,l)-g:l-this.minimalMonotonic(l,g);return Math.abs(r)<Math.abs(g)?r:g};f.contains=function(g,l,r){l=this.minimalMonotonic(g,l);r=
this.minimalMonotonic(g,r);return r>g&&r<l};return m}();const d=c(new e(0,2*Math.PI)),k=c(new e(-Math.PI,Math.PI)),t=c(new e(0,360));a.Cyclical=e;a.cyclical2PI=d;a.cyclicalDegrees=t;a.cyclicalPI=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OperationalLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n){a.OperationalLayer=v=>{v=function(h){function q(){var z=h.apply(this,arguments)||this;z.title=null;return z}b._inheritsLoose(q,h);var u=q.prototype;u.writeListMode=function(z,x,w,A){A&&"ground"===A.layerContainerType?x[w]=z:z&&r.willPropertyWrite(this,w,{},A)&&(x[w]=z)};u.writeOperationalLayerType=function(z,x,w,A){!z||A&&"tables"===A.layerContainerType||(x.layerType=z)};u.writeTitle=function(z,x){x.title=z??"Layer"};u.read=function(z,x){x&&(x.layer=this);l.readLoadable(this,
z,w=>h.prototype.read.call(this,z,w),x)};u.write=function(z,x){if(x?.origin){var w=`${x.origin}/${x.layerContainerType||"operational-layers"}`,A=p.supportedTypes[w];A=A&&A[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===w&&(A=!1);"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===w&&(A=!1);if(!A)return x.messages?.push(new e("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${w}'`,
{layer:this})),null}z=h.prototype.write.call(this,z,{...x,layer:this});w=!!x&&!!x.messages&&!!x.messages.filter(B=>B instanceof e&&"web-document-write:property-required"===B.name).length;return d.isBlobProtocol(z?.url)?(x?.messages?.push(new e("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&w?null:z};u.beforeSave=function(){};return q}(v);c.__decorate([k.property({type:String,
json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],v.prototype,"id",void 0);c.__decorate([k.property(n.listMode)],v.prototype,"listMode",void 0);c.__decorate([g.writer("listMode")],v.prototype,"writeListMode",null);c.__decorate([k.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],v.prototype,"operationalLayerType",void 0);c.__decorate([g.writer("operationalLayerType")],
v.prototype,"writeOperationalLayerType",null);c.__decorate([k.property(n.opacity)],v.prototype,"opacity",void 0);c.__decorate([k.property({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],v.prototype,"title",void 0);c.__decorate([g.writer("title"),g.writer(["web-scene"],"title")],v.prototype,"writeTitle",null);c.__decorate([k.property({type:Boolean,json:{name:"visibility"}})],
v.prototype,"visible",void 0);return v=c.__decorate([f.subclass("esri.layers.mixins.OperationalLayer")],v)};a.isOperationalLayer=function(v){return"operationalLayerType"in v};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/operationalLayers":function(){define(["exports"],function(a){a.supportedTypes={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,
ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},
"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,
SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,
IntegratedMeshLayer:!0,OrientedImageryLayer:!0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/commonProperties":function(){define("exports ../../TimeExtent ../../geometry/Extent ../../geometry/SpatialReference ../../chunks/persistableUrlUtils ../../support/timeUtils ../../symbols/support/ElevationInfo ../../webdoc/support/opacityUtils".split(" "),function(a,b,c,e,d,k,t,m){const f={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,
write:!1}},name:"screenSizePerspective",write:!0}},g={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader(z,x){return!x.disablePopup}},write:{enabled:!0,writer(z,x,w){x[w]=!z}}}},l={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:!0}};d={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:d.write}}};const r={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}};t={value:null,
type:t,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};var p={write:!0,read:!0};const n={type:Number,json:{origins:{"web-document":p,"portal-item":{write:!0}}}};p={...n,json:{...n.json,origins:{"web-document":{...p,write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader(z,x,w){if((!w||"service"===w.origin)&&
x.drawingInfo&&void 0!==x.drawingInfo.transparency)return m.transparencyToOpacity(x.drawingInfo.transparency);if(x.layerDefinition&&x.layerDefinition.drawingInfo&&void 0!==x.layerDefinition.drawingInfo.transparency)return m.transparencyToOpacity(x.layerDefinition.drawingInfo.transparency)}}}};const v={type:c,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(z,x)=>{z=c.fromJSON(z);null!=x.spatialReference&&"object"===typeof x.spatialReference&&(z.spatialReference=
e.fromJSON(x.spatialReference));return z}}}},read:!1}},h={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},q={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},u={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}};a.combinedViewLayerTimeExtentProperty={type:b,readOnly:!0,get(){if(!this.layer?.timeInfo)return null;
const {datesInUnknownTimezone:z,timeOffset:x,useViewTime:w}=this.layer;var A=this.view?.timeExtent,B=this.layer.timeExtent;z&&(B=k.toLocalTimeExtent(B));A=w?A&&B?A.intersection(B):A||B:B;if(!A||A.isEmpty||A.isAllTime)return A;x&&(A=A.offset(-x.value,x.unit));z&&(A=k.toUTCTimeExtent(A));B=this._get("timeExtent");return A.equals(B)?B:A}};a.elevationInfo=t;a.id=h;a.labelsVisible=l;a.legendEnabled=r;a.listMode={json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}};a.maxScale=u;a.minScale=
q;a.opacity=n;a.opacityDrawingInfo=p;a.popupEnabled=g;a.readOnlyService=function(z){return{type:z,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}};a.sceneLayerFullExtent=v;a.screenSizePerspectiveEnabled=f;a.url=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/TimeExtent":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/JSONSupport ./core/maybe ./core/timeUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/arrayUtils ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l){var r;c=r=function(v){function h(u){u=v.call(this,u)||this;u.end=null;u.start=null;return u}a._inheritsLoose(h,v);var q=h.prototype;q.readEnd=function(u,z){return null!=z.end?new Date(z.end):null};q.writeEnd=function(u,z){z.end=u?u.getTime():null};q.readStart=function(u,z){return null!=z.start?new Date(z.start):null};q.writeStart=function(u,z){z.start=u?u.getTime():null};q.clone=function(){return new r({end:this.end,start:this.start})};q.equals=function(u){if(!u)return!1;
const z=e.isSome(this.start)?this.start.getTime():this.start,x=e.isSome(this.end)?this.end.getTime():this.end,w=e.isSome(u.start)?u.start.getTime():u.start;u=e.isSome(u.end)?u.end.getTime():u.end;return z===w&&x===u};q.expandTo=function(u){if(this.isEmpty||this.isAllTime)return this.clone();const z=e.applySome(this.start,w=>d.truncateDate(w,u)),x=e.applySome(this.end,w=>{const A=d.truncateDate(w,u);return w.getTime()===A.getTime()?A:d.offsetDate(A,1,u)});return new r({start:z,end:x})};q.intersection=
function(u){if(!u)return this.clone();if(this.isEmpty||u.isEmpty)return r.empty;if(this.isAllTime)return u.clone();if(u.isAllTime)return this.clone();var z=e.mapOr(this.start,-Infinity,E=>E.getTime());const x=e.mapOr(this.end,Infinity,E=>E.getTime()),w=e.mapOr(u.start,-Infinity,E=>E.getTime());u=e.mapOr(u.end,Infinity,E=>E.getTime());let A,B;w>=z&&w<=x?A=w:z>=w&&z<=u&&(A=z);x>=w&&x<=u?B=x:u>=z&&u<=x&&(B=u);return null==A||null==B||isNaN(A)||isNaN(B)?r.empty:(z=new r,z.start=-Infinity===A?null:new Date(A),
z.end=Infinity===B?null:new Date(B),z)};q.offset=function(u,z){if(this.isEmpty||this.isAllTime)return this.clone();const x=new r,{start:w,end:A}=this;e.isSome(w)&&(x.start=d.offsetDate(w,u,z));e.isSome(A)&&(x.end=d.offsetDate(A,u,z));return x};q.union=function(u){if(!u||u.isEmpty)return this.clone();if(this.isEmpty)return u.clone();if(this.isAllTime||u.isAllTime)return p.clone();const z=e.isSome(this.start)&&e.isSome(u.start)?new Date(Math.min(this.start.getTime(),u.start.getTime())):null;u=e.isSome(this.end)&&
e.isSome(u.end)?new Date(Math.max(this.end.getTime(),u.end.getTime())):null;return new r({start:z,end:u})};a._createClass(h,[{key:"isAllTime",get:function(){return this.equals(r.allTime)}},{key:"isEmpty",get:function(){return this.equals(r.empty)}}],[{key:"allTime",get:function(){return p}},{key:"empty",get:function(){return n}}]);return h}(c.JSONSupport);b.__decorate([k.property({type:Date,json:{write:{allowNull:!0}}})],c.prototype,"end",void 0);b.__decorate([f.reader("end")],c.prototype,"readEnd",
null);b.__decorate([l.writer("end")],c.prototype,"writeEnd",null);b.__decorate([k.property({readOnly:!0,json:{read:!1}})],c.prototype,"isAllTime",null);b.__decorate([k.property({readOnly:!0,json:{read:!1}})],c.prototype,"isEmpty",null);b.__decorate([k.property({type:Date,json:{write:{allowNull:!0}}})],c.prototype,"start",void 0);b.__decorate([f.reader("start")],c.prototype,"readStart",null);b.__decorate([l.writer("start")],c.prototype,"writeStart",null);c=r=b.__decorate([g.subclass("esri.TimeExtent")],
c);const p=new c,n=new c({start:void 0,end:void 0});return c})},"esri/core/timeUtils":function(){define(["exports","./has"],function(a,b){function c(k,t,m){return 0===k?0:k*e[t]/e[m]}const e={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8},d={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",
setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};a.convertTime=c;a.makeUTCTime=function(k,t,m=
"milliseconds"){t=new Date(c(t,m,"milliseconds"));t.setUTCFullYear(k.getUTCFullYear(),k.getUTCMonth(),k.getUTCDate());return t};a.offsetDate=function(k,t,m){k=new Date(k.getTime());if(t&&m){const {getter:g,setter:l,multiplier:r}=d[m];if("months"===m){m=k.getFullYear();var f=k.getMonth()+t;m=new Date(m,f+1,1);m.setDate(0);m=m.getDate();k.getDate()>m&&k.setDate(m)}k[l](k[g]()+t*r)}return k};a.offsetDateUTC=function(k,t,m="milliseconds"){k=k.getTime();t=c(t,m,"milliseconds");return new Date(k+t)};a.resetUTCDate=
function(k,t){k=new Date(k.getTime());k.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate());return k};a.timeSinceUTCMidnight=function(k,t="milliseconds"){const m=c(k.getUTCHours(),"hours","milliseconds"),f=c(k.getUTCMinutes(),"minutes","milliseconds"),g=c(k.getUTCSeconds(),"seconds","milliseconds");k=k.getUTCMilliseconds();return c(m+f+g+k,"milliseconds",t)};a.truncateDate=function(k,t){switch(t){case "milliseconds":return new Date(k.getTime());case "seconds":return new Date(k.getFullYear(),
k.getMonth(),k.getDate(),k.getHours(),k.getMinutes(),k.getSeconds());case "minutes":return new Date(k.getFullYear(),k.getMonth(),k.getDate(),k.getHours(),k.getMinutes());case "hours":return new Date(k.getFullYear(),k.getMonth(),k.getDate(),k.getHours());case "days":return new Date(k.getFullYear(),k.getMonth(),k.getDate());case "weeks":return new Date(k.getFullYear(),k.getMonth(),k.getDate()-k.getDay());case "months":return new Date(k.getFullYear(),k.getMonth(),1);case "years":return new Date(k.getFullYear(),
0,1);case "decades":return new Date(k.getFullYear()-k.getFullYear()%10,0,1);case "centuries":return new Date(k.getFullYear()-k.getFullYear()%100,0,1);default:return new Date}};a.truncateLocalTime=function(k){const t=new Date(0);t.setHours(0);t.setMinutes(0);t.setSeconds(0);t.setMilliseconds(0);t.setFullYear(k.getUTCFullYear(),k.getUTCMonth(),k.getUTCDate());return t};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/persistableUrlUtils":function(){define(["exports","../core/maybe",
"../core/urlUtils"],function(a,b,c){function e(v,h){var q=h&&h.url&&h.url.path;v&&q&&(v=c.makeAbsolute(v,q,{preserveProtocolRelative:!0}),h.portalItem&&h.readResourcePaths&&(q=c.makeRelative(v,h.portalItem.itemUrl),null!=q&&p.test(q)&&h.readResourcePaths.push(h.portalItem.resourceFromPath(q).path)));return l(v,h&&h.portal)}function d(v,h,q=a.MarkKeep.YES){if(null==v)return v;!c.isAbsolute(v)&&h&&h.blockedRelativeUrls&&h.blockedRelativeUrls.push(v);let u=c.makeAbsolute(v);if(h){var z=h.verifyItemRelativeUrls&&
h.verifyItemRelativeUrls.rootPath||h.url&&h.url.path;if(z){z=l(z,h.portal);const x=l(u,h.portal);u=c.makeRelative(x,z,z);null!=u&&u!==x&&u!==v&&h.verifyItemRelativeUrls&&h.verifyItemRelativeUrls.writtenUrls.push(u)}}u=g(u,h?.portal);c.isAbsolute(u)&&(u=c.normalize(u));h?.resources&&h?.portalItem&&!c.isAbsolute(u)&&!c.isDataProtocol(u)&&q===a.MarkKeep.YES&&h.resources.toKeep.push({resource:h.portalItem.resourceFromPath(u),compress:!1});return u}function k(v,h,q){return e(v,q)}function t(v,h,q,u){v=
d(v,u);void 0!==v&&(h[q]=v)}function m(v){return(v?.match(r)??null)?.[1]??null}function f(v){v=v?.match(r)??null;if(null==v)return null;v=v[2];const h=v.lastIndexOf("/");if(-1===h){const {path:z,extension:x}=c.splitPathExtension(v);return{prefix:null,filename:z,extension:b.unwrap(x)}}const {path:q,extension:u}=c.splitPathExtension(v.slice(h+1));return{prefix:v.slice(0,h),filename:q,extension:b.unwrap(u)}}function g(v,h){return h&&!h.isPortal&&h.urlKey&&h.customBaseUrl?c.changeDomain(v,`${h.urlKey}.${h.customBaseUrl}`,
h.portalHostname):v}function l(v,h){if(!h||h.isPortal||!h.urlKey||!h.customBaseUrl)return v;const q=`${h.urlKey}.${h.customBaseUrl}`,u=c.getAppUrl();return c.hasSameOrigin(u,`${u.scheme}://${q}`)?c.changeDomain(v,h.portalHostname,q):c.changeDomain(v,q,h.portalHostname)}const r=/\/items\/([^\/]+)\/resources\/(.*)/,p=/^\.\/resources\//;a.MarkKeep=void 0;(function(v){v[v.YES=0]="YES";v[v.NO=1]="NO"})(a.MarkKeep||(a.MarkKeep={}));const n=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return a.MarkKeep},
ensureMainOnlineDomain:g,fromJSON:e,itemIdFromResourceUrl:m,prefixAndFilenameFromResourceUrl:f,read:k,toJSON:d,write:t},Symbol.toStringTag,{value:"Module"}));a.ensureMainOnlineDomain=g;a.fromJSON=e;a.itemIdFromResourceUrl=m;a.persistableUrlUtils=n;a.prefixAndFilenameFromResourceUrl=f;a.read=k;a.toJSON=d;a.write=t})},"esri/support/timeUtils":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../TimeExtent ../core/maybe ../core/promiseUtils ../core/timeUtils".split(" "),function(a,b,c,e,
d,k){function t(f){return void 0!==f.timeInfo}function m(){m=b._asyncToGenerator(function*(f,g){if(0===f.length)return c.allTime;const l=f.filter(t);yield Promise.all(l.map(n=>n.load({signal:g})));f=[];var r=[];for(var p of l)"feature"!==p?.type&&"map-image"!==p?.type||!p.timeInfo?.hasLiveData?r.push(p):f.push(p);p=n=>e.isNone(n)||n.isAllTime;r=r.map(n=>n.timeInfo?.fullTimeExtent);if(r.some(p))return c.allTime;f=f.map(function(){var n=b._asyncToGenerator(function*(v){const {timeExtent:h}=yield v.fetchRecomputedExtents({signal:g});
return h?h:e.unwrap(v.timeInfo?.fullTimeExtent)});return function(v){return n.apply(this,arguments)}}());f=(yield d.eachAlways(f)).map(n=>n.value);return f.some(p)?c.allTime:[...f,...r].filter(e.isSome).reduce((n,v)=>n.union(v))});return m.apply(this,arguments)}a.getTimeExtentFromLayers=function(f,g){return m.apply(this,arguments)};a.toLocalTimeExtent=function(f){if(!f)return f;const {start:g,end:l}=f;return new c({start:e.isSome(g)?k.offsetDate(g,g.getTimezoneOffset(),"minutes"):g,end:e.isSome(l)?
k.offsetDate(l,l.getTimezoneOffset(),"minutes"):l})};a.toUTCTimeExtent=function(f){if(!f)return f;const {start:g,end:l}=f;return new c({start:e.isSome(g)?k.offsetDate(g,-g.getTimezoneOffset(),"minutes"):g,end:e.isSome(l)?k.offsetDate(l,-l.getTimezoneOffset(),"minutes"):l})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/ElevationInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p){var n;t=c.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"});c=new c.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});e=n=function(v){function h(u){u=v.call(this,u)||this;u.offset=null;return u}a._inheritsLoose(h,v);var q=h.prototype;q.readFeatureExpressionInfo=function(u,z){if(null!=u)return u;if(z.featureExpression&&
0===z.featureExpression.value)return{expression:"0"}};q.writeFeatureExpressionInfo=function(u,z,x,w){z[x]=u.write({},w);"0"===u.expression&&(z.featureExpression={value:0})};q.write=function(u,z){return this.offset||this.mode||this.featureExpressionInfo||this.unit?v.prototype.write.call(this,u,z):null};q.clone=function(){return new n({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};q.equals=function(u){return this.mode===
u.mode&&this.offset===u.offset&&this.unit===u.unit&&d.equalsMaybe(this.featureExpressionInfo,u.featureExpressionInfo)};a._createClass(h,[{key:"mode",get:function(){const {offset:u,featureExpressionInfo:z}=this;return this._isOverridden("mode")?this._get("mode"):d.isSome(u)||z?"relative-to-ground":"on-the-ground"},set:function(u){this._override("mode",u)}},{key:"unit",set:function(u){this._set("unit",u)}}]);return h}(e.JSONSupport);b.__decorate([k.property({type:r,json:{write:!0}})],e.prototype,"featureExpressionInfo",
void 0);b.__decorate([f.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],e.prototype,"readFeatureExpressionInfo",null);b.__decorate([l.writer("featureExpressionInfo",{featureExpressionInfo:{type:r},"featureExpression.value":{type:[0]}})],e.prototype,"writeFeatureExpressionInfo",null);b.__decorate([k.property({type:t.apiValues,nonNullable:!0,json:{type:t.jsonValues,read:t.read,write:{writer:t.write,isRequired:!0}}})],e.prototype,"mode",null);b.__decorate([k.property({type:Number,
json:{write:!0}})],e.prototype,"offset",void 0);b.__decorate([k.property({type:p.supportedUnits,json:{type:String,read:c.read,write:c.write}})],e.prototype,"unit",null);return e=n=b.__decorate([g.subclass("esri.layers.support.ElevationInfo")],e)})},"esri/symbols/support/FeatureExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldUtils".split(" "),
function(a,b,c,e,d,k,t,m){var f;c=f=function(g){function l(p){return g.call(this,p)||this}a._inheritsLoose(l,g);var r=l.prototype;r.collectRequiredFields=function(){var p=a._asyncToGenerator(function*(n,v){return m.collectArcadeFieldNames(n,v,this.expression)});return function(n,v){return p.apply(this,arguments)}}();r.clone=function(){return new f({expression:this.expression,title:this.title})};r.equals=function(p){return this.expression===p.expression&&this.title===p.title};return l}(c.JSONSupport);
b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=f=b.__decorate([t.subclass("esri.layers.support.FeatureExpressionInfo")],c)})},"esri/layers/support/fieldUtils":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../core/maybe ../../core/object ./domainUtils ../../support/arcadeOnDemand".split(" "),function(a,b,c,e,d,k,t,m){function f(ea,
U,ca){if(ea)for(const la of ea)(ea=(ea=k.getDeepValue(la,U))&&"function"!==typeof ea&&ca.get(ea))&&k.setDeepValue(la,ea.name,U)}function g(ea,U){if(!ea||!U)return[];Ia.clear();l(Ia,ea,U);return Array.from(Ia).sort()}function l(ea,U,ca){if(ca)if(U?.fields?.length)if(ca.includes("*"))for(const {name:la}of U.fields)ea.add(la);else for(const la of ca)r(ea,U,la);else if(ca.includes("*"))ea.clear(),ea.add("*");else for(const la of ca)null!=la&&ea.add(la)}function r(ea,U,ca){"string"===typeof ca&&(U?(U=
U.get(ca))&&ea.add(U.name):ea.add(ca))}function p(ea,U,ca){return n.apply(this,arguments)}function n(){n=c._asyncToGenerator(function*(ea,U,ca){if(ca){var {arcadeUtils:la}=yield m.loadArcade();ca=la.extractFieldNames(ca,U?.fields?.map(Ca=>Ca.name));for(const Ca of ca)r(ea,U,Ca)}});return n.apply(this,arguments)}function v(ea,U,ca){return h.apply(this,arguments)}function h(){h=c._asyncToGenerator(function*(ea,U,ca){if(ca&&"1\x3d1"!==ca){const la=(yield new Promise((Ca,Qa)=>a(["../../core/sql/WhereClause"],
Ca,Qa))).WhereClause.create(ca,U);if(!la.isStandardized)throw new e("fieldUtils:collectFilterFields","Where clause is not standardized",{where:ca});l(ea,U,la.fieldNames)}});return h.apply(this,arguments)}function q(ea,U){for(const ca of ea)if(ca&&ca.valueType&&ca.valueType===U)return ca.name;return null}function u(){u=c._asyncToGenerator(function*(ea){if(!ea)return[];const U=new Set;yield z(U,ea);return Array.from(U).sort()});return u.apply(this,arguments)}function z(ea,U){return x.apply(this,arguments)}
function x(){x=c._asyncToGenerator(function*(ea,U){if(U){var ca=U.elevationInfo?.featureExpressionInfo;if(ca)return ca.collectRequiredFields(ea,U.fieldsIndex)}});return x.apply(this,arguments)}function w(){w=c._asyncToGenerator(function*(ea,U,ca){if(U&&ca&&"fields"in ca){var la=[];la.push(A(ea,U,ca.popupTemplate));ca.fields&&la.push(...ca.fields.map(function(){var Ca=c._asyncToGenerator(function*(Qa){Qa.onStatisticExpression?p(ea,U.fieldsIndex,Qa.onStatisticExpression.expression):ea.add(Qa.onStatisticField)});
return function(Qa){return Ca.apply(this,arguments)}}()));yield Promise.all(la)}});return w.apply(this,arguments)}function A(ea,U,ca){return B.apply(this,arguments)}function B(){B=c._asyncToGenerator(function*(ea,U,ca){const la=[];ca?.expressionInfos&&la.push(...ca.expressionInfos.map(Ca=>p(ea,U.fieldsIndex,Ca.expression)));ca=ca?.content;if(Array.isArray(ca))for(const Ca of ca)"expression"===Ca.type&&Ca.expressionInfo&&la.push(p(ea,U.fieldsIndex,Ca.expressionInfo.expression));yield Promise.all(la)});
return B.apply(this,arguments)}function E(){E=c._asyncToGenerator(function*(ea,U,ca){U&&(U.timeInfo&&d.isSome(ca)&&ca.timeExtent&&l(ea,U.fieldsIndex,[U.timeInfo.startField,U.timeInfo.endField]),U.floorInfo&&l(ea,U.fieldsIndex,[U.floorInfo.floorField]),d.isSome(ca)&&d.isSome(ca.where)&&(yield v(ea,U.fieldsIndex,ca.where)))});return E.apply(this,arguments)}function y(){y=c._asyncToGenerator(function*(ea,U,ca){U&&ca&&(yield Promise.all(ca.map(la=>C(ea,U,la))))});return y.apply(this,arguments)}function C(ea,
U,ca){return D.apply(this,arguments)}function D(){D=c._asyncToGenerator(function*(ea,U,ca){U&&ca&&(ca.valueExpression?yield p(ea,U.fieldsIndex,ca.valueExpression):ca.field&&r(ea,U.fieldsIndex,ca.field))});return D.apply(this,arguments)}function J(){J=c._asyncToGenerator(function*(ea){if(!ea)return[];const U="timeInfo"in ea&&ea.timeInfo;return U?g(ea.fieldsIndex,[ea.trackIdField,U.startField,U.endField]):[]});return J.apply(this,arguments)}function M(){M=c._asyncToGenerator(function*(ea){if(!ea)return[];
const U=new Set;yield L(U,ea);return Array.from(U).sort()});return M.apply(this,arguments)}function L(ea,U){return I.apply(this,arguments)}function I(){I=c._asyncToGenerator(function*(ea,U){const {labelingInfo:ca,fieldsIndex:la}=U;ca&&ca.length&&(yield Promise.all(ca.map(Ca=>G(ea,la,Ca))))});return I.apply(this,arguments)}function G(ea,U,ca){return K.apply(this,arguments)}function K(){K=c._asyncToGenerator(function*(ea,U,ca){if(ca){var la=ca.getLabelExpression();ca=ca.where;"arcade"===la.type?yield p(ea,
U,la.expression):(la=la.expression.match(/{[^}]*}/g))&&la.forEach(Ca=>{r(ea,U,Ca.slice(1,-1))});yield v(ea,U,ca)}});return K.apply(this,arguments)}function H(ea){return"number"===typeof ea&&!isNaN(ea)&&isFinite(ea)}function O(ea){return null===ea||H(ea)}function Q(ea){return null===ea||V(ea)}function W(ea){return null!=ea&&"string"===typeof ea}function T(ea){return null===ea||W(ea)}function Y(){return!0}function X(ea,U){let ca;switch(ea.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":ca=
ea.nullable?Q:V;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":ca=ea.nullable?O:H;break;case "string":case "esriFieldTypeString":ca=ea.nullable?T:W;break;default:ca=Y}return 1===arguments.length?ca:ca(U)}function ra(ea){return null!=ea&&oa.has(ea.type)}function Ba(ea,U){return null==ea||ea.nullable&&null===U?null:ra(ea)&&!Ga(ea.type,Number(U))?b.NumericRangeValidationError.OUT_OF_RANGE:X(ea,U)?ea.domain?t.validateDomainValue(ea.domain,U):null:b.TypeValidationError.INVALID_TYPE}
function Ga(ea,U){ea="string"===typeof ea?Ha(ea):ea;if(!ea)return!1;const ca=ea.min,la=ea.max;return ea.isInteger?V(U)&&U>=ca&&U<=la:U>=ca&&U<=la}function Ha(ea){switch(ea){case "esriFieldTypeSmallInteger":case "small-integer":return P;case "esriFieldTypeInteger":case "integer":return Z;case "esriFieldTypeSingle":case "single":return ia;case "esriFieldTypeDouble":case "double":return qa}}function da(ea,U,ca){if(!U||!U.attributes||!ea){if(d.isSome(ca))for(var la of ea??[])ca.add(la);return!0}U=U.attributes;
la=!1;for(const Ca of ea)if(!(Ca in U))if(la=!0,d.isSome(ca))ca.add(Ca);else break;return la}function na(){na=c._asyncToGenerator(function*(ea,U){const ca=new Set;for(const la of U)yield p(ca,ea.fieldsIndex,la);return Array.from(ca).sort()});return na.apply(this,arguments)}const xa=/^([0-9])/,Na=/[^a-z0-9_\u0080-\uffff]/gi,Oa=/_{2,}/g,N=/^_/,S=/_$/,ja="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),
wa=["field","normalizationField"],Ia=new Set,V=(()=>"isInteger"in Number?Number.isInteger:ea=>"number"===typeof ea&&isFinite(ea)&&Math.floor(ea)===ea)(),aa=["integer","small-integer","single","double"],oa=new Set([...aa,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);b.NumericRangeValidationError=void 0;(b.NumericRangeValidationError||(b.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";b.TypeValidationError=
void 0;(b.TypeValidationError||(b.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const P={min:-32768,max:32767,isInteger:!0},Z={min:-2147483648,max:2147483647,isInteger:!0},ia={min:-3.4E38,max:1.2E38,isInteger:!1},qa={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};b.collectArcadeFieldNames=p;b.collectElevationFields=z;b.collectFeatureReductionFields=function(ea,U,ca){return w.apply(this,arguments)};b.collectField=r;b.collectFields=l;b.collectFilterFields=function(ea,
U,ca){return E.apply(this,arguments)};b.collectLabelingFields=L;b.collectOrderByInfos=function(ea,U,ca){return y.apply(this,arguments)};b.collectPopupTemplateFields=A;b.doubleRange=qa;b.featureHasFields=function(ea,U){return!da(ea,U,null)};b.fixFields=g;b.fixRendererFields=function(ea,U){if(null!=ea&&null!=U)for(const ca of Array.isArray(ea)?ea:[ea])if(f(ja,ca,U),"visualVariables"in ca&&ca.visualVariables)for(const la of ca.visualVariables)f(wa,la,U)};b.fixTimeInfoFields=function(ea,U){if(null!=ea&&
U?.fields?.length)if("startField"in ea){var ca=U.get(ea.startField);U=U.get(ea.endField);ea.startField=ca?.name??null;ea.endField=U?.name??null}else ca=U.get(ea.startTimeField),U=U.get(ea.endTimeField),ea.startTimeField=ca?.name??null,ea.endTimeField=U?.name??null};b.getDisplayFieldName=function({displayField:ea,fields:U}){if(ea)return ea;if(!U||!U.length)return null;if(!(ea=q(U,"name-or-title")||q(U,"unique-identifier")||q(U,"type-or-category")))a:{for(const ca of U)if(ca&&ca.name&&(U=ca.name.toLowerCase(),
U.includes("name")||U.includes("title"))){ea=ca.name;break a}ea=null}return ea};b.getElevationFields=function(ea){return u.apply(this,arguments)};b.getExpressionFields=function(ea,U){return na.apply(this,arguments)};b.getFeatureEditFields=function(ea){if(!ea)return[];const U="editFieldsInfo"in ea&&ea.editFieldsInfo;return U?g(ea.fieldsIndex,[U&&U.creatorField,U&&U.creationDateField,U&&U.editorField,U&&U.editDateField]):[]};b.getFeatureGeometryFields=function(ea){if(!ea)return[];const U=ea.geometryFieldsInfo;
return U?g(ea.fieldsIndex,[U.shapeAreaField,U.shapeLengthField]):[]};b.getFieldDefaultValue=function(ea){const U=ea.defaultValue;if(void 0!==U&&X(ea,U))return U;if(ea.nullable)return null};b.getFieldRange=function(ea){const U=t.getDomainRange(ea.domain);if(U)return U;if(ra(ea))return Ha(ea.type)};b.getLabelingFields=function(ea){return M.apply(this,arguments)};b.getNumericTypeForValue=function(ea){if(!H(ea))return null;if(V(ea)){if(ea>=P.min&&ea<=P.max)return"esriFieldTypeSmallInteger";if(ea>=Z.min&&
ea<=Z.max)return"esriFieldTypeInteger"}return ea>=ia.min&&ea<=ia.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};b.getTimeFields=function(ea){return J.apply(this,arguments)};b.integerRange=Z;b.isDateField=function(ea){return null!=ea&&("date"===ea.type||"esriFieldTypeDate"===ea.type)};b.isNumberInRange=Ga;b.isNumericField=ra;b.isRasterPixelValueField=function(ea){return ea?["raster.itempixelvalue","raster.servicepixelvalue"].some(U=>ea.toLowerCase().startsWith(U)):!1};b.isStringField=function(ea){return null!=
ea&&("string"===ea.type||"esriFieldTypeString"===ea.type)};b.isValidFieldValue=function(ea,U){return null===Ba(ea,U)};b.isValueMatchingFieldType=X;b.normalizeFieldName=function(ea){return null==ea?null:(ea=ea.trim().replace(Na,"_").replace(Oa,"_").replace(N,"").replace(S,"").replace(xa,"F$1"))?ea:null};b.numericTypes=aa;b.packFields=function(ea,U,ca=1){if(!U||!ea)return[];if(U.includes("*"))return["*"];U=g(ea,U);return U.length/ea.fields.length>=ca?["*"]:U};b.populateMissingFields=da;b.rendererFields=
ja;b.sanitizeNullFieldValue=function(ea){return null==ea||"number"===typeof ea&&isNaN(ea)?null:ea};b.singleRange=ia;b.smallIntegerRange=P;b.unpackFieldNames=function(ea,U){return d.isNone(U)||d.isNone(ea)?[]:U.includes("*")?(ea.fields??[]).map(ca=>ca.name):U};b.validateFieldValue=Ba;b.validationErrorToString=function(ea,U,ca){switch(ea){case t.DomainValidationError.INVALID_CODED_VALUE:return`Value ${ca} is not in the coded domain - field: ${U.name}, domain: ${JSON.stringify(U.domain)}`;case t.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${ca} is out of the range of valid values - field: ${U.name}, domain: ${JSON.stringify(U.domain)}`;
case b.TypeValidationError.INVALID_TYPE:return`Value ${ca} is not a valid value for the field type - field: ${U.name}, type: ${U.type}, nullable: ${U.nullable}`;case b.NumericRangeValidationError.OUT_OF_RANGE:const {min:la,max:Ca}=Ha(U.type);return`Value ${ca} is out of range for the number type - field: ${U.name}, type: ${U.type}, value range is ${la} to ${Ca}`}};b.visualVariableFields=wa;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/domainUtils":function(){define(["exports"],
function(a){a.DomainValidationError=void 0;(function(b){b.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";b.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(a.DomainValidationError||(a.DomainValidationError={}));a.getDomainRange=function(b){if(b&&"range"===b.type)return{min:"range"in b?b.range[0]:b.minValue,max:"range"in b?b.range[1]:b.maxValue}};a.validateDomainValue=function(b,c){switch(b.type){case "range":const e="range"in b?b.range[0]:b.minValue;b="range"in
b?b.range[1]:b.maxValue;if(null!=e&&+c<e||null!=b&&+c>b)return a.DomainValidationError.VALUE_OUT_OF_RANGE;break;case "coded-value":if(null==b.codedValues||b.codedValues.every(d=>null==d||d.code!==c))return a.DomainValidationError.INVALID_CODED_VALUE;break;case "codedValue":if(null==b.codedValues||b.codedValues.every(d=>null==d||d.code!==c))return a.DomainValidationError.INVALID_CODED_VALUE}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/arcadeOnDemand":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../geometry ../core/Error ../core/Logger ../core/maybe ../geometry/SpatialReference".split(" "),
function(a,b,c,e,d,k,t,m){function f(){l||(l=c._asyncToGenerator(function*(){const p=yield new Promise((n,v)=>a(["./arcadeUtils"],n,v));return{arcade:p.arcade,arcadeUtils:p,Dictionary:p.Dictionary,Feature:p.arcadeFeature}})());return l}const g=k.getLogger("esri.support.arcadeOnDemand");let l;e=(p,n,v)=>r.create(p,n,v,null,["$feature","$view"]);let r=function(){function p(v,h,q,u,z,x,w){this.script=v;this.evaluate=u;this.fields=Array.isArray(x)?x:x.fields;this._syntaxTree=q;this._arcade=h;this._arcadeFeature=
z;this._spatialReference=w;this._referencesGeometry=h.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}p.create=function(){var v=c._asyncToGenerator(function*(h,q,u,z,x,w){const {arcade:A,Feature:B,Dictionary:E}=yield f(),y=m.fromJSON(q);let C;try{C=A.parseScript(h,w)}catch(G){return g.error(new d("arcade-bad-expression","Failed to parse arcade script",{script:h,error:G})),null}x=x.reduce((G,K)=>({...G,[K]:null}),{});let D=null;
t.isSome(z)&&(D=new E(z),D.immutable=!0,x.$config=null);w=(z=A.scriptUsesGeometryEngine(C))&&A.enableGeometrySupport();const J=A.scriptUsesFeatureSet(C)&&A.enableFeatureSetSupport(),M=(q=A.scriptIsAsync(C))&&A.enableAsyncSupport();x={vars:x,spatialReference:y,useAsync:!!M};yield Promise.all([w,J,M]);w=new Set;yield A.loadDependentModules(w,C,null,q,z);const L=new E;L.immutable=!1;L.setField("scale",0);const I=A.compileScript(C,x);return new p(h,A,C,G=>{"$view"in G&&G.$view&&(L.setField("scale","object"===
typeof G.$view?G.$view.scale:void 0),G.$view=L);D&&(G.$config=D);return I({vars:G,spatialReference:y})},new B,u,y)});return function(h,q,u,z,x,w){return v.apply(this,arguments)}}();var n=p.prototype;n.repurposeFeature=function(v){v.geometry&&!v.geometry.spatialReference&&(v.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(v.geometry,v.attributes,{fields:this.fields});return this._arcadeFeature};n.referencesGeometry=function(){return this._referencesGeometry};
n.referencesScale=function(){return this._referencesScale};return p}();b.ArcadeExpression=r;b.createDictionaryExpression=(p,n,v,h)=>r.create(p,n,v,h,["$feature","$view"]);b.createLabelExpression=(p,n,v)=>r.create(p,n,v,null,["$feature"]);b.createRendererExpression=e;b.createVVExpression=e;b.loadArcade=f;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/unitConversionUtils":function(){define(["exports","../../renderers/support/lengthUtils"],function(a,b){const c=
function(){const e=Object.keys(b.meterIn);e.sort();return e}();a.getMetersPerUnit=function(e){return 1/(b.meterIn[e]||1)};a.supportedUnits=c;a.supportsUnit=function(e){return!!e&&null!=b.meterIn[e]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/lengthUtils":function(){define(["exports","../../core/unitUtils","../../geometry/support/Ellipsoid"],function(a,b,c){b={inches:b.convertUnit(1,"meters","inches"),feet:b.convertUnit(1,"meters","feet"),"us-feet":b.convertUnit(1,
"meters","us-feet"),yards:b.convertUnit(1,"meters","yards"),miles:b.convertUnit(1,"meters","miles"),"nautical-miles":b.convertUnit(1,"meters","nautical-miles"),millimeters:b.convertUnit(1,"meters","millimeters"),centimeters:b.convertUnit(1,"meters","centimeters"),decimeters:b.convertUnit(1,"meters","decimeters"),meters:b.convertUnit(1,"meters","meters"),kilometers:b.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/b.lengthToDegrees(1,"meters",c.earth.radius)};a.meterIn=b;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/PortalLayer":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../config ../../kernel ../../request ../../core/asyncUtils ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../support/layerUtils ../../portal/Portal ../../portal/PortalItem ../../portal/PortalUser ../../portal/support/portalItemUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A,B,E){var y=null,C=null;b.PortalLayer=D=>{D=function(J){function M(){var I=J.apply(this,arguments)||this;I.resourceReferences={portalItem:null,paths:[]};I.userHasEditingPrivileges=!0;I.userHasFullEditingPrivileges=!1;I.userHasUpdateItemPrivileges=!1;return I}c._inheritsLoose(M,J);var L=M.prototype;L.destroy=function(){this.portalItem=l.destroyMaybe(this.portalItem)};L.readPortalItem=function(I,G,K){if(G.itemId)return new A({id:G.itemId,portal:K&&
K.portal})};L.writePortalItem=function(I,G){I&&I.id&&(G.itemId=I.id)};L.loadFromPortal=function(){var I=c._asyncToGenerator(function*(G,K){if(this.portalItem&&this.portalItem.id)try{const H=yield new Promise((O,Q)=>a(["../../portal/support/layersLoader"],O,Q));r.throwIfAborted(K);return yield H.load({instance:this,supportedTypes:G.supportedTypes,validateItem:G.validateItem,supportsData:G.supportsData,layerModuleTypeMap:G.layerModuleTypeMap},K)}catch(H){throw r.isAbortError(H)||g.getLogger(this.declaredClass).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${H}`),
H;}});return function(G,K){return I.apply(this,arguments)}}();L.finishLoadEditablePortalLayer=function(){var I=c._asyncToGenerator(function*(G){this._set("userHasEditingPrivileges",yield this._fetchUserHasEditingPrivileges(G).catch(K=>{r.throwIfAbortError(K);return!0}))});return function(G){return I.apply(this,arguments)}}();L._setUserPrivileges=function(){var I=c._asyncToGenerator(function*(G,K){if(!d.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(K);if(this.url)try{const {features:{edit:H,
fullEdit:O},content:{updateItem:Q}}=yield this._fetchUserPrivileges(G,K);this._set("userHasEditingPrivileges",H);this._set("userHasFullEditingPrivileges",O);this._set("userHasUpdateItemPrivileges",Q)}catch(H){r.throwIfAbortError(H)}});return function(G,K){return I.apply(this,arguments)}}();L._fetchUserPrivileges=function(){var I=c._asyncToGenerator(function*(G,K){let H=this.portalItem;if(!G||!H||!H.loaded||H.sourceUrl)return this._fetchFallbackUserPrivileges(K);const O=G===H.id;if(O&&H.portal.user)return E.getUserPrivileges(H);
let Q;if(O)Q=H.portal.url;else try{Q=yield x.getOwningPortalUrl(this.url,K)}catch(T){r.throwIfAbortError(T)}if(!Q||!p.hasSameCanonicalPortal(Q,H.portal.url))return this._fetchFallbackUserPrivileges(K);let W;try{const T=l.isSome(K)?K.signal:null;W=yield k.id?.getCredential(`${Q}/sharing`,{prompt:!1,signal:T})}catch(T){r.throwIfAbortError(T)}if(!W)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(O?yield H.reload():(H=new A({id:G,portal:{url:Q}}),yield H.load(K)),H.portal.user)return E.getUserPrivileges(H)}catch(T){r.throwIfAbortError(T)}return{features:{edit:!0,
fullEdit:!1},content:{updateItem:!1}}});return function(G,K){return I.apply(this,arguments)}}();L._fetchFallbackUserPrivileges=function(){var I=c._asyncToGenerator(function*(G){let K=!0;try{K=yield this._fetchUserHasEditingPrivileges(G)}catch(H){r.throwIfAbortError(H)}return{features:{edit:K,fullEdit:!1},content:{updateItem:!1}}});return function(G){return I.apply(this,arguments)}}();L._fetchUserHasEditingPrivileges=function(){var I=c._asyncToGenerator(function*(G){const K=this.url?k.id?.findCredential(this.url):
null;if(!K)return!0;G=y===K?C:yield this._fetchEditingUser(G);y=K;C=G;return l.isNone(G)||null==G.privileges||G.privileges.includes("features:user:edit")});return function(G){return I.apply(this,arguments)}}();L._fetchEditingUser=function(){var I=c._asyncToGenerator(function*(G){var K=this.portalItem?.portal?.user;if(K)return K;K=k.id.findServerInfo(this.url??"");if(!K?.owningSystemUrl)return null;K=`${K.owningSystemUrl}/sharing/rest`;const H=w.getDefault();if(H&&H.loaded&&p.normalize(H.restUrl)===
p.normalize(K))return H.user;K=`${K}/community/self`;G=l.isSome(G)?G.signal:null;G=yield m.result(t(K,{authMode:"no-prompt",query:{f:"json"},signal:G}));return G.ok?B.fromJSON(G.value.data):null});return function(G){return I.apply(this,arguments)}}();L.read=function(I,G){G&&(G.layer=this);J.prototype.read.call(this,I,G)};L.write=function(I,G){const K=G&&G.portal,H=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||w.getDefault());return K&&H&&!p.hasSamePortal(H.restUrl,K.restUrl)?(G.messages&&
G.messages.push(new f("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):J.prototype.write.call(this,I,{...G,layer:this})};c._createClass(M,[{key:"portalItem",set:function(I){I!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",I))}}]);
return M}(D);e.__decorate([n.property({type:A})],D.prototype,"portalItem",null);e.__decorate([q.reader("web-document","portalItem",["itemId"])],D.prototype,"readPortalItem",null);e.__decorate([z.writer("web-document","portalItem",{itemId:{type:String}})],D.prototype,"writePortalItem",null);e.__decorate([n.property({clonable:!1})],D.prototype,"resourceReferences",void 0);e.__decorate([n.property({type:Boolean,readOnly:!0})],D.prototype,"userHasEditingPrivileges",void 0);e.__decorate([n.property({type:Boolean,
readOnly:!0})],D.prototype,"userHasFullEditingPrivileges",void 0);e.__decorate([n.property({type:Boolean,readOnly:!0})],D.prototype,"userHasUpdateItemPrivileges",void 0);return D=e.__decorate([u.subclass("esri.layers.mixins.PortalLayer")],D)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalItemUtils":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../geometry/projection","../../geometry/SpatialReference","../../geometry/support/webMercatorUtils"],
function(a,b,c,e,d){function k(g){return t.apply(this,arguments)}function t(){t=b._asyncToGenerator(function*(g){const l=g.spatialReference;if(l.isWGS84)return g.clone();if(l.isWebMercator)return d.webMercatorToGeographic(g);const r=e.WGS84;yield c.initializeProjection(l,r);return c.project(g,r)});return t.apply(this,arguments)}function m(g,l){return!!g.typeKeywords?.includes(l)}function f(){f=b._asyncToGenerator(function*(g){g=g.clone().normalize();let l;if(1<g.length)for(const r of g)l?r.width>
l.width&&(l=r):l=r;else l=g[0];return k(l)});return f.apply(this,arguments)}a.TypeKeyword={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table"};a.addTypeKeyword=function(g,l){if(!m(g,l)){const r=g.typeKeywords;r?r.push(l):g.typeKeywords=[l]}};a.getUserPrivileges=function(g){const {portal:l,isOrgItem:r,itemControl:p}=g;var n=l.user?.privileges;g=n?n.includes("features:user:edit"):!0;n=r?!!n?.includes("features:user:fullEdit"):
!1;const v="update"===p||"admin"===p;v?n=g=!0:n&&(g=!0);return{features:{edit:g,fullEdit:n},content:{updateItem:v}}};a.getWGS84ExtentForItem=function(g){return f.apply(this,arguments)};a.hasTypeKeyword=m;a.removeTypeKeyword=function(g,l){if(g=g.typeKeywords)l=g.indexOf(l),-1<l&&g.splice(l,1)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/SupportedGCSWkids ./support/zscale".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A,B,E,y,C,D){function J(){return!!fb&&q.isLoaded()}function M(ka){k.isNone(Da)&&(Da=Promise.all([q.load(),(new Promise((ta,pa)=>a(["../chunks/geometryEngineBase"],ta,pa))).then(ta=>ta.geometryEngineBase),new Promise((ta,pa)=>a(["./geometryAdapters/hydrated"],ta,pa))]));return Da.then(([,ta,{hydratedAdapter:pa}])=>{t.throwIfAborted(ka);Xa=pa;fb=ta.default;fb._enableProjection(q.pe);Va.notify()})}function L(ka,ta,pa=null,ya=null){return Array.isArray(ka)?
0===ka.length?[]:I(Xa,ka,ka[0].spatialReference,ta,pa,ya):I(Xa,[ka],ka.spatialReference,ta,pa,ya)[0]}function I(ka,ta,pa,ya,Pa=null,va=null){if(k.isNone(pa)||k.isNone(ya))return ta;if(O(pa,ya,Pa))return ta.map(Sa=>k.unwrap(W(Sa,pa,ya)));if(k.isNone(Pa)){const Sa=E.cacheKey(pa,ya);void 0!==Aa[Sa]?Pa=Aa[Sa]:(Pa=K(pa,ya,void 0),k.isNone(Pa)&&(Pa=new E),Aa[Sa]=Pa)}if(k.isNone(fb)||k.isNone(ka))throw new cb;return k.isSome(va)?fb._project(ka,ta,pa,ya,Pa,va):fb._project(ka,ta,pa,ya,Pa)}function G(ka,ta){if(!J())for(const pa of ka)if(k.isSome(pa)&&
!y.equals(pa.spatialReference,ta)&&y.isValid(pa.spatialReference)&&y.isValid(ta)&&!O(pa.spatialReference,ta))return f.trackAccess(Va),{pending:M(),geometries:null};return{pending:null,geometries:ka.map(pa=>k.isNone(pa)?null:y.equals(pa.spatialReference,ta)?pa:y.isValid(pa.spatialReference)&&y.isValid(ta)?H(pa,ta):null)}}function K(ka,ta,pa=null){if(k.isNone(ka)||k.isNone(ta))return null;if(k.isNone(fb)||k.isNone(Xa))throw new cb;ka=fb._getTransformation(Xa,ka,ta,pa,pa?.spatialReference);return null!==
ka?E.fromGE(ka):null}function H(ka,ta){try{const pa=L(ka,ta);if(null==pa)return null;"xmin"in ka&&"xmin"in pa&&(pa.zmin=ka.zmin,pa.zmax=ka.zmax);const ya=D.getGeometryZScaler(pa.type,ka.spatialReference,ta);k.isSome(ya)&&ya(pa);return pa}catch(pa){if(!(pa instanceof cb))throw pa;return null}}function O(ka,ta,pa){return pa?!1:y.equals(ka,ta)?!0:y.isValid(ka)&&y.isValid(ta)&&!!Za(ka,ta,Fb)}function Q(){Q=c._asyncToGenerator(function*(ka,ta,pa,ya){if(J())return t.waitTick(ya);if(Array.isArray(ka))for(const {source:Pa,
dest:va,geographicTransformation:Sa}of ka){if(!O(Pa,va,Sa))return M(ya)}else if(!O(ka,ta,pa))return M(ya);return t.waitTick(ya)});return Q.apply(this,arguments)}function W(ka,ta,pa){return ka?"x"in ka?T(ka,ta,new u,pa,0):"xmin"in ka?Ba(ka,ta,new v,pa,0):"rings"in ka?ra(ka,ta,new z,pa,0):"paths"in ka?X(ka,ta,new x,pa,0):"points"in ka?Y(ka,ta,new h,pa,0):null:null}function T(ka,ta,pa,ya,Pa){Ma[0]=ka.x;Ma[1]=ka.y;const va=ka.z;Ma[2]=void 0!==va?va:Pa;if(!na(Ma,ta,0,Ma,ya,0,1))return null;pa.x=Ma[0];
pa.y=Ma[1];pa.spatialReference=ya;void 0===va?(pa.z=void 0,pa.hasZ=!1):(pa.z=Ma[2],pa.hasZ=!0);void 0===ka.m?(pa.m=void 0,pa.hasM=!1):(pa.m=ka.m,pa.hasM=!0);return pa}function Y(ka,ta,pa,ya,Pa){const {points:va,hasZ:Sa,hasM:ba}=ka;ka=[];const Ja=va.length,Ra=[];for(var Ua of va)Ra.push(Ua[0],Ua[1],Sa?Ua[2]:Pa);if(!na(Ra,ta,0,Ra,ya,0,Ja))return null;for(ta=0;ta<Ja;++ta){Pa=3*ta;Ua=Ra[Pa];const $a=Ra[Pa+1];Sa&&ba?ka.push([Ua,$a,Ra[Pa+2],va[ta][3]]):Sa?ka.push([Ua,$a,Ra[Pa+2]]):ba?ka.push([Ua,$a,va[ta][2]]):
ka.push([Ua,$a])}pa.points=ka;pa.spatialReference=ya;pa.hasZ=Sa;pa.hasM=ba;return pa}function X(ka,ta,pa,ya,Pa){const {paths:va,hasZ:Sa,hasM:ba}=ka;ka=[];if(!xa(va,Sa??!1,ba??!1,ta,ka,ya,Pa))return null;pa.paths=ka;pa.spatialReference=ya;pa.hasZ=Sa;pa.hasM=ba;return pa}function ra(ka,ta,pa,ya,Pa){const {rings:va,hasZ:Sa,hasM:ba}=ka;ka=[];if(!xa(va,Sa??!1,ba??!1,ta,ka,ya,Pa))return null;pa.rings=ka;pa.spatialReference=ya;pa.hasZ=Sa;pa.hasM=ba;return pa}function Ba(ka,ta,pa,ya,Pa){const {xmin:va,ymin:Sa,
xmax:ba,ymax:Ja,hasZ:Ra,hasM:Ua}=ka;if(!Ga(va,Sa,Ra?ka.zmin:Pa,ta,Ma,ya))return null;pa.xmin=Ma[0];pa.ymin=Ma[1];Ra&&(pa.zmin=Ma[2]);if(!Ga(ba,Ja,Ra?ka.zmax:Pa,ta,Ma,ya))return null;pa.xmax=Ma[0];pa.ymax=Ma[1];Ra&&(pa.zmax=Ma[2]);Ua&&(pa.mmin=ka.mmin,pa.mmax=ka.mmax);pa.spatialReference=ya;return pa}function Ga(ka,ta,pa,ya,Pa,va){ib[0]=ka;ib[1]=ta;ib[2]=pa;return na(ib,ya,0,Pa,va,0,1)}function Ha(ka,ta,pa,ya){if(k.isNone(ta)||k.isNone(ya)||2>ka.length)return!1;2===ka.length&&(ib[0]=ka[0],ib[1]=ka[1],
ib[2]=0,ka=ib);return na(ka,ta,0,pa,ya,0,1)}function da(ka,ta,pa){if(k.isNone(ta))return!1;ta=S(ta,yb);ta=qb[ta][za.WGS84_COMPARABLE_LON_LAT];if(k.isNone(ta))return!1;ta(ka,0,ib,0);pa!==ib&&(pa[0]=ib[0],pa[1]=ib[1],2<pa.length&&(pa[2]=ib[2]));return!0}function na(ka,ta,pa,ya,Pa,va,Sa=1){ta=Za(ta,Pa,Fb);if(k.isNone(ta))return!1;if(ta===ja){if(ka===ya&&pa===va)return!0;Sa=pa+3*Sa;for(let ba=pa,Ja=va;ba<Sa;ba++,Ja++)ya[Ja]=ka[ba];return!0}Sa=pa+3*Sa;for(let ba=pa,Ja=va;ba<Sa;ba+=3,Ja+=3)ta(ka,ba,ya,
Ja);return!0}function xa(ka,ta,pa,ya,Pa,va,Sa=0){const ba=[];for(const Ja of ka)for(const Ra of Ja)ba.push(Ra[0],Ra[1],ta?Ra[2]:Sa);if(!na(ba,ya,0,ba,va,0,ba.length/3))return!1;ya=0;Pa.length=0;for(const Ja of ka){ka=[];for(const Ra of Ja)ta&&pa?ka.push([ba[ya++],ba[ya++],ba[ya++],Ra[3]]):ta?ka.push([ba[ya++],ba[ya++],ba[ya++]]):(pa?ka.push([ba[ya++],ba[ya++],Ra[2]]):ka.push([ba[ya++],ba[ya++]]),ya++);Pa.push(ka)}return!0}function Na(ka,ta,pa,ya){ta=ya+ta;if(ta<ya/2||pa>ta)return Number.MAX_VALUE;
ka=Math.abs(wb*ka)+Math.asin(pa/ta);return ka>=Math.PI/2?Number.MAX_VALUE:pa/Math.cos(ka)}function Oa(ka,ta,pa){const ya=Math.sin(ka);ka=Math.cos(ka);const Pa=Math.sin(ta);ta=Math.cos(ta);pa[0]=-ya;pa[4]=-Pa*ka;pa[8]=ta*ka;pa[12]=0;pa[1]=ka;pa[5]=-Pa*ya;pa[9]=ta*ya;pa[13]=0;pa[2]=0;pa[6]=ta;pa[10]=Pa;pa[14]=0;pa[3]=0;pa[7]=0;pa[11]=0;pa[15]=1;return pa}function N(ka,ta,pa){Oa(ka,ta,pa);l.transpose(pa,pa);return pa}function S(ka,ta){if(!ka)return za.UNKNOWN;if(ta.spatialReference===ka)return ta.spatialReferenceId;
ta.spatialReference=ka;"metersPerUnit"in ta&&(ta.metersPerUnit=m.getMetersPerUnitForSR(ka,1));return ka.wkt===n.SphericalECEFSpatialReferenceLike.wkt?ta.spatialReferenceId=za.SPHERICAL_ECEF:y.isWGS84(ka)?ta.spatialReferenceId=za.WGS84:y.isWebMercator(ka)?ta.spatialReferenceId=za.WEB_MERCATOR:y.isPlateCarree(ka)?ta.spatialReferenceId=za.PLATE_CARREE:ka.wkt===n.WGS84ECEFSpatialReferenceLike.wkt?ta.spatialReferenceId=za.WGS84_ECEF:ka.wkid===C.SupportedGCSWkids.CGCS2000?ta.spatialReferenceId=za.CGCS2000:
ka.wkt===n.SphericalPCPFMarsLike.wkt?ta.spatialReferenceId=za.SPHERICAL_MARS_PCPF:ka.wkt===n.SphericalPCPFMoonLike.wkt?ta.spatialReferenceId=za.SPHERICAL_MOON_PCPF:y.isMars(ka)?ta.spatialReferenceId=za.GCSMARS2000:y.isMoon(ka)?ta.spatialReferenceId=za.GCSMOON2000:ta.spatialReferenceId=za.UNKNOWN}function ja(ka,ta,pa,ya){ka!==pa&&(pa[ya++]=ka[ta++],pa[ya++]=ka[ta++],pa[ya]=ka[ta])}function wa(ka,ta,pa,ya){pa[ya++]=zb*(ka[ta++]/A.earth.radius);pa[ya++]=zb*(Math.PI/2-2*Math.atan(Math.exp(-ka[ta++]/A.earth.radius)));
pa[ya]=ka[ta]}function Ia(ka,ta,pa,ya){wa(ka,ta,pa,ya);ca(pa,ya,pa,ya)}function V(ka,ta,pa,ya){wa(ka,ta,pa,ya);ua(pa,ya,pa,ya)}function aa(ka,ta,pa,ya,Pa){var va=.4999999*Math.PI;va=d.clamp(wb*ka[ta+1],-va,va);va=Math.sin(va);pa[ya++]=wb*ka[ta]*Pa.radius;pa[ya++]=Pa.halfSemiMajorAxis*Math.log((1+va)/(1-va));pa[ya]=ka[ta+2]}function oa(ka,ta,pa,ya){aa(ka,ta,pa,ya,A.earth)}function P(ka,ta,pa,ya){pa[ya]=ka[ta]*tb;pa[ya+1]=ka[ta+1]*tb;pa[ya+2]=ka[ta+2]}function Z(ka,ta,pa,ya){pa[ya]=ka[ta]*Ab;pa[ya+
1]=ka[ta+1]*Ab;pa[ya+2]=ka[ta+2]}function ia(ka,ta,pa,ya){wa(ka,ta,pa,ya);P(pa,ya,pa,ya)}function qa(ka,ta,pa,ya,Pa){Pa+=ka[ta+2];const va=wb*ka[ta+1];ka=wb*ka[ta];ta=Math.cos(va);pa[ya++]=Math.cos(ka)*ta*Pa;pa[ya++]=Math.sin(ka)*ta*Pa;pa[ya]=Math.sin(va)*Pa}function ea(ka,ta,pa,ya){qa(ka,ta,pa,ya,A.moon.radius)}function U(ka,ta,pa,ya){qa(ka,ta,pa,ya,A.mars.radius)}function ca(ka,ta,pa,ya){qa(ka,ta,pa,ya,A.earth.radius)}function la(ka,ta,pa,ya,Pa){var va=ka[ta];const Sa=ka[ta+1];ta=ka[ta+2];ka=Math.sqrt(va*
va+Sa*Sa+ta*ta);ta=d.asinClamped(ta/(0===ka?1:ka));va=Math.atan2(Sa,va);pa[ya++]=zb*va;pa[ya++]=zb*ta;pa[ya]=ka-Pa}function Ca(ka,ta,pa,ya){la(ka,ta,pa,ya,A.moon.radius)}function Qa(ka,ta,pa,ya){la(ka,ta,pa,ya,A.mars.radius)}function fa(ka,ta,pa,ya){la(ka,ta,pa,ya,A.earth.radius)}function ma(ka,ta,pa,ya){fa(ka,ta,pa,ya);oa(pa,ya,pa,ya)}function Fa(ka,ta,pa,ya){fa(ka,ta,pa,ya);ua(pa,ya,pa,ya)}function ua(ka,ta,pa,ya){var Pa=A.earth;const va=wb*ka[ta];var Sa=wb*ka[ta+1];ka=ka[ta+2];ta=Math.sin(Sa);
Sa=Math.cos(Sa);const ba=Pa.radius/Math.sqrt(1-Pa.eccentricitySquared*ta*ta);pa[ya++]=(ba+ka)*Sa*Math.cos(va);pa[ya++]=(ba+ka)*Sa*Math.sin(va);pa[ya++]=(ba*(1-Pa.eccentricitySquared)+ka)*ta}function Ka(ka,ta,pa,ya){var Pa=B.earthEllipsoidConstants,va=ka[ta],Sa=ka[ta+1];ka=ka[ta+2];let ba;ta=Math.abs(ka);var Ja=va*va+Sa*Sa;var Ra=Math.sqrt(Ja);var Ua=Ja+ka*ka;var $a=Math.sqrt(Ua);va=Math.atan2(Sa,va);var eb=ka*ka/Ua;Ua=Ja/Ua;Sa=Pa.a2/$a;Ja=Pa.a3-Pa.a4/$a;.3<Ua?(eb=ta/$a*(1+Ua*(Pa.a1+Sa+eb*Ja)/$a),
$a=Math.asin(eb),Sa=eb*eb,Ua=Math.sqrt(1-Sa)):(Ua=Ra/$a*(1-eb*(Pa.a5-Sa-Ua*Ja)/$a),$a=Math.acos(Ua),Sa=1-Ua*Ua,eb=Math.sqrt(Sa));ba=1-A.earth.eccentricitySquared*Sa;Sa=A.earth.radius/Math.sqrt(ba);Pa=Pa.a6*Sa;Sa=Ra-Sa*Ua;Ja=ta-Pa*eb;ta=Ua*Sa+eb*Ja;Ra=Ua*Ja-eb*Sa;Pa=Ra/(Pa/ba+ta);$a+=Pa;0>ka&&($a=-$a);pa[ya++]=zb*va;pa[ya++]=zb*$a;pa[ya]=ta+Ra*Pa/2}function Ta(ka,ta,pa,ya){Ka(ka,ta,pa,ya);ca(pa,ya,pa,ya)}function Wa(ka,ta,pa,ya){Ka(ka,ta,pa,ya);oa(pa,ya,pa,ya)}function Za(ka,ta,pa=ab()){return k.isNone(ka)||
k.isNone(ta)?null:bb(ka,ta,pa).projector}function bb(ka,ta,pa){if(k.isNone(ka)||k.isNone(ta)||pa.source.spatialReference===ka&&pa.dest.spatialReference===ta)return pa;const ya=S(ka,pa.source),Pa=S(ta,pa.dest);ya===za.UNKNOWN&&Pa===za.UNKNOWN?y.equals(ka,ta)?pa.projector=ja:pa.projector=null:pa.projector=qb[ya][Pa];return pa}function ab(){return{source:{spatialReference:null,spatialReferenceId:za.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:za.UNKNOWN,metersPerUnit:1},projector:ja}}
let fb=null,Xa=null,Da=null,Aa={};const Va=new g.SimpleObservable;let cb=function(ka){function ta(){return ka.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")||this}c._inheritsLoose(ta,ka);return ta}(e);var za;(function(ka){ka[ka.UNKNOWN=0]="UNKNOWN";ka[ka.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";ka[ka.WGS84=2]="WGS84";ka[ka.WEB_MERCATOR=3]="WEB_MERCATOR";ka[ka.WGS84_ECEF=4]="WGS84_ECEF";ka[ka.CGCS2000=5]="CGCS2000";ka[ka.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";
ka[ka.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";ka[ka.GCSMARS2000=8]="GCSMARS2000";ka[ka.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";ka[ka.GCSMOON2000=10]="GCSMOON2000";ka[ka.LON_LAT=11]="LON_LAT";ka[ka.PLATE_CARREE=12]="PLATE_CARREE"})(za||(za={}));const tb=A.earth.radius*Math.PI/180,Ab=180/(A.earth.radius*Math.PI),qb={[za.WGS84]:{[za.CGCS2000]:null,[za.GCSMARS2000]:null,[za.GCSMOON2000]:null,[za.LON_LAT]:ja,[za.WGS84_COMPARABLE_LON_LAT]:ja,[za.SPHERICAL_ECEF]:ca,[za.SPHERICAL_MARS_PCPF]:null,
[za.SPHERICAL_MOON_PCPF]:null,[za.UNKNOWN]:null,[za.WEB_MERCATOR]:oa,[za.PLATE_CARREE]:P,[za.WGS84]:ja,[za.WGS84_ECEF]:ua},[za.CGCS2000]:{[za.CGCS2000]:ja,[za.GCSMARS2000]:null,[za.GCSMOON2000]:null,[za.LON_LAT]:ja,[za.WGS84_COMPARABLE_LON_LAT]:ja,[za.SPHERICAL_ECEF]:ca,[za.SPHERICAL_MARS_PCPF]:null,[za.SPHERICAL_MOON_PCPF]:null,[za.UNKNOWN]:null,[za.WEB_MERCATOR]:null,[za.PLATE_CARREE]:P,[za.WGS84]:null,[za.WGS84_ECEF]:ua},[za.GCSMARS2000]:{[za.CGCS2000]:null,[za.GCSMARS2000]:ja,[za.GCSMOON2000]:null,
[za.LON_LAT]:ja,[za.WGS84_COMPARABLE_LON_LAT]:null,[za.SPHERICAL_ECEF]:null,[za.SPHERICAL_MARS_PCPF]:U,[za.SPHERICAL_MOON_PCPF]:null,[za.UNKNOWN]:null,[za.WEB_MERCATOR]:null,[za.PLATE_CARREE]:null,[za.WGS84]:null,[za.WGS84_ECEF]:null},[za.GCSMOON2000]:{[za.CGCS2000]:null,[za.GCSMARS2000]:null,[za.GCSMOON2000]:ja,[za.LON_LAT]:ja,[za.WGS84_COMPARABLE_LON_LAT]:null,[za.SPHERICAL_ECEF]:null,[za.SPHERICAL_MARS_PCPF]:null,[za.SPHERICAL_MOON_PCPF]:ea,[za.UNKNOWN]:null,[za.WEB_MERCATOR]:null,[za.PLATE_CARREE]:null,
[za.WGS84]:null,[za.WGS84_ECEF]:null},[za.WEB_MERCATOR]:{[za.CGCS2000]:null,[za.GCSMARS2000]:null,[za.GCSMOON2000]:null,[za.LON_LAT]:wa,[za.WGS84_COMPARABLE_LON_LAT]:wa,[za.SPHERICAL_ECEF]:Ia,[za.SPHERICAL_MARS_PCPF]:null,[za.SPHERICAL_MOON_PCPF]:null,[za.UNKNOWN]:null,[za.WEB_MERCATOR]:ja,[za.PLATE_CARREE]:ia,[za.WGS84]:wa,[za.WGS84_ECEF]:V},[za.WGS84_ECEF]:{[za.CGCS2000]:Ka,[za.GCSMARS2000]:null,[za.GCSMOON2000]:null,[za.LON_LAT]:Ka,[za.WGS84_COMPARABLE_LON_LAT]:Ka,[za.SPHERICAL_ECEF]:Ta,[za.SPHERICAL_MARS_PCPF]:null,
[za.SPHERICAL_MOON_PCPF]:null,[za.UNKNOWN]:null,[za.WEB_MERCATOR]:Wa,[za.PLATE_CARREE]:function(ka,ta,pa,ya){Ka(ka,ta,pa,ya);P(pa,ya,pa,ya)},[za.WGS84]:Ka,[za.WGS84_ECEF]:ja},[za.SPHERICAL_ECEF]:{[za.CGCS2000]:fa,[za.GCSMARS2000]:null,[za.GCSMOON2000]:null,[za.LON_LAT]:fa,[za.WGS84_COMPARABLE_LON_LAT]:fa,[za.SPHERICAL_ECEF]:ja,[za.SPHERICAL_MARS_PCPF]:null,[za.SPHERICAL_MOON_PCPF]:null,[za.UNKNOWN]:null,[za.WEB_MERCATOR]:ma,[za.PLATE_CARREE]:function(ka,ta,pa,ya){fa(ka,ta,pa,ya);P(pa,ya,pa,ya)},[za.WGS84]:fa,
[za.WGS84_ECEF]:Fa},[za.SPHERICAL_MARS_PCPF]:{[za.CGCS2000]:null,[za.GCSMARS2000]:Qa,[za.GCSMOON2000]:null,[za.LON_LAT]:Qa,[za.WGS84_COMPARABLE_LON_LAT]:null,[za.SPHERICAL_ECEF]:null,[za.SPHERICAL_MARS_PCPF]:ja,[za.SPHERICAL_MOON_PCPF]:null,[za.UNKNOWN]:null,[za.WEB_MERCATOR]:null,[za.PLATE_CARREE]:null,[za.WGS84]:null,[za.WGS84_ECEF]:null},[za.SPHERICAL_MOON_PCPF]:{[za.CGCS2000]:null,[za.GCSMARS2000]:null,[za.GCSMOON2000]:Ca,[za.LON_LAT]:Ca,[za.WGS84_COMPARABLE_LON_LAT]:null,[za.SPHERICAL_ECEF]:null,
[za.SPHERICAL_MARS_PCPF]:null,[za.SPHERICAL_MOON_PCPF]:ja,[za.UNKNOWN]:null,[za.WEB_MERCATOR]:null,[za.PLATE_CARREE]:null,[za.WGS84]:null,[za.WGS84_ECEF]:null},[za.UNKNOWN]:{[za.CGCS2000]:null,[za.GCSMARS2000]:null,[za.GCSMOON2000]:null,[za.LON_LAT]:null,[za.WGS84_COMPARABLE_LON_LAT]:null,[za.SPHERICAL_ECEF]:null,[za.SPHERICAL_MARS_PCPF]:null,[za.SPHERICAL_MOON_PCPF]:null,[za.UNKNOWN]:ja,[za.WEB_MERCATOR]:null,[za.PLATE_CARREE]:null,[za.WGS84]:null,[za.WGS84_ECEF]:null},[za.LON_LAT]:{[za.CGCS2000]:ja,
[za.GCSMARS2000]:ja,[za.GCSMOON2000]:ja,[za.LON_LAT]:ja,[za.WGS84_COMPARABLE_LON_LAT]:ja,[za.SPHERICAL_ECEF]:ca,[za.SPHERICAL_MARS_PCPF]:U,[za.SPHERICAL_MOON_PCPF]:ea,[za.UNKNOWN]:null,[za.WEB_MERCATOR]:oa,[za.PLATE_CARREE]:P,[za.WGS84]:ja,[za.WGS84_ECEF]:ua},[za.WGS84_COMPARABLE_LON_LAT]:{[za.CGCS2000]:null,[za.GCSMARS2000]:null,[za.GCSMOON2000]:null,[za.LON_LAT]:ja,[za.WGS84_COMPARABLE_LON_LAT]:ja,[za.SPHERICAL_ECEF]:ca,[za.SPHERICAL_MARS_PCPF]:null,[za.SPHERICAL_MOON_PCPF]:null,[za.UNKNOWN]:null,
[za.WEB_MERCATOR]:null,[za.PLATE_CARREE]:P,[za.WGS84]:ja,[za.WGS84_ECEF]:ua},[za.PLATE_CARREE]:{[za.CGCS2000]:Z,[za.GCSMARS2000]:null,[za.GCSMOON2000]:null,[za.LON_LAT]:Z,[za.WGS84_COMPARABLE_LON_LAT]:Z,[za.SPHERICAL_ECEF]:function(ka,ta,pa,ya){Z(ka,ta,pa,ya);ca(pa,ya,pa,ya)},[za.SPHERICAL_MARS_PCPF]:null,[za.SPHERICAL_MOON_PCPF]:null,[za.UNKNOWN]:null,[za.WEB_MERCATOR]:function(ka,ta,pa,ya){Z(ka,ta,pa,ya);oa(pa,ya,pa,ya)},[za.PLATE_CARREE]:ja,[za.WGS84]:Z,[za.WGS84_ECEF]:function(ka,ta,pa,ya){Z(ka,
ta,pa,ya);ua(pa,ya,pa,ya)}}},yb={spatialReference:null,spatialReferenceId:za.UNKNOWN},Eb={spatialReference:null,spatialReferenceId:za.UNKNOWN},Fb=ab(),Ib=ab(),wb=d.deg2rad(1),zb=d.rad2deg(1),ib=p.create(),rb=p.create(),vb=p.create(),Ma=p.create(),mb=p.create();b.canProjectToWGS84ComparableLonLat=function(ka){if(k.isNone(ka))return!1;ka=S(ka,yb);return!!qb[ka][za.WGS84_COMPARABLE_LON_LAT]};b.canProjectWithoutEngine=O;b.computeENUToSphericalPCPFLocalRotation=Oa;b.computeSphericalPCPFToENULocalRotation=
N;b.computeTranslationToOriginAndRotation=function(ka,ta,pa,ya){if(k.isNone(ka)||k.isNone(ya))return!1;var Pa=S(ka,yb),va=S(ya,Eb);if(Pa===va&&va!==za.SPHERICAL_ECEF&&va!==za.SPHERICAL_MARS_PCPF&&va!==za.SPHERICAL_MOON_PCPF&&(Pa!==za.UNKNOWN||y.equals(ka,ya)))return l.fromTranslation(pa,ta),!0;if(va===za.SPHERICAL_ECEF||va===za.SPHERICAL_MARS_PCPF||va===za.SPHERICAL_MOON_PCPF){Pa=qb[Pa][za.LON_LAT];va=qb[za.LON_LAT][va];if(k.isNone(Pa)||k.isNone(va))return!1;Pa(ta,0,rb,0);va(rb,0,vb,0);Oa(wb*rb[0],
wb*rb[1],pa);pa[12]=vb[0];pa[13]=vb[1];pa[14]=vb[2];return!0}if((va===za.WEB_MERCATOR||va===za.PLATE_CARREE)&&(Pa===za.WGS84||Pa===za.CGCS2000&&va===za.PLATE_CARREE||Pa===za.SPHERICAL_ECEF||Pa===za.WEB_MERCATOR)){ka=qb[Pa][za.LON_LAT];va=qb[za.LON_LAT][va];if(k.isNone(ka)||k.isNone(va))return!1;ka(ta,0,rb,0);va(rb,0,vb,0);Pa===za.SPHERICAL_ECEF?N(wb*rb[0],wb*rb[1],pa):l.identity(pa);pa[12]=vb[0];pa[13]=vb[1];pa[14]=vb[2];return!0}return!1};b.getProjectorName=function(ka,ta){switch(Za(ka,ta,Fb)){case ja:return"copy3";
case ca:return"wgs84ToSphericalECEF";case oa:return"wgs84ToWebMercator";case P:return"wgs84ToPlateCarree";case ua:return"wgs84ToWGS84ECEF";case wa:return"webMercatorToWGS84";case Ia:return"webMercatorToSphericalECEF";case V:return"webMercatorToWGS84ECEF";case ia:return"webMercatorToPlateCarree";case Ka:return"wgs84ECEFToWGS84";case Ta:return"wgs84ECEFToSphericalECEF";case Wa:return"wgs84ECEFToWebMercator";case fa:return"sphericalECEFToWGS84";case ma:return"sphericalECEFToWebMercator";case Qa:return"sphericalMarsPCPFToMars2000";
case Ca:return"sphericalMoonPCPFToMoon2000";case Fa:return"sphericalECEFToWGS84ECEF";case U:return"mars2000ToSphericalPCPF";case ea:return"moon2000ToSphericalPCPF";default:return null}};b.getTransformation=K;b.getTransformations=function(ka,ta,pa=null){if(k.isNone(fb)||k.isNone(Xa))throw new cb;ka=fb._getTransformationBySuitability(Xa,ka,ta,pa,pa?.spatialReference);if(null!==ka){ta=[];for(const ya of ka)ta.push(E.fromGE(ya));return ta}return[]};b.initializeProjection=function(ka,ta,pa,ya){return Q.apply(this,
arguments)};b.isLoaded=J;b.load=M;b.localLinearScaleFactors=function(ka,ta,pa,ya){if(k.isNone(ta)||k.isNone(ya))return!1;const Pa=S(ta,yb);var va=S(ya,Eb);if(Pa===va&&Pa!==za.UNKNOWN||y.equals(ta,ya))return pa[0]=1,pa[1]=1,pa[2]=1,!0;if(Pa===za.SPHERICAL_ECEF){ta=r.length(ka);ka=ta/Math.sqrt(ka[0]*ka[0]+ka[1]*ka[1]);ta/=A.earth.radius;if(va===za.WEB_MERCATOR)return pa[0]=ka*ta,pa[1]=ka*ta,pa[2]=1,!0;if(va===za.WGS84||va===za.CGCS2000)return va=Ab,pa[0]=va*ka*ta,pa[1]=va*ta,pa[2]=1,!0}else if(Pa===
za.PLATE_CARREE){if(va===za.WGS84||va===za.CGCS2000)return pa[0]=Ab,pa[1]=Ab,pa[2]=1,!0;if(va===za.WEB_MERCATOR)return va=ka[1]/A.earth.radius,pa[0]=1,pa[1]=1/Math.cos(va),pa[2]=1,!0}return!1};b.lonLatToSphericalPCPF=function(ka,ta,pa,ya){const Pa=Math.cos(pa);ka[0]=Math.cos(ta)*Pa*ya;ka[1]=Math.sin(ta)*Pa*ya;ka[2]=Math.sin(pa)*ya};b.lonLatToWebMercatorComparable=aa;b.project=L;b.projectBoundingRect=function(ka,ta,pa,ya){if(null==ka)return!1;if(y.equals(ta,ya))return w.copy(pa,ka),!0;ib[0]=ka[0];
ib[1]=ka[1];ib[2]=0;if(!na(ib,ta,0,ib,ya,0,1))return!1;pa[0]=ib[0];pa[1]=ib[1];ib[0]=ka[2];ib[1]=ka[3];ib[2]=0;if(!na(ib,ta,0,ib,ya,0,1))return!1;pa[2]=ib[0];pa[3]=ib[1];return!0};b.projectBoundingSphere=function(ka,ta,pa,ya){if(k.isNone(ta)||k.isNone(ya))return!1;ta=bb(ta,ya,Ib);if(ta.projector===ja)return pa[0]=ka[0],pa[1]=ka[1],pa[2]=ka[2],pa[3]=ka[3],!0;if(k.isNone(ta.projector))return!1;const {source:Pa,dest:va}=ta;if(va.spatialReferenceId===za.WEB_MERCATOR){ta=qb[Pa.spatialReferenceId][za.WGS84];
if(k.isNone(ta))return!1;ta(ka,0,rb,0);oa(rb,0,pa,0);pa[3]=Na(rb[1],ka[2],ka[3],A.earth.radius);return!0}if(Pa.spatialReferenceId!==za.WGS84&&Pa.spatialReferenceId!==za.CGCS2000||va.spatialReferenceId!==za.PLATE_CARREE)ta.projector(ka,0,pa,0),pa[3]=ka[3]*(Pa.metersPerUnit??1)/(va.metersPerUnit??1);else{ya=qb[za.SPHERICAL_ECEF][za.PLATE_CARREE];let Sa=ka[3];k.isSome(qb[Pa.spatialReferenceId][za.SPHERICAL_ECEF])&&k.isSome(ya)&&(Sa=Na(ka[1],ka[2],ka[3],A.earth.radius));ta.projector(ka,0,pa,0);pa[3]=
Sa}return!0};b.projectBuffer=na;b.projectDirection=function(ka,ta,pa,ya,Pa){r.copy(Ma,ka);r.add(mb,ka,ta);Ha(Ma,pa,Ma,Pa);Ha(mb,pa,mb,Pa);r.subtract(ya,mb,Ma);r.normalize(ya,ya)};b.projectExtent=function(ka,ta,pa=ta.spatialReference,ya=0){return k.isSome(ka.spatialReference)&&k.isSome(pa)&&k.isSome(Ba(ka,ka.spatialReference,ta,pa,ya))};b.projectMany=I;b.projectMultipoint=function(ka,ta,pa=ta.spatialReference,ya=0){return k.isSome(ka.spatialReference)&&k.isSome(pa)&&k.isSome(Y(ka,ka.spatialReference,
ta,pa,ya))};b.projectOrLoad=function(ka,ta){ka=G([ka],ta);return k.isSome(ka.pending)?{pending:ka.pending,geometry:null}:k.isSome(ka.geometries)?{pending:null,geometry:ka.geometries[0]}:{pending:null,geometry:null}};b.projectOrLoadMany=G;b.projectPoint=function(ka,ta,pa=ta.spatialReference,ya=0){return k.isSome(pa)&&k.isSome(ka.spatialReference)&&k.isSome(T(ka,ka.spatialReference,ta,pa,ya))};b.projectPointToVector=function(ka,ta,pa,ya=0){Ma[0]=ka.x;Ma[1]=ka.y;const Pa=ka.z;Ma[2]=void 0!==Pa?Pa:ya;
return na(Ma,ka.spatialReference,0,ta,pa,0,1)};b.projectPointToWGS84ComparableLonLat=function(ka,ta){Ma[0]=ka.x;Ma[1]=ka.y;const pa=ka.z;Ma[2]=void 0!==pa?pa:0;return da(Ma,ka.spatialReference,ta)};b.projectPolygon=function(ka,ta,pa=ta.spatialReference,ya=0){return k.isSome(ka.spatialReference)&&k.isSome(pa)&&k.isSome(ra(ka,ka.spatialReference,ta,pa,ya))};b.projectPolygonToWGS84ComparableLonLat=function({hasZ:ka,spatialReference:ta,rings:pa},ya,Pa=0){ta=S(ta,yb);ta=qb[ta][za.WGS84_COMPARABLE_LON_LAT];
if(k.isNone(ta))return!1;ka=ka?va=>va:va=>r.set(Ma,va[0],va[1],Pa);for(const va of pa){pa=[];for(const Sa of va){const ba=[0,0,Pa];ta(ka(Sa),0,ba,0);pa.push(ba)}ya.push(pa)}return!0};b.projectPolyline=function(ka,ta,pa=ta.spatialReference,ya=0){return k.isSome(ka.spatialReference)&&k.isSome(pa)&&k.isSome(X(ka,ka.spatialReference,ta,pa,ya))};b.projectPolylineToWGS84ComparableLonLat=function({hasZ:ka,spatialReference:ta,paths:pa},ya,Pa=0){ta=S(ta,yb);ta=qb[ta][za.WGS84_COMPARABLE_LON_LAT];if(k.isNone(ta))return!1;
ka=ka?va=>va:va=>r.set(Ma,va[0],va[1],Pa);for(const va of pa){pa=[];for(const Sa of va){const ba=[0,0,Pa];ta(ka(Sa),0,ba,0);pa.push(ba)}ya.push(pa)}return!0};b.projectVectorToDehydratedPoint=function(ka,ta,pa){return na(ka,ta,0,Ma,pa.spatialReference,0,1)?(pa.x=Ma[0],pa.y=Ma[1],pa.z=Ma[2],pa):null};b.projectVectorToPoint=function(ka,ta,pa){if(k.isNone(ta)||k.isNone(pa))return null;const ya=new u({spatialReference:pa});return na(ka,ta,0,Ma,pa,0,1)?(ya.x=Ma[0],ya.y=Ma[1],ya.z=Ma[2],ya):null};b.projectVectorToVector=
Ha;b.projectVectorToWGS84ComparableLonLat=function(ka,ta,pa){return da(ka,ta,pa)};b.projectWithoutEngine=W;b.projectXYZToVector=Ga;b.sphericalPCPFtoLonLatElevation=la;b.test={get loadPromise(){return Da}};b.tryProjectWithZConversion=H;b.unload=function(){Da=Xa=fb=null;Aa={}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(a,b,c){function e(N,S){N[0]=S[0];N[1]=S[1];N[2]=S[2];N[3]=S[3];N[4]=S[4];N[5]=S[5];
N[6]=S[6];N[7]=S[7];N[8]=S[8];N[9]=S[9];N[10]=S[10];N[11]=S[11];N[12]=S[12];N[13]=S[13];N[14]=S[14];N[15]=S[15];return N}function d(N,S,ja,wa,Ia,V,aa,oa,P,Z,ia,qa,ea,U,ca,la,Ca){N[0]=S;N[1]=ja;N[2]=wa;N[3]=Ia;N[4]=V;N[5]=aa;N[6]=oa;N[7]=P;N[8]=Z;N[9]=ia;N[10]=qa;N[11]=ea;N[12]=U;N[13]=ca;N[14]=la;N[15]=Ca;return N}function k(N){N[0]=1;N[1]=0;N[2]=0;N[3]=0;N[4]=0;N[5]=1;N[6]=0;N[7]=0;N[8]=0;N[9]=0;N[10]=1;N[11]=0;N[12]=0;N[13]=0;N[14]=0;N[15]=1;return N}function t(N,S){if(N===S){const ja=S[1],wa=S[2],
Ia=S[3],V=S[6],aa=S[7],oa=S[11];N[1]=S[4];N[2]=S[8];N[3]=S[12];N[4]=ja;N[6]=S[9];N[7]=S[13];N[8]=wa;N[9]=V;N[11]=S[14];N[12]=Ia;N[13]=aa;N[14]=oa}else N[0]=S[0],N[1]=S[4],N[2]=S[8],N[3]=S[12],N[4]=S[1],N[5]=S[5],N[6]=S[9],N[7]=S[13],N[8]=S[2],N[9]=S[6],N[10]=S[10],N[11]=S[14],N[12]=S[3],N[13]=S[7],N[14]=S[11],N[15]=S[15];return N}function m(N,S){f(N,S)||k(N);return N}function f(N,S){const ja=S[0],wa=S[1],Ia=S[2],V=S[3],aa=S[4],oa=S[5],P=S[6],Z=S[7],ia=S[8],qa=S[9],ea=S[10],U=S[11],ca=S[12],la=S[13],
Ca=S[14];S=S[15];const Qa=ja*oa-wa*aa,fa=ja*P-Ia*aa,ma=ja*Z-V*aa,Fa=wa*P-Ia*oa,ua=wa*Z-V*oa,Ka=Ia*Z-V*P,Ta=ia*la-qa*ca,Wa=ia*Ca-ea*ca,Za=ia*S-U*ca,bb=qa*Ca-ea*la,ab=qa*S-U*la,fb=ea*S-U*Ca;let Xa=Qa*fb-fa*ab+ma*bb+Fa*Za-ua*Wa+Ka*Ta;if(!Xa)return null;Xa=1/Xa;N[0]=(oa*fb-P*ab+Z*bb)*Xa;N[1]=(Ia*ab-wa*fb-V*bb)*Xa;N[2]=(la*Ka-Ca*ua+S*Fa)*Xa;N[3]=(ea*ua-qa*Ka-U*Fa)*Xa;N[4]=(P*Za-aa*fb-Z*Wa)*Xa;N[5]=(ja*fb-Ia*Za+V*Wa)*Xa;N[6]=(Ca*ma-ca*Ka-S*fa)*Xa;N[7]=(ia*Ka-ea*ma+U*fa)*Xa;N[8]=(aa*ab-oa*Za+Z*Ta)*Xa;N[9]=
(wa*Za-ja*ab-V*Ta)*Xa;N[10]=(ca*ua-la*ma+S*Qa)*Xa;N[11]=(qa*ma-ia*ua-U*Qa)*Xa;N[12]=(oa*Wa-aa*bb-P*Ta)*Xa;N[13]=(ja*bb-wa*Wa+Ia*Ta)*Xa;N[14]=(la*fa-ca*Fa-Ca*Qa)*Xa;N[15]=(ia*Fa-qa*fa+ea*Qa)*Xa;return N}function g(N,S){const ja=S[0],wa=S[1],Ia=S[2],V=S[3],aa=S[4],oa=S[5],P=S[6],Z=S[7],ia=S[8],qa=S[9],ea=S[10],U=S[11],ca=S[12],la=S[13],Ca=S[14];S=S[15];N[0]=oa*(ea*S-U*Ca)-qa*(P*S-Z*Ca)+la*(P*U-Z*ea);N[1]=-(wa*(ea*S-U*Ca)-qa*(Ia*S-V*Ca)+la*(Ia*U-V*ea));N[2]=wa*(P*S-Z*Ca)-oa*(Ia*S-V*Ca)+la*(Ia*Z-V*P);
N[3]=-(wa*(P*U-Z*ea)-oa*(Ia*U-V*ea)+qa*(Ia*Z-V*P));N[4]=-(aa*(ea*S-U*Ca)-ia*(P*S-Z*Ca)+ca*(P*U-Z*ea));N[5]=ja*(ea*S-U*Ca)-ia*(Ia*S-V*Ca)+ca*(Ia*U-V*ea);N[6]=-(ja*(P*S-Z*Ca)-aa*(Ia*S-V*Ca)+ca*(Ia*Z-V*P));N[7]=ja*(P*U-Z*ea)-aa*(Ia*U-V*ea)+ia*(Ia*Z-V*P);N[8]=aa*(qa*S-U*la)-ia*(oa*S-Z*la)+ca*(oa*U-Z*qa);N[9]=-(ja*(qa*S-U*la)-ia*(wa*S-V*la)+ca*(wa*U-V*qa));N[10]=ja*(oa*S-Z*la)-aa*(wa*S-V*la)+ca*(wa*Z-V*oa);N[11]=-(ja*(oa*U-Z*qa)-aa*(wa*U-V*qa)+ia*(wa*Z-V*oa));N[12]=-(aa*(qa*Ca-ea*la)-ia*(oa*Ca-P*la)+ca*
(oa*ea-P*qa));N[13]=ja*(qa*Ca-ea*la)-ia*(wa*Ca-Ia*la)+ca*(wa*ea-Ia*qa);N[14]=-(ja*(oa*Ca-P*la)-aa*(wa*Ca-Ia*la)+ca*(wa*P-Ia*oa));N[15]=ja*(oa*ea-P*qa)-aa*(wa*ea-Ia*qa)+ia*(wa*P-Ia*oa);return N}function l(N){const S=N[0],ja=N[1],wa=N[2],Ia=N[3],V=N[4],aa=N[5],oa=N[6],P=N[7],Z=N[8],ia=N[9],qa=N[10],ea=N[11],U=N[12],ca=N[13],la=N[14];N=N[15];return(S*aa-ja*V)*(qa*N-ea*la)-(S*oa-wa*V)*(ia*N-ea*ca)+(S*P-Ia*V)*(ia*la-qa*ca)+(ja*oa-wa*aa)*(Z*N-ea*U)-(ja*P-Ia*aa)*(Z*la-qa*U)+(wa*P-Ia*oa)*(Z*ca-ia*U)}function r(N,
S,ja){const wa=S[0],Ia=S[1],V=S[2],aa=S[3],oa=S[4],P=S[5],Z=S[6],ia=S[7],qa=S[8],ea=S[9],U=S[10],ca=S[11],la=S[12],Ca=S[13],Qa=S[14];S=S[15];let fa=ja[0],ma=ja[1],Fa=ja[2],ua=ja[3];N[0]=fa*wa+ma*oa+Fa*qa+ua*la;N[1]=fa*Ia+ma*P+Fa*ea+ua*Ca;N[2]=fa*V+ma*Z+Fa*U+ua*Qa;N[3]=fa*aa+ma*ia+Fa*ca+ua*S;fa=ja[4];ma=ja[5];Fa=ja[6];ua=ja[7];N[4]=fa*wa+ma*oa+Fa*qa+ua*la;N[5]=fa*Ia+ma*P+Fa*ea+ua*Ca;N[6]=fa*V+ma*Z+Fa*U+ua*Qa;N[7]=fa*aa+ma*ia+Fa*ca+ua*S;fa=ja[8];ma=ja[9];Fa=ja[10];ua=ja[11];N[8]=fa*wa+ma*oa+Fa*qa+ua*
la;N[9]=fa*Ia+ma*P+Fa*ea+ua*Ca;N[10]=fa*V+ma*Z+Fa*U+ua*Qa;N[11]=fa*aa+ma*ia+Fa*ca+ua*S;fa=ja[12];ma=ja[13];Fa=ja[14];ua=ja[15];N[12]=fa*wa+ma*oa+Fa*qa+ua*la;N[13]=fa*Ia+ma*P+Fa*ea+ua*Ca;N[14]=fa*V+ma*Z+Fa*U+ua*Qa;N[15]=fa*aa+ma*ia+Fa*ca+ua*S;return N}function p(N,S,ja){const wa=ja[0],Ia=ja[1];ja=ja[2];if(S===N)N[12]=S[0]*wa+S[4]*Ia+S[8]*ja+S[12],N[13]=S[1]*wa+S[5]*Ia+S[9]*ja+S[13],N[14]=S[2]*wa+S[6]*Ia+S[10]*ja+S[14],N[15]=S[3]*wa+S[7]*Ia+S[11]*ja+S[15];else{const V=S[0],aa=S[1],oa=S[2],P=S[3],Z=
S[4],ia=S[5],qa=S[6],ea=S[7],U=S[8],ca=S[9],la=S[10],Ca=S[11];N[0]=V;N[1]=aa;N[2]=oa;N[3]=P;N[4]=Z;N[5]=ia;N[6]=qa;N[7]=ea;N[8]=U;N[9]=ca;N[10]=la;N[11]=Ca;N[12]=V*wa+Z*Ia+U*ja+S[12];N[13]=aa*wa+ia*Ia+ca*ja+S[13];N[14]=oa*wa+qa*Ia+la*ja+S[14];N[15]=P*wa+ea*Ia+Ca*ja+S[15]}return N}function n(N,S,ja){const wa=ja[0],Ia=ja[1];ja=ja[2];N[0]=S[0]*wa;N[1]=S[1]*wa;N[2]=S[2]*wa;N[3]=S[3]*wa;N[4]=S[4]*Ia;N[5]=S[5]*Ia;N[6]=S[6]*Ia;N[7]=S[7]*Ia;N[8]=S[8]*ja;N[9]=S[9]*ja;N[10]=S[10]*ja;N[11]=S[11]*ja;N[12]=S[12];
N[13]=S[13];N[14]=S[14];N[15]=S[15];return N}function v(N,S,ja,wa){let Ia=wa[0],V=wa[1];wa=wa[2];let aa=Math.sqrt(Ia*Ia+V*V+wa*wa);var oa=void 0,P=void 0;let Z=void 0,ia=void 0,qa=void 0,ea=void 0,U=void 0,ca=void 0,la=void 0,Ca=void 0,Qa=void 0,fa=void 0,ma=void 0,Fa=void 0,ua=void 0,Ka=void 0,Ta=void 0,Wa=void 0,Za=void 0,bb=void 0,ab=void 0,fb=void 0;P=oa=void 0;if(aa<c.getEpsilon())return null;aa=1/aa;Ia*=aa;V*=aa;wa*=aa;oa=Math.sin(ja);P=Math.cos(ja);Z=1-P;ia=S[0];qa=S[1];ea=S[2];U=S[3];ca=S[4];
la=S[5];Ca=S[6];Qa=S[7];fa=S[8];ma=S[9];Fa=S[10];ua=S[11];Ka=Ia*Ia*Z+P;Ta=V*Ia*Z+wa*oa;Wa=wa*Ia*Z-V*oa;Za=Ia*V*Z-wa*oa;bb=V*V*Z+P;ab=wa*V*Z+Ia*oa;fb=Ia*wa*Z+V*oa;oa=V*wa*Z-Ia*oa;P=wa*wa*Z+P;N[0]=ia*Ka+ca*Ta+fa*Wa;N[1]=qa*Ka+la*Ta+ma*Wa;N[2]=ea*Ka+Ca*Ta+Fa*Wa;N[3]=U*Ka+Qa*Ta+ua*Wa;N[4]=ia*Za+ca*bb+fa*ab;N[5]=qa*Za+la*bb+ma*ab;N[6]=ea*Za+Ca*bb+Fa*ab;N[7]=U*Za+Qa*bb+ua*ab;N[8]=ia*fb+ca*oa+fa*P;N[9]=qa*fb+la*oa+ma*P;N[10]=ea*fb+Ca*oa+Fa*P;N[11]=U*fb+Qa*oa+ua*P;S!==N&&(N[12]=S[12],N[13]=S[13],N[14]=S[14],
N[15]=S[15]);return N}function h(N,S,ja){const wa=Math.sin(ja);ja=Math.cos(ja);const Ia=S[4],V=S[5],aa=S[6],oa=S[7],P=S[8],Z=S[9],ia=S[10],qa=S[11];S!==N&&(N[0]=S[0],N[1]=S[1],N[2]=S[2],N[3]=S[3],N[12]=S[12],N[13]=S[13],N[14]=S[14],N[15]=S[15]);N[4]=Ia*ja+P*wa;N[5]=V*ja+Z*wa;N[6]=aa*ja+ia*wa;N[7]=oa*ja+qa*wa;N[8]=P*ja-Ia*wa;N[9]=Z*ja-V*wa;N[10]=ia*ja-aa*wa;N[11]=qa*ja-oa*wa;return N}function q(N,S,ja){const wa=Math.sin(ja);ja=Math.cos(ja);const Ia=S[0],V=S[1],aa=S[2],oa=S[3],P=S[8],Z=S[9],ia=S[10],
qa=S[11];S!==N&&(N[4]=S[4],N[5]=S[5],N[6]=S[6],N[7]=S[7],N[12]=S[12],N[13]=S[13],N[14]=S[14],N[15]=S[15]);N[0]=Ia*ja-P*wa;N[1]=V*ja-Z*wa;N[2]=aa*ja-ia*wa;N[3]=oa*ja-qa*wa;N[8]=Ia*wa+P*ja;N[9]=V*wa+Z*ja;N[10]=aa*wa+ia*ja;N[11]=oa*wa+qa*ja;return N}function u(N,S,ja){const wa=Math.sin(ja);ja=Math.cos(ja);const Ia=S[0],V=S[1],aa=S[2],oa=S[3],P=S[4],Z=S[5],ia=S[6],qa=S[7];S!==N&&(N[8]=S[8],N[9]=S[9],N[10]=S[10],N[11]=S[11],N[12]=S[12],N[13]=S[13],N[14]=S[14],N[15]=S[15]);N[0]=Ia*ja+P*wa;N[1]=V*ja+Z*wa;
N[2]=aa*ja+ia*wa;N[3]=oa*ja+qa*wa;N[4]=P*ja-Ia*wa;N[5]=Z*ja-V*wa;N[6]=ia*ja-aa*wa;N[7]=qa*ja-oa*wa;return N}function z(N,S){N[0]=1;N[1]=0;N[2]=0;N[3]=0;N[4]=0;N[5]=1;N[6]=0;N[7]=0;N[8]=0;N[9]=0;N[10]=1;N[11]=0;N[12]=S[0];N[13]=S[1];N[14]=S[2];N[15]=1;return N}function x(N,S){N[0]=S[0];N[1]=0;N[2]=0;N[3]=0;N[4]=0;N[5]=S[1];N[6]=0;N[7]=0;N[8]=0;N[9]=0;N[10]=S[2];N[11]=0;N[12]=0;N[13]=0;N[14]=0;N[15]=1;return N}function w(N,S,ja){if(0===S)return k(N);let wa=ja[0],Ia=ja[1];ja=ja[2];let V=Math.sqrt(wa*
wa+Ia*Ia+ja*ja),aa=void 0,oa=void 0,P=void 0;if(V<c.getEpsilon())return null;V=1/V;wa*=V;Ia*=V;ja*=V;aa=Math.sin(S);oa=Math.cos(S);P=1-oa;N[0]=wa*wa*P+oa;N[1]=Ia*wa*P+ja*aa;N[2]=ja*wa*P-Ia*aa;N[3]=0;N[4]=wa*Ia*P-ja*aa;N[5]=Ia*Ia*P+oa;N[6]=ja*Ia*P+wa*aa;N[7]=0;N[8]=wa*ja*P+Ia*aa;N[9]=Ia*ja*P-wa*aa;N[10]=ja*ja*P+oa;N[11]=0;N[12]=0;N[13]=0;N[14]=0;N[15]=1;return N}function A(N,S){const ja=Math.sin(S);S=Math.cos(S);N[0]=1;N[1]=0;N[2]=0;N[3]=0;N[4]=0;N[5]=S;N[6]=ja;N[7]=0;N[8]=0;N[9]=-ja;N[10]=S;N[11]=
0;N[12]=0;N[13]=0;N[14]=0;N[15]=1;return N}function B(N,S){const ja=Math.sin(S);S=Math.cos(S);N[0]=S;N[1]=0;N[2]=-ja;N[3]=0;N[4]=0;N[5]=1;N[6]=0;N[7]=0;N[8]=ja;N[9]=0;N[10]=S;N[11]=0;N[12]=0;N[13]=0;N[14]=0;N[15]=1;return N}function E(N,S){const ja=Math.sin(S);S=Math.cos(S);N[0]=S;N[1]=ja;N[2]=0;N[3]=0;N[4]=-ja;N[5]=S;N[6]=0;N[7]=0;N[8]=0;N[9]=0;N[10]=1;N[11]=0;N[12]=0;N[13]=0;N[14]=0;N[15]=1;return N}function y(N,S,ja){var wa=S[0],Ia=S[1],V=S[2],aa=S[3],oa=wa+wa,P=Ia+Ia;const Z=V+V;S=wa*oa;const ia=
wa*P;wa*=Z;const qa=Ia*P;Ia*=Z;V*=Z;oa*=aa;P*=aa;aa*=Z;N[0]=1-(qa+V);N[1]=ia+aa;N[2]=wa-P;N[3]=0;N[4]=ia-aa;N[5]=1-(S+V);N[6]=Ia+oa;N[7]=0;N[8]=wa+P;N[9]=Ia-oa;N[10]=1-(S+qa);N[11]=0;N[12]=ja[0];N[13]=ja[1];N[14]=ja[2];N[15]=1;return N}function C(N,S){const ja=Oa,wa=-S[0],Ia=-S[1],V=-S[2],aa=S[3],oa=S[4],P=S[5],Z=S[6],ia=S[7],qa=wa*wa+Ia*Ia+V*V+aa*aa;0<qa?(ja[0]=2*(oa*aa+ia*wa+P*V-Z*Ia)/qa,ja[1]=2*(P*aa+ia*Ia+Z*wa-oa*V)/qa,ja[2]=2*(Z*aa+ia*V+oa*Ia-P*wa)/qa):(ja[0]=2*(oa*aa+ia*wa+P*V-Z*Ia),ja[1]=2*
(P*aa+ia*Ia+Z*wa-oa*V),ja[2]=2*(Z*aa+ia*V+oa*Ia-P*wa));y(N,S,ja);return N}function D(N,S){N[0]=S[12];N[1]=S[13];N[2]=S[14];return N}function J(N,S){const ja=S[0],wa=S[1],Ia=S[2],V=S[4],aa=S[5],oa=S[6],P=S[8],Z=S[9];S=S[10];N[0]=Math.sqrt(ja*ja+wa*wa+Ia*Ia);N[1]=Math.sqrt(V*V+aa*aa+oa*oa);N[2]=Math.sqrt(P*P+Z*Z+S*S);return N}function M(N,S){const ja=S[0]+S[5]+S[10];let wa=0;0<ja?(wa=2*Math.sqrt(ja+1),N[3]=.25*wa,N[0]=(S[6]-S[9])/wa,N[1]=(S[8]-S[2])/wa,N[2]=(S[1]-S[4])/wa):S[0]>S[5]&&S[0]>S[10]?(wa=
2*Math.sqrt(1+S[0]-S[5]-S[10]),N[3]=(S[6]-S[9])/wa,N[0]=.25*wa,N[1]=(S[1]+S[4])/wa,N[2]=(S[8]+S[2])/wa):S[5]>S[10]?(wa=2*Math.sqrt(1+S[5]-S[0]-S[10]),N[3]=(S[8]-S[2])/wa,N[0]=(S[1]+S[4])/wa,N[1]=.25*wa,N[2]=(S[6]+S[9])/wa):(wa=2*Math.sqrt(1+S[10]-S[0]-S[5]),N[3]=(S[1]-S[4])/wa,N[0]=(S[8]+S[2])/wa,N[1]=(S[6]+S[9])/wa,N[2]=.25*wa);return N}function L(N,S,ja,wa){var Ia=S[0],V=S[1],aa=S[2],oa=S[3],P=Ia+Ia,Z=V+V,ia=aa+aa;S=Ia*P;const qa=Ia*Z;Ia*=ia;const ea=V*Z;V*=ia;aa*=ia;P*=oa;Z*=oa;oa*=ia;ia=wa[0];
const U=wa[1];wa=wa[2];N[0]=(1-(ea+aa))*ia;N[1]=(qa+oa)*ia;N[2]=(Ia-Z)*ia;N[3]=0;N[4]=(qa-oa)*U;N[5]=(1-(S+aa))*U;N[6]=(V+P)*U;N[7]=0;N[8]=(Ia+Z)*wa;N[9]=(V-P)*wa;N[10]=(1-(S+ea))*wa;N[11]=0;N[12]=ja[0];N[13]=ja[1];N[14]=ja[2];N[15]=1;return N}function I(N,S,ja,wa,Ia){var V=S[0],aa=S[1],oa=S[2],P=S[3],Z=V+V,ia=aa+aa,qa=oa+oa;S=V*Z;var ea=V*ia,U=V*qa;V=aa*ia;aa*=qa;var ca=oa*qa;oa=P*Z;ia*=P;const la=P*qa;var Ca=wa[0],Qa=wa[1];qa=wa[2];wa=Ia[0];P=Ia[1];Ia=Ia[2];Z=(1-(V+ca))*Ca;const fa=(ea+la)*Ca;Ca*=
U-ia;ea=(ea-la)*Qa;ca=(1-(S+ca))*Qa;Qa*=aa+oa;U=(U+ia)*qa;aa=(aa-oa)*qa;S=(1-(S+V))*qa;N[0]=Z;N[1]=fa;N[2]=Ca;N[3]=0;N[4]=ea;N[5]=ca;N[6]=Qa;N[7]=0;N[8]=U;N[9]=aa;N[10]=S;N[11]=0;N[12]=ja[0]+wa-(Z*wa+ea*P+U*Ia);N[13]=ja[1]+P-(fa*wa+ca*P+aa*Ia);N[14]=ja[2]+Ia-(Ca*wa+Qa*P+S*Ia);N[15]=1;return N}function G(N,S){var ja=S[0],wa=S[1],Ia=S[2];S=S[3];var V=ja+ja,aa=wa+wa;const oa=Ia+Ia;ja*=V;const P=wa*V;wa*=aa;const Z=Ia*V,ia=Ia*aa;Ia*=oa;V*=S;aa*=S;S*=oa;N[0]=1-wa-Ia;N[1]=P+S;N[2]=Z-aa;N[3]=0;N[4]=P-S;
N[5]=1-ja-Ia;N[6]=ia+V;N[7]=0;N[8]=Z+aa;N[9]=ia-V;N[10]=1-ja-wa;N[11]=0;N[12]=0;N[13]=0;N[14]=0;N[15]=1;return N}function K(N,S,ja,wa,Ia,V,aa){const oa=1/(ja-S),P=1/(Ia-wa),Z=1/(V-aa);N[0]=2*V*oa;N[1]=0;N[2]=0;N[3]=0;N[4]=0;N[5]=2*V*P;N[6]=0;N[7]=0;N[8]=(ja+S)*oa;N[9]=(Ia+wa)*P;N[10]=(aa+V)*Z;N[11]=-1;N[12]=0;N[13]=0;N[14]=aa*V*2*Z;N[15]=0;return N}function H(N,S,ja,wa,Ia){S=1/Math.tan(S/2);let V=void 0;N[0]=S/ja;N[1]=0;N[2]=0;N[3]=0;N[4]=0;N[5]=S;N[6]=0;N[7]=0;N[8]=0;N[9]=0;N[11]=-1;N[12]=0;N[13]=
0;N[15]=0;null!=Ia&&Infinity!==Ia?(V=1/(wa-Ia),N[10]=(Ia+wa)*V,N[14]=2*Ia*wa*V):(N[10]=-1,N[14]=-2*wa);return N}function O(N,S,ja,wa){const Ia=Math.tan(S.upDegrees*Math.PI/180),V=Math.tan(S.downDegrees*Math.PI/180),aa=Math.tan(S.leftDegrees*Math.PI/180);S=Math.tan(S.rightDegrees*Math.PI/180);const oa=2/(aa+S),P=2/(Ia+V);N[0]=oa;N[1]=0;N[2]=0;N[3]=0;N[4]=0;N[5]=P;N[6]=0;N[7]=0;N[8]=-((aa-S)*oa*.5);N[9]=(Ia-V)*P*.5;N[10]=wa/(ja-wa);N[11]=-1;N[12]=0;N[13]=0;N[14]=wa*ja/(ja-wa);N[15]=0;return N}function Q(N,
S,ja,wa,Ia,V,aa){const oa=1/(S-ja),P=1/(wa-Ia),Z=1/(V-aa);N[0]=-2*oa;N[1]=0;N[2]=0;N[3]=0;N[4]=0;N[5]=-2*P;N[6]=0;N[7]=0;N[8]=0;N[9]=0;N[10]=2*Z;N[11]=0;N[12]=(S+ja)*oa;N[13]=(Ia+wa)*P;N[14]=(aa+V)*Z;N[15]=1;return N}function W(N,S,ja,wa){var Ia=void 0;let V=void 0;var aa=void 0,oa=void 0;let P=void 0,Z=void 0;var ia=void 0,qa=void 0;let ea=void 0,U=void 0;const ca=S[0],la=S[1];S=S[2];aa=wa[0];oa=wa[1];wa=wa[2];ia=ja[0];qa=ja[1];ja=ja[2];Ia=c.getEpsilon();if(Math.abs(ca-ia)<Ia&&Math.abs(la-qa)<Ia&&
Math.abs(S-ja)<Ia)return k(N);ia=ca-ia;qa=la-qa;ea=S-ja;U=1/Math.sqrt(ia*ia+qa*qa+ea*ea);ia*=U;qa*=U;ea*=U;Ia=oa*ea-wa*qa;V=wa*ia-aa*ea;aa=aa*qa-oa*ia;(U=Math.sqrt(Ia*Ia+V*V+aa*aa))?(U=1/U,Ia*=U,V*=U,aa*=U):aa=V=Ia=0;oa=qa*aa-ea*V;P=ea*Ia-ia*aa;Z=ia*V-qa*Ia;(U=Math.sqrt(oa*oa+P*P+Z*Z))?(U=1/U,oa*=U,P*=U,Z*=U):Z=P=oa=0;N[0]=Ia;N[1]=oa;N[2]=ia;N[3]=0;N[4]=V;N[5]=P;N[6]=qa;N[7]=0;N[8]=aa;N[9]=Z;N[10]=ea;N[11]=0;N[12]=-(Ia*ca+V*la+aa*S);N[13]=-(oa*ca+P*la+Z*S);N[14]=-(ia*ca+qa*la+ea*S);N[15]=1;return N}
function T(N,S,ja,wa){const Ia=S[0],V=S[1];S=S[2];var aa=wa[0];const oa=wa[1];var P=wa[2];wa=Ia-ja[0];let Z=V-ja[1];ja=S-ja[2];let ia=wa*wa+Z*Z+ja*ja;0<ia&&(ia=1/Math.sqrt(ia),wa*=ia,Z*=ia,ja*=ia);let qa=oa*ja-P*Z;P=P*wa-aa*ja;aa=aa*Z-oa*wa;ia=qa*qa+P*P+aa*aa;0<ia&&(ia=1/Math.sqrt(ia),qa*=ia,P*=ia,aa*=ia);N[0]=qa;N[1]=P;N[2]=aa;N[3]=0;N[4]=Z*aa-ja*P;N[5]=ja*qa-wa*aa;N[6]=wa*P-Z*qa;N[7]=0;N[8]=wa;N[9]=Z;N[10]=ja;N[11]=0;N[12]=Ia;N[13]=V;N[14]=S;N[15]=1;return N}function Y(N){return"mat4("+N[0]+", "+
N[1]+", "+N[2]+", "+N[3]+", "+N[4]+", "+N[5]+", "+N[6]+", "+N[7]+", "+N[8]+", "+N[9]+", "+N[10]+", "+N[11]+", "+N[12]+", "+N[13]+", "+N[14]+", "+N[15]+")"}function X(N){return Math.sqrt(N[0]**2+N[1]**2+N[2]**2+N[3]**2+N[4]**2+N[5]**2+N[6]**2+N[7]**2+N[8]**2+N[9]**2+N[10]**2+N[11]**2+N[12]**2+N[13]**2+N[14]**2+N[15]**2)}function ra(N,S,ja){N[0]=S[0]+ja[0];N[1]=S[1]+ja[1];N[2]=S[2]+ja[2];N[3]=S[3]+ja[3];N[4]=S[4]+ja[4];N[5]=S[5]+ja[5];N[6]=S[6]+ja[6];N[7]=S[7]+ja[7];N[8]=S[8]+ja[8];N[9]=S[9]+ja[9];
N[10]=S[10]+ja[10];N[11]=S[11]+ja[11];N[12]=S[12]+ja[12];N[13]=S[13]+ja[13];N[14]=S[14]+ja[14];N[15]=S[15]+ja[15];return N}function Ba(N,S,ja){N[0]=S[0]-ja[0];N[1]=S[1]-ja[1];N[2]=S[2]-ja[2];N[3]=S[3]-ja[3];N[4]=S[4]-ja[4];N[5]=S[5]-ja[5];N[6]=S[6]-ja[6];N[7]=S[7]-ja[7];N[8]=S[8]-ja[8];N[9]=S[9]-ja[9];N[10]=S[10]-ja[10];N[11]=S[11]-ja[11];N[12]=S[12]-ja[12];N[13]=S[13]-ja[13];N[14]=S[14]-ja[14];N[15]=S[15]-ja[15];return N}function Ga(N,S,ja){N[0]=S[0]*ja;N[1]=S[1]*ja;N[2]=S[2]*ja;N[3]=S[3]*ja;N[4]=
S[4]*ja;N[5]=S[5]*ja;N[6]=S[6]*ja;N[7]=S[7]*ja;N[8]=S[8]*ja;N[9]=S[9]*ja;N[10]=S[10]*ja;N[11]=S[11]*ja;N[12]=S[12]*ja;N[13]=S[13]*ja;N[14]=S[14]*ja;N[15]=S[15]*ja;return N}function Ha(N,S,ja,wa){N[0]=S[0]+ja[0]*wa;N[1]=S[1]+ja[1]*wa;N[2]=S[2]+ja[2]*wa;N[3]=S[3]+ja[3]*wa;N[4]=S[4]+ja[4]*wa;N[5]=S[5]+ja[5]*wa;N[6]=S[6]+ja[6]*wa;N[7]=S[7]+ja[7]*wa;N[8]=S[8]+ja[8]*wa;N[9]=S[9]+ja[9]*wa;N[10]=S[10]+ja[10]*wa;N[11]=S[11]+ja[11]*wa;N[12]=S[12]+ja[12]*wa;N[13]=S[13]+ja[13]*wa;N[14]=S[14]+ja[14]*wa;N[15]=
S[15]+ja[15]*wa;return N}function da(N,S){return N[0]===S[0]&&N[1]===S[1]&&N[2]===S[2]&&N[3]===S[3]&&N[4]===S[4]&&N[5]===S[5]&&N[6]===S[6]&&N[7]===S[7]&&N[8]===S[8]&&N[9]===S[9]&&N[10]===S[10]&&N[11]===S[11]&&N[12]===S[12]&&N[13]===S[13]&&N[14]===S[14]&&N[15]===S[15]}function na(N,S){if(N===S)return!0;const ja=N[0],wa=N[1],Ia=N[2],V=N[3],aa=N[4],oa=N[5],P=N[6],Z=N[7],ia=N[8],qa=N[9],ea=N[10],U=N[11],ca=N[12],la=N[13],Ca=N[14];N=N[15];const Qa=S[0],fa=S[1],ma=S[2],Fa=S[3],ua=S[4],Ka=S[5],Ta=S[6],Wa=
S[7],Za=S[8],bb=S[9],ab=S[10],fb=S[11],Xa=S[12],Da=S[13],Aa=S[14];S=S[15];const Va=c.getEpsilon();return Math.abs(ja-Qa)<=Va*Math.max(1,Math.abs(ja),Math.abs(Qa))&&Math.abs(wa-fa)<=Va*Math.max(1,Math.abs(wa),Math.abs(fa))&&Math.abs(Ia-ma)<=Va*Math.max(1,Math.abs(Ia),Math.abs(ma))&&Math.abs(V-Fa)<=Va*Math.max(1,Math.abs(V),Math.abs(Fa))&&Math.abs(aa-ua)<=Va*Math.max(1,Math.abs(aa),Math.abs(ua))&&Math.abs(oa-Ka)<=Va*Math.max(1,Math.abs(oa),Math.abs(Ka))&&Math.abs(P-Ta)<=Va*Math.max(1,Math.abs(P),Math.abs(Ta))&&
Math.abs(Z-Wa)<=Va*Math.max(1,Math.abs(Z),Math.abs(Wa))&&Math.abs(ia-Za)<=Va*Math.max(1,Math.abs(ia),Math.abs(Za))&&Math.abs(qa-bb)<=Va*Math.max(1,Math.abs(qa),Math.abs(bb))&&Math.abs(ea-ab)<=Va*Math.max(1,Math.abs(ea),Math.abs(ab))&&Math.abs(U-fb)<=Va*Math.max(1,Math.abs(U),Math.abs(fb))&&Math.abs(ca-Xa)<=Va*Math.max(1,Math.abs(ca),Math.abs(Xa))&&Math.abs(la-Da)<=Va*Math.max(1,Math.abs(la),Math.abs(Da))&&Math.abs(Ca-Aa)<=Va*Math.max(1,Math.abs(Ca),Math.abs(Aa))&&Math.abs(N-S)<=Va*Math.max(1,Math.abs(N),
Math.abs(S))}function xa(N){const S=c.getEpsilon(),ja=N[0],wa=N[1],Ia=N[2],V=N[4],aa=N[5],oa=N[6],P=N[8],Z=N[9];N=N[10];return Math.abs(1-(ja*ja+V*V+P*P))<=S&&Math.abs(1-(wa*wa+aa*aa+Z*Z))<=S&&Math.abs(1-(Ia*Ia+oa*oa+N*N))<=S}function Na(N){return 1===N[0]&&0===N[1]&&0===N[2]&&0===N[4]&&1===N[5]&&0===N[6]&&0===N[8]&&0===N[9]&&1===N[10]}const Oa=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,add:ra,adjoint:g,copy:e,determinant:l,equals:na,exactEquals:da,frob:X,fromQuat:G,fromQuat2:C,
fromRotation:w,fromRotationTranslation:y,fromRotationTranslationScale:L,fromRotationTranslationScaleOrigin:I,fromScaling:x,fromTranslation:z,fromXRotation:A,fromYRotation:B,fromZRotation:E,frustum:K,getRotation:M,getScaling:J,getTranslation:D,hasIdentityRotation:Na,identity:k,invert:f,invertOrIdentity:m,isOrthoNormal:xa,lookAt:W,mul:r,multiply:r,multiplyScalar:Ga,multiplyScalarAndAdd:Ha,ortho:Q,perspective:H,perspectiveFromFieldOfView:O,rotate:v,rotateX:h,rotateY:q,rotateZ:u,scale:n,set:d,str:Y,sub:Ba,
subtract:Ba,targetTo:T,translate:p,transpose:t},Symbol.toStringTag,{value:"Module"}));a.add=ra;a.adjoint=g;a.copy=e;a.determinant=l;a.equals=na;a.exactEquals=da;a.frob=X;a.fromQuat=G;a.fromQuat2=C;a.fromRotation=w;a.fromRotationTranslation=y;a.fromRotationTranslationScale=L;a.fromRotationTranslationScaleOrigin=I;a.fromScaling=x;a.fromTranslation=z;a.fromXRotation=A;a.fromYRotation=B;a.fromZRotation=E;a.frustum=K;a.getRotation=M;a.getScaling=J;a.getTranslation=D;a.hasIdentityRotation=Na;a.identity=
k;a.invert=f;a.invertOrIdentity=m;a.isOrthoNormal=xa;a.lookAt=W;a.mat4=b;a.mul=r;a.multiply=r;a.multiplyScalar=Ga;a.multiplyScalarAndAdd=Ha;a.ortho=Q;a.perspective=H;a.perspectiveFromFieldOfView=O;a.rotate=v;a.rotateX=h;a.rotateY=q;a.rotateZ=u;a.scale=n;a.set=d;a.str=Y;a.sub=Ba;a.subtract=Ba;a.targetTo=T;a.translate=p;a.transpose=t})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers","../assets","../core/has"],function(a,b,c,e,d){function k(){return!!b._pe}function t(){return!!d("esri-wasm")}
function m(){return n?n:n=(new Promise((h,q)=>a(["./pe-wasm"],h,q))).then(h=>h.peWasm).then(({default:h})=>h({locateFile:q=>e.getAssetUrl(`esri/geometry/support/${q}`)})).then(h=>{f(h)})}function f(h){function q(x,w,A){x[w]=A(x[w])}b._pe=h;b.PeDefs.init();b.PeGTlistExtended.init();b.PeNotationMgrs.init();b.PeNotationUtm.init();b.PePCSInfo.init();b.PeGCSExtent=function(x){function w(){return x.apply(this,arguments)||this}c._inheritsLoose(w,x);w.prototype.destroy=function(){b._pe.destroy(this)};return w}(b._pe.PeGCSExtent);
h=[b._pe.PeDatum,b._pe.PeGeogcs,b._pe.PeGeogtran,b._pe.PeObject,b._pe.PeParameter,b._pe.PePrimem,b._pe.PeProjcs,b._pe.PeSpheroid,b._pe.PeUnit];for(var u of h)q(u.prototype,"getName",x=>function(){return x.call(this,Array(b.PeDefs.PE_NAME_MAX))});for(const x of[b._pe.PeGeogtran,b._pe.PeProjcs])q(x.prototype,"getParameters",w=>function(){const A=Array(b.PeDefs.PE_PARM_MAX);let B=w.call(this);for(let E=0;E<A.length;E++){const y=b._pe.getValue(B,"*");A[E]=y?b._pe.wrapPointer(y,b._pe.PeParameter):null;
B+=Int32Array.BYTES_PER_ELEMENT}return A});q(b._pe.PeHorizon.prototype,"getCoord",x=>function(){const w=this.getSize();if(!w)return null;const A=[],B=x.call(this);p(A,w,B);return A});q(b._pe.PeGTlistExtendedEntry.prototype,"getEntries",x=>{const w=b._pe._pe_getPeGTlistExtendedGTsSize();return function(){let A=null;var B=x.call(this);if(!b._pe.compare(B,b._pe.NULL)){A=[B];const E=this.getSteps();if(1<E){B=b._pe.getPointer(B);for(let y=1;y<E;y++)A.push(b._pe.wrapPointer(B+w*y,b._pe.PeGTlistExtendedGTs))}}return A}});
const z=b._pe._pe_getPeHorizonSize();u=x=>function(){let w=this._cache;w||(this._cache=w=new Map);if(w.has(x))return w.get(x);let A=null;var B=x.call(this);if(!b._pe.compare(B,b._pe.NULL)){A=[B];const E=B.getNump();if(1<E){B=b._pe.getPointer(B);for(let y=1;y<E;y++)A.push(b._pe.wrapPointer(B+z*y,b._pe.PeHorizon))}}w.set(x,A);return A};q(b._pe.PeProjcs.prototype,"horizonGcsGenerate",u);q(b._pe.PeProjcs.prototype,"horizonPcsGenerate",u);b._pe.PeObject.prototype.toString=function(x=b.PeDefs.PE_STR_OPTS_NONE){b._pe.ensureCache.prepare();
const w=b._pe.getPointer(this),A=b._pe.ensureInt8(Array(b.PeDefs.PE_BUFFER_MAX));return b._pe.UTF8ToString(b._pe._pe_object_to_string_ext(w,x,A))}}function g(h){if(h){var q=b._pe.getClass(h);q&&(q=b._pe.getCache(q))&&(h=b._pe.getPointer(h))&&delete q[h]}}function l(h,q){const u=[];q=Array(q);for(let z=0;z<h;z++)u.push(b._pe.ensureInt8(q));return u}function r(h){let q;Array.isArray(h[0])?(q=[],h.forEach(u=>{q.push(u[0],u[1])})):q=h;return q}function p(h,q,u,z=!1){if(z)for(z=0;z<2*q;z++)h[z]=b._pe.getValue(u+
z*Float64Array.BYTES_PER_ELEMENT,"double");else{z=0===h.length;for(let x=0;x<q;x++)z&&(h[x]=Array(2)),h[x][0]=b._pe.getValue(u,"double"),h[x][1]=b._pe.getValue(u+Float64Array.BYTES_PER_ELEMENT,"double"),u+=2*Float64Array.BYTES_PER_ELEMENT}}let n;b._pe=null;b.PeCSTransformations=void 0;(function(h){function q(x,w,A){b._pe.ensureCache.prepare();var B=r(A);const E=A===B;B=b._pe.ensureFloat64(B);(x=b._pe._pe_geog_to_proj(b._pe.getPointer(x),w,B))&&p(A,w,B,E);return x}function u(x,w,A){return z(x,w,A,
0)}function z(x,w,A,B){b._pe.ensureCache.prepare();var E=r(A);const y=A===E;E=b._pe.ensureFloat64(E);(x=b._pe._pe_proj_to_geog_center(b._pe.getPointer(x),w,E,B))&&p(A,w,E,y);return x}h.geogToProj=q;h.projGeog=function(x,w,A,B){switch(B){case b.PeDefs.PE_TRANSFORM_P_TO_G:return u(x,w,A);case b.PeDefs.PE_TRANSFORM_G_TO_P:return q(x,w,A)}return 0};h.projToGeog=u;h.projToGeogCenter=z})(b.PeCSTransformations||(b.PeCSTransformations={}));b.PeDefs=void 0;(function(h){h.init=function(){h.PE_BUFFER_MAX=b._pe.PeDefs.prototype.PE_BUFFER_MAX;
h.PE_NAME_MAX=b._pe.PeDefs.prototype.PE_NAME_MAX;h.PE_MGRS_MAX=b._pe.PeDefs.prototype.PE_MGRS_MAX;h.PE_USNG_MAX=b._pe.PeDefs.prototype.PE_USNG_MAX;h.PE_DD_MAX=b._pe.PeDefs.prototype.PE_DD_MAX;h.PE_DDM_MAX=b._pe.PeDefs.prototype.PE_DDM_MAX;h.PE_DMS_MAX=b._pe.PeDefs.prototype.PE_DMS_MAX;h.PE_UTM_MAX=b._pe.PeDefs.prototype.PE_UTM_MAX;h.PE_PARM_MAX=b._pe.PeDefs.prototype.PE_PARM_MAX;h.PE_TYPE_NONE=b._pe.PeDefs.prototype.PE_TYPE_NONE;h.PE_TYPE_GEOGCS=b._pe.PeDefs.prototype.PE_TYPE_GEOGCS;h.PE_TYPE_PROJCS=
b._pe.PeDefs.prototype.PE_TYPE_PROJCS;h.PE_TYPE_GEOGTRAN=b._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;h.PE_TYPE_COORDSYS=b._pe.PeDefs.prototype.PE_TYPE_COORDSYS;h.PE_TYPE_UNIT=b._pe.PeDefs.prototype.PE_TYPE_UNIT;h.PE_TYPE_LINUNIT=b._pe.PeDefs.prototype.PE_TYPE_LINUNIT;h.PE_STR_OPTS_NONE=b._pe.PeDefs.prototype.PE_STR_OPTS_NONE;h.PE_STR_AUTH_NONE=b._pe.PeDefs.prototype.PE_STR_AUTH_NONE;h.PE_STR_AUTH_TOP=b._pe.PeDefs.prototype.PE_STR_AUTH_TOP;h.PE_STR_NAME_CANON=b._pe.PeDefs.prototype.PE_STR_NAME_CANON;h.PE_PARM_X0=
b._pe.PeDefs.prototype.PE_PARM_X0;h.PE_PARM_ND=b._pe.PeDefs.prototype.PE_PARM_ND;h.PE_TRANSFORM_1_TO_2=b._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;h.PE_TRANSFORM_2_TO_1=b._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;h.PE_TRANSFORM_P_TO_G=b._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;h.PE_TRANSFORM_G_TO_P=b._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;h.PE_HORIZON_RECT=b._pe.PeDefs.prototype.PE_HORIZON_RECT;h.PE_HORIZON_POLY=b._pe.PeDefs.prototype.PE_HORIZON_POLY;h.PE_HORIZON_LINE=b._pe.PeDefs.prototype.PE_HORIZON_LINE;
h.PE_HORIZON_DELTA=b._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(b.PeDefs||(b.PeDefs={}));b.PeFactory=void 0;(function(h){function q(w,A){let B=null,E=u[w];E||(E={},u[w]=E);E.hasOwnProperty(String(A))?B=E[A]:(w=b._pe.PeFactory.prototype.factoryByType(w,A),b._pe.compare(w,b._pe.NULL)||(B=w,E[A]=B));return B=x(B)}const u={},z={},x=w=>{if(w){const A=w.getType();switch(A){case b.PeDefs.PE_TYPE_GEOGCS:w=b._pe.castObject(w,b._pe.PeGeogcs);break;case b.PeDefs.PE_TYPE_PROJCS:w=b._pe.castObject(w,b._pe.PeProjcs);
break;case b.PeDefs.PE_TYPE_GEOGTRAN:w=b._pe.castObject(w,b._pe.PeGeogtran);break;default:A&b.PeDefs.PE_TYPE_UNIT&&(w=b._pe.castObject(w,b._pe.PeUnit))}}return w};h.initialize=function(){b._pe.PeFactory.prototype.initialize(null)};h.coordsys=function(w){return q(b.PeDefs.PE_TYPE_COORDSYS,w)};h.factoryByType=q;h.fromString=function(w,A){let B=null,E=z[w];E||(E={},z[w]=E);E.hasOwnProperty(A)?B=E[A]:(w=b._pe.PeFactory.prototype.fromString(w,A),b._pe.compare(w,b._pe.NULL)||(B=w,E[A]=B));return B=x(B)};
h.geogcs=function(w){return q(b.PeDefs.PE_TYPE_GEOGCS,w)};h.geogtran=function(w){return q(b.PeDefs.PE_TYPE_GEOGTRAN,w)};h.getCode=function(w){return b._pe.PeFactory.prototype.getCode(w)};h.projcs=function(w){return q(b.PeDefs.PE_TYPE_PROJCS,w)};h.unit=function(w){return q(b.PeDefs.PE_TYPE_UNIT,w)}})(b.PeFactory||(b.PeFactory={}));b.PeGCSExtent=null;b.PeGTlistExtended=void 0;(function(h){let q;h.init=function(){h.PE_GTLIST_OPTS_COMMON=b._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;q=b._pe._pe_getPeGTlistExtendedEntrySize()};
h.getGTlist=function(u,z,x,w,A,B){let E=null;const y=new b._pe.PeInteger(B);try{const C=b._pe.PeGTlistExtended.prototype.getGTlist(u,z,x,w,A,y);if(B=y.val)if(E=[C],1<B){const D=b._pe.getPointer(C);for(u=1;u<B;u++)E.push(b._pe.wrapPointer(D+q*u,b._pe.PeGTlistExtendedEntry))}}finally{b._pe.destroy(y)}return E}})(b.PeGTlistExtended||(b.PeGTlistExtended={}));b.PeGTlistExtendedEntry=void 0;(function(h){h.destroy=function(q){if(q&&q.length){for(const u of q)g(u),u.getEntries().forEach(z=>{g(z);z=z.getGeogtran();
g(z);z.getParameters().forEach(g);[z.getGeogcs1(),z.getGeogcs2()].forEach(x=>{g(x);const w=x.getDatum();g(w);g(w.getSpheroid());g(x.getPrimem());g(x.getUnit())})});b._pe.PeGTlistExtendedEntry.prototype.Delete(q[0])}}})(b.PeGTlistExtendedEntry||(b.PeGTlistExtendedEntry={}));b.PeGTTransformations=void 0;(function(h){h.geogToGeog=function(q,u,z,x,w){b._pe.ensureCache.prepare();var A=r(z);const B=z===A;A=b._pe.ensureFloat64(A);let E=0;x&&(E=b._pe.ensureFloat64(x));(q=b._pe._pe_geog_to_geog(b._pe.getPointer(q),
u,A,E,w))&&p(z,u,A,B);return q}})(b.PeGTTransformations||(b.PeGTTransformations={}));b.PeNotationDms=void 0;(function(h){const q=(z,x,w,A,B,E)=>{b._pe.ensureCache.prepare();switch(z){case "dd":var y=b._pe._pe_geog_to_dd;var C=b.PeDefs.PE_DD_MAX;break;case "ddm":y=b._pe._pe_geog_to_ddm;C=b.PeDefs.PE_DDM_MAX;break;case "dms":y=b._pe._pe_geog_to_dms,C=b.PeDefs.PE_DMS_MAX}z=0;x&&(z=b._pe.getPointer(x));x=r(A);x=b._pe.ensureFloat64(x);C=l(w,C);A=b._pe.ensureInt32(C);if(B=y(z,w,x,B,A))for(y=0;y<w;y++)E[y]=
b._pe.UTF8ToString(C[y]);return B},u=(z,x,w,A,B)=>{b._pe.ensureCache.prepare();switch(z){case "dd":var E=b._pe._pe_dd_to_geog;break;case "ddm":E=b._pe._pe_ddm_to_geog;break;case "dms":E=b._pe._pe_dms_to_geog}z=0;x&&(z=b._pe.getPointer(x));x=A.map(y=>b._pe.ensureString(y));A=b._pe.ensureInt32(x);x=b._pe.ensureFloat64(Array(2*w));(E=E(z,w,A,x))&&p(B,w,x);return E};h.geogToDms=function(z,x,w,A,B){return q("dms",z,x,w,A,B)};h.dmsToGeog=function(z,x,w,A){return u("dms",z,x,w,A)};h.geogToDdm=function(z,
x,w,A,B){return q("ddm",z,x,w,A,B)};h.ddmToGeog=function(z,x,w,A){return u("ddm",z,x,w,A)};h.geogToDd=function(z,x,w,A,B){return q("dd",z,x,w,A,B)};h.ddToGeog=function(z,x,w,A){return u("dd",z,x,w,A)}})(b.PeNotationDms||(b.PeNotationDms={}));b.PeNotationMgrs=void 0;(function(h){h.init=function(){h.PE_MGRS_STYLE_NEW=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;h.PE_MGRS_STYLE_OLD=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;h.PE_MGRS_STYLE_AUTO=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;
h.PE_MGRS_180_ZONE_1_PLUS=b._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;h.PE_MGRS_ADD_SPACES=b._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};h.geogToMgrsExtended=function(q,u,z,x,w,A,B){b._pe.ensureCache.prepare();let E=0;q&&(E=b._pe.getPointer(q));q=r(z);z=b._pe.ensureFloat64(q);q=l(u,b.PeDefs.PE_MGRS_MAX);const y=b._pe.ensureInt32(q);if(x=b._pe._pe_geog_to_mgrs_extended(E,u,z,x,w,A,y))for(w=0;w<u;w++)B[w]=b._pe.UTF8ToString(q[w]);return x};h.mgrsToGeogExtended=function(q,u,z,x,w){b._pe.ensureCache.prepare();
let A=0;q&&(A=b._pe.getPointer(q));q=z.map(B=>b._pe.ensureString(B));z=b._pe.ensureInt32(q);q=b._pe.ensureFloat64(Array(2*u));(x=b._pe._pe_mgrs_to_geog_extended(A,u,z,x,q))&&p(w,u,q);return x}})(b.PeNotationMgrs||(b.PeNotationMgrs={}));b.PeNotationUsng=void 0;(function(h){h.geogToUsng=function(q,u,z,x,w,A,B){b._pe.ensureCache.prepare();let E=0;q&&(E=b._pe.getPointer(q));q=r(z);z=b._pe.ensureFloat64(q);q=l(u,b.PeDefs.PE_MGRS_MAX);const y=b._pe.ensureInt32(q);if(x=b._pe._pe_geog_to_usng(E,u,z,x,w,A,
y))for(w=0;w<u;w++)B[w]=b._pe.UTF8ToString(q[w]);return x};h.usngToGeog=function(q,u,z,x){b._pe.ensureCache.prepare();var w=0;q&&(w=b._pe.getPointer(q));q=z.map(A=>b._pe.ensureString(A));z=b._pe.ensureInt32(q);q=b._pe.ensureFloat64(Array(2*u));(w=b._pe._pe_usng_to_geog(w,u,z,q))&&p(x,u,q);return w}})(b.PeNotationUsng||(b.PeNotationUsng={}));b.PeNotationUtm=void 0;(function(h){h.init=function(){h.PE_UTM_OPTS_NONE=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;h.PE_UTM_OPTS_ADD_SPACES=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;
h.PE_UTM_OPTS_NS=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};h.geogToUtm=function(q,u,z,x,w){b._pe.ensureCache.prepare();var A=0;q&&(A=b._pe.getPointer(q));q=r(z);z=b._pe.ensureFloat64(q);q=l(u,b.PeDefs.PE_UTM_MAX);const B=b._pe.ensureInt32(q);if(x=b._pe._pe_geog_to_utm(A,u,z,x,B))for(A=0;A<u;A++)w[A]=b._pe.UTF8ToString(q[A]);return x};h.utmToGeog=function(q,u,z,x,w){b._pe.ensureCache.prepare();let A=0;q&&(A=b._pe.getPointer(q));q=z.map(B=>b._pe.ensureString(B));z=b._pe.ensureInt32(q);q=b._pe.ensureFloat64(Array(2*
u));(x=b._pe._pe_utm_to_geog(A,u,z,x,q))&&p(w,u,q);return x}})(b.PeNotationUtm||(b.PeNotationUtm={}));b.PePCSInfo=void 0;(function(h){const q=new Map;h.init=function(){h.PE_PCSINFO_OPTION_NONE=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;h.PE_PCSINFO_OPTION_DOMAIN=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;h.PE_POLE_OUTSIDE_BOUNDARY=b._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;h.PE_POLE_POINT=b._pe.PePCSInfo.prototype.PE_POLE_POINT};h.generate=function(u,z=h.PE_PCSINFO_OPTION_DOMAIN){let x=
null,w=null;q.has(u)&&(w=q.get(u),w[z]&&(x=w[z]));x||(x=b._pe.PePCSInfo.prototype.generate(u,z),w||(w=[],q.set(u,w)),w[z]=x);return x}})(b.PePCSInfo||(b.PePCSInfo={}));b.PeVersion=void 0;(function(h){h.versionString=function(){return b._pe.PeVersion.prototype.version_string()}})(b.PeVersion||(b.PeVersion={}));const v=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return b.PeCSTransformations},get PeDefs(){return b.PeDefs},get PeFactory(){return b.PeFactory},get PeGCSExtent(){return b.PeGCSExtent},
get PeGTTransformations(){return b.PeGTTransformations},get PeGTlistExtended(){return b.PeGTlistExtended},get PeGTlistExtendedEntry(){return b.PeGTlistExtendedEntry},get PeNotationDms(){return b.PeNotationDms},get PeNotationMgrs(){return b.PeNotationMgrs},get PeNotationUsng(){return b.PeNotationUsng},get PeNotationUtm(){return b.PeNotationUtm},get PePCSInfo(){return b.PePCSInfo},get PeVersion(){return b.PeVersion},_init:f,get _pe(){return b._pe},isLoaded:k,isSupported:t,load:m},Symbol.toStringTag,
{value:"Module"}));b._init=f;b.isLoaded=k;b.isSupported=t;b.load=m;b.pe=v})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../../core/maybe","../Extent"],function(a,b,c,e,d){function k(n=p){return[n[0],n[1],n[2],n[3]]}function t(n,v){n!==v&&(n[0]=v[0],n[1]=v[1],n[2]=v[2],n[3]=v[3]);return n}function m(n){return e.isNone(n)||n[0]>=n[2]?0:n[2]-n[0]}function f(n){return n[1]>=n[3]?0:n[3]-n[1]}function g(n,v,h){return v>=n[0]&&h>=n[1]&&v<=
n[2]&&h<=n[3]}function l(n){return null!=n&&4===n.length}const r=[Infinity,Infinity,-Infinity,-Infinity],p=[0,0,0,0];a.NEGATIVE_INFINITY=r;a.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];a.UNIT=[0,0,1,1];a.ZERO=p;a.allFinite=function(n){for(let v=0;4>v;v++)if(!isFinite(n[v]))return!1;return!0};a.area=function(n){return m(n)*f(n)};a.center=function(n,v=[0,0]){v[0]=(n[0]+n[2])/2;v[1]=(n[1]+n[3])/2;return v};a.clone=function(n){return[n[0],n[1],n[2],n[3]]};a.contains=function(n,v){return v[0]>=
n[0]&&v[2]<=n[2]&&v[1]>=n[1]&&v[3]<=n[3]};a.containsPoint=function(n,v){return g(n,v[0],v[1])};a.containsPointObject=function(n,v){return g(n,v.x,v.y)};a.containsPointWithMargin=function(n,v,h){return v[0]>=n[0]-h&&v[1]>=n[1]-h&&v[0]<=n[2]+h&&v[1]<=n[3]+h};a.containsXY=g;a.containsXYWithMargin=function(n,v,h,q){return v>=n[0]-q&&h>=n[1]-q&&v<=n[2]+q&&h<=n[3]+q};a.copy=t;a.create=k;a.distance=function(n,v){const h=(n[1]+n[3])/2,q=Math.max(Math.abs(v[0]-(n[0]+n[2])/2)-m(n)/2,0);n=Math.max(Math.abs(v[1]-
h)-f(n)/2,0);return Math.sqrt(q*q+n*n)};a.empty=function(n){return n?t(n,r):k(r)};a.equals=function(n,v){return l(n)&&l(v)?n[0]===v[0]&&n[1]===v[1]&&n[2]===v[2]&&n[3]===v[3]:n===v};a.expand=function(n,v,h){if(e.isNone(v))t(h,n);else if("length"in v)if(l(v))h[0]=Math.min(n[0],v[0]),h[1]=Math.min(n[1],v[1]),h[2]=Math.max(n[2],v[2]),h[3]=Math.max(n[3],v[3]);else{if(2===v.length||3===v.length)h[0]=Math.min(n[0],v[0]),h[1]=Math.min(n[1],v[1]),h[2]=Math.max(n[2],v[0]),h[3]=Math.max(n[3],v[1])}else switch(v.type){case "extent":h[0]=
Math.min(n[0],v.xmin);h[1]=Math.min(n[1],v.ymin);h[2]=Math.max(n[2],v.xmax);h[3]=Math.max(n[3],v.ymax);break;case "point":h[0]=Math.min(n[0],v.x),h[1]=Math.min(n[1],v.y),h[2]=Math.max(n[2],v.x),h[3]=Math.max(n[3],v.y)}};a.expandPointInPlace=function(n,v){v[0]<n[0]&&(n[0]=v[0]);v[0]>n[2]&&(n[2]=v[0]);v[1]<n[1]&&(n[1]=v[1]);v[1]>n[3]&&(n[3]=v[1])};a.expandWithNestedArray=function(n,v,h=n){const q=v.length;let u=n[0],z=n[1],x=n[2];n=n[3];for(let w=0;w<q;w++){const A=v[w];u=Math.min(u,A[0]);z=Math.min(z,
A[1]);x=Math.max(x,A[0]);n=Math.max(n,A[1])}h[0]=u;h[1]=z;h[2]=x;h[3]=n;return h};a.fromExtent=function(n,v=k()){v[0]=n.xmin;v[1]=n.ymin;v[2]=n.xmax;v[3]=n.ymax;return v};a.fromValues=function(n,v,h,q,u=k()){u[0]=n;u[1]=v;u[2]=h;u[3]=q;return u};a.height=f;a.intersection=function(n,v,h){if(e.isNone(v))return t(h,n);const q=v[0],u=v[1],z=v[2];v=v[3];h[0]=c.clamp(n[0],q,z);h[1]=c.clamp(n[1],u,v);h[2]=c.clamp(n[2],q,z);h[3]=c.clamp(n[3],u,v);return h};a.intersects=function(n,v){return Math.max(v[0],
n[0])<=Math.min(v[2],n[2])&&Math.max(v[1],n[1])<=Math.min(v[3],n[3])};a.intersectsSegment=function(n,v,h){const q=n[0],u=n[1],z=n[2];n=n[3];const {x,y:w}=v,{x:A,y:B}=h;var E=(C,D)=>0>(B-w)*C+(x-A)*D+(A*w-x*B);v=E(q,n);h=E(z,n);const y=E(z,u);E=E(q,u);return v===h&&h===y&&y===E&&E===v||x<q&&A<q||x>z&&A>z||w>n&&B>n||w<u&&B<u?!1:!0};a.intersectsSphere=function(n,v){const h=v[3];var q=Math.abs(v[0]-.5*(n[0]+n[2]));const u=.5*(n[2]-n[0]);if(q>h+u)return!1;var z=.5*(n[3]-n[1]);n=Math.abs(v[1]-.5*(n[1]+
n[3]));if(n>h+z)return!1;if(q<u||n<z)return!0;q-=u;z=n-z;return q*q+z*z<=h*h};a.is=l;a.isPoint=function(n){return(0===m(n)||!isFinite(n[0]))&&(0===f(n)||!isFinite(n[1]))};a.offset=function(n,v,h,q=n){q[0]=n[0]+v;q[1]=n[1]+h;q[2]=n[2]+v;q[3]=n[3]+h;return q};a.pad=function(n,v,h=n){h[0]=n[0]-v;h[1]=n[1]-v;h[2]=n[2]+v;h[3]=n[3]+v;return h};a.setMax=function(n,v,h=n){h[2]=v[0];h[3]=v[1];h!==n&&(h[0]=n[0],h[1]=n[1]);return n};a.setMin=function(n,v,h=n){h[0]=v[0];h[1]=v[1];h!==n&&(h[2]=n[2],h[3]=n[3]);
return h};a.size=function(n,v){v[0]=n[2]-n[0];v[1]=n[3]-n[1]};a.toExtent=function(n,v){return new d({xmin:n[0],ymin:n[1],xmax:n[2],ymax:n[3],spatialReference:v})};a.width=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(a,b){const c=Math.PI/180;var e=b.earth.radius;const d=b.earth.eccentricitySquared;e={a1:e*d,a2:e*d*e*d,a3:e*d*d/2,a4:e*d*e*d*2.5,a5:e*d+e*d*d/2,a6:1-d};b={4267:{a:6378206.4,
f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:b.earth.radius,f:b.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:b.moon.radius,f:b.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:b.mars.radius,f:b.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,
f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,
f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},
104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:b.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};a.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;a.earthEllipsoidConstants=e;a.spheroids=b;a.toRadians=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],
function(a){return function(){function b(e){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;if(e&&e.steps)for(const d of e.steps)d instanceof a?this.steps.push(d):this.steps.push(new a({wkid:d.wkid,wkt:d.wkt,isInverse:d.isInverse}))}b.cacheKey=function(e,d){return[void 0!==e.wkid&&null!==e.wkid?e.wkid.toString():"-1",void 0!==e.wkt&&null!==e.wkt?e.wkt.toString():"",void 0!==d.wkid&&null!==d.wkid?d.wkid.toString():"-1",void 0!==d.wkt&&null!==d.wkt?d.wkt.toString():""].join()};
b.fromGE=function(e){const d=new b;let k="";for(const t of e.steps)e=a.fromGE(t),d.steps.push(e),k+=e.uid.toString()+",";d._cachedProjection={};d._gtlistentry=null;d._chain=k;return d};var c=b.prototype;c.getInverse=function(){const e=new b;e.steps=[];for(let d=this.steps.length-1;0<=d;d--)e.steps.push(this.steps[d].getInverse());return e};c.getGTListEntry=function(){let e="";for(const d of this.steps)e+=d.uid.toString()+",";e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=
e);return this._gtlistentry};c.assignCachedGe=function(e,d,k){this._cachedProjection[b.cacheKey(e,d)]=k};c.getCachedGeTransformation=function(e,d){let k="";for(const t of this.steps)k+=t.uid.toString()+",";k!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=k);e=this._cachedProjection[b.cacheKey(e,d)];return void 0===e?null:e};return b}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(a){let b=
0;return function(){function c(e){this.uid=b++;e?(this._wkt=null!=e.wkt?e.wkt:null,this._wkid=null!=e.wkid?e.wkid:-1,this._isInverse=null!=e.isInverse?!0===e.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}c.fromGE=function(e){const d=new c;d._wkt=e.wkt;d._wkid=e.wkid;d._isInverse=e.isInverse;return d};c.prototype.getInverse=function(){const e=new c;e._wkt=this.wkt;e._wkid=this._wkid;e._isInverse=!this.isInverse;return e};a._createClass(c,[{key:"wkt",get:function(){return this._wkt},
set:function(e){this._wkt=e;this.uid=b++}},{key:"wkid",get:function(){return this._wkid},set:function(e){this._wkid=e;this.uid=b++}},{key:"isInverse",get:function(){return this._isInverse},set:function(e){this._isInverse=e;this.uid=b++}}]);return c}()})},"esri/geometry/support/zscale":function(){define(["exports","../../core/maybe","../../core/unitUtils","./spatialReferenceUtils"],function(a,b,c,e){a.getGeometryZScaler=function(d,k,t){if(b.isNone(k)||b.isNone(t)||t.vcsWkid||e.equals(k,t))return null;
k=c.getMetersPerVerticalUnitForSR(k);t=c.getMetersPerVerticalUnitForSR(t);const m=k/t;if(1===m)return null;switch(d){case "point":case "esriGeometryPoint":return f=>{f&&null!=f.z&&(f.z*=m)};case "polyline":case "esriGeometryPolyline":return f=>{if(f)for(const g of f.paths)for(const l of g)2<l.length&&(l[2]*=m)};case "polygon":case "esriGeometryPolygon":return f=>{if(f)for(const g of f.rings)for(const l of g)2<l.length&&(l[2]*=m)};case "multipoint":case "esriGeometryMultipoint":return f=>{if(f)for(const g of f.points)2<
g.length&&(g[2]*=m)};case "extent":case "esriGeometryExtent":return f=>{f&&null!=f.zmin&&null!=f.zmax&&(f.zmin*=m,f.zmax*=m)};default:return null}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ScaleRangeLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){a.ScaleRangeLayer=m=>{m=function(f){function g(){var l=f.apply(this,arguments)||this;l.minScale=0;l.maxScale=0;return l}b._inheritsLoose(g,f);b._createClass(g,[{key:"effectiveScaleRange",get:function(){const l={minScale:this.minScale,maxScale:this.maxScale};var r=this.parent;r&&"effectiveScaleRange"in r&&(r=r.effectiveScaleRange,l.minScale=0<l.minScale?0<r.minScale?Math.min(l.minScale,r.minScale):l.minScale:r.minScale,l.maxScale=0<l.maxScale?0<r.maxScale?Math.max(l.maxScale,
r.maxScale):l.maxScale:r.maxScale);return(r=this._get("effectiveScaleRange"))&&r.minScale===l.minScale&&r.maxScale===l.maxScale?r:l}}]);return g}(m);c.__decorate([e.property({type:Number,nonNullable:!0,json:{write:!0}})],m.prototype,"minScale",void 0);c.__decorate([e.property({type:Number,nonNullable:!0,json:{write:!0}})],m.prototype,"maxScale",void 0);c.__decorate([e.property({readOnly:!0})],m.prototype,"effectiveScaleRange",null);return m=c.__decorate([t.subclass("esri.layers.mixins.ScaleRangeLayer")],
m)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/RefreshableLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./refresh".split(" "),function(a,b,c,e,d,k,t,m,f,g){a.RefreshableLayer=l=>{l=function(r){function p(...v){var h=
r.call(this,...v)||this;h.refreshInterval=0;h.refreshTimestamp=0;h._debounceHasDataChanged=d.debounce(()=>h.hasDataChanged());h.when().then(()=>{g.registerLayer(b._assertThisInitialized(h))},()=>{});return h}b._inheritsLoose(p,r);var n=p.prototype;n.destroy=function(){g.unregisterLayer(this)};n.refresh=function(v=Date.now()){d.ignoreAbortErrors(this._debounceHasDataChanged()).then(h=>{h&&this._set("refreshTimestamp",v);this.emit("refresh",{dataChanged:h})},h=>{e.getLogger(this.declaredClass).error(h);
this.emit("refresh",{dataChanged:!1,error:h})})};n.hasDataChanged=function(){var v=b._asyncToGenerator(function*(){return!0});return function(){return v.apply(this,arguments)}}();b._createClass(p,[{key:"refreshParameters",get:function(){return{_ts:this.refreshTimestamp||null}}}]);return p}(l);c.__decorate([k.property({type:Number,cast:r=>.1<=r?r:0>=r?0:.1,json:{write:!0}})],l.prototype,"refreshInterval",void 0);c.__decorate([k.property({readOnly:!0})],l.prototype,"refreshTimestamp",void 0);c.__decorate([k.property()],
l.prototype,"refreshParameters",null);return l=c.__decorate([f.subclass("esri.layers.mixins.RefreshableLayer")],l)};a.isRefreshableLayer=function(l){return null!=l&&"object"===typeof l&&"refreshTimestamp"in l&&"refresh"in l};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/refresh":function(){define("exports ../../core/Collection ../../chunks/_rollupPluginBabelHelpers ../../core/has ../../core/Error ../../core/Logger ../../core/accessorSupport/watch ../../core/accessorSupport/trackingUtils".split(" "),
function(a,b,c,e,d,k,t,m){function f(h){return null!=h&&"object"===typeof h&&"refreshInterval"in h&&"refresh"in h}function g(h,q){return Number.isFinite(h)&&Number.isFinite(q)?0>=q?h:g(q,h%q):0}function l(){const h=Date.now();for(const q of r)if(q.refreshInterval){const u=p.get(q)??0;h-u+5>=6E4*q.refreshInterval&&(p.set(q,h),q.refresh(h))}}const r=new b,p=new WeakMap;let n=0,v=0;m.autorun(()=>{const h=Date.now();let q=0;for(const u of r)q=g(Math.round(6E4*u.refreshInterval),q),u.refreshInterval?p.get(u)||
p.set(u,h):p.delete(u);q!==v&&(v=q,clearInterval(n),n=0===v?0:setInterval(l,v))});a.registerLayer=function(h){f(h)&&r.push(h)};a.test={get hasRefreshTimer(){return 0<n},get tickInterval(){return v},forceRefresh(){l()},hasLayer(h){return f(h)&&r.includes(h)},clear(){for(const h of r)p.delete(h);r.removeAll()}};a.unregisterLayer=function(h){f(h)&&r.includes(h)&&r.remove(h)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layersCreator":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/Collection ../../core/has ../../core/promiseUtils ./lazyLayerLoader ../../portal/PortalItem ../../portal/support/featureCollectionUtils ../../portal/support/portalLayers ../../renderers/support/styleUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g){function l(L,I,G){return r.apply(this,arguments)}function r(){r=b._asyncToGenerator(function*(L,I,G){if(I){var K=[];for(const H of I)I=p(H,G),"GroupLayer"===H.layerType?K.push(x(I,H,G)):K.push(I);G=yield d.eachAlways(K);for(const H of G)H.value&&L.add(H.value)}});return r.apply(this,arguments)}function p(L,I){return n.apply(this,arguments)}function n(){n=b._asyncToGenerator(function*(L,I){const G=yield q(L,I);return v(G,L,I)});return n.apply(this,arguments)}function v(L,
I,G){return h.apply(this,arguments)}function h(){h=b._asyncToGenerator(function*(L,I,G){L=new L;L.read(I,G.context);"group"===L.type&&z(I)&&(yield A(L,I,G.context));yield g.loadStyleRenderer(L,G.context);return L});return h.apply(this,arguments)}function q(L,I){return u.apply(this,arguments)}function u(){u=b._asyncToGenerator(function*(L,I){var G=I.context;let K;switch(G.origin){case "web-scene":switch(G.layerContainerType){case "basemap":K=C;break;case "ground":K=y;break;default:K=E}break;default:switch(G.layerContainerType){case "basemap":K=
M;break;case "tables":K=J;break;default:K=D}}let H=L.layerType||L.type;!H&&I&&I.defaultLayerType&&(H=I.defaultLayerType);I=(I=K[H])?k.layerLookupMap[I]:k.layerLookupMap.UnknownLayer;"Feature Collection"===L.type?(G=G?.portal,L.itemId&&(L=new t({id:L.itemId,portal:G}),yield L.load(),L=(yield f.selectLayerClassPath(L)).className||"UnknownLayer",I=k.layerLookupMap[L])):"ArcGISFeatureLayer"===H?m.isMapNotesLayer(L)||m.isMarkupLayer(L)?I=k.layerLookupMap.MapNotesLayer:m.isRouteLayer(L)?I=k.layerLookupMap.RouteLayer:
z(L)&&(I=k.layerLookupMap.GroupLayer):L.wmtsInfo&&L.wmtsInfo.url&&L.wmtsInfo.layerIdentifier?I=k.layerLookupMap.WMTSLayer:"WFS"===H&&"2.0.0"!==L.wfsInfo?.version&&(I=k.layerLookupMap.UnsupportedLayer);return I()});return u.apply(this,arguments)}function z(L){return"ArcGISFeatureLayer"!==L.layerType||"Feature Collection"===L.type?!1:1<(L.featureCollection?.layers?.length??0)}function x(L,I,G){return w.apply(this,arguments)}function w(){w=b._asyncToGenerator(function*(L,I,G){const K=new c;I=l(K,Array.isArray(I.layers)?
I.layers:[],G);L=yield L;yield I;if("group"===L.type)return L.layers.addMany(K),L});return w.apply(this,arguments)}function A(L,I,G){return B.apply(this,arguments)}function B(){B=b._asyncToGenerator(function*(L,I,G){const K=yield(0,k.layerLookupMap.FeatureLayer)();var H=I.featureCollection;const O=H?.showLegend;H=H?.layers?.map((Q,W)=>{const T=new K;T.read(Q,G);Q={...G,ignoreDefaults:!0};T.read({id:`${L.id}-sublayer-${W}`,visibility:I.visibleLayers?.includes(W)??!0},Q);null!=O&&T.read({showLegend:O},
Q);return T});L.layers.addMany(H??[])});return B.apply(this,arguments)}const E={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",
ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},y={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},C={ArcGISTiledMapServiceLayer:"TileLayer",
ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",DefaultTileLayer:"TileLayer"},D={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",
ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",
VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},J={ArcGISFeatureLayer:"FeatureLayer"},M={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",
BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};a.populateOperationalLayers=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/lazyLayerLoader":function(){define(["require","exports","../../chunks/_rollupPluginBabelHelpers"],function(a,b,c){const e=k=>Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"})),d={BingMapsLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,
m)=>a(["../BingMapsLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),BuildingSceneLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../BuildingSceneLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),CSVLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../CSVLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),DimensionLayer:function(){var k=
c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../DimensionLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),ElevationLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../ElevationLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),FeatureLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../FeatureLayer"],f=>t(e(f)),m))).default});
return function(){return k.apply(this,arguments)}}(),GeoJSONLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../GeoJSONLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),GeoRSSLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../GeoRSSLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),GroupLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,
m)=>a(["../GroupLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),ImageryLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../ImageryLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),ImageryTileLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../ImageryTileLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),
IntegratedMeshLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../IntegratedMeshLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),KMLLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../KMLLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),LineOfSightLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../LineOfSightLayer"],
f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),MapImageLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../MapImageLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),MapNotesLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../MapNotesLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),MediaLayer:function(){var k=
c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../MediaLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),OGCFeatureLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../OGCFeatureLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../OpenStreetMapLayer"],f=>t(e(f)),
m))).default});return function(){return k.apply(this,arguments)}}(),OrientedImageryLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../OrientedImageryLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),PointCloudLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../PointCloudLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),RouteLayer:function(){var k=
c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../RouteLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),SceneLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../SceneLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),StreamLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../StreamLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,
arguments)}}(),SubtypeGroupLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../SubtypeGroupLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),TileLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../TileLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),UnknownLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>
a(["../UnknownLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),UnsupportedLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../UnsupportedLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),VectorTileLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../VectorTileLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),
VoxelLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../VoxelLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),WFSLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../WFSLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),WMSLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../WMSLayer"],f=>t(e(f)),m))).default});
return function(){return k.apply(this,arguments)}}(),WMTSLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../WMTSLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}(),WebTileLayer:function(){var k=c._asyncToGenerator(function*(){return(yield new Promise((t,m)=>a(["../WebTileLayer"],f=>t(e(f)),m))).default});return function(){return k.apply(this,arguments)}}()};b.layerLookupMap=d;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/portal/support/featureCollectionUtils":function(){define(["exports"],function(a){function b(c,e){return c.layerType&&"ArcGISFeatureLayer"===c.layerType?c.featureCollectionType===e?!0:!1:!1}a.isMapNotesLayer=function(c){return b(c,"notes")};a.isMarkupLayer=function(c){return b(c,"markup")};a.isRouteLayer=function(c){return b(c,"route")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalLayers":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../layers/support/layerUtils ../../layers/support/lazyLayerLoader ../PortalItem ./layersLoader ./portalItemUtils ../../support/requestPresets".split(" "),
function(a,b,c,e,d,k,t,m,f){function g(){g=b._asyncToGenerator(function*(H){!H.portalItem||H.portalItem instanceof k||(H={...H,portalItem:new k(H.portalItem)});const O=yield l(H.portalItem);return new O.constructor({portalItem:H.portalItem,...O.properties})});return g.apply(this,arguments)}function l(H){return r.apply(this,arguments)}function r(){r=b._asyncToGenerator(function*(H){yield H.load();H=yield p(H);return v(H)});return r.apply(this,arguments)}function p(H){return n.apply(this,arguments)}
function n(){n=b._asyncToGenerator(function*(H){switch(H.type){case "Map Service":return q(H);case "Feature Service":return z(H);case "Feature Collection":return B(H);case "Scene Service":return w(H);case "Image Service":return y(H);case "Stream Service":return{className:"StreamLayer"};case "Vector Tile Service":return{className:"VectorTileLayer"};case "GeoJson":return{className:"GeoJSONLayer"};case "CSV":return{className:"CSVLayer"};case "KML":return{className:"KMLLayer"};case "WFS":return{className:"WFSLayer"};
case "WMTS":return{className:"WMTSLayer"};case "WMS":return{className:"WMSLayer"};case "Feed":return{className:"StreamLayer"};default:throw new c("portal:unknown-item-type","Unknown item type '${type}'",{type:H.type});}});return n.apply(this,arguments)}function v(H){return h.apply(this,arguments)}function h(){h=b._asyncToGenerator(function*(H){return{constructor:yield(0,d.layerLookupMap[H.className])(),properties:H.properties}});return h.apply(this,arguments)}function q(H){return u.apply(this,arguments)}
function u(){u=b._asyncToGenerator(function*(H){return(yield M(H))?{className:"TileLayer"}:{className:"MapImageLayer"}});return u.apply(this,arguments)}function z(H){return x.apply(this,arguments)}function x(){x=b._asyncToGenerator(function*(H){if(m.hasTypeKeyword(H,"Oriented Imagery Layer"))return D(H);H=yield I(H);if("object"===typeof H){const O={};null!=H.id&&(O.layerId=H.id);return{className:H.className||"FeatureLayer",properties:O}}return{className:"GroupLayer"}});return x.apply(this,arguments)}
function w(H){return A.apply(this,arguments)}function A(){A=b._asyncToGenerator(function*(H){const O=yield I(H);if("object"===typeof O){const Q={};let W=void 0;null!=O.id?(Q.layerId=O.id,W=`${H.url}/layers/${O.id}`):W=H.url;if(H.typeKeywords?.length)for(const T of Object.keys(e.sceneServiceLayerTypeToClassName))if(H.typeKeywords.includes(T))return{className:e.sceneServiceLayerTypeToClassName[T]};H=yield f.fetchArcGISServiceJSON(W);return{className:e.sceneServiceLayerTypeToClassName[H?.layerType]||
"SceneLayer",properties:Q}}return!1===O&&"Voxel"===(yield f.fetchArcGISServiceJSON(H.url))?.layerType?{className:"VoxelLayer"}:{className:"GroupLayer"}});return A.apply(this,arguments)}function B(H){return E.apply(this,arguments)}function E(){E=b._asyncToGenerator(function*(H){yield H.load();const O=m.hasTypeKeyword(H,"Map Notes"),Q=m.hasTypeKeyword(H,"Markup");if(O||Q)return{className:"MapNotesLayer"};if(m.hasTypeKeyword(H,"Route Layer"))return{className:"RouteLayer"};H=yield H.fetchData();return 1===
t.getNumLayersAndTables(H)?{className:"FeatureLayer"}:{className:"GroupLayer"}});return E.apply(this,arguments)}function y(H){return C.apply(this,arguments)}function C(){C=b._asyncToGenerator(function*(H){yield H.load();var O=H.typeKeywords?.map(Q=>Q.toLowerCase())??[];if(O.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(O.includes("tiled imagery"))return{className:"ImageryTileLayer"};O=(yield H.fetchData())?.layerType;if("ArcGISTiledImageServiceLayer"===O)return{className:"ImageryTileLayer"};
if("ArcGISImageServiceLayer"===O)return{className:"ImageryLayer"};O=yield f.fetchArcGISServiceJSON(H.url);H=O.cacheType?.toLowerCase();O=O.capabilities?.toLowerCase().includes("tilesonly");return"map"===H||O?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}});return C.apply(this,arguments)}function D(H){return J.apply(this,arguments)}function J(){J=b._asyncToGenerator(function*(H){yield H.load();H=yield H.fetchData();return H.coverage?{className:"GroupLayer"}:{className:"OrientedImageryLayer",
properties:H}});return J.apply(this,arguments)}function M(H){return L.apply(this,arguments)}function L(){L=b._asyncToGenerator(function*(H){return(yield f.fetchArcGISServiceJSON(H.url)).tileInfo});return L.apply(this,arguments)}function I(H){return G.apply(this,arguments)}function G(){G=b._asyncToGenerator(function*(H){const O=H.url;if(!O||O.match(/\/\d+$/))return{};yield H.load();var Q=yield H.fetchData();if("Feature Service"===H.type)return H=yield t.preprocessFSItemData(Q,O),H=K(H),"object"===
typeof H&&(Q=t.getSubtypeGroupLayerIds(Q),H.className=null!=H.id&&Q.includes(H.id)?"SubtypeGroupLayer":"FeatureLayer"),H;if(0<t.getNumLayersAndTables(Q))return K(Q);Q=yield f.fetchArcGISServiceJSON(O);return K(Q)});return G.apply(this,arguments)}function K(H){return 1===t.getNumLayersAndTables(H)?{id:t.getFirstLayerOrTableId(H)}:!1}a.fromItem=function(H){return g.apply(this,arguments)};a.selectLayerClassPath=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/layersLoader":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../layers/Layer ../../layers/support/arcgisLayerUrl ../../layers/support/fetchService ../Portal ../PortalItem ./jsonContext ./portalItemUtils ../../renderers/support/styleUtils ../../support/requestPresets".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){function p(){p=b._asyncToGenerator(function*(H,O){var Q=H.instance.portalItem;if(Q&&Q.id){yield Q.load(O);Q=H.instance.portalItem;if(!Q?.type||!H.supportedTypes.includes(Q.type))throw new c("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:Q?.type,expectedType:H.supportedTypes.join(", ")});return n(H,O)}});return p.apply(this,arguments)}function n(H,O){return v.apply(this,arguments)}function v(){v=b._asyncToGenerator(function*(H,
O){const Q=H.instance,W=Q.portalItem;if(W){var {url:T,title:Y}=W,X=f.createForItemRead(W);if("group"===Q.type)return Q.read({title:Y},X),h(Q,H);T&&Q.read({url:T},X);(H=yield B(H,O))&&Q.read(H,X);Q.resourceReferences={portalItem:W,paths:X.readResourcePaths??[]};"subtype-group"!==Q.type&&Q.read({title:Y},X);return l.loadStyleRenderer(Q,X)}});return v.apply(this,arguments)}function h(H,O){return q.apply(this,arguments)}function q(){q=b._asyncToGenerator(function*(H,O){var {portalItem:Q}=H;if(Q){var W=
Q.type,T=O.layerModuleTypeMap;var Y=g.hasTypeKeyword(Q,"Oriented Imagery Layer")??!1;switch(W){case "Feature Service":Y=Y?T.OrientedImageryLayer:T.FeatureLayer;break;case "Stream Service":Y=T.StreamLayer;break;case "Scene Service":Y=T.SceneLayer;break;case "Feature Collection":Y=T.FeatureLayer;break;default:throw new c("portal:unsupported-item-type-as-group",`The item type '${W}' is not supported as a 'IGroupLayer'`);}var [X,ra]=yield Promise.all([Y(),B(O)]);O=()=>X;if("Feature Service"===W){ra=Q.url?
yield y(ra,Q.url):{};if(I(ra).length){const Ba=yield(0,T.SubtypeGroupLayer)();O=Ga=>"SubtypeGroupLayer"===Ga.layerType?Ba:X}Q=yield G(Q.url);return w(H,O,ra,Q)}return 0<M(ra)?w(H,O,ra):u(H,O)}});return q.apply(this,arguments)}function u(H,O){return z.apply(this,arguments)}function z(){z=b._asyncToGenerator(function*(H,O){var {portalItem:Q}=H;Q?.url&&(Q=yield r.fetchArcGISServiceJSON(Q.url))&&w(H,O,{layers:Q.layers?.map(x),tables:Q.tables?.map(x)})});return z.apply(this,arguments)}function x(H){return{id:H.id,
name:H.name}}function w(H,O,Q,W){let T=Q.layers||[];const Y=Q.tables||[];"Feature Collection"===H.portalItem?.type&&(T.forEach(X=>{"Table"===X?.layerDefinition?.type&&Y.push(X)}),T=T.filter(X=>"Table"!==X?.layerDefinition?.type));if("coverage"in Q){const X=L(Q);X&&H.add(X)}T.reverse().forEach(X=>{X=A(H,O(X),Q,X,W?.(X));H.add(X)});Y.reverse().forEach(X=>{X=A(H,O(X),Q,X,W?.(X));H.tables.add(X)})}function A(H,O,Q,W,T){H=H.portalItem;O=new O({portalItem:H.clone(),layerId:W.id});"sourceJSON"in O&&(O.sourceJSON=
T);"subtype-group"!==O.type&&(O.sublayerTitleMode="service-name");"Feature Collection"===H.type&&(T={origin:"portal-item",portal:H.portal||t.getDefault()},O.read(W,T),Q=Q.showLegend,null!=Q&&O.read({showLegend:Q},T));return O}function B(H,O){return E.apply(this,arguments)}function E(){E=b._asyncToGenerator(function*(H,O){if(!1!==H.supportsData){H=H.instance;var Q=H.portalItem;if(Q){var W=null;try{W=yield Q.fetchData("json",O)}catch(T){}O="stream"===H.type||"oriented-imagery"===H.type?!1:"layerId"in
H;return O?(Q=null,O=!0,W&&0<M(W)&&(null==H.layerId&&(Q=I(W),H.layerId="subtype-group"===H.type?Q?.[0]:D(W)),Q=J(W,H))&&(1===M(W)&&(O=!1),null!=W.showLegend&&(Q.showLegend=W.showLegend)),O&&"service-name"!==H.sublayerTitleMode&&(H.sublayerTitleMode="item-title-and-service-name"),Q):W}}});return E.apply(this,arguments)}function y(H,O){return C.apply(this,arguments)}function C(){C=b._asyncToGenerator(function*(H,O){if(null==H?.layers||null==H?.tables)O=yield r.fetchArcGISServiceJSON(O),H=H||{},H.layers=
H.layers||O?.layers,H.tables=H.tables||O?.tables;return H});return C.apply(this,arguments)}function D(H){const O=H.layers;return O&&O.length?O[0].id:(H=H.tables)&&H.length?H[0].id:null}function J(H,O){const {layerId:Q}=O;H=H.layers?.find(T=>T.id===Q)||H.tables?.find(T=>T.id===Q);var W;if(W=H)W="feature"===O.type&&"layerType"in H&&"SubtypeGroupLayer"===H.layerType||"subtype-group"===O.type&&!("layerType"in H)?!1:!0;return W?H:null}function M(H){return(H?.layers?.length??0)+(H?.tables?.length??0)}function L(H){var {coverage:O}=
H;if(!O)return null;H=new URL(O);if(O.toLowerCase().includes("item.html"))return O=H.searchParams.get("id"),e.fromPortalItem({portalItem:new m({id:O,url:H.origin})});if(d.isArcGISUrl(O))return e.fromArcGISServerUrl({url:O});throw new c("portal:oriented-imagery-layer-coverage","the provided coverage url couldn't be loaded as a layer");}function I(H){const O=[];H?.layers?.forEach(Q=>{"SubtypeGroupLayer"===Q.layerType&&O.push(Q.id)});return O}function G(H){return K.apply(this,arguments)}function K(){K=
b._asyncToGenerator(function*(H){({layersJSON:H}=yield k.fetchFeatureService(H));if(!H)return null;const O=[...H.layers,...H.tables];return Q=>O.find(W=>W.id===Q.id)});return K.apply(this,arguments)}a.getFirstLayerOrTableId=D;a.getNumLayersAndTables=M;a.getSubtypeGroupLayerIds=I;a.load=function(H,O){return p.apply(this,arguments)};a.preprocessFSItemData=y;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/arcgisLayerUrl":function(){define(["exports","../../core/maybe",
"../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c,e){function d(p){if(b.isNone(p))return null;p=c.urlToObject(p);p=p.path.match(g)||p.path.match(l);if(!p)return null;const [,n,v,h,q]=p;p=v.indexOf("/");return{title:t(-1!==p?v.slice(p+1):v),serverType:m[h.toLowerCase()],sublayer:null!=q&&""!==q?parseInt(q,10):null,url:{path:n}}}function k(p){return(p=c.urlToObject(p).path.match(r))?{serviceUrl:p[1],sublayerId:Number(p[2])}:null}function t(p){p=p.replace(/\s*[/_]+\s*/g," ");return p[0].toUpperCase()+
p.slice(1)}const m={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},f=Object.values(m),g=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${f.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${f.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),r=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;a.cleanTitle=t;a.isArcGISUrl=
function(p){return!!g.test(p)};a.isHostedAgolService=function(p){if(!p)return!1;p=p.toLowerCase();const n=p.includes(".arcgis.com/");p=p.includes("//services")||p.includes("//tiles")||p.includes("//features");return n&&p};a.isServerOrServicesAGOLUrl=function(p){if(!p)return!1;p=(new c.Url(c.makeAbsolute(p))).authority?.toLowerCase();return"server.arcgisonline.com"===p||"services.arcgisonline.com"===p};a.isWmsServer=function(p){if(!p)return!1;var n=p.toLowerCase();p=n.includes("/services/");const v=
n.includes("/mapserver/wmsserver"),h=n.includes("/imageserver/wmsserver");n=n.includes("/wmsserver");return p&&(v||h||n)};a.parse=d;a.parseNonStandardSublayerUrl=k;a.sanitizeUrl=function(p,n){return p?c.removeTrailingSlash(c.removeQueryParameters(p,n)):p};a.sanitizeUrlWithLayerId=function(p){let {url:n}=p;if(!n)return{url:n};n=c.removeQueryParameters(n,p.logger);const v=c.urlToObject(n),h=d(v.path);let q=void 0;b.isSome(h)?(null!=h.sublayer&&null==p.layer.layerId&&(q=h.sublayer),n=h.url.path):p.nonStandardUrlAllowed&&
(p=k(v.path),b.isSome(p)&&(n=p.serviceUrl,q=p.sublayerId));return{url:c.removeTrailingSlash(n),layerId:q}};a.serverTypes=f;a.titleFromUrlAndName=function(p,n){const v=[];p&&(p=d(p),b.isSome(p)&&p.title&&v.push(p.title));n&&(n=t(n),v.push(n));if(2===v.length){if(v[0].toLowerCase().includes(v[1].toLowerCase()))return v[0];if(v[1].toLowerCase().includes(v[0].toLowerCase()))return v[1]}return v.join(" - ")};a.writeUrlWithLayerId=function(p,n,v,h,q){e.write(n,h,"url",q);h.url&&null!=p.layerId&&(h.url=
c.join(h.url,v,p.layerId.toString()))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/fetchService":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../support/requestPresets"],function(a,b,c){function e(){e=b._asyncToGenerator(function*(k,t){const m=yield c.fetchArcGISServiceJSON(k,t);m.layers=m.layers.filter(d);const f={serviceJSON:m};if(10.5>(m.currentVersion??0))return f;k=yield c.fetchArcGISServiceJSON(k+"/layers",t);f.layersJSON=
{layers:k.layers.filter(d),tables:k.tables};return f});return e.apply(this,arguments)}function d(k){return!k.type||"Feature Layer"===k.type}a.fetchFeatureService=function(k,t){return e.apply(this,arguments)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestPresets":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../request"],function(a,b,c){function e(){e=b._asyncToGenerator(function*(d,k){({data:d}=yield c(d,{responseType:"json",query:{f:"json",
...k?.customParameters,token:k?.apiKey}}));return d});return e.apply(this,arguments)}a.fetchArcGISServiceJSON=function(d,k){return e.apply(this,arguments)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/jsonContext":function(){define(["exports","../../core/urlUtils","../Portal"],function(a,b,c){a.createForItemRead=function(e){return{origin:"portal-item",url:b.urlToObject(e.itemUrl),portal:e.portal||c.getDefault(),portalItem:e,readResourcePaths:[]}};a.createForItemWrite=
function(e){return{origin:"portal-item",messages:[],writtenProperties:[],url:e.itemUrl?b.urlToObject(e.itemUrl):null,portal:e.portal||c.getDefault(),portalItem:e}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/styleUtils":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/asyncUtils","../../core/promiseUtils","../../core/Warning"],function(a,b,c,e,d){function k(){k=b._asyncToGenerator(function*(t,m,f){var g=t&&t.getAtOrigin&&
t.getAtOrigin("renderer",m.origin);g&&"unique-value"===g.type&&g.styleOrigin&&(g=yield c.result(g.populateFromStyle()),e.throwIfAborted(f),!1===g.ok&&(f=g.error,m&&m.messages&&m.messages.push(new d("renderer:style-reference",`Failed to create unique value renderer from style reference: ${f.message}`,{error:f,context:m})),t.clear("renderer",m?.origin)))});return k.apply(this,arguments)}a.loadStyleRenderer=function(t,m,f){return k.apply(this,arguments)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/FeatureLayer":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../PopupTemplate ../renderers/ClassBreaksRenderer ../renderers/DictionaryRenderer ../renderers/DotDensityRenderer ../renderers/HeatmapRenderer ../renderers/PieChartRenderer ../renderers/Renderer ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/support/jsonUtils ../renderers/support/types ../request ../symbols ../core/Clonable ../core/Collection ../core/Error ../core/Handles ../core/lang ../core/Logger ../core/maybe ../core/MultiOriginJSONSupport ../core/object ../core/promiseUtils ../core/sql ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/extensions/serializableProperty/reader ../form/FormTemplate ../geometry/SpatialReference ./Layer ./graphics/sources/MemorySource ./mixins/APIKeyMixin ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/EditBusLayer ./mixins/FeatureEffectLayer ./mixins/FeatureLayerBase ./mixins/FeatureReductionLayer ./mixins/OperationalLayer ./mixins/OrderedLayer ./mixins/PortalLayer ./mixins/PublishableLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./support/arcgisLayerUrl ./support/commonProperties ./support/featureLayerUtils ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/fieldUtils ./support/LabelClass ./support/labelingInfo ./support/serviceCapabilitiesUtils ./support/TimeInfo ./support/versionUtils ./support/source/DataLayerSource ../renderers/support/styleUtils ../rest/support/FeatureSet ../rest/support/Query ../rest/support/TopFeaturesQuery ../support/popupUtils ../webdoc/support/opacityUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A,B,E,y,C,D,J,M,L,I,G,K,H,O,Q,W,T,Y,X,ra,Ba,Ga,Ha,da,na,xa,Na,Oa,N,S,ja,wa,Ia,V,aa,oa,P,Z,ia,qa,ea,U,ca,la,Ca,Qa,fa,ma,Fa,ua,Ka){function Ta(ab,fb){return new z("layer:unsupported",`Layer (${ab.title}, ${ab.id}) of type '${ab.declaredClass}' ${fb}`,{layer:ab})}function Wa(ab,fb,Xa){ab=!!Xa?.writeLayerSchema;return{enabled:ab,ignoreOrigin:ab}}const Za=A.getLogger("esri.layers.FeatureLayer");d=Z.defineFieldProperties();q=function(ab){function fb(...Da){Da=
ab.call(this,...Da)||this;Da._handles=new x;Da.charts=null;Da.copyright=null;Da.displayField=null;Da.dynamicDataSource=null;Da.fields=null;Da.fieldsIndex=null;Da.formTemplate=null;Da.fullExtent=null;Da.geometryType=null;Da.hasM=void 0;Da.hasZ=void 0;Da.infoFor3D=null;Da.isTable=!1;Da.labelsVisible=!0;Da.labelingInfo=null;Da.legendEnabled=!0;Da.objectIdField=null;Da.outFields=null;Da.path=null;Da.popupEnabled=!0;Da.popupTemplate=null;Da.screenSizePerspectiveEnabled=!0;Da.spatialReference=Q.WGS84;Da.subtypeCode=
null;Da.templates=null;Da.timeInfo=null;Da.title=null;Da.sublayerTitleMode="item-title";Da.type="feature";Da.typeIdField=null;Da.types=null;Da.visible=!0;return Da}b._inheritsLoose(fb,ab);var Xa=fb.prototype;Xa.destroy=function(){this.source?.destroy();this._handles=B.destroyMaybe(this._handles)};Xa.normalizeCtorArgs=function(Da,Aa){return"string"===typeof Da?{url:Da,...Aa}:Da};Xa.load=function(Da){var Aa=this;const Va=B.isSome(Da)?Da.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(Va).then(za=>
this.initLayerProperties(za))),Promise.resolve(this);const cb=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},Da).catch(C.throwIfAbortError).then(b._asyncToGenerator(function*(){if(Aa.url&&null==Aa.layerId&&/FeatureServer|MapServer\/*$/i.test(Aa.url)){const za=yield Aa._fetchFirstLayerId(Va);null!=za&&(Aa.layerId=za)}if(!Aa.url&&!Aa._hasMemorySource())throw new z("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return Aa.initLayerProperties(yield Aa.createGraphicsSource(Va))})).then(()=>
this._setUserPrivileges(this.serviceItemId,Da)).then(()=>aa.ensureLayerCredential(this,Da));this.addResolvingPromise(cb);return Promise.resolve(this)};Xa.readCapabilities=function(Da,Aa){Aa=Aa.layerDefinition||Aa;return U.getFeatureLayerCapabilities(Aa,this.url)};Xa.readEditingEnabled=function(Da,Aa){return this._readEditingEnabled(Aa,!1)};Xa.readEditingEnabledFromWebMap=function(Da,Aa,Va){return this._readEditingEnabled(Aa,!0,Va)};Xa.writeEditingEnabled=function(Da,Aa){this._writeEditingEnabled(Da,
Aa,!1)};Xa.writeEditingEnabledToWebMap=function(Da,Aa,Va,cb){this._writeEditingEnabled(Da,Aa,!0,cb)};Xa.readIsTable=function(Da,Aa){Aa=Aa?.layerDefinition??Aa;return"Table"===Aa.type||!Aa.geometryType};Xa.writeIsTable=function(Da,Aa,Va,cb){cb?.writeLayerSchema&&y.setDeepValue(Va,Da?"Table":"Feature Layer",Aa)};Xa.readGlobalIdField=function(Da,Aa){return aa.readGlobalIdField(Aa.layerDefinition||Aa)};Xa.readObjectIdField=function(Da,Aa){return aa.readObjectIdField(Aa.layerDefinition||Aa)};Xa.readRenderer=
function(Da,Aa,Va){Aa=Aa.layerDefinition||Aa;if(Da=Aa.drawingInfo?.renderer)return(Da=p.read(Da,Aa,Va)??void 0)||Za.error("Failed to create renderer",{rendererDefinition:Aa.drawingInfo.renderer,layer:this,context:Va}),Da;if(Aa.defaultSymbol)return Aa.types&&Aa.types.length?new r({defaultSymbol:bb(Aa.defaultSymbol,Aa,Va),field:Aa.typeIdField,uniqueValueInfos:Aa.types.map(cb=>({id:cb.id,symbol:bb(cb.symbol,cb,Va)}))}):new l({symbol:bb(Aa.defaultSymbol,Aa,Va)})};Xa.castSource=function(Da){return Da?
Array.isArray(Da)||Da instanceof u?new T.MemorySource({layer:this,items:Da}):Da:null};Xa.readSource=function(Da,Aa){Da=fa.fromJSON(Aa.featureSet);return new T.MemorySource({layer:this,items:Da?.features??[]})};Xa.readTemplates=function(Da,Aa){var Va=Aa.editFieldsInfo;Aa=Va&&Va.creatorField;Va=Va&&Va.editorField;Da=Da&&Da.map(cb=>oa.fromJSON(cb));this._fixTemplates(Da,Aa);this._fixTemplates(Da,Va);return Da};Xa.readTitle=function(Da,Aa){Da=Aa.layerDefinition?.name??Aa.name;Aa=Aa.title||Aa.layerDefinition&&
Aa.layerDefinition.title;if(Da){Aa=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?Ia.titleFromUrlAndName(this.url,Da):Da;if(!Da&&this.url){const Va=Ia.parse(this.url);B.isSome(Va)&&(Da=Va.title)}if(!Da)return;"item-title-and-service-name"===this.sublayerTitleMode&&Aa&&Aa!==Da&&(Da=Aa+" - "+Da);return Ia.cleanTitle(Da)}if("item-title"===this.sublayerTitleMode&&Aa)return Aa};Xa.readTitleFromWebMap=function(Da,Aa){return Aa.title||Aa.layerDefinition&&
Aa.layerDefinition.name};Xa.readTypeIdField=function(Da,Aa){Aa=Aa.layerDefinition||Aa;let Va=Aa.typeIdField;Va&&Aa.fields&&(Va=Va.toLowerCase(),Da=Aa.fields.find(cb=>cb.name.toLowerCase()===Va))&&(Va=Da.name);return Va};Xa.readTypes=function(Da,Aa){Aa=Aa.layerDefinition||Aa;Da=Aa.types;const Va=(Aa=Aa.editFieldsInfo)&&Aa.creatorField,cb=Aa&&Aa.editorField;return Da&&Da.map(za=>{za=P.fromJSON(za);this._fixTemplates(za.templates,Va);this._fixTemplates(za.templates,cb);return za})};Xa.readVisible=function(Da,
Aa){if(Aa.layerDefinition&&null!=Aa.layerDefinition.defaultVisibility)return!!Aa.layerDefinition.defaultVisibility;if(null!=Aa.visibility)return!!Aa.visibility};Xa.addAttachment=function(){var Da=b._asyncToGenerator(function*(Aa,Va){return aa.addAttachment(this,Aa,Va,"FeatureLayer")});return function(Aa,Va){return Da.apply(this,arguments)}}();Xa.updateAttachment=function(){var Da=b._asyncToGenerator(function*(Aa,Va,cb){return aa.updateAttachment(this,Aa,Va,cb,"FeatureLayer")});return function(Aa,
Va,cb){return Da.apply(this,arguments)}}();Xa.applyEdits=function(){var Da=b._asyncToGenerator(function*(Aa,Va){return aa.applyEdits(this,Aa,Va)});return function(Aa,Va){return Da.apply(this,arguments)}}();Xa.on=function(Da,Aa){return ab.prototype.on.call(this,Da,Aa)};Xa.createPopupTemplate=function(Da){return ua.createPopupTemplate(this,Da)};Xa.createGraphicsSource=function(){var Da=b._asyncToGenerator(function*(Aa){if(this._hasMemorySource()&&this.source)return this.source.load({signal:Aa});const {default:Va}=
yield C.whenOrAbort(new Promise((cb,za)=>a(["./graphics/sources/FeatureLayerSource"],tb=>cb(Object.freeze(Object.defineProperty({__proto__:null,default:tb},Symbol.toStringTag,{value:"Module"}))),za)),Aa);return(new Va({layer:this})).load({signal:Aa})});return function(Aa){return Da.apply(this,arguments)}}();Xa.createQuery=function(){const Da=aa.createQuery(this);Da.dynamicDataSource=this.dynamicDataSource;var Aa=B.isSome(this.subtypeCode)?`${this.subtypeField} = ${this.subtypeCode}`:null;Aa=D.sqlAnd(this.definitionExpression,
Aa);Da.where=Aa||"1\x3d1";return Da};Xa.deleteAttachments=function(){var Da=b._asyncToGenerator(function*(Aa,Va){return aa.deleteAttachments(this,Aa,Va,"FeatureLayer")});return function(Aa,Va){return Da.apply(this,arguments)}}();Xa.fetchRecomputedExtents=function(){var Da=b._asyncToGenerator(function*(Aa){return aa.fetchRecomputedExtents(this,Aa,"FeatureLayer")});return function(Aa){return Da.apply(this,arguments)}}();Xa.getFeatureType=function(Da){const {typeIdField:Aa,types:Va}=this;if(!Aa||!Da)return null;
const cb=Da.attributes?Da.attributes[Aa]:void 0;if(null==cb)return null;let za=null;Va?.some(tb=>{const {id:Ab}=tb;if(null==Ab)return!1;Ab.toString()===cb.toString()&&(za=tb);return!!za});return za};Xa.getFieldDomain=function(Da,Aa){return(Aa=this.getFeatureType(Aa&&Aa.feature))&&(Aa=Aa.domains&&Aa.domains[Da])&&"inherited"!==Aa.type?Aa:this._getLayerDomain(Da)};Xa.getField=function(Da){return this.fieldsIndex.get(Da)};Xa.queryAttachments=function(){var Da=b._asyncToGenerator(function*(Aa,Va){return aa.queryAttachments(this,
Aa,Va,"FeatureLayer")});return function(Aa,Va){return Da.apply(this,arguments)}}();Xa.queryFeatures=function(){var Da=b._asyncToGenerator(function*(Aa,Va){const cb=yield this.load();Aa=yield cb.source.queryFeatures(ma.from(Aa)??cb.createQuery(),Va);if(Aa?.features)for(const za of Aa.features)za.layer=za.sourceLayer=cb;return Aa});return function(Aa,Va){return Da.apply(this,arguments)}}();Xa.queryObjectIds=function(){var Da=b._asyncToGenerator(function*(Aa,Va){return aa.queryObjectIds(this,Aa,Va,"FeatureLayer")});
return function(Aa,Va){return Da.apply(this,arguments)}}();Xa.queryFeatureCount=function(){var Da=b._asyncToGenerator(function*(Aa,Va){return aa.queryFeatureCount(this,Aa,Va,"FeatureLayer")});return function(Aa,Va){return Da.apply(this,arguments)}}();Xa.queryExtent=function(){var Da=b._asyncToGenerator(function*(Aa,Va){return aa.queryExtent(this,Aa,Va,"FeatureLayer")});return function(Aa,Va){return Da.apply(this,arguments)}}();Xa.queryRelatedFeatures=function(){var Da=b._asyncToGenerator(function*(Aa,
Va){return aa.queryRelatedFeatures(this,Aa,Va,"FeatureLayer")});return function(Aa,Va){return Da.apply(this,arguments)}}();Xa.queryRelatedFeaturesCount=function(){var Da=b._asyncToGenerator(function*(Aa,Va){return aa.queryRelatedFeaturesCount(this,Aa,Va,"FeatureLayer")});return function(Aa,Va){return Da.apply(this,arguments)}}();Xa.queryTopFeatures=function(){var Da=b._asyncToGenerator(function*(Aa,Va){const {source:cb,capabilities:za}=yield this.load();if(!cb.queryTopFeatures||!za?.query?.supportsTopFeaturesQuery)throw new z("FeatureLayer",
"Layer source does not support queryTopFeatures capability");Aa=yield cb.queryTopFeatures(Fa.from(Aa),Va);if(Aa?.features)for(const tb of Aa.features)tb.layer=tb.sourceLayer=this;return Aa});return function(Aa,Va){return Da.apply(this,arguments)}}();Xa.queryTopObjectIds=function(){var Da=b._asyncToGenerator(function*(Aa,Va){const {source:cb,capabilities:za}=yield this.load();if(!cb.queryTopObjectIds||!za?.query.supportsTopFeaturesQuery)throw new z("FeatureLayer","Layer source does not support queryTopObjectIds capability");
return cb.queryTopObjectIds(Fa.from(Aa),Va)});return function(Aa,Va){return Da.apply(this,arguments)}}();Xa.queryTopFeaturesExtent=function(){var Da=b._asyncToGenerator(function*(Aa,Va){const {source:cb,capabilities:za}=yield this.load();if(!cb.queryTopExtents||!za?.query?.supportsTopFeaturesQuery)throw new z("FeatureLayer","Layer source does not support queryTopExtents capability");return cb.queryTopExtents(Fa.from(Aa),Va)});return function(Aa,Va){return Da.apply(this,arguments)}}();Xa.queryTopFeatureCount=
function(){var Da=b._asyncToGenerator(function*(Aa,Va){const {source:cb,capabilities:za}=yield this.load();if(!cb.queryTopCount||!za?.query?.supportsTopFeaturesQuery)throw new z("FeatureLayer","Layer source does not support queryFeatureCount capability");return cb.queryTopCount(Fa.from(Aa),Va)});return function(Aa,Va){return Da.apply(this,arguments)}}();Xa.read=function(Da,Aa){const Va=Da.featureCollection;if(Va){const cb=Va.layers;cb&&1===cb.length&&(ab.prototype.read.call(this,cb[0],Aa),null!=Va.showLegend&&
ab.prototype.read.call(this,{showLegend:Va.showLegend},Aa))}ab.prototype.read.call(this,Da,Aa);Aa&&"service"===Aa.origin&&(this.revert(["objectIdField","fields","timeInfo"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))};Xa.write=function(Da,Aa){Aa={...Aa,origin:Aa?.origin??void 0,writeLayerSchema:Aa?.writeLayerSchema??this._hasMemorySource()};const {origin:Va,layerContainerType:cb,messages:za}=Aa;if(this.dynamicDataSource)return za?.push(Ta(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),
null;if(this.isTable){if("web-scene"===Va||"web-map"===Va&&"tables"!==cb)return za?.push(Ta(this,"using a table source cannot be written to web scenes and web maps")),null;if(this._hasMemorySource())return za?.push(Ta(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&"web-map"===Va&&"tables"===cb)return za?.push(Ta(this,"using a non-table source cannot be written to tables in web maps")),null;return ab.prototype.write.call(this,Da,Aa)};
Xa.clone=function(){if(this._hasMemorySource())throw new z("FeatureLayer",`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return ab.prototype.clone.call(this)};Xa.serviceSupportsSpatialReference=function(Da){return this.loaded?"memory"===this.source?.type?!0:la.serviceSupportsSpatialReference(this,Da):!1};Xa.save=function(){var Da=b._asyncToGenerator(function*(Aa){return(yield new Promise((Va,cb)=>a(["./save/featureLayerUtils"],Va,cb))).save(this,
Aa)});return function(Aa){return Da.apply(this,arguments)}}();Xa.saveAs=function(){var Da=b._asyncToGenerator(function*(Aa,Va){return(yield new Promise((cb,za)=>a(["./save/featureLayerUtils"],cb,za))).saveAs(this,Aa,Va)});return function(Aa,Va){return Da.apply(this,arguments)}}();Xa._readEditingEnabled=function(Da,Aa,Va){let cb=Da.layerDefinition?.capabilities;if(cb)return this._hasEditingCapability(cb);cb=Da.capabilities;if(Aa&&"web-map"===Va?.origin&&!this._hasMemorySource()&&cb)return this._hasEditingCapability(cb)};
Xa._hasEditingCapability=function(Da){return Da.toLowerCase().split(",").map(Aa=>Aa.trim()).includes("editing")};Xa._writeEditingEnabled=function(Da,Aa,Va,cb){Da||(Da=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query",y.setDeepValue("layerDefinition.capabilities",Da,Aa),Va&&!cb?.writeLayerSchema&&(Aa.capabilities=Da))};Xa._getLayerDomain=function(Da){return(Da=this.fieldsIndex.get(Da))?Da.domain:null};Xa._fetchFirstLayerId=function(Da){return v(this.url,{query:{f:"json",...this.customParameters,
token:this.apiKey},responseType:"json",signal:Da}).then(Aa=>{if(Aa=Aa.data){if(Array.isArray(Aa.layers)&&0<Aa.layers.length)return Aa.layers[0].id;if(Array.isArray(Aa.tables)&&0<Aa.tables.length)return Aa.tables[0].id}})};Xa.initLayerProperties=function(){var Da=b._asyncToGenerator(function*(Aa){this._set("source",Aa);Aa.sourceJSON&&(this.sourceJSON=Aa.sourceJSON,this.read(Aa.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}));this._verifySource();
this._verifyFields();ia.fixRendererFields(this.renderer,this.fieldsIndex);ia.fixTimeInfoFields(this.timeInfo,this.fieldsIndex);return Qa.loadStyleRenderer(this,{origin:"service"})});return function(Aa){return Da.apply(this,arguments)}}();Xa.hasDataChanged=function(){var Da=b._asyncToGenerator(function*(){return aa.hasDataChanged(this)});return function(){return Da.apply(this,arguments)}}();Xa.fetchPublishingStatus=function(){var Da=b._asyncToGenerator(function*(){const Aa=this.source;return Aa?.fetchPublishingStatus?
Aa.fetchPublishingStatus():"unavailable"});return function(){return Da.apply(this,arguments)}}();Xa._verifyFields=function(){const Da=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+Da+")");this.isTable||this._hasMemorySource()||-1!==Da.search(/\/FeatureServer\//i)||this.fields?.some(Aa=>"geometry"===Aa.type)||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+
Da+")")};Xa._fixTemplates=function(Da,Aa){Da&&Da.forEach(Va=>{(Va=Va.prototype&&Va.prototype.attributes)&&Aa&&delete Va[Aa]})};Xa._verifySource=function(){if(this._hasMemorySource()){if(this.url)throw new z("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url");}else if(!this.url)throw new z("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source");};Xa._initMemorySource=function(Da){Da.forEach(Aa=>
{Aa.layer=this;Aa.sourceLayer=this});this._handles.add([Da.on("after-add",Aa=>{Aa.item.layer=this;Aa.item.sourceLayer=this}),Da.on("after-remove",Aa=>{Aa.item.layer=null;Aa.item.sourceLayer=null})],"fl-source")};Xa._resetMemorySource=function(Da){Da.forEach(Aa=>{Aa.layer=null;Aa.sourceLayer=null});this._handles.remove("fl-source")};Xa._hasMemorySource=function(){return!(this.url||!this.source)};b._createClass(fb,[{key:"createQueryVersion",get:function(){this.commitProperty("definitionExpression");
this.commitProperty("dynamicDataSource");this.commitProperty("timeExtent");this.commitProperty("timeOffset");this.commitProperty("geometryType");this.commitProperty("gdbVersion");this.commitProperty("historicMoment");this.commitProperty("returnZ");this.commitProperty("capabilities");this.commitProperty("returnM");return(this._get("createQueryVersion")??0)+1}},{key:"editingEnabled",get:function(){return this.loaded&&!this.capabilities?.operations.supportsEditing?!1:this._isOverridden("editingEnabled")?
this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges},set:function(Da){this._overrideIfSome("editingEnabled",Da)}},{key:"effectiveEditingEnabled",get:function(){return aa.computeEffectiveEditingEnabled(this)}},{key:"parsedUrl",get:function(){const Da=J.urlToObject(this.url);null!=Da&&(null!=this.dynamicDataSource?Da.path=J.join(Da.path,"dynamicLayer"):null!=this.layerId&&(Da.path=J.join(Da.path,this.layerId.toString())));return Da}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},
{key:"renderer",set:function(Da){ia.fixRendererFields(Da,this.fieldsIndex);this._set("renderer",Da)}},{key:"source",set:function(Da){const Aa=this._get("source");Aa!==Da&&(Aa&&Aa instanceof u&&this._resetMemorySource(Aa),Da&&Da instanceof u&&this._initMemorySource(Da),this._set("source",Da))}}]);return fb}(da.FeatureLayerBase(na.FeatureReductionLayer(Ha.FeatureEffectLayer(N.PublishableLayer(Ga.EditBusLayer(ra.BlendLayer(Na.OrderedLayer(wa.TemporalLayer(ja.ScaleRangeLayer(S.RefreshableLayer(X.ArcGISService(xa.OperationalLayer(Oa.PortalLayer(E.MultiOriginJSONMixin(Ba.CustomParametersMixin(Y.APIKeyMixin(q.ClonableMixin(W))))))))))))))))));
c.__decorate([I.reader("service","capabilities")],q.prototype,"readCapabilities",null);c.__decorate([M.property({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],q.prototype,"charts",void 0);c.__decorate([M.property({readOnly:!0})],q.prototype,"createQueryVersion",null);c.__decorate([M.property({json:{read:{source:"layerDefinition.copyrightText"}}})],q.prototype,"copyright",void 0);c.__decorate([M.property({json:{read:{source:"layerDefinition.displayField"}}})],q.prototype,"displayField",
void 0);c.__decorate([M.property({types:h.symbolTypes,readOnly:!0})],q.prototype,"defaultSymbol",void 0);c.__decorate([M.property({type:Ca.DataLayerSource})],q.prototype,"dynamicDataSource",void 0);c.__decorate([M.property({type:Boolean})],q.prototype,"editingEnabled",null);c.__decorate([I.reader(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],q.prototype,"readEditingEnabled",null);c.__decorate([I.reader("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],
q.prototype,"readEditingEnabledFromWebMap",null);c.__decorate([K.writer(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],q.prototype,"writeEditingEnabled",null);c.__decorate([K.writer("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],q.prototype,"writeEditingEnabledToWebMap",null);c.__decorate([M.property({readOnly:!0})],q.prototype,"effectiveEditingEnabled",null);c.__decorate([M.property({...d.fields,
json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Wa}}}}})],q.prototype,"fields",void 0);c.__decorate([M.property(d.fieldsIndex)],q.prototype,"fieldsIndex",void 0);c.__decorate([M.property({type:O,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],q.prototype,"formTemplate",void 0);c.__decorate([M.property({json:{read:{source:"layerDefinition.extent"}}})],q.prototype,"fullExtent",
void 0);c.__decorate([M.property({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Wa,writer(ab,fb,Xa){(ab=ab?aa.geometryTypeKebabDict.toJSON(ab):null)&&y.setDeepValue(Xa,ab,fb)}}}},read:{source:"layerDefinition.geometryType",reader:aa.geometryTypeKebabDict.read}}})],q.prototype,"geometryType",void 0);c.__decorate([M.property({json:{read:{source:"layerDefinition.hasM"}}})],q.prototype,"hasM",void 0);c.__decorate([M.property({json:{read:{source:"layerDefinition.hasZ"}}})],
q.prototype,"hasZ",void 0);c.__decorate([M.property(V.id)],q.prototype,"id",void 0);c.__decorate([M.property({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],q.prototype,"infoFor3D",void 0);c.__decorate([M.property({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],q.prototype,"isTable",void 0);c.__decorate([I.reader("service","isTable",["type","geometryType"]),I.reader("isTable",["layerDefinition.type","layerDefinition.geometryType"])],q.prototype,"readIsTable",null);
c.__decorate([K.writer("web-map","isTable")],q.prototype,"writeIsTable",null);c.__decorate([M.property(V.labelsVisible)],q.prototype,"labelsVisible",void 0);c.__decorate([M.property({type:[qa],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:ea.reader},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:ea.reader},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],q.prototype,"labelingInfo",void 0);
c.__decorate([M.property((()=>{const ab=w.clone(V.opacityDrawingInfo);ab.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(fb,Xa,Da){y.setDeepValue(Da,Ka.opacityToTransparency(fb),Xa)}}};return ab})())],q.prototype,"opacity",void 0);c.__decorate([M.property(V.legendEnabled)],q.prototype,"legendEnabled",void 0);c.__decorate([M.property({type:["show","hide"],json:(()=>{const ab=w.clone(V.listMode.json);ab.origins["portal-item"]={read:!1,write:!1};return ab})()})],
q.prototype,"listMode",void 0);c.__decorate([I.reader("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],q.prototype,"readGlobalIdField",null);c.__decorate([M.property({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Wa}}}}})],q.prototype,"objectIdField",void 0);c.__decorate([I.reader("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],q.prototype,"readObjectIdField",null);c.__decorate([M.property({value:"ArcGISFeatureLayer",
type:["ArcGISFeatureLayer"]})],q.prototype,"operationalLayerType",void 0);c.__decorate([M.property(d.outFields)],q.prototype,"outFields",void 0);c.__decorate([M.property({readOnly:!0})],q.prototype,"parsedUrl",null);c.__decorate([M.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],q.prototype,"path",void 0);c.__decorate([M.property(V.popupEnabled)],q.prototype,"popupEnabled",void 0);c.__decorate([M.property({type:e,json:{name:"popupInfo",write:!0}})],q.prototype,"popupTemplate",
void 0);c.__decorate([M.property({readOnly:!0})],q.prototype,"defaultPopupTemplate",null);c.__decorate([M.property({types:n.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:n.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy(ab,fb,Xa){return{ignoreOrigin:Xa?.writeLayerSchema}}}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy(ab,fb,Xa){return{ignoreOrigin:Xa?.writeLayerSchema}}}}})],
q.prototype,"renderer",null);c.__decorate([I.reader("service","renderer",["drawingInfo.renderer","defaultSymbol"]),I.reader("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],q.prototype,"readRenderer",null);c.__decorate([M.property((()=>{const ab=w.clone(V.screenSizePerspectiveEnabled);ab.json.origins["portal-item"]={read:!1,write:!1};return ab})())],q.prototype,"screenSizePerspectiveEnabled",void 0);c.__decorate([M.property({clonable:!1})],q.prototype,"source",
null);c.__decorate([L.cast("source")],q.prototype,"castSource",null);c.__decorate([I.reader("portal-item","source",["featureSet"]),I.reader("web-map","source",["featureSet"])],q.prototype,"readSource",null);c.__decorate([M.property({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],q.prototype,"spatialReference",void 0);c.__decorate([M.property({type:Number})],q.prototype,"subtypeCode",void 0);c.__decorate([M.property({type:[oa]})],q.prototype,"templates",void 0);c.__decorate([I.reader("templates",
["editFieldsInfo","creatorField","editorField","templates"])],q.prototype,"readTemplates",null);c.__decorate([M.property({type:ca})],q.prototype,"timeInfo",void 0);c.__decorate([M.property()],q.prototype,"title",void 0);c.__decorate([I.reader("service","title",["name"]),I.reader("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],q.prototype,"readTitle",null);c.__decorate([I.reader("web-map","title",["layerDefinition.name","title"])],q.prototype,"readTitleFromWebMap",
null);c.__decorate([M.property({type:String})],q.prototype,"sublayerTitleMode",void 0);c.__decorate([M.property({json:{read:!1}})],q.prototype,"type",void 0);c.__decorate([M.property({type:String})],q.prototype,"typeIdField",void 0);c.__decorate([I.reader("service","typeIdField"),I.reader("typeIdField",["layerDefinition.typeIdField"])],q.prototype,"readTypeIdField",null);c.__decorate([M.property({type:[P]})],q.prototype,"types",void 0);c.__decorate([I.reader("service","types",["types"]),I.reader("types",
["layerDefinition.types"])],q.prototype,"readTypes",null);c.__decorate([M.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],q.prototype,"visible",void 0);c.__decorate([I.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],q.prototype,"readVisible",null);q=c.__decorate([G.subclass("esri.layers.FeatureLayer")],q);const bb=H.createTypeReader({types:h.symbolTypesRenderer});return q})},"esri/PopupTemplate":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Clonable ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/AttachmentsContent ./popup/content/FieldsContent ./popup/content/ExpressionContent ./popup/content/RelationshipContent ./popup/content/Content ./popup/content/CustomContent".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A,B,E,y,C,D,J,M,L,I,G){const K=t.getLogger("esri.PopupTemplate");t=e.ofType({key:"type",defaultKeyValue:"button",base:A,typeMap:{button:B,toggle:E}});const H={base:I,key:"type",typeMap:{media:y,custom:G,text:C,attachments:D,fields:J,expression:M,relationship:L}},O="attachments fields media text expression relationship".split(" ");c=function(Q){function W(){var Y=Q.apply(this,arguments)||this;Y.actions=null;Y.content="";Y.expressionInfos=null;Y.fieldInfos=
null;Y.layerOptions=null;Y.lastEditInfoEnabled=!0;Y.outFields=null;Y.overwriteActions=!1;Y.returnGeometry=!1;Y.title="";return Y}a._inheritsLoose(W,Q);var T=W.prototype;T.castContent=function(Y){if(Array.isArray(Y))return Y.map(X=>n.ensureOneOfType(H,X));if("string"===typeof Y||"function"===typeof Y||Y instanceof HTMLElement||m.isPromiseLike(Y))return Y;K.error("content error","unsupported content value",{value:Y});return null};T.readContent=function(Y,X){({popupElements:Y}=X);return Array.isArray(Y)&&
0<Y.length?this._readPopupInfoElements(X.description,X.mediaInfos,Y):this._readPopupInfo(X)};T.writeContent=function(Y,X,ra,Ba){"string"===typeof Y?X.description=Y:Array.isArray(Y)&&(X.popupElements=Y.filter(Ga=>O.includes(Ga.type)).map(Ga=>Ga&&Ga.toJSON(Ba)),X.popupElements.forEach(Ga=>{"attachments"===Ga.type?this._writeAttachmentContent(X):"media"===Ga.type?this._writeMediaContent(Ga,X):"text"===Ga.type?this._writeTextContent(Ga,X):"relationship"===Ga.type&&this._writeRelationshipContent(Ga,X)}))};
T.writeFieldInfos=function(Y,X,ra,Ba){({content:ra}=this);ra=Array.isArray(ra)?ra:null;if(Y){const Ga=ra?ra.filter(da=>"fields"===da.type):[],Ha=Ga.length&&Ga.every(da=>da.fieldInfos?.length);X.fieldInfos=Y.filter(Boolean).map(da=>{da=da.toJSON(Ba);Ha&&(da.visible=!1);return da})}if(ra)for(const Ga of ra)"fields"===Ga.type&&this._writeFieldsContent(Ga,X)};T.writeLayerOptions=function(Y,X,ra,Ba){X[ra]=!Y||null===Y.showNoDataRecords&&null===Y.returnTopmostRaster?null:Y.toJSON(Ba)};T.writeTitle=function(Y,
X){X.title=Y||""};T.collectRequiredFields=function(){var Y=a._asyncToGenerator(function*(X,ra){const Ba=this.expressionInfos||[];yield this._collectExpressionInfoFields(X,ra,[...Ba,...this._getContentExpressionInfos(this.content,Ba)]);v.collectFields(X,ra,[...(this.outFields||[]),...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])});return function(X,ra){return Y.apply(this,arguments)}}();T.getRequiredFields=function(){var Y=a._asyncToGenerator(function*(X){const ra=
new Set;yield this.collectRequiredFields(ra,X);return[...ra].sort()});return function(X){return Y.apply(this,arguments)}}();T._writeFieldsContent=function(Y,X){Array.isArray(Y.fieldInfos)&&Y.fieldInfos.length&&(Y=k.clone(Y.fieldInfos),Array.isArray(X.fieldInfos)?Y.forEach(ra=>{const Ba=X.fieldInfos.find(Ga=>Ga.fieldName.toLowerCase()===ra.fieldName.toLowerCase());Ba?Ba.visible=!0:X.fieldInfos.push(ra)}):X.fieldInfos=Y)};T._writeAttachmentContent=function(Y){Y.showAttachments||(Y.showAttachments=!0)};
T._writeRelationshipContent=function(Y,X){var ra=Y.orderByFields?.map(Ba=>this._toFieldOrderJSON(Ba,Y.relationshipId))||[];ra=[...(X.relatedRecordsInfo?.orderByFields||[]),...ra];X.relatedRecordsInfo={showRelatedRecords:!0,...(ra?.length&&{orderByFields:ra})}};T._writeTextContent=function(Y,X){!X.description&&Y.text&&(X.description=Y.text)};T._writeMediaContent=function(Y,X){Array.isArray(Y.mediaInfos)&&Y.mediaInfos.length&&(Y=k.clone(Y.mediaInfos),Array.isArray(X.mediaInfos)?X.mediaInfos=[...X.mediaInfos,
...Y]:X.mediaInfos=Y)};T._readPopupInfoElements=function(Y,X,ra){var Ba=!1,Ga=!1;return ra.map(Ha=>{if("media"===Ha.type)return Ha.mediaInfos||!X||Ga||(Ha.mediaInfos=X,Ga=!0),y.fromJSON(Ha);if("text"===Ha.type)return Ha.text||!Y||Ba||(Ha.text=Y,Ba=!0),C.fromJSON(Ha);if("attachments"===Ha.type)return D.fromJSON(Ha);if("fields"===Ha.type)return J.fromJSON(Ha);if("expression"===Ha.type)return M.fromJSON(Ha);if("relationship"===Ha.type)return L.fromJSON(Ha)}).filter(Boolean)};T._toRelationshipContent=
function(Y){const {field:X,order:ra}=Y;if(!X?.startsWith("relationships/"))return null;var Ba=X.replace("relationships/","").split("/");if(2!==Ba.length)return null;Y=parseInt(Ba[0],10);Ba=Ba[1];return"number"===typeof Y&&Ba?L.fromJSON({relationshipId:Y,orderByFields:[{field:Ba,order:ra}]}):null};T._toFieldOrderJSON=function(Y,X){const {order:ra,field:Ba}=Y;return{field:`${"relationships/"}${X}/${Ba}`,order:ra}};T._readPopupInfo=function({description:Y,mediaInfos:X,showAttachments:ra,relatedRecordsInfo:Ba=
{showRelatedRecords:!1}}){const Ga=[];Y?Ga.push(new C({text:Y})):Ga.push(new J);Array.isArray(X)&&X.length&&Ga.push(y.fromJSON({mediaInfos:X}));ra&&Ga.push(D.fromJSON({displayType:"auto"}));const {showRelatedRecords:Ha,orderByFields:da}=Ba;Ha&&da?.length&&da.forEach(na=>{(na=this._toRelationshipContent(na))&&Ga.push(na)});return Ga.length?Ga:Y};T._getContentElementFields=function(Y){var X=Y?.type;return"attachments"===X?[...this._extractFieldNames(Y.title),...this._extractFieldNames(Y.description)]:
"custom"===X?Y.outFields||[]:"fields"===X?[...this._extractFieldNames(Y.title),...this._extractFieldNames(Y.description),...this._getFieldInfoFields(Y.fieldInfos??this.fieldInfos)]:"media"===X?(X=Y.mediaInfos||[],[...this._extractFieldNames(Y.title),...this._extractFieldNames(Y.description),...X.reduce((ra,Ba)=>[...ra,...this._getMediaInfoFields(Ba)],[])]):"text"===X?this._extractFieldNames(Y.text):[]};T._getMediaInfoFields=function(Y){const {caption:X,title:ra,value:Ba}=Y,{fields:Ga,normalizeField:Ha,
tooltipField:da,sourceURL:na,linkURL:xa}=Ba||{};Y=[...this._extractFieldNames(ra),...this._extractFieldNames(X),...this._extractFieldNames(na),...this._extractFieldNames(xa),...(Ga??[])];Ha&&Y.push(Ha);da&&Y.push(da);return Y};T._getContentExpressionInfos=function(Y,X){return Array.isArray(Y)?Y.reduce((ra,Ba)=>[...ra,...("expression"===Ba.type&&Ba.expressionInfo?[Ba.expressionInfo]:[])],X):[]};T._getContentFields=function(Y){return"string"===typeof Y?this._extractFieldNames(Y):Array.isArray(Y)?Y.reduce((X,
ra)=>[...X,...this._getContentElementFields(ra)],[]):[]};T._collectExpressionInfoFields=function(){var Y=a._asyncToGenerator(function*(X,ra,Ba){Ba&&(yield Promise.all(Ba.map(Ga=>v.collectArcadeFieldNames(X,ra,Ga.expression))))});return function(X,ra,Ba){return Y.apply(this,arguments)}}();T._getFieldInfoFields=function(Y){return Y?Y.filter(X=>"undefined"===typeof X.visible?!0:!!X.visible).map(X=>X.fieldName).filter(X=>!X.startsWith("relationships/")&&!X.startsWith("expression/")):[]};T._getActionsFields=
function(Y){return Y?Y.toArray().reduce((X,ra)=>[...X,...this._getActionFields(ra)],[]):[]};T._getActionFields=function(Y){const {className:X,title:ra,type:Ba}=Y;Y="button"===Ba||"toggle"===Ba?Y.image:"";return[...this._extractFieldNames(ra),...this._extractFieldNames(X),...this._extractFieldNames(Y)]};T._getTitleFields=function(Y){return"string"===typeof Y?this._extractFieldNames(Y):[]};T._extractFieldNames=function(Y){if(!Y||"string"!==typeof Y)return[];Y=Y.match(/{[^}]*}/g);if(!Y)return[];const X=
/\{(\w+):.+\}/;return(Y=Y.filter(ra=>!(0===ra.indexOf("{relationships/")||0===ra.indexOf("{expression/"))).map(ra=>ra.replace(X,"{$1}")))?Y.map(ra=>ra.slice(1,-1)):[]};return W}(c.ClonableMixin(d.JSONSupport));b.__decorate([f.property({type:t})],c.prototype,"actions",void 0);b.__decorate([f.property()],c.prototype,"content",void 0);b.__decorate([g.cast("content")],c.prototype,"castContent",null);b.__decorate([l.reader("content","description fieldInfos popupElements mediaInfos showAttachments relatedRecordsInfo".split(" "))],
c.prototype,"readContent",null);b.__decorate([p.writer("content",{popupElements:{type:e.ofType(h.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:e.ofType(w.types)},description:{type:String},relatedRecordsInfo:{type:x}})],c.prototype,"writeContent",null);b.__decorate([f.property({type:[q],json:{write:!0}})],c.prototype,"expressionInfos",void 0);b.__decorate([f.property({type:[u]})],c.prototype,"fieldInfos",void 0);b.__decorate([p.writer("fieldInfos")],c.prototype,"writeFieldInfos",
null);b.__decorate([f.property({type:z})],c.prototype,"layerOptions",void 0);b.__decorate([p.writer("layerOptions")],c.prototype,"writeLayerOptions",null);b.__decorate([f.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],c.prototype,"lastEditInfoEnabled",void 0);b.__decorate([f.property()],c.prototype,"outFields",void 0);b.__decorate([f.property()],c.prototype,"overwriteActions",void 0);b.__decorate([f.property()],c.prototype,"returnGeometry",
void 0);b.__decorate([f.property({json:{type:String}})],c.prototype,"title",void 0);b.__decorate([p.writer("title")],c.prototype,"writeTitle",null);return c=b.__decorate([r.subclass("esri.PopupTemplate")],c)})},"esri/popup/content":function(){define("exports ./content/AttachmentsContent ./content/Content ./content/CustomContent ./content/ExpressionContent ./content/FieldsContent ./content/MediaContent ./content/RelationshipContent ./content/TextContent".split(" "),function(a,b,c,e,d,k,t,m,f){const g=
{base:null,key:"type",typeMap:{attachment:b,media:t,text:f,expression:d,field:k,relationship:m}};a.AttachmentsContent=b;a.BaseContent=c;a.CustomContent=e;a.ExpressionContent=d;a.FieldsContent=k;a.MediaContent=t;a.RelationshipContent=m;a.TextContent=f;a.isContent=function(l){return l instanceof c};a.persistableTypes=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/AttachmentsContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,e,d,k,t){var m;e=m=function(f){function g(l){l=f.call(this,l)||this;l.description=null;l.displayType="auto";l.title=null;l.type="attachments";return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({description:this.description,displayType:this.displayType,title:this.title})};return g}(t);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"description",void 0);b.__decorate([c.property({type:["auto","preview","list"],json:{write:!0}})],e.prototype,
"displayType",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"title",void 0);b.__decorate([c.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=m=b.__decorate([k.subclass("esri.popup.content.AttachmentsContent")],e)})},"esri/popup/content/Content":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){c=function(m){function f(g){g=m.call(this,g)||this;g.type=null;return g}a._inheritsLoose(f,m);return f}(c.JSONSupport);b.__decorate([e.property({type:"attachments custom fields media text expression relationship".split(" "),readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.popup.content.Content")],c)})},"esri/popup/content/CustomContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,e,d,k,t){var m;d=m=function(f){function g(l){l=f.call(this,l)||this;l.creator=null;l.destroyer=null;l.outFields=null;l.type="custom";return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?c.clone(this.outFields):null})};return g}(t);b.__decorate([e.property()],d.prototype,"creator",void 0);b.__decorate([e.property()],d.prototype,"destroyer",void 0);b.__decorate([e.property()],d.prototype,
"outFields",void 0);b.__decorate([e.property({type:["custom"],readOnly:!0})],d.prototype,"type",void 0);return d=m=b.__decorate([k.subclass("esri.popup.content.CustomContent")],d)})},"esri/popup/content/ExpressionContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../ElementExpressionInfo ./Content".split(" "),
function(a,b,c,e,d,k,t,m){var f;e=f=function(g){function l(r){r=g.call(this,r)||this;r.expressionInfo=null;r.type="expression";return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({expressionInfo:this.expressionInfo?.clone()})};return l}(m);b.__decorate([c.property({type:t,json:{write:!0}})],e.prototype,"expressionInfo",void 0);b.__decorate([c.property({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=f=b.__decorate([k.subclass("esri.popup.content.ExpressionContent")],
e)})},"esri/popup/ElementExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t){var m;c=m=function(f){function g(l){l=f.call(this,l)||this;l.title=null;l.expression=null;l.returnType="dictionary";return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({title:this.title,
expression:this.expression})};return g}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([e.property({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"returnType",void 0);return c=m=b.__decorate([t.subclass("esri.popup.ElementExpressionInfo")],c)})},"esri/popup/content/FieldsContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../FieldInfo ./Content".split(" "),
function(a,b,c,e,d,k,t,m,f){var g;d=g=function(l){function r(n){n=l.call(this,n)||this;n.attributes=null;n.description=null;n.fieldInfos=null;n.title=null;n.type="fields";return n}a._inheritsLoose(r,l);var p=r.prototype;p.writeFieldInfos=function(n,v){v.fieldInfos=n&&n.map(h=>h.toJSON())};p.clone=function(){return new g(c.clone({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))};return r}(f);b.__decorate([e.property({type:Object,json:{write:!0}})],
d.prototype,"attributes",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"description",void 0);b.__decorate([e.property({type:[m]})],d.prototype,"fieldInfos",void 0);b.__decorate([t.writer("fieldInfos")],d.prototype,"writeFieldInfos",null);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"title",void 0);b.__decorate([e.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=g=b.__decorate([k.subclass("esri.popup.content.FieldsContent")],
d)})},"esri/popup/FieldInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./support/FieldInfoFormat".split(" "),function(a,b,c,e,d,k,t,m,f,g){var l;e=l=function(r){function p(n){n=r.call(this,n)||this;n.fieldName=null;n.format=null;n.isEditable=!1;n.label=
null;n.stringFieldOption="text-box";n.statisticType=null;n.tooltip=null;n.visible=!0;return n}a._inheritsLoose(p,r);p.prototype.clone=function(){return new l({fieldName:this.fieldName,format:this.format?d.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})};return p}(e.JSONSupport);b.__decorate([k.property({type:String,json:{write:!0}})],e.prototype,"fieldName",void 0);
b.__decorate([k.property({type:g,json:{write:!0}})],e.prototype,"format",void 0);b.__decorate([k.property({type:Boolean,json:{write:!0,default:!1}})],e.prototype,"isEditable",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],e.prototype,"label",void 0);b.__decorate([m.enumeration(new c.JSONMap({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],e.prototype,"stringFieldOption",void 0);b.__decorate([k.property({type:"count sum min max avg stddev var".split(" "),
json:{write:!0}})],e.prototype,"statisticType",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],e.prototype,"tooltip",void 0);b.__decorate([k.property({type:Boolean,json:{write:!0}})],e.prototype,"visible",void 0);return e=l=b.__decorate([f.subclass("esri.popup.FieldInfo")],e)})},"esri/popup/support/FieldInfoFormat":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../intl/date ../../intl/number".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l){var r;e=r=function(p){function n(h){h=p.call(this,h)||this;h.dateFormat=null;h.dateTimeFormatOptions=null;h.digitSeparator=!1;h.places=null;return h}a._inheritsLoose(n,p);var v=n.prototype;v.clone=function(){return new r({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};v.format=function(h){return this.dateFormat?g.formatDate(h,{...g.convertDateFormatToIntlOptions(this.dateFormat),...this.dateTimeFormatOptions}):l.formatNumber(h,l.convertNumberFormatToIntlOptions(this))};
v.formatRasterPixelValue=function(h){if(h.includes("-"))return h;let q;return h.trim().includes(",")?(q=",",this._formatDelimitedString(h,q,q+" ",this)):h.trim().includes(";")?(q=";",this._formatDelimitedString(h,q,q+" ",this)):h.trim().includes(" ")?this._formatDelimitedString(h," "," ",this):this.format(Number(h))};v._formatDelimitedString=function(h,q,u,z){return h&&q&&u&&z?h.trim().split(q).map(x=>this.format(Number(x))).join(u):h};return n}(e.JSONSupport);b.__decorate([m.enumeration(c.dictionary)],
e.prototype,"dateFormat",void 0);b.__decorate([d.property({type:Object,json:{read:!1}})],e.prototype,"dateTimeFormatOptions",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],e.prototype,"digitSeparator",void 0);b.__decorate([d.property({type:k.Integer,json:{write:!0}})],e.prototype,"places",void 0);return e=r=b.__decorate([f.subclass("esri.popup.support.FieldInfoFormat")],e)})},"esri/core/date":function(){define(["exports","./jsonMap"],function(a,b){const c={"short-date":"(datePattern: 'M/d/y', selector: 'date')",
"short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')",
"short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')","short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')",
"day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};b=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",
shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",
longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",
longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});const e=b.toJSON.bind(b),d=b.fromJSON.bind(b);a.dictionary=b;a.formats=c;a.fromJSON=d;a.getFormat=function(k){return c[k]};a.toJSON=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/date":function(){define(["exports","../core/jsonMap","./locale"],function(a,b,c){function e(v){v=v||n;var h=p.get(v);h||(h=c.getLocale(),h=r[c.getLocale()]||h,h=new Intl.DateTimeFormat(h,v),p.set(v,h));return h}var d=
{year:"numeric",month:"numeric",day:"numeric"},k={year:"numeric",month:"long",day:"numeric"},t={year:"numeric",month:"short",day:"numeric"};const m={year:"numeric",month:"long",weekday:"long",day:"numeric"},f={hour:"numeric",minute:"numeric"},g={...f,second:"numeric"},l={"short-date":d,"short-date-short-time":{...d,...f},"short-date-short-time-24":{...d,...f,hour12:!1},"short-date-long-time":{...d,...g},"short-date-long-time-24":{...d,...g,hour12:!1},"short-date-le":d,"short-date-le-short-time":{...d,
...f},"short-date-le-short-time-24":{...d,...f,hour12:!1},"short-date-le-long-time":{...d,...g},"short-date-le-long-time-24":{...d,...g,hour12:!1},"long-month-day-year":k,"long-month-day-year-short-time":{...k,...f},"long-month-day-year-short-time-24":{...k,...f,hour12:!1},"long-month-day-year-long-time":{...k,...g},"long-month-day-year-long-time-24":{...k,...g,hour12:!1},"day-short-month-year":t,"day-short-month-year-short-time":{...t,...f},"day-short-month-year-short-time-24":{...t,...f,hour12:!1},
"day-short-month-year-long-time":{...t,...g},"day-short-month-year-long-time-24":{...t,...g,hour12:!1},"long-date":m,"long-date-short-time":{...m,...f},"long-date-short-time-24":{...m,...f,hour12:!1},"long-date-long-time":{...m,...g},"long-date-long-time-24":{...m,...g,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":f,"long-time":g};b=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",
shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",
longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",
longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});d=b.apiValues;k=b.toJSON.bind(b);t=b.fromJSON.bind(b);const r={ar:"ar-u-nu-latn-ca-gregory"};let p=new WeakMap,n=l["short-date-short-time"];c.beforeLocaleChange(()=>{p=new WeakMap;n=l["short-date-short-time"]});a.convertDateFormatToIntlOptions=function(v){return v?l[v]:null};a.dateFormats=d;a.dictionary=b;a.formatDate=function(v,h){return e(h).format(v)};
a.fromJSON=t;a.getDateTimeFormatter=e;a.toJSON=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/number":function(){define(["exports","../core/maybe","./locale"],function(a,b,c){function e(m){const f=m||t;if(!k.has(f)){var g=c.getLocale();g=d[c.getLocale()]||g;k.set(f,new Intl.NumberFormat(g,m))}return b.assumeNonNull(k.get(f))}const d={ar:"ar-u-nu-latn"};let k=new WeakMap,t={};c.beforeLocaleChange(()=>{k=new WeakMap;t={}});a.convertNumberFormatToIntlOptions=function(m=
{}){const f={};null!=m.digitSeparator&&(f.useGrouping=m.digitSeparator);null!=m.places&&(f.minimumFractionDigits=f.maximumFractionDigits=m.places);return f};a.formatNumber=function(m,f){-0===m&&(m=0);return e(f).format(m)};a.getFormatter=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/MediaContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v){var h;d=h=function(q){function u(x){x=q.call(this,x)||this;x.activeMediaInfoIndex=null;x.attributes=null;x.description=null;x.mediaInfos=null;x.title=null;x.type="media";return x}a._inheritsLoose(u,q);var z=u.prototype;z.readMediaInfos=function(x){return x&&x.map(w=>{if("image"===w.type)return r.fromJSON(w);if("barchart"===w.type)return f.fromJSON(w);if("columnchart"===w.type)return g.fromJSON(w);if("linechart"===w.type)return p.fromJSON(w);if("piechart"===
w.type)return n.fromJSON(w)}).filter(Boolean)};z.writeMediaInfos=function(x,w){w.mediaInfos=x&&x.map(A=>A.toJSON())};z.clone=function(){return new h(c.clone({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))};return u}(l);b.__decorate([e.property()],d.prototype,"activeMediaInfoIndex",void 0);b.__decorate([e.property({type:Object,json:{write:!0}})],d.prototype,"attributes",void 0);b.__decorate([e.property({type:String,
json:{write:!0}})],d.prototype,"description",void 0);b.__decorate([e.property({types:[v.types]})],d.prototype,"mediaInfos",void 0);b.__decorate([k.reader("mediaInfos")],d.prototype,"readMediaInfos",null);b.__decorate([m.writer("mediaInfos")],d.prototype,"writeMediaInfos",null);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"title",void 0);b.__decorate([e.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=h=b.__decorate([t.subclass("esri.popup.content.MediaContent")],
d)})},"esri/popup/content/BarChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,c,e,d,k,t,m){var f;e=f=function(g){function l(r){r=g.call(this,r)||this;r.type="bar-chart";return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({altText:this.altText,
title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return l}(t);b.__decorate([c.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:m.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=f=b.__decorate([k.subclass("esri.popup.content.BarChartMediaInfo")],e)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(a,b,c,e,d,k,t,m){e=function(f){function g(l){l=f.call(this,l)||this;l.type=null;l.value=null;return l}a._inheritsLoose(g,f);return g}(t);b.__decorate([c.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);b.__decorate([c.property({type:m,json:{write:!0}})],e.prototype,"value",void 0);return e=b.__decorate([k.subclass("esri.popup.content.mixins.ChartMediaInfo")],e)})},"esri/popup/content/mixins/MediaInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){c=function(m){function f(g){g=m.call(this,g)||this;g.altText=null;g.caption="";g.title="";g.type=null;return g}a._inheritsLoose(f,m);return f}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"altText",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"caption",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([e.property({type:["image","bar-chart","column-chart",
"line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.popup.content.mixins.MediaInfo")],c)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./ChartMediaInfoValueSeries".split(" "),
function(a,b,c,e,d,k,t,m){var f;c=f=function(g){function l(r){r=g.call(this,r)||this;r.fields=[];r.normalizeField=null;r.series=[];r.tooltipField=null;return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({fields:e.clone(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})};return l}(c.JSONSupport);b.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"fields",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,
"normalizeField",void 0);b.__decorate([d.property({type:[m],json:{read:!1}})],c.prototype,"series",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"tooltipField",void 0);return c=f=b.__decorate([t.subclass("esri.popup.content.support.ChartMediaInfoValue")],c)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){var m;c=m=function(f){function g(l){l=f.call(this,l)||this;l.fieldName=null;l.tooltip=null;l.value=null;return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})};return g}(c);b.__decorate([e.property()],c.prototype,"fieldName",void 0);b.__decorate([e.property()],c.prototype,"tooltip",void 0);b.__decorate([e.property()],c.prototype,"value",void 0);return c=m=b.__decorate([t.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],
c)})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["exports","../../../core/jsonMap"],function(a,b){b=b.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});a.chartTypeKebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,e,d,k,t,m){var f;e=f=function(g){function l(r){r=g.call(this,r)||this;r.type="column-chart";return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return l}(t);b.__decorate([c.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:m.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=f=b.__decorate([k.subclass("esri.popup.content.ColumnChartMediaInfo")],
e)})},"esri/popup/content/ImageMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),function(a,b,c,e,d,k,t,m){var f;e=f=function(g){function l(r){r=g.call(this,r)||this;r.refreshInterval=null;r.type="image";r.value=null;return r}a._inheritsLoose(l,
g);l.prototype.clone=function(){return new f({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};return l}(t);b.__decorate([c.property({type:Number,json:{write:!0}})],e.prototype,"refreshInterval",void 0);b.__decorate([c.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);b.__decorate([c.property({type:m,json:{write:!0}})],e.prototype,"value",void 0);return e=f=b.__decorate([k.subclass("esri.popup.content.ImageMediaInfo")],
e)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t){var m;c=m=function(f){function g(l){l=f.call(this,l)||this;l.linkURL=null;l.sourceURL=null;return l}a._inheritsLoose(g,f);g.prototype.clone=
function(){return new m({linkURL:this.linkURL,sourceURL:this.sourceURL})};return g}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"linkURL",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"sourceURL",void 0);return c=m=b.__decorate([t.subclass("esri.popup.content.support.ImageMediaInfoValue")],c)})},"esri/popup/content/LineChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,e,d,k,t,m){var f;e=f=function(g){function l(r){r=g.call(this,r)||this;r.type="line-chart";return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return l}(t);b.__decorate([c.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:m.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=f=b.__decorate([k.subclass("esri.popup.content.LineChartMediaInfo")],
e)})},"esri/popup/content/PieChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,c,e,d,k,t,m){var f;e=f=function(g){function l(r){r=g.call(this,r)||this;r.type="pie-chart";return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({altText:this.altText,
title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return l}(t);b.__decorate([c.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:m.chartTypeKebabDict.write}})],e.prototype,"type",void 0);return e=f=b.__decorate([k.subclass("esri.popup.content.PieChartMediaInfo")],e)})},"esri/popup/content/support/mediaInfoTypes":function(){define("exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,b,c,e,d,k,t){a.types={base:t,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":b,"column-chart":c,"line-chart":d,"pie-chart":k,image:e}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/RelationshipContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./Content ../support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,e,d,k,t,m,f){c=function(g){function l(r){r=g.call(this,r)||this;r.description=null;r.displayCount=null;r.displayType="list";r.orderByFields=null;r.relationshipId=null;r.title=null;r.type="relationship";return r}a._inheritsLoose(l,g);return l}(c.ClonableMixin(m));b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([e.property({type:Number,json:{type:d.Integer,write:!0}})],c.prototype,"displayCount",void 0);b.__decorate([e.property({type:["list"],
json:{write:!0}})],c.prototype,"displayType",void 0);b.__decorate([e.property({type:[f],json:{write:!0}})],c.prototype,"orderByFields",void 0);b.__decorate([e.property({type:Number,json:{type:d.Integer,write:!0}})],c.prototype,"relationshipId",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([e.property({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.popup.content.RelationshipContent")],
c)})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t){var m;c=m=function(f){function g(l){l=f.call(this,l)||this;l.field=null;l.order=null;return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({field:this.field,
order:this.order})};return g}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);b.__decorate([e.property({type:["asc","desc"],json:{write:!0}})],c.prototype,"order",void 0);return c=m=b.__decorate([t.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],c)})},"esri/popup/content/TextContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,c,e,d,k,t){var m;e=m=function(f){function g(l){l=f.call(this,l)||this;l.text=null;l.type="text";return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({text:this.text})};return g}(t);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"text",void 0);b.__decorate([c.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=m=b.__decorate([k.subclass("esri.popup.content.TextContent")],e)})},"esri/popup/ExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){var m;c=m=function(f){function g(l){l=f.call(this,l)||this;l.name=null;l.title=null;l.expression=null;l.returnType=null;return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};return g}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);
b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([e.property({type:["string","number"],json:{write:!0}})],c.prototype,"returnType",void 0);return c=m=b.__decorate([t.subclass("esri.popup.ExpressionInfo")],c)})},"esri/popup/LayerOptions":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){var m;c=m=function(f){function g(l){l=f.call(this,l)||this;l.returnTopmostRaster=null;l.showNoDataRecords=null;return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};return g}(c.JSONSupport);b.__decorate([e.property({type:Boolean,json:{write:!0}})],c.prototype,"returnTopmostRaster",void 0);b.__decorate([e.property({type:Boolean,json:{write:!0}})],c.prototype,"showNoDataRecords",
void 0);return c=m=b.__decorate([t.subclass("esri.popup.LayerOptions")],c)})},"esri/popup/RelatedRecordsInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/RelatedRecordsInfoFieldOrder".split(" "),function(a,b,c,e,d,k,t,m){var f;c=f=function(g){function l(r){r=g.call(this,r)||this;r.showRelatedRecords=null;
r.orderByFields=null;return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?e.clone(this.orderByFields):null})};return l}(c.JSONSupport);b.__decorate([d.property({type:Boolean,json:{write:!0}})],c.prototype,"showRelatedRecords",void 0);b.__decorate([d.property({type:[m],json:{write:!0}})],c.prototype,"orderByFields",void 0);return c=f=b.__decorate([t.subclass("esri.popup.RelatedRecordsInfo")],c)})},"esri/support/actions/ActionBase":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m){var f;c=f=function(g){function l(r){r=g.call(this,r)||this;r.active=!1;r.className=null;r.disabled=!1;r.id=null;r.indicator=!1;r.title=null;r.type=null;r.visible=!0;return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};return l}(e.IdentifiableMixin(c));b.__decorate([d.property()],c.prototype,"active",void 0);b.__decorate([d.property()],
c.prototype,"className",void 0);b.__decorate([d.property()],c.prototype,"disabled",void 0);b.__decorate([d.property()],c.prototype,"id",void 0);b.__decorate([d.property()],c.prototype,"indicator",void 0);b.__decorate([d.property()],c.prototype,"title",void 0);b.__decorate([d.property()],c.prototype,"type",void 0);b.__decorate([d.property()],c.prototype,"visible",void 0);return c=f=b.__decorate([m.subclass("esri.support.actions.ActionBase")],c)})},"esri/support/actions/ActionButton":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,c,e,d,k,t){var m;e=m=function(f){function g(l){l=f.call(this,l)||this;l.image=null;l.type="button";return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};return g}(t);b.__decorate([c.property()],e.prototype,"image",void 0);return e=m=b.__decorate([k.subclass("esri.support.Action.ActionButton")],e)})},"esri/support/actions/ActionToggle":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,c,e,d,k,t){var m;e=m=function(f){function g(l){l=f.call(this,l)||this;l.image=null;l.type="toggle";l.value=!1;return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};return g}(t);b.__decorate([c.property()],e.prototype,"image",void 0);b.__decorate([c.property()],e.prototype,"value",void 0);return e=
m=b.__decorate([k.subclass("esri.support.Action.ActionToggle")],e)})},"esri/renderers/ClassBreaksRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/commonProperties ./support/LegendOptions ../support/arcadeOnDemand".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w){var A;e=new e.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});const B=n.ensureType(u);h=A=function(E){function y(D){D=E.call(this,D)||this;D._compiledValueExpression={valueExpression:null,compiledFunction:null};D.backgroundFillSymbol=null;D.classBreakInfos=null;D.defaultLabel=null;D.defaultSymbol=null;D.field=null;D.isMaxInclusive=!0;D.legendOptions=null;D.normalizationField=null;
D.normalizationTotal=null;D.type="class-breaks";D.valueExpression=null;D.valueExpressionTitle=null;D._set("classBreakInfos",[]);return D}a._inheritsLoose(y,E);var C=y.prototype;C.readClassBreakInfos=function(D,J,M){if(Array.isArray(D)){var L=J.minValue;return D.map(I=>{const G=new u;G.read(I,M);null==G.minValue&&(G.minValue=L);null==G.maxValue&&(G.maxValue=G.minValue);L=G.maxValue;return G})}};C.writeClassBreakInfos=function(D,J,M,L){D=D.map(I=>I.write({},L));this._areClassBreaksConsecutive()&&D.forEach(I=>
delete I.classMinValue);J[M]=D};C.castField=function(D){return null==D?D:"function"===typeof D?(k.getLogger(this.declaredClass).error(".field: field must be a string value"),null):n.ensureString(D)};C.addClassBreakInfo=function(D,J,M){let L=null;L="number"===typeof D?new u({minValue:D,maxValue:J,symbol:c.ensureType(M)}):B(d.clone(D));this.classBreakInfos.push(L);1===this.classBreakInfos.length&&this.notifyChange("minValue")};C.removeClassBreakInfo=function(D,J){const M=this.classBreakInfos.length;
for(let L=0;L<M;L++){const I=[this.classBreakInfos[L].minValue,this.classBreakInfos[L].maxValue];if(I[0]===D&&I[1]===J){this.classBreakInfos.splice(L,1);break}}};C.getBreakIndex=function(D,J){this.valueExpression&&(t.isNone(J)||t.isNone(J.arcade))&&k.getLogger(this.declaredClass).warn("");return this.valueExpression?this._getBreakIndexForExpression(D,J):this._getBreakIndexForField(D)};C.getClassBreakInfo=function(){var D=a._asyncToGenerator(function*(J,M){let L=M;this.valueExpression&&(t.isNone(M)||
t.isNone(M.arcade))&&(L={...L,arcade:yield w.loadArcade()});J=this.getBreakIndex(J,L);return-1!==J?this.classBreakInfos[J]:null});return function(J,M){return D.apply(this,arguments)}}();C.getSymbol=function(D,J){if(this.valueExpression&&(t.isNone(J)||t.isNone(J.arcade)))k.getLogger(this.declaredClass).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return D=this.getBreakIndex(D,J),-1<D?this.classBreakInfos[D].symbol:this.defaultSymbol};C.getSymbolAsync=function(){var D=
a._asyncToGenerator(function*(J,M){let L=M;if(this.valueExpression&&(t.isNone(M)||t.isNone(M.arcade))){M=yield w.loadArcade();const {arcadeUtils:I}=M;I.hasGeometryOperations(this.valueExpression)&&(yield I.enableGeometryOperations());L={...L,arcade:M}}J=this.getBreakIndex(J,L);return-1<J?this.classBreakInfos[J].symbol:this.defaultSymbol});return function(J,M){return D.apply(this,arguments)}}();C.getSymbols=function(){const D=[];this.classBreakInfos.forEach(J=>{J.symbol&&D.push(J.symbol)});this.defaultSymbol&&
D.push(this.defaultSymbol);return D};C.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((D,J)=>D+J.getAttributeHash(),"")};C.getMeshHash=function(){const D=JSON.stringify(this.backgroundFillSymbol),J=JSON.stringify(this.defaultSymbol),M=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`,L=this.classBreakInfos.reduce((I,G)=>I+G.getMeshHash(),"");return`${D}.${J}.${L}.${M}.${this.field}.${this.valueExpression}`};C.clone=function(){return new A({field:this.field,
backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:d.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:d.clone(this.visualVariables),
legendOptions:d.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};C.collectRequiredFields=function(){var D=a._asyncToGenerator(function*(J,M){J=[this.collectVVRequiredFields(J,M),this.collectSymbolFields(J,M)];yield Promise.all(J)});return function(J,M){return D.apply(this,arguments)}}();C.collectSymbolFields=function(){var D=a._asyncToGenerator(function*(J,M){const L=[...this.getSymbols().map(I=>I.collectRequiredFields(J,M)),v.collectArcadeFieldNames(J,M,this.valueExpression)];
v.collectField(J,M,this.field);v.collectField(J,M,this.normalizationField);yield Promise.all(L)});return function(J,M){return D.apply(this,arguments)}}();C._getBreakIndexForExpression=function(D,J){const {viewingMode:M,scale:L,spatialReference:I,arcade:G}=t.unwrapOr(J,{});({valueExpression:J}=this);var K=this._compiledValueExpression.valueExpression===J?this._compiledValueExpression.compiledFunction:null;const H=t.unwrap(G).arcadeUtils;K||(K=H.createSyntaxTree(J),K=H.createFunction(K),this._compiledValueExpression.compiledFunction=
K);this._compiledValueExpression.valueExpression=J;D=H.executeFunction(K,H.createExecContext(D,H.getViewInfo({viewingMode:M,scale:L,spatialReference:I})));return this._getBreakIndexfromInfos(D)};C._getBreakIndexForField=function(D){var J=D.attributes;D=this.normalizationType;let M=parseFloat(J[this.field]);if(D){const L=this.normalizationTotal;J=parseFloat(this.normalizationField?J[this.normalizationField]:void 0);if("log"===D)M=Math.log(M)*Math.LOG10E;else if("percent-of-total"===D&&null!=L&&!isNaN(L))M=
M/L*100;else if("field"===D&&!isNaN(J)){if(isNaN(M)||isNaN(J))return-1;M/=J}}return this._getBreakIndexfromInfos(M)};C._getBreakIndexfromInfos=function(D){const J=this.isMaxInclusive;if(null!=D&&"number"===typeof D&&!isNaN(D))for(let M=0;M<this.classBreakInfos.length;M++){const L=[this.classBreakInfos[M].minValue,this.classBreakInfos[M].maxValue];if(L[0]<=D&&(J?D<=L[1]:D<L[1]))return M}return-1};C._areClassBreaksConsecutive=function(){const D=this.classBreakInfos,J=D.length;for(let M=1;M<J;M++)if(D[M-
1].maxValue!==D[M].minValue)return!1;return!0};a._createClass(y,[{key:"minValue",get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}},{key:"normalizationType",get:function(){let D=this._get("normalizationType");const J=!!this.normalizationField,M=null!=this.normalizationTotal;if(J||M)D=J&&"field"||M&&"percent-of-total"||null,J&&M&&k.getLogger(this.declaredClass).warn("warning: both normalizationField and normalizationTotal are set!");else if("field"===
D||"percent-of-total"===D)D=null;return D},set:function(D){this._set("normalizationType",D)}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}}]);return y}(q.VisualVariablesMixin(h));b.__decorate([m.property(z.rendererBackgroundFillSymbolProperty)],h.prototype,"backgroundFillSymbol",void 0);b.__decorate([m.property({type:[u]})],h.prototype,"classBreakInfos",void 0);b.__decorate([l.reader("classBreakInfos")],h.prototype,"readClassBreakInfos",
null);b.__decorate([p.writer("classBreakInfos")],h.prototype,"writeClassBreakInfos",null);b.__decorate([m.property({type:String,json:{write:!0}})],h.prototype,"defaultLabel",void 0);b.__decorate([m.property(z.rendererSymbolProperty)],h.prototype,"defaultSymbol",void 0);b.__decorate([m.property({type:String,json:{write:!0}})],h.prototype,"field",void 0);b.__decorate([f.cast("field")],h.prototype,"castField",null);b.__decorate([m.property({type:Boolean})],h.prototype,"isMaxInclusive",void 0);b.__decorate([m.property({type:x.LegendOptions,
json:{write:!0}})],h.prototype,"legendOptions",void 0);b.__decorate([m.property({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],h.prototype,"minValue",null);b.__decorate([m.property({type:String,json:{write:!0}})],h.prototype,"normalizationField",void 0);b.__decorate([m.property({type:Number,cast:E=>n.ensureNumber(E),json:{write:!0}})],h.prototype,"normalizationTotal",
void 0);b.__decorate([m.property({type:e.apiValues,value:null,json:{type:e.jsonValues,read:e.read,write:e.write}})],h.prototype,"normalizationType",null);b.__decorate([g.enumeration({classBreaks:"class-breaks"})],h.prototype,"type",void 0);b.__decorate([m.property({type:String,json:{write:!0}})],h.prototype,"valueExpression",void 0);b.__decorate([m.property({type:String,json:{write:!0}})],h.prototype,"valueExpressionTitle",void 0);return h=A=b.__decorate([r.subclass("esri.renderers.ClassBreaksRenderer")],
h)})},"esri/symbols":function(){define("exports ./core/accessorSupport/ensureType ./core/accessorSupport/extensions/serializableProperty/reader ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./chunks/LineCallout3DBorder".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A,B,E,y,C,D,J,M,L,I,G){const K={base:E,key:"type",typeMap:{"simple-fill":w,"picture-fill":q,"picture-marker":u,"simple-line":A,"simple-marker":B,text:D,"label-3d":g,"line-3d":l,"mesh-3d":n,"point-3d":z,"polygon-3d":x,"web-style":L,cim:e},errorContext:"symbol"},H={base:E,key:"type",typeMap:{"picture-marker":u,"simple-marker":B,text:D,"web-style":L,cim:e},errorContext:"symbol"};c=c.createTypeReader({types:K});const O={base:E,key:"type",typeMap:{"simple-fill":w,
"picture-fill":q,"picture-marker":u,"simple-line":A,"simple-marker":B,text:D,"line-3d":l,"mesh-3d":n,"point-3d":z,"polygon-3d":x,"web-style":L,cim:e},errorContext:"symbol"},Q={base:E,key:"type",typeMap:{text:D,"label-3d":g},errorContext:"symbol"},W={base:E,key:"type",typeMap:{"label-3d":g,"line-3d":l,"mesh-3d":n,"point-3d":z,"polygon-3d":x,"web-style":L},errorContext:"symbol"},T={base:E,key:"type",typeMap:{"line-3d":l,"mesh-3d":n,"point-3d":z,"polygon-3d":x,"web-style":L,cim:e},errorContext:"symbol"},
Y={base:E,key:"type",typeMap:{"label-3d":g},errorContext:"symbol"};b=b.ensureOneOfType(K);a.CIMSymbol=e;a.ExtrudeSymbol3DLayer=d;a.BaseFillSymbol=k;a.FillSymbol3DLayer=t;a.Font=m;a.IconSymbol3DLayer=f;a.LabelSymbol3D=g;a.LineSymbol3D=l;a.LineSymbol3DLayer=r;a.BaseMarkerSymbol=p;a.MeshSymbol3D=n;a.ObjectSymbol3DLayer=v;a.PathSymbol3DLayer=h;a.PictureFillSymbol=q;a.PictureMarkerSymbol=u;a.PointSymbol3D=z;a.PolygonSymbol3D=x;a.SimpleFillSymbol=w;a.SimpleLineSymbol=A;a.SimpleMarkerSymbol=B;a.BaseSymbol=
E;a.BaseSymbol3D=y;a.BaseSymbol3DLayer=C;a.TextSymbol=D;a.TextSymbol3DLayer=J;a.WaterSymbol3DLayer=M;a.WebStyleSymbol=L;a.LineCallout3D=I;a.LineCallout3DBorder=G.LineCallout3DBorder;a.ensureType=b;a.isSymbol=function(X){return X instanceof E};a.isSymbol2D=function(X){if(!X)return!1;switch(X.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};a.isSymbol3D=function(X){if(!X)return!1;switch(X.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;
default:return!1}};a.readSymbol=c;a.symbolTypes=K;a.symbolTypes3D=W;a.symbolTypesCluster=H;a.symbolTypesLabel=Q;a.symbolTypesLabel3D=Y;a.symbolTypesRenderer=O;a.symbolTypesRenderer3D=T;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/CIMSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/string ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Symbol".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){var p;k=p=function(n){function v(q){q=n.call(this,q)||this;q.data=null;q.type="cim";return q}a._inheritsLoose(v,n);var h=v.prototype;h.readData=function(q,u){return u};h.writeData=function(q,u){if(q)for(const z in q)u[z]=q[z]};h.collectRequiredFields=function(){var q=a._asyncToGenerator(function*(u,z){if("CIMSymbolReference"===this.data?.type){var x=this.data.primitiveOverrides;x&&(x=x.map(w=>l.collectArcadeFieldNames(u,z,w.valueExpressionInfo.expression)),yield Promise.all(x))}});
return function(u,z){return q.apply(this,arguments)}}();h.clone=function(){return new p({data:c.clone(this.data)})};h.hash=function(){return e.numericHash(JSON.stringify(this.data)).toString()};return v}(r);b.__decorate([d.property({json:{write:!1}})],k.prototype,"color",void 0);b.__decorate([d.property({json:{write:!0}})],k.prototype,"data",void 0);b.__decorate([m.reader("data",["symbol"])],k.prototype,"readData",null);b.__decorate([g.writer("data",{})],k.prototype,"writeData",null);b.__decorate([t.enumeration({CIMSymbolReference:"cim"},
{readOnly:!0})],k.prototype,"type",void 0);return k=p=b.__decorate([f.subclass("esri.symbols.CIMSymbol")],k)})},"esri/symbols/Symbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t,m,f,g){e=new e.JSONMap({esriSMS:"simple-marker",
esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let l=0;d=function(r){function p(v){v=r.call(this,v)||this;v.id=`sym${l++}`;v.type=null;v.color=new c([0,0,0,1]);return v}a._inheritsLoose(p,r);var n=p.prototype;n.readColor=function(v){return v&&
null!=v[0]?[v[0],v[1],v[2],v[3]/255]:v};n.collectRequiredFields=function(){var v=a._asyncToGenerator(function*(h,q){});return function(h,q){return v.apply(this,arguments)}}();n.hash=function(){return JSON.stringify(this.toJSON())};n.clone=function(){};return p}(d.JSONSupport);b.__decorate([k.property({type:e.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:e.write}}})],d.prototype,"type",void 0);b.__decorate([k.property({type:c,json:{write:{allowNull:!0}}})],d.prototype,"color",void 0);
b.__decorate([f.reader("color")],d.prototype,"readColor",null);return d=b.__decorate([g.subclass("esri.symbols.Symbol")],d)})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l){var r;d=r=function(p){function n(v){v=p.call(this,v)||this;v.type="extrude";v.size=1;v.material=null;v.castShadows=!0;v.edges=null;return v}a._inheritsLoose(n,p);n.prototype.clone=function(){return new r({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:c.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};return n}(f);b.__decorate([t.enumeration({Extrude:"extrude"},{readOnly:!0})],d.prototype,"type",void 0);
b.__decorate([e.property({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],d.prototype,"size",void 0);b.__decorate([e.property({type:l.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);b.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);b.__decorate([e.property(g.symbol3dEdgesProperty)],d.prototype,"edges",void 0);return d=r=b.__decorate([m.subclass("esri.symbols.ExtrudeSymbol3DLayer")],d)})},"esri/symbols/Symbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,k,t,m){c=function(f){function g(l){l=f.call(this,l)||this;l.enabled=!0;l.type=null;return l}a._inheritsLoose(g,f);g.prototype.writeEnabled=function(l,r,p){l||(r[p]=l)};return g}(c.JSONSupport);b.__decorate([e.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],c.prototype,"enabled",void 0);b.__decorate([m.writer("enabled")],c.prototype,"writeEnabled",null);b.__decorate([e.property({type:"icon object line path fill water extrude text".split(" "),readOnly:!0})],
c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.symbols.Symbol3DLayer")],c)})},"esri/symbols/edges/utils":function(){define(["exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,c,e){a.symbol3dEdgesProperty={types:{key:"type",base:b,typeMap:{solid:e,sketch:c}},json:{write:!0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/edges/Edges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g){e=function(l){function r(n){n=l.call(this,n)||this;n.color=new c([0,0,0,1]);n.extensionLength=0;n.size=k.px2pt(1);return n}a._inheritsLoose(r,l);var p=r.prototype;p.clone=function(){};p.cloneProperties=function(){return{color:d.clone(this.color),size:this.size,extensionLength:this.extensionLength}};return r}(e.JSONSupport);b.__decorate([t.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],e.prototype,"type",void 0);b.__decorate([t.property(g.colorAndTransparencyProperty)],
e.prototype,"color",void 0);b.__decorate([t.property({...g.screenSizeProperty,json:{write:{overridePolicy(l){return{enabled:!!l}}}}})],e.prototype,"extensionLength",void 0);b.__decorate([t.property(g.screenSizeProperty)],e.prototype,"size",void 0);return e=b.__decorate([f.subclass("esri.symbols.edges.Edges3D")],e)})},"esri/core/screenUtils":function(){define(["exports"],function(a){function b(e){return e?72*e/96:0}const c=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.castRenderScreenPointArray=function(e){return e};
a.castRenderScreenPointArray3=function(e){return e};a.castScreenPointArray=function(e){return e};a.createRenderScreenPoint=function(e=0,d=0){return{x:e,y:d}};a.createRenderScreenPointArray=function(e=0,d=0){return[e,d]};a.createRenderScreenPointArray3=function(e=0,d=0,k=0){return[e,d,k]};a.createScreenPoint=function(e=0,d=0){return{x:e,y:d}};a.createScreenPointArray=function(e=0,d=0){return[e,d]};a.pt2px=function(e){return e?e/72*96:0};a.px2pt=b;a.screenPointArrayToObject=function(e,d){return d?(d.x=
e[0],d.y=e[1],d):{x:e[0],y:e[1]}};a.screenPointObjectToArray=function(e,d){return d?(d[0]=e.x,d[1]=e.y,2<d.length&&(d[2]=0),d):[e.x,e.y]};a.toPt=function(e){if("string"===typeof e){var d=e.match(c);if(d){var k=Number(d[1]);d=d[3]&&d[3].toLowerCase();e="-"===e.charAt(0);k="px"===d?b(k):k;return e?-k:k}console.warn("screenUtils.toPt: input not recognized!");return null}return e};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/materialUtils":function(){define(["exports",
"../../Color","../../core/screenUtils","../../core/accessorSupport/ensureType","../../webdoc/support/opacityUtils"],function(a,b,c,e,d){c={type:Number,cast:c.toPt,json:{write:!0}};a.colorAndTransparencyProperty={type:b,json:{type:[e.Integer],default:null,read:{source:["color","transparency"],reader:function(k,t){k=null!=t.transparency?d.transparencyToOpacity(t.transparency):1;return(t=t.color)&&Array.isArray(t)?new b([t[0]||0,t[1]||0,t[2]||0,k]):null}},write:{target:{color:{type:[e.Integer]},transparency:{type:e.Integer}},
writer:function(k,t){t.color=k.toJSON().slice(0,3);k=d.opacityToTransparency(k.a);0!==k&&(t.transparency=k)}}}};a.screenSizeProperty=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/edges/SketchEdges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/Error ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),
function(a,b,c,e,d,k,t,m,f,g){var l;c=l=function(r){function p(n){n=r.call(this,n)||this;n.type="sketch";return n}a._inheritsLoose(p,r);p.prototype.clone=function(){return new l(this.cloneProperties())};return p}(g);b.__decorate([m.enumeration({sketch:"sketch"},{readOnly:!0})],c.prototype,"type",void 0);return c=l=b.__decorate([f.subclass("esri.symbols.edges.SketchEdges3D")],c)})},"esri/symbols/edges/SolidEdges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/Error ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),
function(a,b,c,e,d,k,t,m,f,g){var l;c=l=function(r){function p(n){n=r.call(this,n)||this;n.type="solid";return n}a._inheritsLoose(p,r);p.prototype.clone=function(){return new l(this.cloneProperties())};return p}(g);b.__decorate([m.enumeration({solid:"solid"},{readOnly:!0})],c.prototype,"type",void 0);return c=l=b.__decorate([f.subclass("esri.symbols.support.SolidEdges3D")],c)})},"esri/symbols/support/Symbol3DMaterial":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g){var l;a.Symbol3DMaterial=l=function(r){function p(n){n=r.call(this,n)||this;n.color=null;return n}b._inheritsLoose(p,r);p.prototype.clone=function(){const n={color:d.isSome(this.color)?this.color.clone():null};return new l(n)};return p}(e.JSONSupport);c.__decorate([k.property(g.colorAndTransparencyProperty)],a.Symbol3DMaterial.prototype,"color",void 0);a.Symbol3DMaterial=l=c.__decorate([f.subclass("esri.symbols.support.Symbol3DMaterial")],a.Symbol3DMaterial);Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass ./SimpleLineSymbol ./Symbol".split(" "),function(a,b,c,e,d,k,t,m){e=function(f){function g(l){l=f.call(this,l)||this;l.outline=null;l.type=null;return l}a._inheritsLoose(g,f);g.prototype.hash=function(){return`${this.type}.${this.outline&&
this.outline.hash()}`};return g}(m);b.__decorate([c.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":t}},json:{default:null,write:!0}})],e.prototype,"outline",void 0);b.__decorate([c.property({type:["simple-fill","picture-fill"],readOnly:!0})],e.prototype,"type",void 0);return e=b.__decorate([k.subclass("esri.symbols.FillSymbol")],e)})},"esri/symbols/SimpleLineSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol ./LineSymbolMarker".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l){var r;c=new c.JSONMap({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});g=r=function(p){function n(...h){h=p.call(this,...h)||this;h.type="simple-line";
h.style="solid";h.cap="round";h.join="round";h.marker=null;h.miterLimit=2;return h}a._inheritsLoose(n,p);var v=n.prototype;v.normalizeCtorArgs=function(h,q,u,z,x,w){if(h&&"string"!==typeof h)return h;const A={};null!=h&&(A.style=h);null!=q&&(A.color=q);null!=u&&(A.width=d.toPt(u));null!=z&&(A.cap=z);null!=x&&(A.join=x);null!=w&&(A.miterLimit=d.toPt(w));return A};v.clone=function(){return new r({color:e.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,
marker:this.marker?.clone()})};v.hash=function(){return`${p.prototype.hash.call(this)}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`};return n}(g);b.__decorate([m.enumeration({esriSLS:"simple-line"},{readOnly:!0})],g.prototype,"type",void 0);b.__decorate([k.property({type:c.apiValues,json:{read:c.read,write:c.write}})],g.prototype,"style",void 0);b.__decorate([k.property({type:["butt","round","square"],json:{write:{overridePolicy:(p,n,v)=>
({enabled:"round"!==p&&(null==v||null==v.origin)})}}})],g.prototype,"cap",void 0);b.__decorate([k.property({type:["miter","round","bevel"],json:{write:{overridePolicy:(p,n,v)=>({enabled:"round"!==p&&(null==v||null==v.origin)})}}})],g.prototype,"join",void 0);b.__decorate([k.property({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":l}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],g.prototype,"marker",void 0);b.__decorate([k.property({type:Number,json:{read:!1,
write:!1}})],g.prototype,"miterLimit",void 0);return g=r=b.__decorate([f.subclass("esri.symbols.SimpleLineSymbol")],g)})},"esri/symbols/LineSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),function(a,b,c,e,d,k,t,m,f){d=function(g){function l(r){r=
g.call(this,r)||this;r.type="simple-line";r.width=.75;return r}a._inheritsLoose(l,g);l.prototype.hash=function(){return`${this.type}.${this.width}`};return l}(f);b.__decorate([t.enumeration({esriSLS:"simple-line"},{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"width",void 0);return d=b.__decorate([m.subclass("esri.symbols.LineSymbol")],d)})},"esri/symbols/LineSymbolMarker":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/lineMarkers".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){var p;e=p=function(n){function v(q){q=n.call(this,q)||this;q.placement="begin-end";q.type="line-marker";q.style="arrow";return q}a._inheritsLoose(v,n);var h=v.prototype;h.writeStyle=function(q,u,z,x){u[z]="web-map"===x?.origin?"arrow":q};h.readColor=function(q){return q&&null!=q[0]?[q[0],q[1],q[2],q[3]/255]:q};h.writeColor=function(q,u,z,x){"web-map"!==x?.origin&&(u[z]=q)};h.clone=function(){return new p({color:d.clone(this.color),placement:this.placement,style:this.style})};
h.hash=function(){return`${this.placement}.${this.color?.hash()}.${this.style}`};a._createClass(v,[{key:"color",set:function(q){this._set("color",q)}}]);return v}(e.JSONSupport);b.__decorate([k.property({type:["begin","end","begin-end"],json:{write:!0}})],e.prototype,"placement",void 0);b.__decorate([m.enumeration({"line-marker":"line-marker"},{readOnly:!0}),k.property({json:{origins:{"web-map":{write:!1}}}})],e.prototype,"type",void 0);b.__decorate([k.property({type:r.lineMarkerStyles})],e.prototype,
"style",void 0);b.__decorate([l.writer("style")],e.prototype,"writeStyle",null);b.__decorate([k.property({type:c,value:null,json:{write:{allowNull:!0}}})],e.prototype,"color",null);b.__decorate([f.reader("color")],e.prototype,"readColor",null);b.__decorate([l.writer("color")],e.prototype,"writeColor",null);return e=p=b.__decorate([g.subclass("esri.symbols.LineSymbolMarker")],e)})},"esri/symbols/support/lineMarkers":function(){define(["exports"],function(a){a.lineMarkerPlacements=["begin","end","begin-end"];
a.lineMarkerStyles="arrow circle square diamond cross x".split(" ");Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./patterns/LineStylePattern3D ./patterns/StylePattern3D ./patterns/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h){var q;d=q=function(u){function z(x){x=u.call(this,x)||this;x.type="fill";x.material=null;x.pattern=null;x.castShadows=!0;x.outline=null;x.edges=null;return x}a._inheritsLoose(z,u);z.prototype.clone=function(){const x={edges:c.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,material:c.isSome(this.material)?this.material.clone():null,pattern:c.isSome(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:c.isSome(this.outline)?
this.outline.clone():null};return new q(x)};z.fromSimpleFillSymbol=function(x){const w=x.outline&&x.outline.style&&"inside-frame"!==x.outline.style&&"solid"!==x.outline.style?new l({style:x.outline.style}):null,A={size:x.outline?.width??0,color:(x.outline?.color??n.white).clone(),pattern:w};w&&x.outline?.cap&&(A.patternCap=x.outline.cap);return new q({material:new v.Symbol3DFillMaterial({color:(x.color??n.transparentWhite).clone()}),pattern:x.style&&"solid"!==x.style?new r({style:x.style}):null,outline:A})};
return z}(f);b.__decorate([t.enumeration({Fill:"fill"},{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([e.property({type:v.Symbol3DFillMaterial,json:{write:!0}})],d.prototype,"material",void 0);b.__decorate([e.property(p.symbol3dPatternProperty)],d.prototype,"pattern",void 0);b.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);b.__decorate([e.property({type:h.Symbol3DOutline,json:{write:!0}})],d.prototype,"outline",void 0);
b.__decorate([e.property(g.symbol3dEdgesProperty)],d.prototype,"edges",void 0);return d=q=b.__decorate([m.subclass("esri.symbols.FillSymbol3DLayer")],d)})},"esri/symbols/patterns/LineStylePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./LinePattern3D ./lineStyles".split(" "),
function(a,b,c,e,d,k,t,m,f,g){var l;c=c.strict()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});f=l=function(r){function p(n){n=r.call(this,n)||this;n.type="style";n.style="solid";return n}a._inheritsLoose(p,r);p.prototype.clone=function(){return new l({style:this.style})};
return p}(f);b.__decorate([e.property({type:["style"]})],f.prototype,"type",void 0);b.__decorate([t.enumeration(c),e.property({type:g.lineStyles})],f.prototype,"style",void 0);return f=l=b.__decorate([m.subclass("esri.symbols.patterns.LineStylePattern3D")],f)})},"esri/symbols/patterns/LinePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){c=function(m){function f(g){return m.call(this,g)||this}a._inheritsLoose(f,m);f.prototype.clone=function(){};return f}(c.JSONSupport);b.__decorate([e.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.symbols.patterns.LinePattern3D")],c)})},"esri/symbols/patterns/lineStyles":function(){define(["exports"],function(a){a.lineStyles="dash dash-dot dot long-dash long-dash-dot long-dash-dot-dot none short-dash short-dash-dot short-dash-dot-dot short-dot solid".split(" ");
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/patterns/StylePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./Pattern3D ./styles".split(" "),function(a,b,c,e,d,k,t,m){var f;e=f=function(g){function l(r){r=g.call(this,r)||this;r.type="style";r.style="solid";return r}a._inheritsLoose(l,
g);l.prototype.clone=function(){return new f({style:this.style})};return l}(t);b.__decorate([c.property({type:["style"]})],e.prototype,"type",void 0);b.__decorate([c.property({type:m,json:{read:!0,write:!0}})],e.prototype,"style",void 0);return e=f=b.__decorate([k.subclass("esri.symbols.patterns.StylePattern3D")],e)})},"esri/symbols/patterns/Pattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){c=function(m){function f(g){return m.call(this,g)||this}a._inheritsLoose(f,m);f.prototype.clone=function(){};return f}(c.JSONSupport);b.__decorate([e.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.symbols.patterns.Pattern3D")],c)})},"esri/symbols/patterns/styles":function(){define(function(){return"backward-diagonal cross diagonal-cross forward-diagonal horizontal none solid vertical".split(" ")})},
"esri/symbols/patterns/utils":function(){define(["exports","./LinePattern3D","./LineStylePattern3D","./Pattern3D","./StylePattern3D"],function(a,b,c,e,d){e={types:{key:"type",base:e,typeMap:{style:d}},json:{write:!0}};a.symbol3dLinePatternProperty={types:{key:"type",base:b,typeMap:{style:c}},json:{write:!0}};a.symbol3dPatternProperty=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/colors":function(){define(["exports","../../Color"],function(a,b){const c=new b("white"),
e=new b("black");b=new b([255,255,255,0]);a.black=e;a.isBlack=function(d){return 0===d.r&&0===d.g&&0===d.b};a.transparentWhite=b;a.white=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/Error ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Symbol3DMaterial".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){var p;a.Symbol3DFillMaterial=p=function(n){function v(h){h=n.call(this,h)||this;h.colorMixMode=null;return h}b._inheritsLoose(v,n);v.prototype.clone=function(){const h={color:e.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new p(h)};return v}(r.Symbol3DMaterial);c.__decorate([g.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],a.Symbol3DFillMaterial.prototype,"colorMixMode",void 0);a.Symbol3DFillMaterial=p=c.__decorate([l.subclass("esri.symbols.support.Symbol3DFillMaterial")],
a.Symbol3DFillMaterial);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DOutline":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../patterns/utils ./materialUtils ./symbolLayerUtils3D".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n){var v;a.Symbol3DOutline=v=function(h){function q(u){u=h.call(this,u)||this;u.color=new e([0,0,0,1]);u.size=t.px2pt(1);u.pattern=null;u.patternCap="butt";return u}b._inheritsLoose(q,h);q.prototype.clone=function(){const u={color:k.isSome(this.color)?this.color.clone():null,size:this.size,pattern:k.isSome(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new v(u)};return q}(d.JSONSupport);c.__decorate([m.property(p.colorAndTransparencyProperty)],
a.Symbol3DOutline.prototype,"color",void 0);c.__decorate([m.property(p.screenSizeProperty)],a.Symbol3DOutline.prototype,"size",void 0);c.__decorate([m.property(r.symbol3dLinePatternProperty)],a.Symbol3DOutline.prototype,"pattern",void 0);c.__decorate([m.property({type:n.lineCaps,json:{default:"butt",write:{overridePolicy(){return{enabled:k.isSome(this.pattern)}}}}})],a.Symbol3DOutline.prototype,"patternCap",void 0);a.Symbol3DOutline=v=c.__decorate([l.subclass("esri.symbols.support.Symbol3DOutline")],
a.Symbol3DOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolLayerUtils3D":function(){define(["exports","../../core/has","../../chunks/vec3f64","../../geometry/support/aaBoundingBox"],function(a,b,c,e){const d=e.fromValues(-.5,-.5,-.5,.5,.5,.5),k=e.fromValues(-.5,-.5,0,.5,.5,1),t=e.fromValues(-.5,-.5,0,.5,.5,.5);b=["butt","square","round"];e=[...b,"none"];a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_TETRAHEDRON=t;a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_UNIT_CUBE=
d;a.OBJECT_SYMBOL_LAYER_BOUNDING_BOX_UNIT_CYLINDER=k;a.lineCaps=b;a.lineJoins=["miter","bevel","round"];a.objectSymbolLayerPrimitiveBoundingBox=function(m){switch(m){case "sphere":case "cube":case "diamond":return d;case "cylinder":case "cone":case "inverted-cone":return k;case "tetrahedron":return t}};a.objectSymbolLayerSizeWithResourceSize=function(m,{isPrimitive:f,width:g,depth:l,height:r}){f=f?10:1;if(null==g&&null==r&&null==l)return[f*m[0],f*m[1],f*m[2]];g=c.fromValues(g,l,r);let p;for(l=0;3>
l;l++)if(r=g[l],null!=r){p=r/m[l];break}for(l=0;3>l;l++)null==g[l]&&(g[l]=m[l]*p);return g};a.pathCaps=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../../core/maybe","../Extent","./aaBoundingRect"],function(a,b,c,e){function d(h=n){return[h[0],h[1],h[2],h[3],h[4],h[5]]}function k(h,q,u,z,x,w,A=d()){A[0]=h;A[1]=q;A[2]=u;A[3]=z;A[4]=x;A[5]=w;return A}function t(h){return h[0]>=h[3]?0:h[3]-h[0]}function m(h){return h[1]>=
h[4]?0:h[4]-h[1]}function f(h){return h[2]>=h[5]?0:h[5]-h[2]}function g(h,q){return Math.max(q[0],h[0])<=Math.min(q[3],h[3])&&Math.max(q[1],h[1])<=Math.min(q[4],h[4])&&Math.max(q[2],h[2])<=Math.min(q[5],h[5])}function l(h,q){h[0]=q[0];h[1]=q[1];h[2]=q[2];h[3]=q[3];h[4]=q[4];h[5]=q[5];return h}function r(h){return 6===h.length}const p=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],n=[0,0,0,0,0,0],v=d();a.NEGATIVE_INFINITY=p;a.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,
Infinity];a.ZERO=n;a.allFinite=function(h){for(let q=0;6>q;q++)if(!isFinite(h[q]))return!1;return!0};a.center=function(h,q=[0,0,0]){q[0]=h[0]+t(h)/2;q[1]=h[1]+m(h)/2;q[2]=h[2]+f(h)/2;return q};a.contains=function(h,q){return q[0]>=h[0]&&q[1]>=h[1]&&q[2]>=h[2]&&q[3]<=h[3]&&q[4]<=h[4]&&q[5]<=h[5]};a.containsPoint=function(h,q){return q[0]>=h[0]&&q[1]>=h[1]&&q[2]>=h[2]&&q[0]<=h[3]&&q[1]<=h[4]&&q[2]<=h[5]};a.containsPointWithMargin=function(h,q,u){return q[0]>=h[0]-u&&q[1]>=h[1]-u&&q[2]>=h[2]-u&&q[0]<=
h[3]+u&&q[1]<=h[4]+u&&q[2]<=h[5]+u};a.create=d;a.depth=m;a.diameter=function(h){const q=t(h),u=f(h);h=m(h);return Math.sqrt(q*q+u*u+h*h)};a.empty=function(h){return h?l(h,p):d(p)};a.equals=function(h,q,u){if(b.isNone(h)||b.isNone(q))return h===q;if(!r(h)||!r(q))return!1;if(u)for(let z=0;z<h.length;z++){if(!u(h[z],q[z]))return!1}else for(u=0;u<h.length;u++)if(h[u]!==q[u])return!1;return!0};a.expandWithAABB=function(h,q){h[0]=Math.min(h[0],q[0]);h[1]=Math.min(h[1],q[1]);h[2]=Math.min(h[2],q[2]);h[3]=
Math.max(h[3],q[3]);h[4]=Math.max(h[4],q[4]);h[5]=Math.max(h[5],q[5])};a.expandWithBuffer=function(h,q,u=0,z=q.length/3){let x=h[0],w=h[1],A=h[2],B=h[3],E=h[4],y=h[5];for(let C=0;C<z;C++)x=Math.min(x,q[u+3*C]),w=Math.min(w,q[u+3*C+1]),A=Math.min(A,q[u+3*C+2]),B=Math.max(B,q[u+3*C]),E=Math.max(E,q[u+3*C+1]),y=Math.max(y,q[u+3*C+2]);h[0]=x;h[1]=w;h[2]=A;h[3]=B;h[4]=E;h[5]=y};a.expandWithNestedArray=function(h,q,u){const z=q.length;let x=h[0],w=h[1],A=h[2],B=h[3],E=h[4],y=h[5];if(u)for(u=0;u<z;u++){var C=
q[u];x=Math.min(x,C[0]);w=Math.min(w,C[1]);A=Math.min(A,C[2]);B=Math.max(B,C[0]);E=Math.max(E,C[1]);y=Math.max(y,C[2])}else for(u=0;u<z;u++)C=q[u],x=Math.min(x,C[0]),w=Math.min(w,C[1]),B=Math.max(B,C[0]),E=Math.max(E,C[1]);h[0]=x;h[1]=w;h[2]=A;h[3]=B;h[4]=E;h[5]=y};a.expandWithOffset=function(h,q,u,z){h[0]=Math.min(h[0],h[0]+q);h[3]=Math.max(h[3],h[3]+q);h[1]=Math.min(h[1],h[1]+u);h[4]=Math.max(h[4],h[4]+u);h[2]=Math.min(h[2],h[2]+z);h[5]=Math.max(h[5],h[5]+z)};a.expandWithRect=function(h,q){h[0]=
Math.min(h[0],q[0]);h[1]=Math.min(h[1],q[1]);h[3]=Math.max(h[3],q[2]);h[4]=Math.max(h[4],q[3])};a.expandWithVec3=function(h,q){h[0]=Math.min(h[0],q[0]);h[1]=Math.min(h[1],q[1]);h[2]=Math.min(h[2],q[2]);h[3]=Math.max(h[3],q[0]);h[4]=Math.max(h[4],q[1]);h[5]=Math.max(h[5],q[2])};a.fromExtent=function(h,q=d()){q[0]=h.xmin;q[1]=h.ymin;q[2]=h.hasZ?h.zmin:-Infinity;q[3]=h.xmax;q[4]=h.ymax;q[5]=h.hasZ?h.zmax:Infinity;return q};a.fromMinMax=function(h,q,u=d()){u[0]=h[0];u[1]=h[1];u[2]=h[2];u[3]=q[0];u[4]=
q[1];u[5]=q[2];return u};a.fromRect=function(h,q){h[0]=q[0];h[1]=q[1];h[2]=Number.NEGATIVE_INFINITY;h[3]=q[2];h[4]=q[3];h[5]=Number.POSITIVE_INFINITY;return h};a.fromRectValues=function(h,q,u,z,x){h[0]=q;h[1]=u;h[2]=Number.NEGATIVE_INFINITY;h[3]=z;h[4]=x;h[5]=Number.POSITIVE_INFINITY;return h};a.fromValues=k;a.getMax=function(h,q){q[0]=h[3];q[1]=h[4];q[2]=h[5];return q};a.getMin=function(h,q){q[0]=h[0];q[1]=h[1];q[2]=h[2];return q};a.height=f;a.intersects=g;a.intersectsClippingArea=function(h,q){return b.isNone(q)?
!0:g(h,q)};a.is=r;a.isPoint=function(h){return 0===t(h)&&0===m(h)&&0===f(h)};a.maximumDimension=function(h){return Math.max(t(h),f(h),m(h))};a.offset=function(h,q,u,z,x=h){x[0]=h[0]+q;x[1]=h[1]+u;x[2]=h[2]+z;x[3]=h[3]+q;x[4]=h[4]+u;x[5]=h[5]+z;return x};a.scale=function(h,q,u=h){const z=h[0]+t(h)/2,x=h[1]+m(h)/2,w=h[2]+f(h)/2;u[0]=z+(h[0]-z)*q;u[1]=x+(h[1]-x)*q;u[2]=w+(h[2]-w)*q;u[3]=z+(h[3]-z)*q;u[4]=x+(h[4]-x)*q;u[5]=w+(h[5]-w)*q;return u};a.set=l;a.setMax=function(h,q,u=h){u[3]=q[0];u[4]=q[1];
u[5]=q[2];u!==h&&(u[0]=h[0],u[1]=h[1],u[2]=h[2]);return h};a.setMin=function(h,q,u=h){u[0]=q[0];u[1]=q[1];u[2]=q[2];u!==h&&(u[3]=h[3],u[4]=h[4],u[5]=h[5]);return u};a.size=function(h,q=[0,0,0]){q[0]=t(h);q[1]=m(h);q[2]=f(h);return q};a.toExtent=function(h,q){return isFinite(h[2])||isFinite(h[5])?new c({xmin:h[0],xmax:h[3],ymin:h[1],ymax:h[4],zmin:h[2],zmax:h[5],spatialReference:q}):new c({xmin:h[0],xmax:h[3],ymin:h[1],ymax:h[4],spatialReference:q})};a.toRect=function(h,q){q||(q=e.create());q[0]=h[0];
q[1]=h[1];q[2]=h[3];q[3]=h[4];return q};a.width=t;a.wrap=function(h,q,u,z,x,w){return k(h,q,u,z,x,w,v)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/Font":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/accessorSupport/decorators/subclass ./support/textUtils".split(" "),function(a,b,c,e,d,
k,t,m,f){var g;c=g=function(l){function r(n){n=l.call(this,n)||this;n.decoration="none";n.family="sans-serif";n.size=9;n.style="normal";n.weight="normal";return n}a._inheritsLoose(r,l);var p=r.prototype;p.castSize=function(n){return e.toPt(n)};p.clone=function(){return new g({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};p.hash=function(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`};return r}(c.JSONSupport);
b.__decorate([d.property({type:f.fontDecorations,json:{default:"none",write:!0}})],c.prototype,"decoration",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"family",void 0);b.__decorate([d.property({type:Number,json:{write:{overridePolicy(l,r,p){return{enabled:!p||!p.textSymbol3D}}}}})],c.prototype,"size",void 0);b.__decorate([k.cast("size")],c.prototype,"castSize",null);b.__decorate([d.property({type:f.fontStyles,json:{default:"normal",write:!0}})],c.prototype,"style",
void 0);b.__decorate([d.property({type:f.fontWeights,json:{default:"normal",write:!0}})],c.prototype,"weight",void 0);return c=g=b.__decorate([m.subclass("esri.symbols.Font")],c)})},"esri/symbols/support/textUtils":function(){define(["exports","../../core/mathUtils","../../core/accessorSupport/ensureType"],function(a,b,c){const e={type:Number,cast:f=>{f=c.ensureNumber(f);return 0===f?1:b.clamp(f,.1,4)},nonNullable:!0},d=["left","right","center"],k=["baseline","top","middle","bottom"],t={type:d,nonNullable:!0},
m={type:k,nonNullable:!0};a.fontDecorations=["none","underline","line-through"];a.fontStyles=["normal","italic","oblique"];a.fontWeights=["normal","lighter","bold","bolder"];a.horizontalAlignmentProperty=t;a.horizontalAlignments=d;a.lineHeightProperty=e;a.verticalAlignmentProperty=m;a.verticalAlignments=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/IconSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DIconOutline ./support/Symbol3DMaterial".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q){function u(A){const B="width"in A?A.width:A.size,E="height"in A?A.height:A.size,y=z(A.xoffset);A=z(A.yoffset);return(y||A)&&B&&E?{x:-y/B,y:A/E}:null}function z(A){return isFinite(A)?A:0}var x;t=x=function(A){function B(E){E=A.call(this,E)||this;E.material=null;E.resource=null;E.type="icon";E.size=12;E.anchor="center";E.anchorPosition=null;E.outline=null;return E}a._inheritsLoose(B,A);B.prototype.clone=function(){return new x({anchor:this.anchor,anchorPosition:this.anchorPosition&&
this.anchorPosition.clone(),enabled:this.enabled,material:e.isSome(this.material)?this.material.clone():null,outline:e.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};B.fromSimpleMarkerSymbol=function(E){const y=E.color||r.white,C=u(E),D=E.outline&&0<E.outline.width?{size:E.outline.width,color:(E.outline.color||r.white).clone()}:null;var J=x,M=E.size;{E=E.style;const L=w[E];L?E=L:(c.getLogger("esri.symbols.IconSymbol3DLayer").warn(`${E} cannot be mapped to Icon symbol. Fallback to "circle"`),
E="circle")}return new J({size:M,resource:{primitive:E},material:{color:y},outline:D,anchor:C?"relative":void 0,anchorPosition:C})};B.fromPictureMarkerSymbol=function(E){const y=!E.color||r.isBlack(E.color)?r.white:E.color,C=u(E);return new x({size:E.width<=E.height?E.height:E.width,resource:{href:E.url},material:{color:y.clone()},anchor:C?"relative":void 0,anchorPosition:C})};B.fromCIMSymbol=function(E){return new x({resource:{href:d.makeData({mediaType:"application/json",data:JSON.stringify(E.data)})}})};
return B}(l);b.__decorate([k.property({type:q.Symbol3DMaterial,json:{write:!0}})],t.prototype,"material",void 0);b.__decorate([k.property({type:p.IconSymbol3DLayerResource,json:{write:!0}})],t.prototype,"resource",void 0);b.__decorate([f.enumeration({Icon:"icon"},{readOnly:!0})],t.prototype,"type",void 0);b.__decorate([k.property(n.screenSizeProperty)],t.prototype,"size",void 0);b.__decorate([f.enumeration({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",
bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),k.property({json:{default:"center"}})],t.prototype,"anchor",void 0);b.__decorate([k.property({type:v.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:A=>new v.Symbol3DAnchorPosition2D({x:A[0],y:A[1]})},write:{writer:(A,B)=>{B.anchorPosition=[A.x,A.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],t.prototype,"anchorPosition",void 0);b.__decorate([k.property({type:h.Symbol3DIconOutline,json:{write:!0}})],
t.prototype,"outline",void 0);t=x=b.__decorate([g.subclass("esri.symbols.IconSymbol3DLayer")],t);const w={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return t})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n){var v;e=e.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a.IconSymbol3DLayerResource=v=function(h){function q(z){return h.call(this,z)||this}b._inheritsLoose(q,h);var u=q.prototype;u.readHref=function(z,x,w){return z?n.fromJSON(z,w):x.dataURI};u.writeHref=function(z,x,w,A){z&&(k.isDataProtocol(z)?x.dataURI=z:(x.href=n.toJSON(z,A),k.isAbsolute(x.href)&&(x.href=k.normalize(x.href))))};u.clone=function(){return new v({href:this.href,
primitive:this.primitive})};return q}(d.JSONSupport);c.__decorate([t.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],a.IconSymbol3DLayerResource.prototype,"href",void 0);c.__decorate([l.reader("href")],a.IconSymbol3DLayerResource.prototype,"readHref",null);c.__decorate([p.writer("href",{href:{type:String},dataURI:{type:String}})],a.IconSymbol3DLayerResource.prototype,"writeHref",null);c.__decorate([g.enumeration(e)],a.IconSymbol3DLayerResource.prototype,"primitive",void 0);
a.IconSymbol3DLayerResource=v=c.__decorate([r.subclass("esri.symbols.support.IconSymbol3DLayerResource")],a.IconSymbol3DLayerResource);a.defaultPrimitive="circle";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m){var f;a.Symbol3DAnchorPosition2D=f=function(g){function l(){var r=g.apply(this,arguments)||this;r.x=0;r.y=0;return r}b._inheritsLoose(l,g);l.prototype.clone=function(){return new f({x:this.x,y:this.y})};return l}(e);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"x",void 0);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"y",void 0);a.Symbol3DAnchorPosition2D=f=c.__decorate([m.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],
a.Symbol3DAnchorPosition2D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DIconOutline":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,c,e,d,k,
t,m,f,g,l,r){var p;a.Symbol3DIconOutline=p=function(n){function v(h){h=n.call(this,h)||this;h.color=new e([0,0,0,1]);h.size=t.px2pt(1);return h}b._inheritsLoose(v,n);v.prototype.clone=function(){const h={color:k.isSome(this.color)?this.color.clone():null,size:this.size};return new p(h)};return v}(d.JSONSupport);c.__decorate([m.property(r.colorAndTransparencyProperty)],a.Symbol3DIconOutline.prototype,"color",void 0);c.__decorate([m.property(r.screenSizeProperty)],a.Symbol3DIconOutline.prototype,"size",
void 0);a.Symbol3DIconOutline=p=c.__decorate([l.subclass("esri.symbols.support.Symbol3DIconOutline")],a.Symbol3DIconOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/LabelSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){var p;const n=c.ofType({base:null,key:"type",typeMap:{text:g}});c=p=function(v){function h(u){u=v.call(this,u)||this;u.verticalOffset=null;u.callout=null;u.styleOrigin=null;u.symbolLayers=new n;u.type="label-3d";return u}a._inheritsLoose(h,v);var q=h.prototype;q.supportsCallout=function(){return!0};q.hasVisibleCallout=function(){return l.hasVisibleCallout(this)};q.hasVisibleVerticalOffset=function(){return l.hasVisibleVerticalOffset(this)};q.clone=function(){return new p({styleOrigin:e.clone(this.styleOrigin),
symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail),callout:e.clone(this.callout),verticalOffset:e.clone(this.verticalOffset)})};h.fromTextSymbol=function(u){return new p({symbolLayers:[g.fromTextSymbol(u)]})};return h}(f);b.__decorate([d.property({type:r,json:{write:!0}})],c.prototype,"verticalOffset",void 0);b.__decorate([d.property(l.calloutProperty)],c.prototype,"callout",void 0);b.__decorate([d.property({json:{read:!1,write:!1}})],c.prototype,"styleOrigin",void 0);b.__decorate([d.property({type:n})],
c.prototype,"symbolLayers",void 0);b.__decorate([t.enumeration({LabelSymbol3D:"label-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=p=b.__decorate([m.subclass("esri.symbols.LabelSymbol3D")],c)})},"esri/symbols/Symbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../portal/Portal ../chunks/persistableUrlUtils ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A,B,E,y,C,D){const J={icon:u,object:x,line:z,path:w,fill:q,extrude:h,text:E,water:y};g=c.ofType({base:B,key:"type",typeMap:J,errorContext:"symbol-layer"});A=function(M){function L(G){G=M.call(this,G)||this;G.styleOrigin=null;G.thumbnail=null;G.type=null;const K=G.__accessor__&&G.__accessor__.metadatas&&G.__accessor__.metadatas.symbolLayers;G._set("symbolLayers",new (K&&K.type||c));return G}a._inheritsLoose(L,M);var I=L.prototype;I.readStyleOrigin=
function(G,K,H){if(G.styleUrl&&G.name)return K=v.fromJSON(G.styleUrl,H),new C({styleUrl:K,name:G.name});if(G.styleName&&G.name)return new C({portal:H&&H.portal||n.getDefault(),styleName:G.styleName,name:G.name});H&&H.messages&&H.messages.push(new t("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:H,definition:G}))};I.writeStyleOrigin=function(G,K,H,O){G.styleUrl&&G.name?(H=v.toJSON(G.styleUrl,O),k.isAbsolute(H)&&(H=k.normalize(H)),
K.styleOrigin={styleUrl:H,name:G.name}):G.styleName&&G.name&&(G.portal&&O&&O.portal&&!k.hasSamePortal(G.portal.restUrl,O.portal.restUrl)?O&&O.messages&&O.messages.push(new t("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):K.styleOrigin={styleName:G.styleName,name:G.name})};I.normalizeCtorArgs=function(G){return G instanceof B||G&&J[G.type]?{symbolLayers:[G]}:Array.isArray(G)?{symbolLayers:G}:
G};a._createClass(L,[{key:"color",get:function(){return null},set:function(G){this.constructed&&d.getLogger(this.declaredClass).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}},{key:"symbolLayers",set:function(G){e.referenceSetter(G,this._get("symbolLayers"))}}]);return L}(A);b.__decorate([m.property({json:{read:!1,write:!1}})],A.prototype,"color",null);b.__decorate([m.property({type:g,nonNullable:!0,json:{write:!0}}),
f.cast(e.castForReferenceSetter)],A.prototype,"symbolLayers",null);b.__decorate([m.property({type:C})],A.prototype,"styleOrigin",void 0);b.__decorate([l.reader("styleOrigin")],A.prototype,"readStyleOrigin",null);b.__decorate([p.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],A.prototype,"writeStyleOrigin",null);b.__decorate([m.property({type:D.Thumbnail,json:{read:!1}})],A.prototype,"thumbnail",void 0);b.__decorate([m.property({type:["point-3d",
"line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],A.prototype,"type",void 0);return A=b.__decorate([r.subclass("esri.symbols.Symbol3D")],A)})},"esri/symbols/LineSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineStyleMarker3D ./Symbol3DLayer ./patterns/LineStylePattern3D ./patterns/utils ./support/colors ./support/materialUtils ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q){var u;k=u=function(z){function x(w){w=z.call(this,w)||this;w.material=null;w.type="line";w.join="miter";w.cap="butt";w.size=e.px2pt(1);w.pattern=null;w.marker=null;return w}a._inheritsLoose(x,z);x.prototype.clone=function(){const w={enabled:this.enabled,material:c.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:c.isSome(this.pattern)?this.pattern.clone():null,marker:c.isSome(this.marker)?this.marker.clone():
null};return new u(w)};x.fromSimpleLineSymbol=function(w){w={enabled:!0,size:w.width??e.px2pt(1),cap:w.cap||"butt",join:w.join||"miter",pattern:w.style&&"inside-frame"!==w.style?new r({style:w.style}):null,material:new h.Symbol3DMaterial({color:(w.color||n.white).clone()}),marker:w.marker?new g({placement:w.marker.placement,style:w.marker.style,color:w.marker.color?.clone()??null}):null};return new u(w)};return x}(l);b.__decorate([d.property({type:h.Symbol3DMaterial,json:{write:!0}})],k.prototype,
"material",void 0);b.__decorate([m.enumeration({Line:"line"},{readOnly:!0})],k.prototype,"type",void 0);b.__decorate([d.property({type:q.lineJoins,json:{write:!0,default:"miter"}})],k.prototype,"join",void 0);b.__decorate([d.property({type:q.lineCaps,json:{write:!0,default:"butt"}})],k.prototype,"cap",void 0);b.__decorate([d.property(v.screenSizeProperty)],k.prototype,"size",void 0);b.__decorate([d.property(p.symbol3dLinePatternProperty)],k.prototype,"pattern",void 0);b.__decorate([d.property({types:{key:"type",
base:g,typeMap:{style:g}},json:{write:!0}})],k.prototype,"marker",void 0);return k=u=b.__decorate([f.subclass("esri.symbols.LineSymbol3DLayer")],k)})},"esri/symbols/LineStyleMarker3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/Clonable ../core/JSONSupport ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass ./support/lineMarkers".split(" "),function(a,
b,c,e,d,k,t,m,f,g,l){e=function(r){function p(n){n=r.call(this,n)||this;n.type="style";n.placement="begin-end";n.style="arrow";n.color=null;return n}a._inheritsLoose(p,r);p.prototype.equals=function(n){return k.isSome(n)&&n.placement===this.placement&&n.style===this.style&&(k.isNone(this.color)&&k.isNone(n.color)||k.isSome(this.color)&&k.isSome(n.color)&&this.color.toJSON()===n.color.toJSON())};return p}(e.ClonableMixin(d.JSONSupport));b.__decorate([t.property({type:["style"],readOnly:!0,json:{read:!0,
write:{ignoreOrigin:!0}}})],e.prototype,"type",void 0);b.__decorate([t.property({type:l.lineMarkerPlacements,json:{default:"begin-end",write:!0}})],e.prototype,"placement",void 0);b.__decorate([t.property({type:l.lineMarkerStyles,json:{default:"arrow",write:!0}})],e.prototype,"style",void 0);b.__decorate([t.property({type:c,json:{type:[m.Integer],default:null,write:!0}})],e.prototype,"color",void 0);return e=b.__decorate([g.subclass("esri.symbols.LineStyleMarker3D")],e)})},"esri/symbols/ObjectSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){var p;d=p=function(n){function v(h){h=n.call(this,h)||this;h.material=null;h.castShadows=!0;h.resource=null;h.type="object";h.width=void 0;h.height=void 0;h.depth=void 0;h.anchor=void 0;h.anchorPosition=void 0;h.heading=void 0;h.tilt=void 0;h.roll=void 0;return h}a._inheritsLoose(v,n);v.prototype.clone=function(){return new p({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,
enabled:this.enabled,height:this.height,material:c.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};a._createClass(v,[{key:"isPrimitive",get:function(){return!this.resource||"string"!==typeof this.resource.href}}]);return v}(f);b.__decorate([e.property({type:r.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);b.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],
d.prototype,"castShadows",void 0);b.__decorate([e.property({type:g.ObjectSymbol3DLayerResource,json:{write:!0}})],d.prototype,"resource",void 0);b.__decorate([t.enumeration({Object:"object"},{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"width",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"height",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"depth",void 0);b.__decorate([t.enumeration({center:"center",
top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),e.property({json:{default:"origin"}})],d.prototype,"anchor",void 0);b.__decorate([e.property({type:l.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:n=>new l.Symbol3DAnchorPosition3D({x:n[0],y:n[1],z:n[2]})},write:{writer:(n,v)=>{v.anchorPosition=[n.x,n.y,n.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],d.prototype,"anchorPosition",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,
"heading",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"tilt",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"roll",void 0);b.__decorate([e.property({readOnly:!0})],d.prototype,"isPrimitive",null);return d=p=b.__decorate([m.subclass("esri.symbols.ObjectSymbol3DLayer")],d)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l){var r;e=e.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a.ObjectSymbol3DLayerResource=r=function(p){function n(){return p.apply(this,arguments)||this}b._inheritsLoose(n,p);n.prototype.clone=function(){return new r({href:this.href,primitive:this.primitive})};return n}(d.JSONSupport);c.__decorate([k.property({type:String,json:{read:l.read,write:l.write}})],a.ObjectSymbol3DLayerResource.prototype,
"href",void 0);c.__decorate([f.enumeration(e)],a.ObjectSymbol3DLayerResource.prototype,"primitive",void 0);a.ObjectSymbol3DLayerResource=r=c.__decorate([g.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],a.ObjectSymbol3DLayerResource);a.defaultPrimitive="sphere";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m){var f;a.Symbol3DAnchorPosition3D=f=function(g){function l(){var r=g.apply(this,arguments)||this;r.x=0;r.y=0;r.z=0;return r}b._inheritsLoose(l,g);l.prototype.clone=function(){return new f({x:this.x,y:this.y,z:this.z})};return l}(e);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"x",void 0);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"y",void 0);c.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,
"z",void 0);a.Symbol3DAnchorPosition3D=f=c.__decorate([m.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],a.Symbol3DAnchorPosition3D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PathSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){var p;d=p=function(n){function v(q){q=n.call(this,q)||this;q.material=null;q.castShadows=!0;q.type="path";q.profile="circle";q.join="miter";q.cap="butt";q.width=void 0;q.height=void 0;q.anchor="center";q.profileRotation="all";return q}a._inheritsLoose(v,n);var h=v.prototype;h.readWidth=function(q,u){return null!=q?q:null==u.height&&null!=u.size?u.size:void 0};h.readHeight=function(q,u){return null!=q?q:null==u.width&&null!=u.size?u.size:void 0};h.clone=function(){return new p({enabled:this.enabled,
material:c.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};return v}(g);b.__decorate([e.property({type:l.Symbol3DMaterial,json:{write:!0}})],d.prototype,"material",void 0);b.__decorate([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0);b.__decorate([t.enumeration({Path:"path"},
{readOnly:!0})],d.prototype,"type",void 0);b.__decorate([e.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],d.prototype,"profile",void 0);b.__decorate([e.property({type:r.lineJoins,json:{write:!0,default:"miter"}})],d.prototype,"join",void 0);b.__decorate([e.property({type:r.pathCaps,json:{write:!0,default:"butt"}})],d.prototype,"cap",void 0);b.__decorate([e.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],d.prototype,"width",void 0);
b.__decorate([m.reader("width",["width","size","height"])],d.prototype,"readWidth",null);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"height",void 0);b.__decorate([m.reader("height",["height","size","width"])],d.prototype,"readHeight",null);b.__decorate([e.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],d.prototype,"anchor",void 0);b.__decorate([e.property({type:["heading","all"],json:{write:!0,default:"all"}})],d.prototype,"profileRotation",void 0);
return d=p=b.__decorate([f.subclass("esri.symbols.PathSymbol3DLayer")],d)})},"esri/symbols/TextSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial ./support/Symbol3DTextBackground ./support/textUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h){var q;k=q=function(u){function z(w){w=u.call(this,w)||this;w._userSize=void 0;w.halo=null;w.horizontalAlignment="center";w.lineHeight=1;w.material=null;w.background=null;w.text=null;w.type="text";w.verticalAlignment="baseline";return w}a._inheritsLoose(z,u);var x=z.prototype;x.writeFont=function(w,A,B,E){A.font=w.write({},{...E,textSymbol3D:!0});delete A.font.size};x.clone=function(){const w=new q({enabled:this.enabled,font:this.font&&c.clone(this.font),halo:this.halo&&
c.clone(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:e.isSome(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:c.clone(this.background)});w._userSize=this._userSize;return w};z.fromTextSymbol=function(w){var A=q,B=e.isSome(w.font)?w.font.clone():new g;var E=w.haloColor;var y=w.haloSize;E=E&&null!=y&&0<y?new p.Symbol3DHalo({color:c.clone(E),size:y}):null;return new A({font:B,halo:E,horizontalAlignment:w.horizontalAlignment,
lineHeight:w.lineHeight,material:w.color?new n.Symbol3DMaterial({color:w.color.clone()}):null,text:w.text,verticalAlignment:w.verticalAlignment,background:w.backgroundColor?new v.Symbol3DTextBackground({color:w.backgroundColor.clone()}):null})};a._createClass(z,[{key:"font",get:function(){return this._get("font")||null},set:function(w){e.isSome(w)&&e.isSome(this._userSize)&&(w.size=this._userSize);this._set("font",w)}},{key:"size",get:function(){return e.isSome(this._userSize)?this._userSize:e.isSome(this.font)&&
null!=this.font.size?this.font.size:9},set:function(w){this._userSize=w;e.isSome(this.font)&&(this.font.size=this._userSize);this.notifyChange("size")}}]);return z}(l);b.__decorate([d.property({type:g,json:{write:!0}})],k.prototype,"font",null);b.__decorate([f.writer("font")],k.prototype,"writeFont",null);b.__decorate([d.property({type:p.Symbol3DHalo,json:{write:!0}})],k.prototype,"halo",void 0);b.__decorate([d.property({...h.horizontalAlignmentProperty,json:{default:"center",write:!0}})],k.prototype,
"horizontalAlignment",void 0);b.__decorate([d.property({...h.lineHeightProperty,json:{default:1,write:!0}})],k.prototype,"lineHeight",void 0);b.__decorate([d.property({type:n.Symbol3DMaterial,json:{write:!0}})],k.prototype,"material",void 0);b.__decorate([d.property({type:v.Symbol3DTextBackground,json:{write:!0}})],k.prototype,"background",void 0);b.__decorate([d.property(r.screenSizeProperty)],k.prototype,"size",null);b.__decorate([d.property({type:String,json:{write:!0}})],k.prototype,"text",void 0);
b.__decorate([t.enumeration({Text:"text"},{readOnly:!0})],k.prototype,"type",void 0);b.__decorate([d.property({...h.verticalAlignmentProperty,json:{default:"baseline",write:!0}})],k.prototype,"verticalAlignment",void 0);return k=q=b.__decorate([m.subclass("esri.symbols.TextSymbol3DLayer")],k)})},"esri/symbols/support/Symbol3DHalo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g){var l;a.Symbol3DHalo=l=function(r){function p(){var n=r.apply(this,arguments)||this;n.color=new e([0,0,0,1]);n.size=0;return n}b._inheritsLoose(p,r);p.prototype.clone=function(){const n={color:k.clone(this.color),size:this.size};return new l(n)};return p}(d.JSONSupport);c.__decorate([t.property(g.colorAndTransparencyProperty)],a.Symbol3DHalo.prototype,"color",void 0);c.__decorate([t.property(g.screenSizeProperty)],a.Symbol3DHalo.prototype,"size",void 0);a.Symbol3DHalo=
l=c.__decorate([f.subclass("esri.symbols.support.Symbol3DHalo")],a.Symbol3DHalo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DTextBackground":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g){a.Symbol3DTextBackground=function(l){function r(p){p=l.call(this,p)||this;p.color=null;return p}b._inheritsLoose(r,l);return r}(e.ClonableMixin(d.JSONSupport));c.__decorate([k.property(g.colorAndTransparencyProperty)],a.Symbol3DTextBackground.prototype,"color",void 0);a.Symbol3DTextBackground=c.__decorate([f.subclass("esri.symbols.support.Symbol3DTextBackground")],a.Symbol3DTextBackground);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/WaterSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer".split(" "),
function(a,b,c,e,d,k,t,m,f){var g;f=g=function(r){function p(n){n=r.call(this,n)||this;n.color=l.clone();n.type="water";n.waterbodySize="medium";n.waveDirection=null;n.waveStrength="moderate";return n}a._inheritsLoose(p,r);p.prototype.clone=function(){return new g({color:e.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};return p}(f);b.__decorate([d.property({type:c,nonNullable:!0,json:{type:[k.Integer],write:(r,p,n)=>p[n]=r.toArray(c.AlphaMode.UNLESS_OPAQUE),
default:()=>l.clone(),defaultEquals:r=>r.toCss(!0)===l.toCss(!0)}})],f.prototype,"color",void 0);b.__decorate([t.enumeration({Water:"water"},{readOnly:!0})],f.prototype,"type",void 0);b.__decorate([d.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],f.prototype,"waterbodySize",void 0);b.__decorate([d.property({type:Number,json:{write:!0,default:null}})],f.prototype,"waveDirection",void 0);b.__decorate([d.property({type:["calm","rippled","slight","moderate"],json:{write:!0,
default:"moderate"}})],f.prototype,"waveStrength",void 0);f=g=b.__decorate([m.subclass("esri.symbols.WaterSymbol3DLayer")],f);const l=new c([0,119,190]);return f})},"esri/symbols/support/StyleOrigin":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../../portal/Portal".split(" "),function(a,b,c,
e,d,k,t,m){var f;c=f=function(g){function l(r){r=g.call(this,r)||this;r.name=null;r.styleUrl=null;r.styleName=null;r.portal=null;return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};return l}(c);b.__decorate([e.property({type:String})],c.prototype,"name",void 0);b.__decorate([e.property({type:String})],c.prototype,"styleUrl",void 0);b.__decorate([e.property({type:String})],c.prototype,"styleName",
void 0);b.__decorate([e.property({type:m})],c.prototype,"portal",void 0);return c=f=b.__decorate([t.subclass("esri.symbols.support.StyleOrigin")],c)})},"esri/symbols/support/Thumbnail":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t,m){var f;a.Thumbnail=
f=function(g){function l(){var r=g.apply(this,arguments)||this;r.url="";return r}b._inheritsLoose(l,g);l.prototype.clone=function(){return new f({url:this.url})};return l}(e);c.__decorate([d.property({type:String})],a.Thumbnail.prototype,"url",void 0);a.Thumbnail=f=c.__decorate([m.subclass("esri.symbols.support.Thumbnail")],a.Thumbnail);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/calloutUtils":function(){define(["exports","../../core/maybe","./Callout3D",
"./LineCallout3D"],function(a,b,c,e){function d(k){if(!k)return!1;k=k.verticalOffset;return!k||0>=k.screenLength||b.isSome(k.maxWorldLength)&&0>=k.maxWorldLength?!1:!0}a.calloutProperty={types:{key:"type",base:c,typeMap:{line:e}},json:{write:!0}};a.hasCalloutSupport=function(k){return"point-3d"===k.type||"label-3d"===k.type};a.hasVisibleCallout=function(k){if(!k||!k.supportsCallout||!k.supportsCallout())return!1;const t=k.callout;return t&&t.visible?d(k)?!0:!1:!1};a.hasVisibleVerticalOffset=d;a.textSymbolLayerSupportsVerticalOffset=
function(k){return"center"===k.horizontalAlignment};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/Callout3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t){c=function(m){function f(g){g=m.call(this,g)||this;g.visible=
!0;return g}a._inheritsLoose(f,m);f.prototype.clone=function(){};return f}(c.JSONSupport);b.__decorate([e.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);b.__decorate([e.property({readOnly:!0})],c.prototype,"visible",void 0);return c=b.__decorate([t.subclass("esri.symbols.callouts.Callout3D")],c)})},"esri/symbols/callouts/LineCallout3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Callout3D ../../chunks/LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p){var n;m=n=function(v){function h(q){q=v.call(this,q)||this;q.type="line";q.color=new c([0,0,0,1]);q.size=k.px2pt(1);q.border=null;return q}a._inheritsLoose(h,v);h.prototype.clone=function(){return new n({color:e.clone(this.color),size:this.size,border:e.clone(this.border)})};a._createClass(h,[{key:"visible",get:function(){return 0<this.size&&d.isSome(this.color)&&0<this.color.a}}]);return h}(l);b.__decorate([f.enumeration({line:"line"},{readOnly:!0})],m.prototype,
"type",void 0);b.__decorate([t.property(p.colorAndTransparencyProperty)],m.prototype,"color",void 0);b.__decorate([t.property(p.screenSizeProperty)],m.prototype,"size",void 0);b.__decorate([t.property({type:r.LineCallout3DBorder$1,json:{write:!0}})],m.prototype,"border",void 0);b.__decorate([t.property({readOnly:!0})],m.prototype,"visible",null);return m=n=b.__decorate([g.subclass("esri.symbols.callouts.LineCallout3D")],m)})},"esri/chunks/LineCallout3DBorder":function(){define("exports ./_rollupPluginBabelHelpers ./tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../symbols/support/materialUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g){var l;d=l=function(r){function p(){var n=r.apply(this,arguments)||this;n.color=new e("white");return n}b._inheritsLoose(p,r);p.prototype.clone=function(){return new l({color:k.clone(this.color)})};return p}(d.JSONSupport);c.__decorate([t.property(g.colorAndTransparencyProperty)],d.prototype,"color",void 0);c=d=l=c.__decorate([f.subclass("esri.symbols.callouts.LineCallout3DBorder")],d);t=Object.freeze(Object.defineProperty({__proto__:null,default:c},Symbol.toStringTag,
{value:"Module"}));a.LineCallout3DBorder=t;a.LineCallout3DBorder$1=c})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,c,e,d,k,t,m){var f;c=f=function(g){function l(r){r=g.call(this,r)||this;r.screenLength=
0;r.minWorldLength=0;r.maxWorldLength=null;return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};return l}(c.JSONSupport);b.__decorate([e.property(m.screenSizeProperty)],c.prototype,"screenLength",void 0);b.__decorate([e.property({type:Number,nonNullable:!0,json:{write:!0,default:0}})],c.prototype,"minWorldLength",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],
c.prototype,"maxWorldLength",void 0);return c=f=b.__decorate([t.subclass("esri.symbols.support.Symbol3DVerticalOffset")],c)})},"esri/symbols/LineSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),function(a,
b,c,e,d,k,t,m,f,g,l){var r;const p=c.ofType({base:null,key:"type",typeMap:{line:f,path:g}});c=c.ofType({base:null,key:"type",typeMap:{line:f,path:g}});l=r=function(n){function v(h){h=n.call(this,h)||this;h.symbolLayers=new p;h.type="line-3d";return h}a._inheritsLoose(v,n);v.prototype.clone=function(){return new r({styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};v.fromSimpleLineSymbol=function(h){return new r({symbolLayers:[f.fromSimpleLineSymbol(h)]})};
return v}(l);b.__decorate([d.property({type:p,json:{type:c}})],l.prototype,"symbolLayers",void 0);b.__decorate([t.enumeration({LineSymbol3D:"line-3d"},{readOnly:!0})],l.prototype,"type",void 0);return l=r=b.__decorate([m.subclass("esri.symbols.LineSymbol3D")],l)})},"esri/symbols/MarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,c,e,d,k,t,m){d=function(f){function g(l){l=f.call(this,l)||this;l.angle=0;l.type=null;l.xoffset=0;l.yoffset=0;l.size=9;return l}a._inheritsLoose(g,f);g.prototype.hash=function(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`};return g}(m);b.__decorate([e.property({type:Number,json:{read:f=>f&&-1*f,write:(f,g)=>g.angle=f&&-1*f}})],d.prototype,"angle",void 0);b.__decorate([e.property({type:["simple-marker","picture-marker"],readOnly:!0})],d.prototype,"type",
void 0);b.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"xoffset",void 0);b.__decorate([e.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"yoffset",void 0);b.__decorate([e.property({type:Number,cast:f=>"auto"===f?f:c.toPt(f),json:{write:!0}})],d.prototype,"size",void 0);return d=b.__decorate([t.subclass("esri.symbols.MarkerSymbol")],d)})},"esri/symbols/MeshSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,c,e,d,k,t,m,f,g){var l;const r=c.ofType({base:null,key:"type",typeMap:{fill:f}});c=l=function(p){function n(v){v=p.call(this,v)||this;v.symbolLayers=new r;v.type="mesh-3d";return v}a._inheritsLoose(n,p);n.prototype.clone=function(){return new l({styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};n.fromSimpleFillSymbol=function(v){return new l({symbolLayers:[f.fromSimpleFillSymbol(v)]})};return n}(g);b.__decorate([d.property({type:r})],
c.prototype,"symbolLayers",void 0);b.__decorate([t.enumeration({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=l=b.__decorate([m.subclass("esri.symbols.MeshSymbol3D")],c)})},"esri/symbols/PictureFillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./support/urlUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g){var l;k=l=function(r){function p(...v){v=r.call(this,...v)||this;v.type="picture-fill";v.url=null;v.xscale=1;v.yscale=1;v.width=12;v.height=12;v.xoffset=0;v.yoffset=0;v.source=null;return v}a._inheritsLoose(p,r);var n=p.prototype;n.normalizeCtorArgs=function(v,h,q,u){if(v&&"string"!==typeof v&&null==v.imageData)return v;const z={};v&&(z.url=v);h&&(z.outline=h);null!=q&&(z.width=e.toPt(q));null!=u&&(z.height=e.toPt(u));return z};n.clone=function(){const v=new l({color:c.clone(this.color),
height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});v._set("source",c.clone(this.source));return v};n.hash=function(){return`${r.prototype.hash.call(this)}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`};return p}(f);b.__decorate([t.enumeration({esriPFS:"picture-fill"},{readOnly:!0})],k.prototype,"type",
void 0);b.__decorate([d.property(g.urlPropertyDefinition)],k.prototype,"url",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],k.prototype,"xscale",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],k.prototype,"yscale",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],k.prototype,"width",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],k.prototype,"height",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,
json:{write:!0}})],k.prototype,"xoffset",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],k.prototype,"yoffset",void 0);b.__decorate([d.property(g.sourcePropertyDefinition)],k.prototype,"source",void 0);return k=l=b.__decorate([m.subclass("esri.symbols.PictureFillSymbol")],k)})},"esri/symbols/support/urlUtils":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c){function e(m,f,g){return f.imageData?b.makeData({mediaType:f.contentType||
"image/png",isBase64:!0,data:f.imageData}):d(f.url,g)}function d(m,f){return null==f||"service"!==f.origin&&"portal-item"!==f.origin||"feature"!==f.layer?.type&&"stream"!==f.layer?.type||b.isAbsolute(m)||!f?.layer?.parsedUrl?c.fromJSON(m,f):b.join(f.layer.parsedUrl.path,"images",m)}function k(m,f,g,l){if(b.isDataProtocol(m)){if(m=b.dataComponents(m))f.contentType=m.mediaType,f.imageData=m.data,g&&g.imageData===f.imageData&&g.url&&c.write(g.url,f,"url",l)}else c.write(m,f,"url",l)}const t={json:{read:{source:["imageData",
"url"],reader:e},write:{writer(m,f,g,l){k(m,f,this.source,l)}}}};a.read=d;a.readImageDataOrUrl=e;a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader(m,f,g){m={};f.imageData&&(m.imageData=f.imageData);f.contentType&&(m.contentType=f.contentType);f.url&&(m.url=d(f.url,g));return m}}}};a.urlPropertyDefinition=t;a.writeImageDataAndUrl=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PictureMarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./MarkerSymbol ./support/urlUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l){var r;k=r=function(p){function n(...h){h=p.call(this,...h)||this;h.color=null;h.type="picture-marker";h.url=null;h.source=null;h.height=12;h.width=12;h.size=null;return h}a._inheritsLoose(n,p);var v=n.prototype;v.normalizeCtorArgs=function(h,q,u){if(h&&"string"!==typeof h&&null==h.imageData)return h;const z={};h&&(z.url=h);null!=q&&(z.width=e.toPt(q));null!=u&&(z.height=e.toPt(u));return z};v.readHeight=function(h,q){return q.size||h};v.readWidth=function(h,q){return q.size||
h};v.clone=function(){const h=new r({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});h._set("source",c.clone(this.source));return h};v.hash=function(){return`${p.prototype.hash.call(this)}.${this.height}.${this.url}.${this.width}`};return n}(g);b.__decorate([d.property({json:{write:!1}})],k.prototype,"color",void 0);b.__decorate([t.enumeration({esriPMS:"picture-marker"},{readOnly:!0})],k.prototype,"type",void 0);b.__decorate([d.property(l.urlPropertyDefinition)],
k.prototype,"url",void 0);b.__decorate([d.property(l.sourcePropertyDefinition)],k.prototype,"source",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],k.prototype,"height",void 0);b.__decorate([m.reader("height",["height","size"])],k.prototype,"readHeight",null);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],k.prototype,"width",void 0);b.__decorate([d.property({json:{write:!1}})],k.prototype,"size",void 0);return k=r=b.__decorate([f.subclass("esri.symbols.PictureMarkerSymbol")],
k)})},"esri/symbols/PointSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(a,b,c,e,d,k,t,m,f,g,l,r,p,n){var v;const h=
c.ofType({base:null,key:"type",typeMap:{icon:f,object:g,text:r}});c=v=function(q){function u(x){x=q.call(this,x)||this;x.verticalOffset=null;x.callout=null;x.symbolLayers=new h;x.type="point-3d";return x}a._inheritsLoose(u,q);var z=u.prototype;z.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(const x of this.symbolLayers.items)switch(x.type){case "icon":case "text":case "object":continue;default:return!1}return!0};z.hasVisibleCallout=function(){return p.hasVisibleCallout(this)};
z.hasVisibleVerticalOffset=function(){return p.hasVisibleVerticalOffset(this)};z.clone=function(){return new v({verticalOffset:e.clone(this.verticalOffset),callout:e.clone(this.callout),styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};u.fromSimpleMarkerSymbol=function(x){return new v({symbolLayers:[f.fromSimpleMarkerSymbol(x)]})};u.fromPictureMarkerSymbol=function(x){return new v({symbolLayers:[f.fromPictureMarkerSymbol(x)]})};u.fromCIMSymbol=
function(x){return"CIMPointSymbol"!==x.data?.symbol?.type?null:x.data.symbol?.callout?new v({symbolLayers:[f.fromCIMSymbol(x)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new v({symbolLayers:[f.fromCIMSymbol(x)]})};u.fromTextSymbol=function(x){return new v({symbolLayers:[r.fromTextSymbol(x)]})};return u}(l);b.__decorate([d.property({type:n,json:{write:!0}})],c.prototype,"verticalOffset",void 0);b.__decorate([d.property(p.calloutProperty)],c.prototype,"callout",void 0);
b.__decorate([d.property({type:h,json:{origins:{"web-scene":{write:!0}}}})],c.prototype,"symbolLayers",void 0);b.__decorate([t.enumeration({PointSymbol3D:"point-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=v=b.__decorate([m.subclass("esri.symbols.PointSymbol3D")],c)})},"esri/symbols/PolygonSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/lang ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q){var u;const z=c.ofType({base:null,key:"type",typeMap:{extrude:g,fill:l,icon:r,line:p,object:n,text:h,water:q}});c=u=function(x){function w(A){A=x.call(this,A)||this;A.symbolLayers=new z;A.type="polygon-3d";return A}a._inheritsLoose(w,x);w.prototype.clone=function(){return new u({styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};w.fromJSON=function(A){const B=new u;B.read(A);if(2===B.symbolLayers.length&&
"fill"===B.symbolLayers.getItemAt(0).type&&"line"===B.symbolLayers.getItemAt(1).type){const E=B.symbolLayers.getItemAt(0),y=B.symbolLayers.getItemAt(1);!y.enabled||A.symbolLayers&&A.symbolLayers[1]&&!1===A.symbolLayers[1].enable||(E.outline={size:y.size,color:d.isSome(y.material)?y.material.color:null});B.symbolLayers.removeAt(1)}return B};w.fromSimpleFillSymbol=function(A){return new u({symbolLayers:[l.fromSimpleFillSymbol(A)]})};return w}(v);b.__decorate([k.property({type:z,json:{write:!0}})],c.prototype,
"symbolLayers",void 0);b.__decorate([m.enumeration({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],c.prototype,"type",void 0);return c=u=b.__decorate([f.subclass("esri.symbols.PolygonSymbol3D")],c)})},"esri/symbols/SimpleFillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./SimpleLineSymbol".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l){var r;e=new e.JSONMap({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});g=r=function(p){function n(...h){h=p.call(this,...h)||this;h.color=new c([0,0,0,.25]);h.outline=new l;h.type="simple-fill";h.style="solid";return h}a._inheritsLoose(n,p);var v=n.prototype;v.normalizeCtorArgs=
function(h,q,u){if(h&&"string"!==typeof h)return h;const z={};h&&(z.style=h);q&&(z.outline=q);u&&(z.color=u);return z};v.clone=function(){return new r({color:d.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})};v.hash=function(){return`${p.prototype.hash.call(this)}${this.style}.${this.color&&this.color.hash()}`};return n}(g);b.__decorate([k.property()],g.prototype,"color",void 0);b.__decorate([k.property()],g.prototype,"outline",void 0);b.__decorate([m.enumeration({esriSFS:"simple-fill"},
{readOnly:!0})],g.prototype,"type",void 0);b.__decorate([k.property({type:e.apiValues,json:{read:e.read,write:e.write}})],g.prototype,"style",void 0);return g=r=b.__decorate([f.subclass("esri.symbols.SimpleFillSymbol")],g)})},"esri/symbols/SimpleMarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p){var n;e=new e.JSONMap({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});r=n=function(v){function h(...u){u=v.call(this,...u)||this;u.color=new c([255,255,255,.25]);u.type="simple-marker";u.size=12;u.style="circle";u.outline=new p;return u}a._inheritsLoose(h,v);var q=h.prototype;q.normalizeCtorArgs=function(u,z,x,w){if(u&&"string"!==typeof u)return u;const A={};
u&&(A.style=u);null!=z&&(A.size=k.toPt(z));x&&(A.outline=x);w&&(A.color=w);return A};q.writeColor=function(u,z){u&&"x"!==this.style&&"cross"!==this.style&&(z.color=u.toJSON());null===u&&(z.color=null)};q.clone=function(){return new n({angle:this.angle,color:d.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};q.hash=function(){return`${v.prototype.hash.call(this)}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`};
a._createClass(h,[{key:"path",set:function(u){this.style="path";this._set("path",u)}}]);return h}(r);b.__decorate([t.property()],r.prototype,"color",void 0);b.__decorate([l.writer("color")],r.prototype,"writeColor",null);b.__decorate([f.enumeration({esriSMS:"simple-marker"},{readOnly:!0})],r.prototype,"type",void 0);b.__decorate([t.property()],r.prototype,"size",void 0);b.__decorate([t.property({type:e.apiValues,json:{read:e.read,write:e.write}})],r.prototype,"style",void 0);b.__decorate([t.property({type:String,
json:{write:!0}})],r.prototype,"path",null);b.__decorate([t.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":p}},json:{default:null,write:!0}})],r.prototype,"outline",void 0);return r=n=b.__decorate([g.subclass("esri.symbols.SimpleMarkerSymbol")],r)})},"esri/symbols/TextSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol ./support/textUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p){var n;r=n=function(v){function h(...u){u=v.call(this,...u)||this;u.backgroundColor=null;u.borderLineColor=null;u.borderLineSize=null;u.font=new l;u.horizontalAlignment="center";u.kerning=!0;u.haloColor=null;u.haloSize=null;u.rightToLeft=null;u.rotated=!1;u.text="";u.type="text";u.verticalAlignment="baseline";u.xoffset=0;u.yoffset=0;u.angle=0;u.width=null;u.lineWidth=192;u.lineHeight=1;return u}a._inheritsLoose(h,v);var q=h.prototype;q.normalizeCtorArgs=function(u,
z,x){if(u&&"string"!==typeof u)return u;const w={};u&&(w.text=u);z&&(w.font=z);x&&(w.color=x);return w};q.writeLineWidth=function(u,z,x,w){w&&"string"!==typeof w||(z[x]=u)};q.castLineWidth=function(u){return d.toPt(u)};q.writeLineHeight=function(u,z,x,w){w&&"string"!==typeof w||(z[x]=u)};q.clone=function(){return new n({angle:this.angle,backgroundColor:e.clone(this.backgroundColor),borderLineColor:e.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:e.clone(this.color),font:this.font&&
this.font.clone(),haloColor:e.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};q.hash=function(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&
this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`};return h}(r);b.__decorate([k.property({type:c,json:{write:!0}})],r.prototype,"backgroundColor",void 0);b.__decorate([k.property({type:c,json:{write:!0}})],r.prototype,"borderLineColor",void 0);b.__decorate([k.property({type:Number,
json:{write:!0},cast:d.toPt})],r.prototype,"borderLineSize",void 0);b.__decorate([k.property({type:l,json:{write:!0}})],r.prototype,"font",void 0);b.__decorate([k.property({...p.horizontalAlignmentProperty,json:{write:!0}})],r.prototype,"horizontalAlignment",void 0);b.__decorate([k.property({type:Boolean,json:{write:!0}})],r.prototype,"kerning",void 0);b.__decorate([k.property({type:c,json:{write:!0}})],r.prototype,"haloColor",void 0);b.__decorate([k.property({type:Number,cast:d.toPt,json:{write:!0}})],
r.prototype,"haloSize",void 0);b.__decorate([k.property({type:Boolean,json:{write:!0}})],r.prototype,"rightToLeft",void 0);b.__decorate([k.property({type:Boolean,json:{write:!0}})],r.prototype,"rotated",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],r.prototype,"text",void 0);b.__decorate([m.enumeration({esriTS:"text"},{readOnly:!0})],r.prototype,"type",void 0);b.__decorate([k.property({...p.verticalAlignmentProperty,json:{write:!0}})],r.prototype,"verticalAlignment",void 0);b.__decorate([k.property({type:Number,
cast:d.toPt,json:{write:!0}})],r.prototype,"xoffset",void 0);b.__decorate([k.property({type:Number,cast:d.toPt,json:{write:!0}})],r.prototype,"yoffset",void 0);b.__decorate([k.property({type:Number,json:{read:v=>v&&-1*v,write:(v,h)=>h.angle=v&&-1*v}})],r.prototype,"angle",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],r.prototype,"width",void 0);b.__decorate([k.property({type:Number})],r.prototype,"lineWidth",void 0);b.__decorate([g.writer("lineWidth")],r.prototype,"writeLineWidth",
null);b.__decorate([t.cast("lineWidth")],r.prototype,"castLineWidth",null);b.__decorate([k.property(p.lineHeightProperty)],r.prototype,"lineHeight",void 0);b.__decorate([g.writer("lineHeight")],r.prototype,"writeLineHeight",null);return r=n=b.__decorate([f.subclass("esri.symbols.TextSymbol")],r)})},"esri/symbols/WebStyleSymbol":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../portal/Portal ../chunks/persistableUrlUtils ./Symbol ./support/Thumbnail".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v){function h(){return new Promise((u,z)=>a(["./support/webStyleSymbolUtils"],u,z))}var q;m=q=function(u){function z(w){w=u.call(this,w)||this;w.styleName=null;w.portal=null;w.styleUrl=null;w.thumbnail=null;w.name=null;w.type="web-style";return w}b._inheritsLoose(z,u);var x=z.prototype;x.read=function(w,A){this.portal=A?.portal;u.prototype.read.call(this,w,A)};x.clone=function(){return new q({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};
x.fetchSymbol=function(w){return this._fetchSymbol("webRef",w)};x.fetchCIMSymbol=function(w){return this._fetchSymbol("cimRef",w)};x._fetchSymbol=function(){var w=b._asyncToGenerator(function*(A,B){const E=d.isSome(B)?B.cache:null,y=E?this._fetchCacheKey:null;if(d.isSome(E)){var C=y&&E.get(y);if(C)return C.clone()}C=yield h();k.throwIfAborted(B);B=C.resolveWebStyleSymbol(this,{portal:this.portal},A,B);B.catch(D=>{e.getLogger(this.declaredClass).error("#fetchSymbol()","Failed to create symbol from style",
D)});B=yield B;if(!("webRef"===A&&"point-3d"===B.type||"cimRef"===A&&"cim"===B.type))return null;d.isSome(E)&&E.set(y,B.clone());return B});return function(A,B){return w.apply(this,arguments)}}();b._createClass(z,[{key:"_fetchCacheKey",get:function(){const w=d.isSome(this.portal)?this.portal:r.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${w.user?w.user.username:null}:${w.url}`}}]);return z}(n);c.__decorate([t.property({json:{write:!1}})],m.prototype,"color",void 0);c.__decorate([t.property({type:String,
json:{write:!0}})],m.prototype,"styleName",void 0);c.__decorate([t.property({type:r,json:{write:!1}})],m.prototype,"portal",void 0);c.__decorate([t.property({type:String,json:{read:p.read,write:p.write}})],m.prototype,"styleUrl",void 0);c.__decorate([t.property({type:v.Thumbnail,json:{read:!1}})],m.prototype,"thumbnail",void 0);c.__decorate([t.property({type:String,json:{write:!0}})],m.prototype,"name",void 0);c.__decorate([g.enumeration({styleSymbolReference:"web-style"},{readOnly:!0})],m.prototype,
"type",void 0);c.__decorate([t.property()],m.prototype,"_fetchCacheKey",null);return m=q=c.__decorate([l.subclass("esri.symbols.WebStyleSymbol")],m)})},"esri/renderers/Renderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass ./support/AuthoringInfo".split(" "),function(a,b,c,e,d,k,t,m,f){c=new c.JSONMap({simple:"simple",
uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});e=function(g){function l(p){p=g.call(this,p)||this;p.authoringInfo=null;p.type=null;return p}a._inheritsLoose(l,g);var r=l.prototype;r.getRequiredFields=function(){var p=a._asyncToGenerator(function*(n){if(!this.collectRequiredFields)return[];const v=new Set;yield this.collectRequiredFields(v,n);return Array.from(v).sort()});return function(n){return p.apply(this,
arguments)}}();r.getSymbol=function(p,n){};r.getSymbolAsync=function(){var p=a._asyncToGenerator(function*(n,v){});return function(n,v){return p.apply(this,arguments)}}();r.getSymbols=function(){return[]};r.getAttributeHash=function(){return JSON.stringify(this)};r.getMeshHash=function(){return JSON.stringify(this)};return l}(e.JSONSupport);b.__decorate([d.property({type:f,json:{write:!0}})],e.prototype,"authoringInfo",void 0);b.__decorate([d.property({type:c.apiValues,readOnly:!0,json:{type:c.jsonValues,
read:!1,write:{writer:c.write,ignoreOrigin:!0}}})],e.prototype,"type",void 0);return e=b.__decorate([m.subclass("esri.renderers.Renderer")],e)})},"esri/renderers/support/AuthoringInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../rest/support/colorRamps".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){var p;const n=new c.JSONMap({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),v=new c.JSONMap({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",
dotDensity:"dot-density",flow:"flow"});c=new c.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"});const h="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");e=p=function(q){function u(x){x=q.call(this,x)||this;x.colorRamp=null;x.fadeRatio=null;x.isAutoGenerated=!1;x.lengthUnit=null;
x.maxSliderValue=null;x.minSliderValue=null;x.visualVariables=null;return x}a._inheritsLoose(u,q);var z=u.prototype;z.readColorRamp=function(x){return x?r.fromJSON(x):void 0};z.clone=function(){return new p({classificationMethod:this.classificationMethod,colorRamp:d.clone(this.colorRamp),fadeRatio:d.clone(this.fadeRatio),fields:this.fields&&this.fields.slice(0),field1:d.clone(this.field1),field2:d.clone(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,
maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(x=>x.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})};a._createClass(u,[{key:"classificationMethod",get:function(){const x=this._get("classificationMethod"),w=this.type;
return w&&"relationship"!==w?"class-breaks-size"===w||"class-breaks-color"===w?x||"manual":null:x},set:function(x){this._set("classificationMethod",x)}},{key:"fields",get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(x){this._set("fields",x)}},{key:"field1",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},set:function(x){this._set("field1",x)}},{key:"field2",get:function(){return this.type&&"relationship"!==this.type?
null:this._get("field2")},set:function(x){this._set("field2",x)}},{key:"flowTheme",get:function(){return"flow"===this.type?this._get("flowTheme"):null},set:function(x){this._set("flowTheme",x)}},{key:"focus",get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(x){this._set("focus",x)}},{key:"numClasses",get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(x){this._set("numClasses",x)}},{key:"statistics",
get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null},set:function(x){this._set("statistics",x)}},{key:"standardDeviationInterval",get:function(){const x=this.type;return x&&"relationship"!==x&&"class-breaks-size"!==x&&"class-breaks-color"!==x?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(x){this._set("standardDeviationInterval",x)}},
{key:"type",get:function(){return this._get("type")},set:function(x){let w=x;"classed-size"===x?w="class-breaks-size":"classed-color"===x&&(w="class-breaks-color");this._set("type",w)}},{key:"univariateSymbolStyle",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null},set:function(x){this._set("univariateSymbolStyle",x)}},{key:"univariateTheme",get:function(){return"univariate-color-size"===this.type?this._get("univariateTheme"):
null},set:function(x){this._set("univariateTheme",x)}}]);return u}(e.JSONSupport);b.__decorate([k.property({type:n.apiValues,value:null,json:{type:n.jsonValues,read:n.read,write:n.write,origins:{"web-document":{default:"manual",type:n.jsonValues,read:n.read,write:n.write}}}})],e.prototype,"classificationMethod",null);b.__decorate([k.property({types:r.types,json:{write:!0}})],e.prototype,"colorRamp",void 0);b.__decorate([m.reader("colorRamp")],e.prototype,"readColorRamp",null);b.__decorate([k.property({json:{write:!0,
origins:{"web-scene":{write:!1,read:!1}}}})],e.prototype,"fadeRatio",void 0);b.__decorate([k.property({type:[String],value:null,json:{write:!0}})],e.prototype,"fields",null);b.__decorate([k.property({type:g.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],e.prototype,"field1",null);b.__decorate([k.property({type:g.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],e.prototype,"field2",null);b.__decorate([k.property({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],
e.prototype,"flowTheme",null);b.__decorate([k.property({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],e.prototype,"focus",null);b.__decorate([k.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],e.prototype,"isAutoGenerated",void 0);b.__decorate([k.property({type:Number,value:null,json:{type:t.Integer,write:!0}})],e.prototype,"numClasses",null);b.__decorate([k.property({type:h,json:{type:h,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],
e.prototype,"lengthUnit",void 0);b.__decorate([k.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],e.prototype,"maxSliderValue",void 0);b.__decorate([k.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],e.prototype,"minSliderValue",void 0);b.__decorate([k.property({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],e.prototype,"statistics",null);b.__decorate([k.property({type:[.25,.33,.5,1],value:null,json:{type:[.25,
.33,.5,1],write:!0}})],e.prototype,"standardDeviationInterval",null);b.__decorate([k.property({type:v.apiValues,value:null,json:{type:v.jsonValues,read:v.read,write:v.write,origins:{"web-scene":{type:c.jsonValues,write:{writer:c.write,overridePolicy(q){return{enabled:"flow"!==q}}}}}}})],e.prototype,"type",null);b.__decorate([k.property({type:[l],json:{write:!0}})],e.prototype,"visualVariables",void 0);b.__decorate([k.property({type:"caret circle-caret arrow circle-arrow plus-minus circle-plus-minus square circle triangle happy-sad thumb custom".split(" "),
value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],e.prototype,"univariateSymbolStyle",null);b.__decorate([k.property({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],e.prototype,"univariateTheme",null);return e=p=b.__decorate([f.subclass("esri.renderers.support.AuthoringInfo")],e)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AuthoringInfoClassBreakInfo".split(" "),
function(a,b,c,e,d,k,t,m,f){var g;a.AuthoringInfoFieldInfo=g=function(l){function r(p){p=l.call(this,p)||this;p.field="";p.normalizationField="";p.label="";p.classBreakInfos=[];return p}b._inheritsLoose(r,l);r.prototype.clone=function(){return new g({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:d.clone(this.classBreakInfos)})};return r}(e.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"field",
void 0);c.__decorate([k.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"normalizationField",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"label",void 0);c.__decorate([k.property({type:[f.AuthoringInfoClassBreakInfo],json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"classBreakInfos",void 0);a.AuthoringInfoFieldInfo=g=c.__decorate([m.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],a.AuthoringInfoFieldInfo);
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t,m){var f;a.AuthoringInfoClassBreakInfo=f=function(g){function l(r){r=g.call(this,r)||
this;r.minValue=0;r.maxValue=0;return r}b._inheritsLoose(l,g);l.prototype.clone=function(){return new f({minValue:this.minValue,maxValue:this.maxValue})};return l}(e.JSONSupport);c.__decorate([d.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"minValue",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"maxValue",void 0);a.AuthoringInfoClassBreakInfo=f=c.__decorate([m.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],
a.AuthoringInfoClassBreakInfo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t){var m;const f=new c.JSONMap({percentTotal:"percent-of-total",
ratio:"ratio",percent:"percent"});c=new c.JSONMap({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"});const g={key(n){return"number"===typeof n?"number":"string"},typeMap:{number:Number,string:String},base:null},l=["high-to-low","above-and-below","centered-on","extremes"],r=[...(new Set("high-to-low above-and-below centered-on extremes 90-10 above below high-to-low above-and-below 90-10 above below".split(" ")))],p="seconds minutes hours days months years".split(" ");
e=m=function(n){function v(q){q=n.call(this,q)||this;q.endTime=null;q.field=null;q.maxSliderValue=null;q.minSliderValue=null;q.startTime=null;q.type=null;q.units=null;return q}a._inheritsLoose(v,n);var h=v.prototype;h.castEndTime=function(q){return"string"===typeof q||"number"===typeof q?q:null};h.castStartTime=function(q){return"string"===typeof q||"number"===typeof q?q:null};h.clone=function(){return new m({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,
startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})};a._createClass(v,[{key:"style",get:function(){return"color"===this.type?this._get("style"):null},set:function(q){this._set("style",q)}},{key:"theme",get:function(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null},set:function(q){this._set("theme",q)}}]);return v}(e.JSONSupport);b.__decorate([d.property({types:g,json:{write:!0}})],e.prototype,"endTime",void 0);b.__decorate([k.cast("endTime")],
e.prototype,"castEndTime",null);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],e.prototype,"maxSliderValue",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],e.prototype,"minSliderValue",void 0);b.__decorate([d.property({types:g,json:{write:!0}})],e.prototype,"startTime",void 0);b.__decorate([k.cast("startTime")],e.prototype,"castStartTime",null);b.__decorate([d.property({type:f.apiValues,
value:null,json:{type:f.jsonValues,read:f.read,write:f.write}})],e.prototype,"style",null);b.__decorate([d.property({type:r,value:null,json:{type:r,origins:{"web-scene":{type:l,write:{writer:(n,v)=>{l.includes(n)&&(v.theme=n)}}}},write:!0}})],e.prototype,"theme",null);b.__decorate([d.property({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],e.prototype,"type",void 0);b.__decorate([d.property({type:p,json:{type:p,write:!0}})],e.prototype,"units",void 0);return e=m=b.__decorate([t.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],
e)})},"esri/rest/support/colorRamps":function(){define(["exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(a,b,c,e){c={key:"type",base:c,typeMap:{algorithmic:b,multipart:e}};a.fromJSON=function(d){return d&&d.type?"algorithmic"===d.type?b.fromJSON(d):"multipart"===d.type?e.fromJSON(d):null:null};a.types=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AlgorithmicColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./ColorRamp".split(" "),
function(a,b,c,e,d,k,t,m,f){var g;f=g=function(l){function r(p){p=l.call(this,p)||this;p.algorithm=null;p.fromColor=null;p.toColor=null;p.type="algorithmic";return p}a._inheritsLoose(r,l);r.prototype.clone=function(){return new g({fromColor:e.clone(this.fromColor),toColor:e.clone(this.toColor),algorithm:this.algorithm})};return r}(f);b.__decorate([t.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],f.prototype,"algorithm",void 0);b.__decorate([d.property({type:c,
json:{type:[k.Integer],write:!0}})],f.prototype,"fromColor",void 0);b.__decorate([d.property({type:c,json:{type:[k.Integer],write:!0}})],f.prototype,"toColor",void 0);b.__decorate([d.property({type:["algorithmic"]})],f.prototype,"type",void 0);return f=g=b.__decorate([m.subclass("esri.rest.support.AlgorithmicColorRamp")],f)})},"esri/rest/support/ColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){c=function(m){function f(g){g=m.call(this,g)||this;g.type=null;return g}a._inheritsLoose(f,m);return f}(c.JSONSupport);b.__decorate([e.property({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.rest.support.ColorRamp")],c)})},"esri/rest/support/MultipartColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AlgorithmicColorRamp ./ColorRamp".split(" "),
function(a,b,c,e,d,k,t,m){var f;d=f=function(g){function l(r){r=g.call(this,r)||this;r.colorRamps=null;r.type="multipart";return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({colorRamps:c.clone(this.colorRamps)})};return l}(m);b.__decorate([e.property({type:[t],json:{write:!0}})],d.prototype,"colorRamps",void 0);b.__decorate([e.property({type:["multipart"]})],d.prototype,"type",void 0);return d=f=b.__decorate([k.subclass("esri.rest.support.MultipartColorRamp")],d)})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/fieldUtils ../support/randomRotationExpression ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u){const z={base:q,key:"type",typeMap:{opacity:n,color:p,rotation:v,size:h}};a.VisualVariablesMixin=x=>{x=function(w){function A(){var E=w.apply(this,arguments)||this;E._vvFactory=new u;return E}b._inheritsLoose(A,w);var B=A.prototype;B.readVisualVariables=function(E,y,C){return this._vvFactory.readVariables(E,y,C)};B.writeVisualVariables=function(E,y,C,D){y[C]=this._vvFactory.writeVariables(E,D)};B.hasVisualVariables=function(E,y){return E?0<this.getVisualVariablesForType(E,
y).length:0<this.getVisualVariablesForType("size",y).length||0<this.getVisualVariablesForType("color",y).length||0<this.getVisualVariablesForType("opacity",y).length||0<this.getVisualVariablesForType("rotation",y).length};B.getVisualVariablesForType=function(E,y){const C=this.visualVariables;return C?C.filter(D=>D.type===E&&("string"===typeof y?D.target===y:!1===y?!D.target:!0)):[]};B.collectVVRequiredFields=function(){var E=b._asyncToGenerator(function*(y,C){var D=[];this.visualVariables&&(D=D.concat(this.visualVariables));
for(const M of D)if(M&&(M.field&&l.collectField(y,C,M.field),M.normalizationField&&l.collectField(y,C,M.normalizationField),M.valueExpression)){{D=y;var J=C;const L=r.matchRandomRotationExpression(M.valueExpression);e.isSome(L)?(l.collectField(D,J,L),D=!0):D=!1}D||(yield l.collectArcadeFieldNames(y,C,M.valueExpression))}});return function(y,C){return E.apply(this,arguments)}}();b._createClass(A,[{key:"visualVariables",set:function(E){this._vvFactory.visualVariables=E;this._set("visualVariables",this._vvFactory.visualVariables)}},
{key:"arcadeRequiredForVisualVariables",get:function(){if(!this.visualVariables)return!1;for(const E of this.visualVariables)if(E.arcadeRequired)return!0;return!1}}]);return A}(x);c.__decorate([d.property({types:[z],value:null,json:{write:!0}})],x.prototype,"visualVariables",null);c.__decorate([m.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],x.prototype,"readVisualVariables",null);c.__decorate([g.writer("visualVariables")],x.prototype,"writeVisualVariables",null);
return x=c.__decorate([f.subclass("esri.renderers.mixins.VisualVariablesMixin")],x)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/randomRotationExpression":function(){define(["exports"],function(a){const b=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;a.matchRandomRotationExpression=function(c){return c.match(b)?.[1]?.replace(/\\'/g,"'")??null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/ColorVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/ColorStop".split(" "),
function(a,b,c,e,d,k,t,m){var f;e=f=function(g){function l(p){p=g.call(this,p)||this;p.type="color";p.normalizationField=null;return p}a._inheritsLoose(l,g);var r=l.prototype;r.clone=function(){return new f({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(p=>p.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})};r.getAttributeHash=function(){return`${g.prototype.getAttributeHash.call(this)}-${this.normalizationField}`};
r._interpolateData=function(){return this.stops&&this.stops.map(p=>p.value||0)};a._createClass(l,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(p){p&&Array.isArray(p)&&(p=p.filter(n=>!!n),p.sort((n,v)=>n.value-v.value));this._set("stops",p)}}]);return l}(t);b.__decorate([c.property({readOnly:!0})],e.prototype,"cache",null);b.__decorate([c.property({type:["color"],json:{type:["colorInfo"]}})],e.prototype,
"type",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"normalizationField",void 0);b.__decorate([c.property({type:[m],json:{write:!0}})],e.prototype,"stops",null);return e=f=b.__decorate([k.subclass("esri.renderers.visualVariables.ColorVariable")],e)})},"esri/renderers/visualVariables/VisualVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),
function(a,b,c,e,d,k,t,m,f,g){c=new c.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});e=function(l){function r(n){n=l.call(this,n)||this;n.index=null;n.type=null;n.field=null;n.valueExpression=null;n.valueExpressionTitle=null;n.legendOptions=null;return n}a._inheritsLoose(r,l);var p=r.prototype;p.castField=function(n){return null==n?n:"function"===typeof n?(d.getLogger(this.declaredClass).error(".field: field must be a string value"),null):f.ensureString(n)};
p.clone=function(){};p.getAttributeHash=function(){return`${this.type}-${this.field}-${this.valueExpression}`};a._createClass(r,[{key:"arcadeRequired",get:function(){return!!this.valueExpression}}]);return r}(e.JSONSupport);b.__decorate([k.property()],e.prototype,"index",void 0);b.__decorate([k.property({type:c.apiValues,readOnly:!0,json:{read:c.read,write:c.write}})],e.prototype,"type",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([t.cast("field")],
e.prototype,"castField",null);b.__decorate([k.property({type:String,json:{write:!0}})],e.prototype,"valueExpression",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],e.prototype,"valueExpressionTitle",void 0);b.__decorate([k.property({readOnly:!0})],e.prototype,"arcadeRequired",null);b.__decorate([k.property({type:g,json:{write:!0}})],e.prototype,"legendOptions",void 0);return e=b.__decorate([m.subclass("esri.renderers.visualVariables.VisualVariable")],e)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ../../support/LegendOptions".split(" "),
function(a,b,c,e,d,k,t){var m;e=m=function(f){function g(){var l=f.apply(this,arguments)||this;l.showLegend=null;return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({title:this.title,showLegend:this.showLegend})};return g}(t.LegendOptions);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"showLegend",void 0);return e=m=b.__decorate([k.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],e)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m){var f;a.LegendOptions=f=function(g){function l(){var r=g.apply(this,arguments)||this;r.title=null;return r}b._inheritsLoose(l,g);l.prototype.clone=function(){return new f({title:this.title})};return l}(e.JSONSupport);c.__decorate([d.property({type:String,json:{write:!0}})],a.LegendOptions.prototype,"title",void 0);a.LegendOptions=f=c.__decorate([m.subclass("esri.renderers.support.LegendOptions")],a.LegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),function(a,b,c,e,d,k,t,m,f){var g;e=g=function(l){function r(n){n=l.call(this,n)||this;n.color=null;
n.label=null;n.value=null;return n}a._inheritsLoose(r,l);var p=r.prototype;p.writeValue=function(n,v,h){v[h]=null==n?0:n};p.clone=function(){return new g({color:this.color&&this.color.clone(),label:this.label,value:this.value})};return r}(e.JSONSupport);b.__decorate([d.property({type:c,json:{type:[k.Integer],write:!0}})],e.prototype,"color",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"label",void 0);b.__decorate([d.property({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],
e.prototype,"value",void 0);b.__decorate([f.writer("value")],e.prototype,"writeValue",null);return e=g=b.__decorate([m.subclass("esri.renderers.visualVariables.support.ColorStop")],e)})},"esri/renderers/visualVariables/OpacityVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/OpacityStop".split(" "),
function(a,b,c,e,d,k,t,m){var f;e=f=function(g){function l(p){p=g.call(this,p)||this;p.type="opacity";p.normalizationField=null;return p}a._inheritsLoose(l,g);var r=l.prototype;r.clone=function(){return new f({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(p=>p.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})};r.getAttributeHash=function(){return`${g.prototype.getAttributeHash.call(this)}-${this.normalizationField}`};
r._interpolateData=function(){return this.stops&&this.stops.map(p=>p.value||0)};a._createClass(l,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(p){p&&Array.isArray(p)&&(p=p.filter(n=>!!n),p.sort((n,v)=>n.value-v.value));this._set("stops",p)}}]);return l}(t);b.__decorate([c.property({readOnly:!0})],e.prototype,"cache",null);b.__decorate([c.property({type:["opacity"],json:{type:["transparencyInfo"]}})],
e.prototype,"type",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"normalizationField",void 0);b.__decorate([c.property({type:[m],json:{write:!0}})],e.prototype,"stops",null);return e=f=b.__decorate([k.subclass("esri.renderers.visualVariables.OpacityVariable")],e)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../webdoc/support/opacityUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g){var l;c=l=function(r){function p(v){v=r.call(this,v)||this;v.label=null;v.opacity=null;v.value=null;return v}a._inheritsLoose(p,r);var n=p.prototype;n.readOpacity=function(v,h){return g.transparencyToOpacity(h.transparency)};n.writeOpacity=function(v,h,q){h[q]=g.opacityToTransparency(v)};n.clone=function(){return new l({label:this.label,opacity:this.opacity,value:this.value})};return p}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,
"label",void 0);b.__decorate([e.property({type:Number,json:{type:d.Integer,write:{target:"transparency"}}})],c.prototype,"opacity",void 0);b.__decorate([t.reader("opacity",["transparency"])],c.prototype,"readOpacity",null);b.__decorate([f.writer("opacity")],c.prototype,"writeOpacity",null);b.__decorate([e.property({type:Number,json:{write:!0}})],c.prototype,"value",void 0);return c=l=b.__decorate([m.subclass("esri.renderers.visualVariables.support.OpacityStop")],c)})},"esri/renderers/visualVariables/RotationVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable".split(" "),
function(a,b,c,e,d,k,t,m,f){var g;d=g=function(l){function r(n){n=l.call(this,n)||this;n.axis=null;n.type="rotation";n.rotationType="geographic";n.valueExpressionTitle=null;return n}a._inheritsLoose(r,l);var p=r.prototype;p.writeValueExpressionTitleWebScene=function(n,v,h,q){q&&q.messages&&q.messages.push(new c("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}]`+
".valueExpressionTitle",context:q}))};p.clone=function(){return new g({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})};a._createClass(r,[{key:"cache",get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}}]);return r}(f);b.__decorate([e.property({readOnly:!0})],d.prototype,"cache",null);b.__decorate([e.property({type:["heading",
"tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],d.prototype,"axis",void 0);b.__decorate([e.property({type:["rotation"],json:{type:["rotationInfo"]}})],d.prototype,"type",void 0);b.__decorate([e.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],d.prototype,"rotationType",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"valueExpressionTitle",void 0);b.__decorate([m.writer("web-scene",
"valueExpressionTitle")],d.prototype,"writeValueExpressionTitleWebScene",null);return d=g=b.__decorate([t.subclass("esri.renderers.visualVariables.RotationVariable")],d)})},"esri/renderers/visualVariables/SizeVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h){function q(B){if(null!=B){if("string"===typeof B||"number"===typeof B)return k.toPt(B);if("size"===B.type){if(v.isSizeVariable(B))return B;B={...B};delete B.type;return new A(B)}}}function u(B,E,y){if("object"!==typeof B)return B;E=new A;E.read(B,y);return E}var z;const x=new e.JSONMap({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),w=new e.JSONMap({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles",
"nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});let A=z=function(B){function E(C){C=B.call(this,C)||this;C.axis=null;C.legendOptions=null;C.normalizationField=null;C.scaleBy=null;C.target=null;C.type="size";C.useSymbolValue=null;C.valueExpression=null;C.valueRepresentation=null;C.valueUnit=null;return C}a._inheritsLoose(E,B);var y=E.prototype;y.castMaxSize=function(C){return q(C)};
y.readMaxSize=function(C,D,J){return u(C,D,J)};y.castMinSize=function(C){return q(C)};y.readMinSize=function(C,D,J){return u(C,D,J)};y.readValueExpression=function(C,D){return C||D.expression&&"$view.scale"};y.writeValueExpressionWebScene=function(C,D,J,M){"$view.scale"===C?M&&M.messages&&(C=this.index,M.messages.push(new c("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,
propertyName:("string"===typeof C?C:`visualVariables[${C}]`)+".valueExpression",context:M}))):D[J]=C};y.readValueUnit=function(C){return C?w.read(C):null};y.clone=function(){return new z({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:v.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:v.isSizeVariable(this.minSize)?this.minSize.clone():this.minSize,
normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(C=>C.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})};y.flipSizes=function(){if(this.transformationType===v.TransformationType.ClampedLinear){const {minSize:C,maxSize:D}=this;this.minSize=D;this.maxSize=C;return this}if(this.transformationType===v.TransformationType.Stops){const C=
this.stops;if(!C)return this;const D=C.map(M=>M.size).reverse(),J=C.length;for(let M=0;M<J;M++)C[M].size=D[M]}return this};y.getAttributeHash=function(){return`${B.prototype.getAttributeHash.call(this)}-${this.target}-${this.normalizationField}`};y._interpolateData=function(){return this.stops&&this.stops.map(C=>C.value||0)};a._createClass(E,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=this.valueExpression&&
h.viewScaleRE.test(this.valueExpression)}}},{key:"expression",set:function(C){d.getLogger(this.declaredClass).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");"view.scale"===C?(this.valueExpression="$view.scale",this._set("expression",C)):this._set("expression",null)}},{key:"index",set:function(C){v.isSizeVariable(this.maxSize)&&(this.maxSize.index=`visualVariables[${C}].maxSize`);v.isSizeVariable(this.minSize)&&(this.minSize.index=
`visualVariables[${C}].minSize`);this._set("index",C)}},{key:"inputValueType",get:function(){return v.getInputValueType(this)}},{key:"maxDataValue",set:function(C){C&&this.stops&&(d.getLogger(this.declaredClass).warn("cannot set maxDataValue when stops is not null."),C=null);this._set("maxDataValue",C)}},{key:"maxSize",set:function(C){C&&this.stops&&(d.getLogger(this.declaredClass).warn("cannot set maxSize when stops is not null."),C=null);this._set("maxSize",C)}},{key:"minDataValue",set:function(C){C&&
this.stops&&(d.getLogger(this.declaredClass).warn("cannot set minDataValue when stops is not null."),C=null);this._set("minDataValue",C)}},{key:"minSize",set:function(C){C&&this.stops&&(d.getLogger(this.declaredClass).warn("cannot set minSize when stops is not null."),C=null);this._set("minSize",C)}},{key:"arcadeRequired",get:function(){return this.valueExpression?!0:null!=this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"===typeof this.maxSize&&
this.maxSize.arcadeRequired}},{key:"stops",set:function(C){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?C&&Array.isArray(C)&&(C=C.filter(D=>!!D),C.sort((D,J)=>D.value-J.value)):C&&(d.getLogger(this.declaredClass).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),C=null);this._set("stops",C)}},{key:"transformationType",get:function(){return v.getTransformationType(this,this.inputValueType)}}]);return E}(r);b.__decorate([t.property({readOnly:!0})],
A.prototype,"cache",null);b.__decorate([t.property({type:x.apiValues,json:{type:x.jsonValues,origins:{"web-map":{read:!1}},read:x.read,write:x.write}})],A.prototype,"axis",void 0);b.__decorate([t.property({type:String,value:null,json:{read:!1}})],A.prototype,"expression",null);b.__decorate([t.property()],A.prototype,"index",null);b.__decorate([t.property({type:String,readOnly:!0})],A.prototype,"inputValueType",null);b.__decorate([t.property({type:n,json:{write:!0}})],A.prototype,"legendOptions",void 0);
b.__decorate([t.property({type:Number,value:null,json:{write:!0}})],A.prototype,"maxDataValue",null);b.__decorate([t.property({type:Number,value:null,json:{write:!0}})],A.prototype,"maxSize",null);b.__decorate([m.cast("maxSize")],A.prototype,"castMaxSize",null);b.__decorate([f.reader("maxSize")],A.prototype,"readMaxSize",null);b.__decorate([t.property({type:Number,value:null,json:{write:!0}})],A.prototype,"minDataValue",null);b.__decorate([t.property({type:Number,value:null,json:{write:!0}})],A.prototype,
"minSize",null);b.__decorate([m.cast("minSize")],A.prototype,"castMinSize",null);b.__decorate([f.reader("minSize")],A.prototype,"readMinSize",null);b.__decorate([t.property({type:String,json:{write:!0}})],A.prototype,"normalizationField",void 0);b.__decorate([t.property({readOnly:!0})],A.prototype,"arcadeRequired",null);b.__decorate([t.property({type:String})],A.prototype,"scaleBy",void 0);b.__decorate([t.property({type:[p],value:null,json:{write:!0}})],A.prototype,"stops",null);b.__decorate([t.property({type:["outline"],
json:{write:!0}})],A.prototype,"target",void 0);b.__decorate([t.property({type:String,readOnly:!0})],A.prototype,"transformationType",null);b.__decorate([t.property({type:["size"],json:{type:["sizeInfo"]}})],A.prototype,"type",void 0);b.__decorate([t.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],A.prototype,"useSymbolValue",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],A.prototype,"valueExpression",void 0);b.__decorate([f.reader("valueExpression",["valueExpression",
"expression"])],A.prototype,"readValueExpression",null);b.__decorate([l.writer("web-scene","valueExpression")],A.prototype,"writeValueExpressionWebScene",null);b.__decorate([t.property({type:["radius","diameter","area","width","distance"],json:{write:!0}})],A.prototype,"valueRepresentation",void 0);b.__decorate([t.property({type:w.apiValues,json:{write:w.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],A.prototype,"valueUnit",void 0);b.__decorate([f.reader("valueUnit")],
A.prototype,"readValueUnit",null);return A=z=b.__decorate([g.subclass("esri.renderers.visualVariables.SizeVariable")],A)})},"esri/renderers/visualVariables/support/SizeStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,
b,c,e,d,k,t,m){var f;c=f=function(g){function l(r){r=g.call(this,r)||this;r.label=null;r.size=null;r.value=null;return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({label:this.label,size:this.size,value:this.value})};return l}(c.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],c.prototype,"size",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],
c.prototype,"value",void 0);return c=f=b.__decorate([m.subclass("esri.renderers.visualVariables.support.SizeStop")],c)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ./VisualVariableLegendOptions".split(" "),function(a,b,c,e,
d,k,t){var m;e=m=function(f){function g(){var l=f.apply(this,arguments)||this;l.customValues=null;return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})};return g}(t);b.__decorate([c.property({type:[Number],json:{write:!0}})],e.prototype,"customValues",void 0);return e=m=b.__decorate([k.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],e)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["exports"],
function(a){function b(c){return c.valueExpression?a.InputValueType.Expression:c.field&&"string"===typeof c.field?a.InputValueType.Field:a.InputValueType.Unknown}a.InputValueType=void 0;(function(c){c.Unknown="unknown";c.Expression="expression";c.Field="field"})(a.InputValueType||(a.InputValueType={}));a.TransformationType=void 0;(function(c){c.Unknown="unknown";c.Stops="stops";c.ClampedLinear="clamped-linear";c.Proportional="proportional";c.Additive="additive";c.Constant="constant";c.Identity="identity";
c.RealWorldSize="real-world-size"})(a.TransformationType||(a.TransformationType={}));a.getInputValueType=b;a.getTransformationType=function(c,e){return(e||b(c))===a.InputValueType.Unknown?a.TransformationType.Constant:c.stops?a.TransformationType.Stops:null!=c.minSize&&null!=c.maxSize&&null!=c.minDataValue&&null!=c.maxDataValue?a.TransformationType.ClampedLinear:"unknown"===(c.valueUnit||"unknown")?null!=c.minSize&&null!=c.minDataValue?c.minSize&&c.minDataValue?a.TransformationType.Proportional:a.TransformationType.Additive:
a.TransformationType.Identity:a.TransformationType.RealWorldSize};a.isSizeVariable=function(c){return c&&"esri.renderers.visualVariables.SizeVariable"===c.declaredClass};a.isValidNumber=function(c){return null!=c&&!isNaN(c)&&isFinite(c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../../core/maybe ../../support/lengthUtils ./sizeVariableUtils".split(" "),
function(a,b,c,e,d,k,t,m){function f(w,A,B){if(w="visualVariables"in w&&w.visualVariables?w.visualVariables.find(I=>"color"===I.type):w)if("esri.renderers.visualVariables.ColorVariable"!==w.declaredClass)u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");else{var E="number"===typeof A,y=E?null:A,C=y&&y.attributes,D=E?A:null,J=w.field,{ipData:M,hasExpression:L}=w.cache;A=w.cache.compiledFunc;if(!J&&!L)return(B=w.stops)&&B[0]&&B[0].color;if("number"!==
typeof D)if(L){if(k.isNone(B)||k.isNone(B.arcade)){u.error("Use of arcade expressions requires an arcade context");return}D=B.arcade.arcadeUtils;J=D.getViewInfo({viewingMode:B.viewingMode,scale:B.scale,spatialReference:B.spatialReference});y=D.createExecContext(y,J);A||(A=D.createSyntaxTree(w.valueExpression),A=D.createFunction(A),w.cache.compiledFunc=A);D=D.executeFunction(A,y)}else C&&(D=C[J]);y=w.normalizationField;C=null!=C&&null!=y?parseFloat(C[y]):void 0;if(null!=D&&(!y||E||!isNaN(C)&&0!==C)&&
(isNaN(C)||E||(D/=C),E=q(D,M)))return C=E[0],y=E[1],B=C===y?w.stops[C].color:b.blendColors(w.stops[C].color,w.stops[y].color,E[2],k.isSome(B)?B.color:void 0),new b(B)}}function g(w,A,B){if(w="visualVariables"in w&&w.visualVariables?w.visualVariables.find(I=>"opacity"===I.type):w)if("esri.renderers.visualVariables.OpacityVariable"!==w.declaredClass)u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");else{var E="number"===typeof A,y=E?null:A,C=y&&y.attributes,
D=E?A:null,J=w.field,{ipData:M,hasExpression:L}=w.cache;A=w.cache.compiledFunc;if(!J&&!L)return(w=w.stops)&&w[0]&&w[0].opacity;if("number"!==typeof D)if(L){if(k.isNone(B)||k.isNone(B.arcade)){u.error("Use of arcade expressions requires an arcade context");return}D=B.arcade.arcadeUtils;B=D.getViewInfo({viewingMode:B.viewingMode,scale:B.scale,spatialReference:B.spatialReference});B=D.createExecContext(y,B);A||(y=D.createSyntaxTree(w.valueExpression),A=D.createFunction(y),w.cache.compiledFunc=A);D=D.executeFunction(A,
B)}else C&&(D=C[J]);B=w.normalizationField;C=null!=C&&null!=B?parseFloat(C[B]):void 0;if(null!=D&&(!B||E||!isNaN(C)&&0!==C)&&(isNaN(C)||E||(D/=C),E=q(D,M))){B=E[0];C=E[1];if(B===C)return w.stops[B].opacity;B=w.stops[B].opacity;return B+(w.stops[C].opacity-B)*E[2]}}}function l(w,A,B){if(w="visualVariables"in w&&w.visualVariables?w.visualVariables.find(I=>"rotation"===I.type):w)if("esri.renderers.visualVariables.RotationVariable"!==w.declaredClass)u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");
else{var E=w.axis||"heading",y="heading"===E&&"arithmetic"===w.rotationType?90:0;E="heading"===E&&"arithmetic"===w.rotationType?-1:1;var C="number"===typeof A?null:A,D=C&&C.attributes,J=w.field,{hasExpression:M}=w.cache;A=w.cache.compiledFunc;var L=0;if(!J&&!M)return L;if(M){if(k.isNone(B)||k.isNone(B.arcade)){u.error("Use of arcade expressions requires an arcade context");return}D=B.arcade.arcadeUtils;B=D.getViewInfo({viewingMode:B.viewingMode,scale:B.scale,spatialReference:B.spatialReference});
B=D.createExecContext(C,B);A||(A=D.createSyntaxTree(w.valueExpression),A=D.createFunction(A),w.cache.compiledFunc=A);L=D.executeFunction(A,B)}else D&&(L=D[J]||0);return L="number"!==typeof L||isNaN(L)?null:y+E*L}}function r(w,A,B){const E="number"===typeof A;var y=E?null:A;const C=y&&y.attributes;var D=E?A:null;const {isScaleDriven:J}=w.cache;A=w.cache.compiledFunc;if(J)y=k.isSome(B)?B.scale:void 0,B=k.isSome(B)?B.view:void 0,null==y||"3d"===B?(y=B=null,(y=w.stops)?(B=y[0].value,y=y[y.length-1].value):
(B=w.minDataValue||0,y=w.maxDataValue||0),B=(B+y)/2):B=y,D=B;else if(!E)switch(w.inputValueType){case m.InputValueType.Expression:if(k.isNone(B)||k.isNone(B.arcade)){u.error("Use of arcade expressions requires an arcade context");return}D=B.arcade.arcadeUtils;B=D.getViewInfo({viewingMode:B.viewingMode,scale:B.scale,spatialReference:B.spatialReference});B=D.createExecContext(y,B);A||(y=D.createSyntaxTree(w.valueExpression),A=D.createFunction(y),w.cache.compiledFunc=A);D=D.executeFunction(A,B);break;
case m.InputValueType.Field:C&&(D=C[w.field]);break;case m.InputValueType.Unknown:D=null}if(!m.isValidNumber(D))return null;if(E||!w.normalizationField)return D;w=C?parseFloat(C[w.normalizationField]):null;return m.isValidNumber(w)&&0!==w?D/w:null}function p(w,A,B){if(w="visualVariables"in w&&w.visualVariables?w.visualVariables.find(y=>"size"===y.type):w)if("esri.renderers.visualVariables.SizeVariable"!==w.declaredClass)u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");
else{var E=r(w,A,B);A=h(E,w,A,B,w.cache.ipData);return null===A||void 0===A||isNaN(A)?0:A}}function n(w,A,B){return null==w?null:m.isSizeVariable(w)?p(w,A,B):m.isValidNumber(w)?w:null}function v(w,A,B){return m.isValidNumber(B)&&w>B?B:m.isValidNumber(A)&&w<A?A:w}function h(w,A,B,E,y){switch(A.transformationType){case m.TransformationType.Additive:return E=n(A.minSize,B,E),w+((E||A.minDataValue)??0);case m.TransformationType.Constant:return w=(w=A.stops)&&w.length&&w[0].size,null==w&&(w=A.minSize),
n(w,B,E);case m.TransformationType.ClampedLinear:y=(w-A.minDataValue)/(A.maxDataValue-A.minDataValue);var C=n(A.minSize,B,E);B=n(A.maxSize,B,E);E=k.isSome(E)?E.shape:void 0;w<=A.minDataValue?A=C:w>=A.maxDataValue?A=B:null==C||null==B?A=null:"area"===A.scaleBy&&E?(w=(A="circle"===E)?x*(C/2)**2:C*C,w+=y*((A?x*(B/2)**2:B*B)-w),A=A?2*Math.sqrt(w/x):Math.sqrt(w)):A=C+y*(B-C);return A;case m.TransformationType.Proportional:return y=k.isSome(E)?E.shape:void 0,w/=A.minDataValue,C=n(A.minSize,B,E),A=n(A.maxSize,
B,E),E=null,E="circle"===y?2*Math.sqrt(w*(C/2)**2):"square"===y||"diamond"===y||"image"===y?Math.sqrt(w*C**2):w*C,v(E,C,A);case m.TransformationType.Stops:{const [D,J,M]=q(w,y);D===J?A=n(A.stops?.[D].size,B,E):(w=n(A.stops?.[D].size,B,E),A=n(A.stops?.[J].size,B,E),A=w+(A-w)*M)}return A;case m.TransformationType.RealWorldSize:return y=(k.isSome(E)&&E.resolution?E.resolution:1)*t.meterIn[A.valueUnit],C=n(A.minSize,B,E),E=n(A.maxSize,B,E),{valueRepresentation:A}=A,B=null,B="area"===A?2*Math.sqrt(w/x)/
y:"radius"===A||"distance"===A?2*w/y:w/y,v(B,C,E);case m.TransformationType.Identity:return w;case m.TransformationType.Unknown:return null}}function q(w,A){if(A){var B=0,E=A.length-1;A.some((y,C)=>{if(w<y)return E=C,!0;B=C;return!1});return[B,E,(w-A[B])/(A[E]-A[B])]}}const u=d.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),z=new c,x=Math.PI;a.getAllSizes=function(w,A,B){const E=["proportional","proportional","proportional"];for(const y of w)switch(w=y.useSymbolValue?"symbol-value":
p(y,A,B),y.axis){case "width":E[0]=w;break;case "depth":E[1]=w;break;case "height":E[2]=w;break;case "width-and-depth":E[0]=w;E[1]=w;break;case "all":case void 0:case null:E[0]=w;E[1]=w;E[2]=w;break;default:e.neverReached(y.axis)}return E};a.getColor=f;a.getOpacity=g;a.getRotationAngle=l;a.getSize=p;a.getSizeForValue=h;a.getSizeFromNumberOrVariable=n;a.getSizeRangeAtScale=function(w,A,B){const {isScaleDriven:E}=w.cache;if(!(E&&"3d"===B||A))return null;B={scale:A,view:B};A=n(w.minSize,z,B);w=n(w.maxSize,
z,B);if(null!=A||null!=w)return A>w&&(B=w,w=A,A=B),{minSize:A,maxSize:w}};a.getVisualVariableValues=function(w,A,B){if(w.visualVariables){var E=[],y=[],C=[],D=[],J=[];for(const M of w.visualVariables)switch(M.type){case "color":y.push(M);break;case "opacity":C.push(M);break;case "rotation":J.push(M);break;case "size":D.push(M)}y.forEach(M=>{const L=f(M,A,B);E.push({variable:M,value:L})});C.forEach(M=>{const L=g(M,A,B);E.push({variable:M,value:L})});J.forEach(M=>{const L=l(M,A,B);E.push({variable:M,
value:L})});D.forEach(M=>{const L=p(M,A,B);E.push({variable:M,value:L})});return E.filter(M=>null!=M.value)}};a.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Graphic":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./geometry ./PopupTemplate ./symbols ./core/Clonable ./core/JSONSupport ./core/maybe ./core/uid ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/arrayUtils ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n){k=function(v){function h(...u){u=v.call(this,...u)||this;u.isAggregate=!1;u.layer=null;u.popupTemplate=null;u.sourceLayer=null;Object.defineProperty(a._assertThisInitialized(u),"uid",{value:f.generateUID(),configurable:!0});return u}a._inheritsLoose(h,v);var q=h.prototype;q.normalizeCtorArgs=function(u,z,x,w){return u&&!u.declaredClass?u:{geometry:u,symbol:z,attributes:x,popupTemplate:w}};q.getEffectivePopupTemplate=function(u=!1){if(this.popupTemplate)return this.popupTemplate;
for(const z of[this.sourceLayer,this.layer])if(z){if("popupTemplate"in z&&z.popupTemplate)return z.popupTemplate;if(u&&"defaultPopupTemplate"in z&&m.isSome(z.defaultPopupTemplate))return z.defaultPopupTemplate}return null};q.getAttribute=function(u){return this.attributes?.[u]};q.setAttribute=function(u,z){if(this.attributes){const x=this.getAttribute(u);this.attributes[u]=z;this._notifyLayer("attributes",x,z,u)}else this.attributes={[u]:z},this._notifyLayer("attributes",void 0,z,u)};q.getObjectId=
function(){return this.sourceLayer?"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};q.toJSON=function(){var u=this.aggregateGeometries;if(m.isSome(u)){var z={};for(const x in u){const w=u[x];w&&(z[x]=w.toJSON())}u=0!==Object.keys(z).length?z:null}else u=null;return{aggregateGeometries:u,geometry:m.isSome(this.geometry)?this.geometry.toJSON():null,symbol:m.isSome(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},
popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};q.notifyGeometryChanged=function(){this._notifyLayer("geometry",this.geometry,this.geometry)};q.notifyMeshTransformChanged=function(){m.isSome(this.geometry)&&"mesh"===this.geometry.type&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)};q._notifyLayer=function(u,z,x,w){this.layer&&"graphicChanged"in this.layer&&(z={graphic:this,property:u,oldValue:z,newValue:x},"attributes"===u&&(z.attributeName=w),this.layer.graphicChanged(z))};
a._createClass(h,[{key:"aggregateGeometries",set:function(u){const z=this._get("aggregateGeometries");JSON.stringify(z)!==JSON.stringify(u)&&this._set("aggregateGeometries",u)}},{key:"attributes",set:function(u){const z=this._get("attributes");z!==u&&(this._set("attributes",u),this._notifyLayer("attributes",z,u))}},{key:"geometry",set:function(u){const z=this._get("geometry");z!==u&&(this._set("geometry",u),this._notifyLayer("geometry",z,u))}},{key:"symbol",set:function(u){const z=this._get("symbol");
z!==u&&(this._set("symbol",u),this._notifyLayer("symbol",z,u))}},{key:"visible",set:function(u){const z=this._get("visible");z!==u&&(this._set("visible",u),this._notifyLayer("visible",z,u))}}]);return h}(k.ClonableMixin(t.JSONSupport));b.__decorate([g.property({value:null,json:{read:function(v){if(!v)return null;const h={};for(const q in v){const u=n.fromJSON(v[q]);u&&(h[q]=u)}return 0!==Object.keys(h).length?h:null}}})],k.prototype,"aggregateGeometries",null);b.__decorate([g.property({value:null})],
k.prototype,"attributes",null);b.__decorate([g.property({value:null,types:c.geometryTypes,json:{read:n.fromJSON}})],k.prototype,"geometry",null);b.__decorate([g.property({type:Boolean})],k.prototype,"isAggregate",void 0);b.__decorate([g.property({clonable:"reference"})],k.prototype,"layer",void 0);b.__decorate([g.property({type:e})],k.prototype,"popupTemplate",void 0);b.__decorate([g.property({clonable:"reference"})],k.prototype,"sourceLayer",void 0);b.__decorate([g.property({value:null,types:d.symbolTypes})],
k.prototype,"symbol",null);b.__decorate([g.property({type:Boolean,value:!0})],k.prototype,"visible",null);k=b.__decorate([p.subclass("esri.Graphic")],k);(k||(k={})).generateUID=f.generateUID;return k})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n){const v={color:l,size:n,opacity:r,rotation:p},h=new e.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),q=/^\[([^\]]+)\]$/i;c=function(u){function z(){var w=u.apply(this,arguments)||this;w.colorVariables=null;w.opacityVariables=null;w.rotationVariables=null;w.sizeVariables=null;return w}a._inheritsLoose(z,u);var x=z.prototype;x.readVariables=function(w,A,B){const {rotationExpression:E,rotationType:y}=A;if(A=(A=E&&
E.match(q))&&A[1])w||(w=[]),w.push({type:"rotationInfo",rotationType:y,field:A});if(w)return w.map(C=>{var D=h.read(C.type);const J=v[D];J||(d.getLogger(this.declaredClass).warn(`Unknown variable type: ${D}`),B&&B.messages&&B.messages.push(new k("visual-variable:unsupported",`visualVariable of type '${D}' is not supported`,{definition:C,context:B})));D=new J;D.read(C,B);return D})};x.writeVariables=function(w,A){const B=[];for(const E of w)(w=E.toJSON(A))&&B.push(w);return B};x._resetVariables=function(){this.colorVariables=
[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]};a._createClass(z,[{key:"visualVariables",set:function(w){this._resetVariables();if((w=w&&w.filter(B=>!!B))&&w.length){for(var A of w)switch(A.type){case "color":this.colorVariables.push(A);break;case "opacity":this.opacityVariables.push(A);break;case "rotation":this.rotationVariables.push(A);break;case "size":this.sizeVariables.push(A)}this.sizeVariables.length&&this.sizeVariables.some(B=>!!B.target)&&w.sort((B,E)=>{let y=
null;return y=B.target===E.target?0:B.target?1:-1});for(A=0;A<w.length;A++)w[A].index=A}this._set("visualVariables",w)}}]);return z}(c);b.__decorate([t.property()],c.prototype,"visualVariables",null);return c=b.__decorate([g.subclass("esri.renderers.visualVariables.VisualVariableFactory")],c)})},"esri/renderers/support/ClassBreakInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),
function(a,b,c,e,d,k,t,m){var f;c=f=function(g){function l(p){p=g.call(this,p)||this;p.description=null;p.label=null;p.minValue=null;p.maxValue=0;p.symbol=null;return p}a._inheritsLoose(l,g);var r=l.prototype;r.clone=function(){return new f({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})};r.getMeshHash=function(){const p=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${p}`};return l}(c.JSONSupport);
b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([e.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],c.prototype,"minValue",void 0);b.__decorate([e.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],c.prototype,"maxValue",void 0);b.__decorate([e.property(m.rendererSymbolProperty)],
c.prototype,"symbol",void 0);return c=f=b.__decorate([t.subclass("esri.renderers.support.ClassBreakInfo")],c)})},"esri/renderers/support/commonProperties":function(){define("exports ../../symbols ../../core/accessorSupport/extensions/serializableProperty/reader ../../symbols/support/jsonUtils ../../symbols/Symbol ../../symbols/PolygonSymbol3D".split(" "),function(a,b,c,e,d,k){c={types:b.symbolTypesRenderer,json:{write:{writer:e.write},origins:{"web-scene":{types:b.symbolTypesRenderer3D,write:{writer:e.write},
read:{reader:c.createTypeReader({types:b.symbolTypesRenderer3D})}}}}};const t={cast:m=>null==m||"string"===typeof m||"number"===typeof m?m:`${m}`,json:{type:String,write:{writer:(m,f)=>{f.value=m?.toString()}}}};a.rendererBackgroundFillSymbolProperty={types:{base:d,key:"type",typeMap:{"simple-fill":b.symbolTypes.typeMap["simple-fill"],"picture-fill":b.symbolTypes.typeMap["picture-fill"],"polygon-3d":b.symbolTypes.typeMap["polygon-3d"]}},json:{write:{writer:e.write},origins:{"web-scene":{type:k,write:{writer:e.write}}}}};
a.rendererSymbolProperty=c;a.uniqueValueProperty=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/jsonUtils":function(){define("exports ../../symbols ../../core/Error ../../core/maybe ../../layers/support/layerUtils ../Symbol3D ./symbolConversion ../WebStyleSymbol".split(" "),function(a,b,c,e,d,k,t,m){function f(g,l,r){if(e.isNone(g))return null;const {context:p,isLabelSymbol:n}=r;var v=p?.origin;r=p?.messages;if("web-scene"===v&&!(g instanceof k||g instanceof
m)){v=t.to3D(g,{retainCIM:!0,hasLabelingContext:n});if(e.isSome(v.symbol))return v.symbol.write(l,p);r?.push(new c("symbol:unsupported",`Symbols of type '${g.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:g,context:p,error:v.error}));return null}return("web-map"===v||"portal-item"===v&&!d.isSceneServiceLayer(p?.layer))&&(g instanceof k||g instanceof m)?(r?.push(new c("symbol:unsupported",`Symbols of type '${g.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,
{symbol:g,context:p})),null):g.write(l,p)}a.fromJSON=function(g,l){return b.readSymbol(g,null,l)};a.write=function(g,l,r,p){g=f(g,{},{context:p,isLabelSymbol:!1});e.isSome(g)&&(l[r]=g)};a.writeLabelSymbol=function(g,l,r,p){g=f(g,{},{context:p,isLabelSymbol:!0});e.isSome(g)&&(l[r]=g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolConversion":function(){define("exports ../../symbols ../../core/Error ../WebStyleSymbol ../PointSymbol3D ../SimpleLineSymbol ../LineSymbol3D ../SimpleMarkerSymbol ../PictureMarkerSymbol ../SimpleFillSymbol ../MeshSymbol3D ../PolygonSymbol3D ../TextSymbol ../LabelSymbol3D".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n){const v={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};a.defaultTo3DOptions=v;a.to3D=function(h,q=v){if(!h)return{symbol:null};const {retainId:u=v.retainId,ignoreDrivers:z=v.ignoreDrivers,hasLabelingContext:x=v.hasLabelingContext,retainCIM:w=v.retainCIM}=q;var A=null;if(b.isSymbol3D(h)||h instanceof e)A=h.clone();else if("cim"===h.type){A=h.data?.symbol?.type;if("CIMPointSymbol"!==A)return{error:new c("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${A||
"unknown"}' is unsupported in 3D`,{symbol:h})};A=w?h.clone():d.fromCIMSymbol(h)}else if(h instanceof k)A=t.fromSimpleLineSymbol(h);else if(h instanceof m)A=d.fromSimpleMarkerSymbol(h);else if(h instanceof f)A=d.fromPictureMarkerSymbol(h);else if(h instanceof g)A=q.geometryType&&"mesh"===q.geometryType?l.fromSimpleFillSymbol(h):r.fromSimpleFillSymbol(h);else if(h instanceof p)A=x?n.fromTextSymbol(h):d.fromTextSymbol(h);else return{error:new c("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${h.type||
h.declaredClass}' is unsupported in 3D`,{symbol:h})};u&&A&&"cim"!==A.type&&(A.id=h.id);if(z&&b.isSymbol3D(A))for(h=0;h<A.symbolLayers.length;++h)A.symbolLayers.getItemAt(h)._ignoreDrivers=!0;return{symbol:A}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/DictionaryRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/DictionaryLoader".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l){var r;d=r=function(p){function n(h){h=p.call(this,h)||this;h.config=null;h.fieldMap=null;h.scaleExpression=null;h.scaleExpressionTitle=null;h.url=null;h.type="dictionary";return h}a._inheritsLoose(n,p);var v=n.prototype;v.writeData=function(h,q){h&&(q.scalingExpressionInfo={expression:h,returnType:"number"})};v.writeVisualVariables=function(h,q,u,z){z?.origin||p.prototype.writeVisualVariables.call(this,h,q,u,z)};v.clone=function(){return new r({config:c.clone(this.config),
scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:c.clone(this.fieldMap),url:c.clone(this.url),visualVariables:c.clone(this.visualVariables)})};v.getSymbolAsync=function(){var h=a._asyncToGenerator(function*(q,u){return this._loader.getSymbolAsync(q,u)});return function(q,u){return h.apply(this,arguments)}}();v.collectRequiredFields=function(){var h=a._asyncToGenerator(function*(q,u){yield this.collectVVRequiredFields(q,u);this.scaleExpression&&(yield m.collectArcadeFieldNames(q,
u,this.scaleExpression));for(const z in this.fieldMap){const x=this.fieldMap[z];u.has(x)&&q.add(x)}});return function(q,u){return h.apply(this,arguments)}}();v.getSymbol=function(){return null};v.getSymbols=function(){return[]};v.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((h,q)=>h+q.getAttributeHash(),"")};v.getMeshHash=function(){return`${this.url}-${JSON.stringify(this.fieldMap)}`};v.getSymbolFields=function(){return this._loader.getSymbolFields()};a._createClass(n,
[{key:"_loader",get:function(){return new l.DictionaryLoader(this.url,this.config,this.fieldMap)}},{key:"arcadeRequired",get:function(){return!0}}]);return n}(g.VisualVariablesMixin(f));b.__decorate([e.property({type:l.DictionaryLoader})],d.prototype,"_loader",null);b.__decorate([e.property({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],d.prototype,"config",void 0);b.__decorate([e.property({type:Object,json:{write:!0}})],d.prototype,"fieldMap",void 0);b.__decorate([e.property({type:String,
json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],d.prototype,"scaleExpression",void 0);b.__decorate([t.writer("scaleExpression")],d.prototype,"writeData",null);b.__decorate([e.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(p){return{enabled:!!p&&!!this.scaleExpression}}}}})],d.prototype,"scaleExpressionTitle",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"url",void 0);
b.__decorate([t.writer("visualVariables")],d.prototype,"writeVisualVariables",null);return d=r=b.__decorate([k.subclass("esri.renderers.DictionaryRenderer")],d)})},"esri/renderers/support/DictionaryLoader":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../Color ../../request ../../core/Error ../../core/Logger ../../core/LRUCache ../../core/maybe ../../core/promiseUtils ../../core/string ../../support/arcadeOnDemand ../../symbols/CIMSymbol".split(" "),function(a,b,c,e,d,k,t,m,
f,g,l,r){function p(h,q){if(h&&(h=h.symbolLayers))for(var u=h.length;u--;){var z=h[u];if(z&&!1!==z.enable)switch(z.type){case "CIMVectorMarker":var x=q;if(z=z.markerGraphics)for(const w of z)if(w&&(z=w.symbol))switch(z.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":p(z,x);break;case "CIMTextSymbol":z.fieldMap=x}}}}const n={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let v=function(){function h(u,
z,x){this.url=this.fieldMap=this.config=null;this._ongoingRequests=new Map;this._symbolCache=new t(100);this._dictionaryPromise=null;this.url=u;this.config=z;this.fieldMap=x}var q=h.prototype;q.getSymbolFields=function(){return this._symbolFields};q.getSymbolAsync=function(){var u=b._asyncToGenerator(function*(z,x){this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(x));try{var w=yield this._dictionaryPromise}catch(D){if(f.isAbortError(D))return this._dictionaryPromise=null}var A=
{};if(this.fieldMap)for(var B of this._symbolFields){var E=this.fieldMap[B];A[B]=E&&null!=z.attributes[E]?""+z.attributes[E]:""}w=w?.(A,x);if(!w||"string"!==typeof w)return null;const y=g.numericHash(w).toString();if(A=this._symbolCache.get(y))return A.catch(()=>{this._symbolCache.pop(y)}),A;B=w.split(";");w=[];A=[];for(const D of B)if(D)if(D.includes("po:")){var C=D.substr(3).split("|");3===C.length&&(B=C[0],E=C[1],C=C[2],"DashTemplate"===E?C=C.split(" ").map(J=>Number(J)):"Color"===E?(C=(new c(C)).toRgba(),
C=[C[0],C[1],C[2],255*C[3]]):C=Number(C),A.push({primitiveName:B,propertyName:E,value:C}))}else if(D.includes("|"))for(const J of D.split("|")){if(this._itemNames.has(J)){w.push(J);break}}else this._itemNames.has(D)&&w.push(D);z=m.isSome(z.geometry)&&(z.geometry.hasZ||"point"!==z.geometry.type)?!1:!0;x=this._cimPartsToCIMSymbol(w,A,z,x);this._symbolCache.put(y,x,1);return x});return function(z,x){return u.apply(this,arguments)}}();q.fetchResources=function(){var u=b._asyncToGenerator(function*(z){if(this._dictionaryPromise)return this._dictionaryPromise;
if(this.url){var x=e(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:m.isSome(z)?z.signal:null}),[{data:w}]=yield Promise.all([x,l.loadArcade()]);if(!w)throw this._dictionaryPromise=null,new d("esri.renderers.DictionaryRenderer","Bad dictionary data!");x=w.expression;var A=w.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+w.cimRefTemplateUrl;this._itemNames=new Set(w.itemsNames);this._symbolFields=A.symbol;w={};if(this.config){const y=this.config;
for(var B in y)w[B]=y[B]}if(A.configuration)for(var E of A.configuration)w.hasOwnProperty(E.name)||(w[E.name]=E.value);B=[];if(m.isSome(z)&&z.fields&&this.fieldMap)for(const y of this._symbolFields){const C=this.fieldMap[y];E=z.fields.filter(D=>D.name===C);0<E.length&&B.push({...E[0],name:y})}return this._dictionaryPromise=z=l.createDictionaryExpression(x,m.isSome(z)?z.spatialReference:null,B,w).then(y=>{const C={scale:0};return(D,J)=>{if(m.isNone(y))return null;D=y.repurposeFeature({geometry:null,
attributes:D});C.scale=m.isSome(J)?J.scale??void 0:void 0;return y.evaluate({$feature:D,$view:C})}}).catch(y=>{k.getLogger("esri.renderers.support.DictionaryLoader").error("Creating dictinoary expression failed:",y);return null})}k.getLogger("esri.renderers.support.DictionaryLoader").error("no valid URL!")});return function(z){return u.apply(this,arguments)}}();q._cimPartsToCIMSymbol=function(){var u=b._asyncToGenerator(function*(z,x,w,A){const B=Array(z.length);for(let E=0;E<z.length;E++)B[E]=this._getSymbolPart(z[E],
A);z=yield Promise.all(B);if(A=this.fieldMap)for(const E of z)p(E,A);return new r({data:this._combineSymbolParts(z,x,w)})});return function(z,x,w,A){return u.apply(this,arguments)}}();q._getSymbolPart=function(){var u=b._asyncToGenerator(function*(z,x){if(this._ongoingRequests.has(z))return this._ongoingRequests.get(z).then(A=>A.data);const w=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,z);x=e(w,{responseType:"json",query:{f:"json"},...x});this._ongoingRequests.set(z,x);try{return(yield x).data}catch(A){throw this._ongoingRequests.delete(z),
A;}});return function(z,x){return u.apply(this,arguments)}}();q._combineSymbolParts=function(u,z,x){if(!u||0===u.length)return null;const w={...u[0]};if(1<u.length){w.symbolLayers=[];for(const A of u)w.symbolLayers.unshift(...A.symbolLayers)}x&&(w.callout=n);return{type:"CIMSymbolReference",symbol:w,primitiveOverrides:z}};return h}();a.DictionaryLoader=v;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/LRUCache":function(){define(["../chunks/_rollupPluginBabelHelpers","./MemCache"],
function(a,b){return function(){function c(d,k){this._storage=new b.MemCacheStorage;this._storage.maxSize=d;k&&this._storage.registerRemoveFunc("",k)}var e=c.prototype;e.put=function(d,k,t){this._storage.put(d,k,t,1)};e.pop=function(d){return this._storage.pop(d)};e.get=function(d){return this._storage.get(d)};e.clear=function(){this._storage.clearAll()};e.destroy=function(){this._storage.destroy()};a._createClass(c,[{key:"maxSize",get:function(){return this._storage.maxSize},set:function(d){this._storage.maxSize=
d}}]);return c}()})},"esri/core/MemCache":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./maybe","./PooledArray"],function(a,b,c,e){a.RemoveMode=void 0;(function(t){t[t.ALL=0]="ALL";t[t.SOME=1]="SOME"})(a.RemoveMode||(a.RemoveMode={}));let d=function(){function t(f,g,l){this._namespace=f;this._storage=g;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);this._namespace+=":";l&&(this._storage.registerRemoveFunc(this._namespace,l),this._removeFunc=!0)}var m=
t.prototype;m.destroy=function(){this._storage.clear(this._namespace);this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);this._storage.deregister(this);this._storage=null};m.resetHitRate=function(){this._hit=this._miss=0};m.put=function(f,g,l,r=0){this._storage.put(this._namespace+f,g,l,r)};m.get=function(f){f=this._storage.get(this._namespace+f);void 0===f?++this._miss:++this._hit;return f};m.pop=function(f){f=this._storage.pop(this._namespace+f);void 0===f?++this._miss:++this._hit;
return f};m.updateSize=function(f,g,l){this._storage.updateSize(this._namespace+f,g,l)};m.clear=function(){this._storage.clear(this._namespace)};m.clearAll=function(){this._storage.clearAll()};m.getStats=function(){return this._storage.getStats()};m.resetStats=function(){this._storage.resetStats()};b._createClass(t,[{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},
{key:"maxSize",get:function(){return this._storage.maxSize}}]);return t}(),k=function(){function t(f=10485760){this._maxSize=f;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new e;this._users=new e}var m=t.prototype;m.destroy=function(){this.clearAll();this._removeFuncs.clear();this._users.clear();this._db=null};m.register=function(f){this._users.push(f)};m.deregister=function(f){this._users.removeUnordered(f)};m.registerRemoveFunc=function(f,g){this._removeFuncs.push([f,g])};
m.deregisterRemoveFunc=function(f){this._removeFuncs.filterInPlace(g=>g[0]!==f)};m.put=function(f,g,l,r){const p=this._db.get(f);p&&(this._size-=p.size,this._db.delete(f),p.entry!==g&&this._notifyRemove(f,p.entry,a.RemoveMode.ALL));l>this._maxSize?this._notifyRemove(f,g,a.RemoveMode.ALL):void 0===g?console.warn("Refusing to cache undefined entry "):!l||0>l?console.warn("Refusing to cache entry with invalid size "+l):(r=1+Math.max(r,-3)- -3,this._db.set(f,{entry:g,size:l,lifetime:r,lives:r}),this._size+=
l,this._checkSizeLimit())};m.updateSize=function(f,g,l){const r=this._db.get(f);if(r&&r.entry===g){for(this._size-=r.size;l>this._maxSize;)if(l=this._notifyRemove(f,g,a.RemoveMode.SOME),!(c.isSome(l)&&0<l)){this._db.delete(f);return}r.size=l;this._size+=l;this._checkSizeLimit()}};m.pop=function(f){const g=this._db.get(f);if(g)return this._size-=g.size,this._db.delete(f),++this._hit,g.entry;++this._miss};m.get=function(f){const g=this._db.get(f);if(void 0===g)++this._miss;else return this._db.delete(f),
g.lives=g.lifetime,this._db.set(f,g),++this._hit,g.entry};m.getStats=function(){const f={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},g={},l=[];this._db.forEach((n,v)=>{const h=n.lifetime;l[h]=(l[h]||0)+n.size;this._users.forAll(q=>{q=q.namespace;v.startsWith(q)&&(g[q]=(g[q]||0)+n.size)})});const r={};this._users.forAll(n=>{const v=n.namespace;!isNaN(n.hitRate)&&0<n.hitRate?(g[v]=
g[v]||0,r[v]=Math.round(100*n.hitRate)+"%"):r[v]="0%"});var p=Object.keys(g);p.sort((n,v)=>g[v]-g[n]);p.forEach(n=>f[n]=Math.round(g[n]/2**20)+"MB / "+r[n]);for(p=l.length-1;0<=p;--p){const n=l[p];n&&(f["Priority "+(p+-3-1)]=Math.round(n/this.size*100)+"%")}return f};m.resetStats=function(){this._hit=this._miss=0;this._users.forAll(f=>f.resetHitRate())};m.clear=function(f){this._db.forEach((g,l)=>{l.startsWith(f)&&(this._size-=g.size,this._db.delete(l),this._notifyRemove(l,g.entry,a.RemoveMode.ALL))})};
m.clearAll=function(){this._db.forEach((f,g)=>this._notifyRemove(g,f.entry,a.RemoveMode.ALL));this._size=0;this._db.clear()};m._getHitRate=function(){return this._hit/(this._hit+this._miss)};m._notifyRemove=function(f,g,l){let r;this._removeFuncs.some(p=>f.startsWith(p[0])?(p=p[1](g,l),"number"===typeof p&&(r=p),!0):!1);return r};m._checkSizeLimit=function(){if(!(this._size<=this._maxSize))for(const [f,g]of this._db){this._db.delete(f);if(1>=g.lives){this._size-=g.size;const l=this._notifyRemove(f,
g.entry,a.RemoveMode.SOME);c.isSome(l)&&0<l&&(this._size+=l,g.lives=g.lifetime,g.size=l,this._db.set(f,g))}else--g.lives,this._db.set(f,g);if(this._size<=.9*this.maxSize)break}};b._createClass(t,[{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(f){this._maxSize=Math.max(f,0);this._checkSizeLimit()}}]);return t}();a.MIN_PRIORITY=-3;a.MemCache=d;a.MemCacheStorage=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/DotDensityRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v){var h;k=h=function(q){function u(x){x=q.call(this,x)||this;x.attributes=null;x.backgroundColor=new c([0,0,0,0]);x.dotBlendingEnabled=!0;x.dotShape="square";x.dotSize=1;x.legendOptions=null;x.outline=new v;x.dotValue=null;x.referenceScale=null;x.seed=1;x.type="dot-density";return x}a._inheritsLoose(u,q);var z=u.prototype;z.calculateDotValue=function(x){if(null==this.referenceScale)return this.dotValue;x=x/this.referenceScale*this.dotValue;return 1>x?1:x};z.getSymbol=
function(){return new n({outline:this.outline})};z.getSymbolAsync=function(){var x=a._asyncToGenerator(function*(){return this.getSymbol()});return function(){return x.apply(this,arguments)}}();z.getSymbols=function(){return[this.getSymbol()]};z.getAttributeHash=function(){return this.attributes?.reduce((x,w)=>x+w.getAttributeHash(),"")??""};z.getMeshHash=function(){return JSON.stringify(this.outline)};z.clone=function(){return new h({attributes:e.clone(this.attributes),backgroundColor:e.clone(this.backgroundColor),
dotBlendingEnabled:e.clone(this.dotBlendingEnabled),dotShape:e.clone(this.dotShape),dotSize:e.clone(this.dotSize),dotValue:e.clone(this.dotValue),legendOptions:e.clone(this.legendOptions),outline:e.clone(this.outline),referenceScale:e.clone(this.referenceScale),visualVariables:e.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};z.getControllerHash=function(){const x=this.attributes?.map(A=>A.field||A.valueExpression||""),w=this.outline&&JSON.stringify(this.outline.toJSON())||
"";return`${x}-${w}`};z.collectRequiredFields=function(){var x=a._asyncToGenerator(function*(w,A){yield this.collectVVRequiredFields(w,A);for(const B of this.attributes??[])B.valueExpression&&(yield f.collectArcadeFieldNames(w,A,B.valueExpression)),B.field&&w.add(B.field)});return function(w,A){return x.apply(this,arguments)}}();return u}(l.VisualVariablesMixin(g));b.__decorate([d.property({type:[r],json:{write:!0}})],k.prototype,"attributes",void 0);b.__decorate([d.property({type:c,json:{write:!0}})],
k.prototype,"backgroundColor",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],k.prototype,"dotBlendingEnabled",void 0);b.__decorate([d.property({type:String,json:{write:!1}})],k.prototype,"dotShape",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],k.prototype,"dotSize",void 0);b.__decorate([d.property({type:p,json:{write:!0}})],k.prototype,"legendOptions",void 0);b.__decorate([d.property({type:v,json:{default:null,write:!0}})],k.prototype,"outline",void 0);b.__decorate([d.property({type:Number,
json:{write:!0}})],k.prototype,"dotValue",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],k.prototype,"referenceScale",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],k.prototype,"seed",void 0);b.__decorate([t.enumeration({dotDensity:"dot-density"})],k.prototype,"type",void 0);return k=h=b.__decorate([m.subclass("esri.renderers.DotDensityRenderer")],k)})},"esri/renderers/support/AttributeColorInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType".split(" "),
function(a,b,c,e,d,k,t,m,f,g){var l;e=l=function(r){function p(v){v=r.call(this,v)||this;v.color=null;v.field=null;v.label=null;v.valueExpression=null;v.valueExpressionTitle=null;return v}a._inheritsLoose(p,r);var n=p.prototype;n.castField=function(v){return null==v?v:"function"===typeof v?(d.getLogger(this.declaredClass).error(".field: field must be a string value"),null):g.ensureString(v)};n.getAttributeHash=function(){return`${this.field}-${this.valueExpression}`};n.clone=function(){return new l({color:this.color&&
this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})};return p}(e.JSONSupport);b.__decorate([k.property({type:c,json:{type:[Number],write:!0}})],e.prototype,"color",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([t.cast("field")],e.prototype,"castField",null);b.__decorate([k.property({type:String,json:{write:!0}})],e.prototype,"label",void 0);b.__decorate([k.property({type:String,
json:{write:!0}})],e.prototype,"valueExpression",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],e.prototype,"valueExpressionTitle",void 0);return e=l=b.__decorate([f.subclass("esri.renderers.support.AttributeColorInfo")],e)})},"esri/renderers/support/DotDensityLegendOptions":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){var m;c=m=function(f){function g(){var l=f.apply(this,arguments)||this;l.unit=null;return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({unit:this.unit})};return g}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"unit",void 0);return c=m=b.__decorate([t.subclass("esri.renderers.support.DotDensityLegendOptions")],c)})},"esri/renderers/HeatmapRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../symbols ../core/deprecate ../core/lang ../core/Logger ../core/scheduling ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/utils ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./support/AuthoringInfo ./support/HeatmapColorStop ./support/HeatmapLegendOptions ./support/heatmapUtils ../symbols/SimpleMarkerSymbol".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w){function A(y){if(null!=y){const {maxDensity:C,minDensity:D,radius:J}=y;if(null!=C||null!=D||null!=J){const {blurRadius:M,maxPixelIntensity:L,minPixelIntensity:I,...G}=y;return G}}return y}var B;const E=t.getLogger("esri.renderers.HeatmapRenderer");e=B=function(y){function C(J){J=y.call(this,J)||this;J.authoringInfo=null;J.colorStops=[new u({ratio:0,color:new c("rgba(255, 140, 0, 0)")}),new u({ratio:.75,color:new c("rgba(255, 140, 0, 1)")}),new u({ratio:.9,
color:new c("rgba(255, 0,   0, 1)")})];J.field=null;J.fieldOffset=0;J.legendOptions=null;J.maxDensity=.04;J.minDensity=0;J.radius=18;J.referenceScale=0;J.type="heatmap";J.valueExpression=null;J.valueExpressionTitle=null;J._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1};return J}a._inheritsLoose(C,y);var D=C.prototype;D.normalizeCtorArgs=function(J){return A(J)};D._warnAboutDeprecatedGaussianBlurProp=function(J,M){this._warnedProps[J]||"user"!==r.getProperties(this).getDefaultOrigin()||
(this._warnedProps[J]=!0,m.schedule(()=>{d.deprecatedProperty(E,J,{replacement:`${String(M)} (suggested value: ${this._get(M)})`,version:"4.24"})}))};D.read=function(J,M){J=A(J);y.prototype.read.call(this,J,M)};D.getSymbol=function(){return new w};D.getSymbolAsync=function(){var J=a._asyncToGenerator(function*(){return this.getSymbol()});return function(){return J.apply(this,arguments)}}();D.getSymbols=function(){return[this.getSymbol()]};D.collectRequiredFields=function(){var J=a._asyncToGenerator(function*(M,
L){const I=this.field,G=this.valueExpression;I&&"string"===typeof I&&(yield v.collectField(M,L,I));G&&"string"===typeof G&&(yield v.collectArcadeFieldNames(M,L,G))});return function(M,L){return J.apply(this,arguments)}}();D.getAttributeHash=function(){return null};D.getMeshHash=function(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`};D.clone=function(){return new B({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:k.clone(this.colorStops),field:this.field,
legendOptions:k.clone(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})};a._createClass(C,[{key:"blurRadius",get:function(){return x.kernelDensityRadiusPtToGaussianBlurRadiusPx(this.radius)},set:function(J){const M=this.maxPixelIntensity,L=this.minPixelIntensity;this._set("radius",x.gaussianBlurRadiusPxToKernelDensityRadiusPt(J));this._warnAboutDeprecatedGaussianBlurProp("blurRadius",
"radius");this._set("maxDensity",M*this._pixelIntensityToDensity);this._set("minDensity",L*this._pixelIntensityToDensity)}},{key:"maxPixelIntensity",get:function(){return this.maxDensity/this._pixelIntensityToDensity},set:function(J){this._set("maxDensity",J*this._pixelIntensityToDensity);this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}},{key:"minPixelIntensity",get:function(){return this.minDensity/this._pixelIntensityToDensity},set:function(J){this._set("minDensity",
J*this._pixelIntensityToDensity);this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}},{key:"_pixelIntensityToDensity",get:function(){return 24/(x.MAGIC_KERNEL_DENSITY_RADIUS_INFLATION_FACTOR**2*this.blurRadius**4)}}]);return C}(h);b.__decorate([g.property({type:q,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],e.prototype,"authoringInfo",void 0);b.__decorate([g.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],e.prototype,
"blurRadius",null);b.__decorate([g.property({type:[u],json:{write:!0}})],e.prototype,"colorStops",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([g.property({type:Number,json:{write:{overridePolicy:(y,C,D)=>({enabled:null==D})},origins:{"web-scene":{write:!1}}}})],e.prototype,"fieldOffset",void 0);b.__decorate([g.property({type:z.HeatmapLegendOptions,json:{write:!0}})],e.prototype,"legendOptions",void 0);b.__decorate([g.property({type:Number,
json:{write:!0}})],e.prototype,"maxDensity",void 0);b.__decorate([g.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],e.prototype,"maxPixelIntensity",null);b.__decorate([g.property({type:Number,json:{write:!0}})],e.prototype,"minDensity",void 0);b.__decorate([g.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],e.prototype,"minPixelIntensity",null);b.__decorate([g.property({type:Number,cast:f.toPt,json:{write:!0}})],e.prototype,
"radius",void 0);b.__decorate([g.property({type:Number,range:{min:0},json:{default:0,write:!0}})],e.prototype,"referenceScale",void 0);b.__decorate([p.enumeration({heatmap:"heatmap"})],e.prototype,"type",void 0);b.__decorate([g.property({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],e.prototype,"valueExpression",void 0);b.__decorate([g.property({type:String})],e.prototype,"valueExpressionTitle",void 0);b.__decorate([g.property({readOnly:!0})],e.prototype,
"_pixelIntensityToDensity",null);return e=B=b.__decorate([n.subclass("esri.renderers.HeatmapRenderer")],e)})},"esri/renderers/support/HeatmapColorStop":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t,m){var f;e=f=function(g){function l(r){r=g.call(this,
r)||this;r.color=null;r.ratio=null;return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({color:this.color,ratio:this.ratio})};return l}(e.JSONSupport);b.__decorate([d.property({type:c,json:{type:[k.Integer],default:null,write:!0}})],e.prototype,"color",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],e.prototype,"ratio",void 0);return e=f=b.__decorate([m.subclass("esri.renderers.support.HeatmapColorStop")],e)})},"esri/renderers/support/HeatmapLegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f){a.HeatmapLegendOptions=function(g){function l(){var r=g.apply(this,arguments)||this;r.minLabel=null;r.maxLabel=null;r.title=null;return r}b._inheritsLoose(l,g);return l}(e.ClonableMixin(d.JSONSupport));c.__decorate([k.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"minLabel",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"maxLabel",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],
a.HeatmapLegendOptions.prototype,"title",void 0);a.HeatmapLegendOptions=c.__decorate([f.subclass("esri.renderers.support.HeatmapLegendOptions")],a.HeatmapLegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/heatmapUtils":function(){define(["exports","../../core/mathUtils","../../core/screenUtils","../../chunks/vec4","../../chunks/vec4f64"],function(a,b,c,e,d){function k(g,l,r,p){let {color:n,ratio:v}=l,{color:h,ratio:q}=r;q===v&&(1===q?v-=1E-6:q+=
1E-6);l=b.clamp((p-v)/(q-v),0,1);e.lerp(g,n.toArray(),h.toArray(),l)}function t(g,l,r,p,n){g=new Uint32Array(g*g);l="buffer"in l?l:new Float64Array(l);r="buffer"in r?new Uint32Array(r.buffer):new Uint32Array((new Uint8Array(r)).buffer);n=r.length/(n-p);for(let v=0;v<l.length;v++)g[v]=r[b.clamp(Math.floor((l[v]-p)*n),0,r.length-1)];return g.buffer}function m(g,l,r){g=Math.sqrt(g**2+l**2)/r;return 1<g?0:3/(Math.PI*r**2)*(1-g**2)**2}function f(g,l){return null!=g?"string"===typeof l?r=>-1*+r.readAttribute(g):
r=>+r.readAttribute(g)+l:r=>1}a.MAGIC_KERNEL_DENSITY_RADIUS_INFLATION_FACTOR=2.4;a.calculateHeatmapIntensityInfoReaders=function(g,l,r,p){const {radius:n,fieldOffset:v,field:h}=l;l=Math.round(c.pt2px(n));const q=new Float64Array(r*p);let u=Number.NEGATIVE_INFINITY;const z=f(h,v),x=new Set;for(const E of g)for(g=E.getCursor();g.next();){var w=g.getObjectId();if(x.has(w))continue;x.add(w);w=g.readLegacyPointGeometry();if(-128>w.x||w.x>=r+128||-128>w.y||w.y>p+128)continue;const y=+z(g),C=Math.max(0,
Math.round(w.x)-l);var A=Math.max(0,Math.round(w.y)-l);const D=Math.min(p,Math.round(w.y)+l),J=Math.min(r,Math.round(w.x)+l);for(;A<D;A++)for(let M=C;M<J;M++){var B=A*r+M;const L=m(w.x-M,w.y-A,l);B=q[B]+=L*y;B>u&&(u=B)}}return{matrix:q.buffer,max:u}};a.createHeatmapImageData=t;a.createValueFunction=function(g,l){return"function"===typeof g?g:g?"string"===typeof l?r=>-1*+r[g]:r=>+r[g]+l:()=>1};a.createValueFunctionCursor=f;a.drawHeatmap=function(g,l,r,p,n,v){g.canvas.width=g.canvas.height=l;g.clearRect(0,
0,l,l);const h=g.getImageData(0,0,l,l);r&&p&&h.data.set(new Uint8ClampedArray(t(l,r,p,n,v)));g.putImageData(h,0,0)};a.evaluateDensityKernel=m;a.gaussianBlurRadiusPxToKernelDensityRadiusPt=function(g){return c.px2pt(2.4*g)};a.generateGradient=function(g){const l=new Uint8ClampedArray(2048);g=g.filter(({ratio:h})=>0<=h&&1>=h).sort((h,q)=>h.ratio-q.ratio).map(({color:h,ratio:q})=>({color:h,ratio:Math.max(q,.001)}));if(1>g.length)return l;let r=g[0],p=g[0],n=1;const v=d.create();for(let h=0;512>h;h++){const q=
(h+.5)/512;for(;q>p.ratio&&n<g.length;)r=p,p=g[n++];k(v,r,p,q);l.set(v,4*h)}return l};a.kernelDensityRadiusPtToGaussianBlurRadiusPx=function(g){return c.pt2px(g)/2.4};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec4f64":function(){define(["exports"],function(a){function b(){return[0,0,0,0]}function c(x){return[x[0],x[1],x[2],x[3]]}function e(x,w,A,B){return[x,w,A,B]}function d(x){const w=b(),A=Math.min(4,x.length);for(let B=0;B<A;++B)w[B]=x[B];return w}function k(x,
w){return new Float64Array(x,w,4)}function t(){return b()}function m(){return[1,1,1,1]}function f(){return[1,0,0,0]}function g(){return[0,1,0,0]}function l(){return[0,0,1,0]}function r(){return[0,0,0,1]}const p=b(),n=m(),v=f(),h=g(),q=l(),u=r(),z=Object.freeze(Object.defineProperty({__proto__:null,ONES:n,UNIT_W:u,UNIT_X:v,UNIT_Y:h,UNIT_Z:q,ZEROS:p,clone:c,create:b,createView:k,fromArray:d,fromValues:e,ones:m,unitW:r,unitX:f,unitY:g,unitZ:l,zeros:t},Symbol.toStringTag,{value:"Module"}));a.ONES=n;a.UNIT_W=
u;a.UNIT_X=v;a.UNIT_Y=h;a.UNIT_Z=q;a.ZEROS=p;a.clone=c;a.create=b;a.createView=k;a.fromArray=d;a.fromValues=e;a.ones=m;a.unitW=r;a.unitX=f;a.unitY=g;a.unitZ=l;a.vec4f64=z;a.zeros=t})},"esri/renderers/PieChartRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../symbols ../core/Clonable ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/OthersCategory ./support/PieChartLegendOptions ../symbols/SimpleMarkerSymbol ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w){e=function(A){function B(y){y=A.call(this,y)||this;y.attributes=null;y.backgroundFillSymbol=null;y.defaultColor=new c([0,0,0,0]);y.defaultLabel=null;y.holePercentage=0;y.othersCategory=new q.OthersCategory;y.legendOptions=null;y.outline=null;y.size=12;y.type="pie-chart";return y}a._inheritsLoose(B,A);var E=B.prototype;E.getSymbol=function(){return new z({size:this.size?this.size/2+(this.outline?.width||0):0})};E.getSymbolAsync=function(){var y=a._asyncToGenerator(function*(){return this.getSymbol()});
return function(){return y.apply(this,arguments)}}();E.getSymbols=function(){return[this.getSymbol(),this.backgroundFillSymbol].filter(k.isSome)};E.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((y,C)=>y+C.getAttributeHash(),"")};E.getMeshHash=function(){return this.getSymbols().reduce((y,C)=>y+=JSON.stringify(C),"")};E.collectRequiredFields=function(){var y=a._asyncToGenerator(function*(C,D){yield this.collectVVRequiredFields(C,D);for(const J of this.attributes)J.valueExpression&&
(yield p.collectArcadeFieldNames(C,D,J.valueExpression)),J.field&&C.add(J.field)});return function(C,D){return y.apply(this,arguments)}}();return B}(v.VisualVariablesMixin(d.ClonableMixin(n)));b.__decorate([m.property({type:[h],json:{write:!0}})],e.prototype,"attributes",void 0);b.__decorate([m.property({type:x,json:{default:null,write:!0}})],e.prototype,"backgroundFillSymbol",void 0);b.__decorate([m.property({type:c,json:{write:!0}})],e.prototype,"defaultColor",void 0);b.__decorate([m.property({type:String,
json:{write:!0}})],e.prototype,"defaultLabel",void 0);b.__decorate([m.property({type:Number,range:{min:0,max:1},json:{write:!0}})],e.prototype,"holePercentage",void 0);b.__decorate([m.property({type:q.OthersCategory,json:{write:!0}})],e.prototype,"othersCategory",void 0);b.__decorate([m.property({type:u.PieChartLegendOptions,json:{write:!0}})],e.prototype,"legendOptions",void 0);b.__decorate([m.property({type:w,json:{default:null,write:!0}})],e.prototype,"outline",void 0);b.__decorate([m.property({type:Number,
cast:t.toPt,json:{write:!0}})],e.prototype,"size",void 0);b.__decorate([l.enumeration({pieChart:"pie-chart"})],e.prototype,"type",void 0);return e=b.__decorate([r.subclass("esri.renderers.PieChartRenderer")],e)})},"esri/renderers/support/OthersCategory":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f,g){a.OthersCategory=function(l){function r(){var p=l.apply(this,arguments)||this;p.color=new e([0,0,0,0]);p.label=null;p.threshold=0;return p}b._inheritsLoose(r,l);return r}(d.ClonableMixin(k.JSONSupport));c.__decorate([t.property({type:e,json:{write:!0}})],a.OthersCategory.prototype,"color",void 0);c.__decorate([t.property({type:String,json:{write:!0}})],a.OthersCategory.prototype,"label",void 0);c.__decorate([t.property({type:Number,range:{min:0,max:1},json:{write:!0}})],
a.OthersCategory.prototype,"threshold",void 0);a.OthersCategory=c.__decorate([g.subclass("esri.renderers.support.OthersCategory")],a.OthersCategory);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/PieChartLegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f){a.PieChartLegendOptions=function(g){function l(){var r=g.apply(this,arguments)||this;r.title=null;return r}b._inheritsLoose(l,g);return l}(e.ClonableMixin(d.JSONSupport));c.__decorate([k.property({type:String,json:{write:!0}})],a.PieChartLegendOptions.prototype,"title",void 0);a.PieChartLegendOptions=c.__decorate([f.subclass("esri.renderers.support.PieChartLegendOptions")],a.PieChartLegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/SimpleRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties".split(" "),
function(a,b,c,e,d,k,t,m,f,g){var l;d=l=function(r){function p(v){v=r.call(this,v)||this;v.description=null;v.label=null;v.symbol=null;v.type="simple";return v}a._inheritsLoose(p,r);var n=p.prototype;n.collectRequiredFields=function(){var v=a._asyncToGenerator(function*(h,q){yield Promise.all([this.collectSymbolFields(h,q),this.collectVVRequiredFields(h,q)])});return function(h,q){return v.apply(this,arguments)}}();n.collectSymbolFields=function(){var v=a._asyncToGenerator(function*(h,q){yield Promise.all(this.getSymbols().map(u=>
u.collectRequiredFields(h,q)))});return function(h,q){return v.apply(this,arguments)}}();n.getSymbol=function(v,h){return this.symbol};n.getSymbolAsync=function(){var v=a._asyncToGenerator(function*(h,q){return this.symbol});return function(h,q){return v.apply(this,arguments)}}();n.getSymbols=function(){return this.symbol?[this.symbol]:[]};n.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((v,h)=>v+h.getAttributeHash(),"")};n.getMeshHash=function(){return this.getSymbols().reduce((v,
h)=>v+=JSON.stringify(h),"")};n.clone=function(){return new l({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:c.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};a._createClass(p,[{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables}}]);return p}(f.VisualVariablesMixin(m));b.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"description",void 0);b.__decorate([e.property({type:String,
json:{write:!0}})],d.prototype,"label",void 0);b.__decorate([e.property(g.rendererSymbolProperty)],d.prototype,"symbol",void 0);b.__decorate([k.enumeration({simple:"simple"})],d.prototype,"type",void 0);return d=l=b.__decorate([t.subclass("esri.renderers.SimpleRenderer")],d)})},"esri/renderers/UniqueValueRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../symbols ../core/Error ../core/lang ../core/Logger ../core/maybe ../core/object ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties ./support/LegendOptions ./support/UniqueValue ./support/UniqueValueClass ./support/UniqueValueGroup ./support/UniqueValueInfo ../support/arcadeOnDemand ../chunks/persistableUrlUtils ../symbols/support/styleUtils ../symbols/WebStyleSymbol".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A,B,E,y,C,D,J,M,L,I){function G(Q){const {field1:W,field2:T,field3:Y,fieldDelimiter:X,uniqueValueInfos:ra,valueExpression:Ba}=Q,Ga=!(!W||!T);return[{classes:(ra??[]).map(Ha=>{const {symbol:da,label:na,value:xa,description:Na}=Ha,[Oa,N,S]=Ga?xa?.toString()?.split(X||"")||[]:[xa];Ha=[];(W||Ba)&&Ha.push(Oa);T&&Ha.push(N);Y&&Ha.push(S);return{symbol:da,label:na,values:[Ha],description:Na}})}]}var K;const H=k.getLogger("esri.renderers.UniqueValueRenderer"),
O=q.ensureType(D);k=K=function(Q){function W(Y){Y=Q.call(this,Y)||this;Y._valueInfoMap={};Y._isDefaultSymbolDerived=!1;Y._isInfosSource=null;Y.type="unique-value";Y.backgroundFillSymbol=null;Y.orderByClassesEnabled=!1;Y.valueExpressionTitle=null;Y.legendOptions=null;Y.defaultLabel=null;Y.portal=null;Y.styleOrigin=null;Y.diff={uniqueValueInfos(X,ra){if(X||ra){if(!X||!ra)return{type:"complete",oldValue:X,newValue:ra};var Ba=!1,Ga={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let Ha=
0;Ha<ra.length;Ha++){const da=X.find(na=>na.value===ra[Ha].value);da?h.diff(da,ra[Ha])?(Ga.changed.push({type:"complete",oldValue:da,newValue:ra[Ha]}),Ba=!0):Ga.unchanged.push({oldValue:da,newValue:ra[Ha]}):(Ga.added.push(ra[Ha]),Ba=!0)}for(let Ha=0;Ha<X.length;Ha++)ra.find(da=>da.value===X[Ha].value)||(Ga.removed.push(X[Ha]),Ba=!0);return Ba?Ga:void 0}}};Y._set("uniqueValueInfos",[]);Y._set("uniqueValueGroups",[]);return Y}a._inheritsLoose(W,Q);var T=W.prototype;T.castField=function(Y){return null==
Y||"function"===typeof Y?Y:q.ensureString(Y)};T.writeField=function(Y,X,ra,Ba){"string"===typeof Y?X[ra]=Y:Ba&&Ba.messages?Ba.messages.push(new e("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):H.error(".field: cannot write field to JSON since it's not a string value")};T.readPortal=function(Y,X,ra){return ra.portal||z.getDefault()};T.readStyleOrigin=function(Y,X,ra){if(X.styleName)return Object.freeze({styleName:X.styleName});if(X.styleUrl)return Y=
M.fromJSON(X.styleUrl,ra),Object.freeze({styleUrl:Y})};T.writeStyleOrigin=function(Y,X,ra,Ba){Y.styleName?X.styleName=Y.styleName:Y.styleUrl&&(X.styleUrl=M.toJSON(Y.styleUrl,Ba))};T.addUniqueValueInfo=function(Y,X){this.styleOrigin?H.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(Y="object"===typeof Y?O(Y):new D({value:Y,symbol:c.ensureType(X)}),this.uniqueValueInfos?.push(Y),this._valueInfoMap[Y.value]=Y,this._updateGroupsFromInfos(),
this._isInfosSource=!0,this._watchUniqueValueInfos())};T.removeUniqueValueInfo=function(Y){if(this.styleOrigin)H.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else{var X=this.uniqueValueInfos;if(X)for(let ra=0;ra<X.length;ra++)if(X[ra].value===Y+""){delete this._valueInfoMap[Y];X.splice(ra,1);break}this._updateGroupsFromInfos();this._isInfosSource=!0;this._watchUniqueValueInfos()}};T.getUniqueValueInfo=function(){var Y=a._asyncToGenerator(function*(X,
ra){let Ba=ra;this.valueExpression&&(t.isNone(ra)||t.isNone(ra.arcade))&&(Ba={...Ba,arcade:yield J.loadArcade()});return this._getUniqueValueInfo(X,Ba)});return function(X,ra){return Y.apply(this,arguments)}}();T.getSymbol=function(Y,X){if(this.valueExpression&&(t.isNone(X)||t.isNone(X.arcade)))H.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return(Y=this._getUniqueValueInfo(Y,X))&&Y.symbol||this.defaultSymbol};T.getSymbolAsync=function(){var Y=a._asyncToGenerator(function*(X,
ra){if(this.valueExpression&&(t.isNone(ra)||t.isNone(ra.arcade))){const Ba=yield J.loadArcade(),{arcadeUtils:Ga}=Ba;Ga.hasGeometryOperations(this.valueExpression)&&(yield Ga.enableGeometryOperations());ra={...ra,arcade:Ba}}return(X=this._getUniqueValueInfo(X,ra))&&X.symbol||this.defaultSymbol});return function(X,ra){return Y.apply(this,arguments)}}();T.getSymbols=function(){const Y=[];for(const X of this.uniqueValueInfos??[])X.symbol&&Y.push(X.symbol);this.defaultSymbol&&Y.push(this.defaultSymbol);
return Y};T.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((Y,X)=>Y+X.getAttributeHash(),"")};T.getMeshHash=function(){const Y=JSON.stringify(this.backgroundFillSymbol),X=JSON.stringify(this.defaultSymbol),ra=this.uniqueValueInfos?.reduce((Ba,Ga)=>Ba+Ga.getMeshHash(),"");return`${Y}.${X}.${ra}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`};T.clone=function(){const Y=new K({field:this.field,field2:this.field2,
field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:d.clone(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:d.clone(this.visualVariables),legendOptions:d.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:d.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(Y._isDefaultSymbolDerived=
!0);Y._set("portal",this.portal);const X=d.clone(this.uniqueValueInfos),ra=d.clone(this.uniqueValueGroups);this.styleOrigin&&(Y._set("styleOrigin",Object.freeze(d.clone(this.styleOrigin))),Object.freeze(X),Object.freeze(ra));Y._set("uniqueValueInfos",X);Y._updateValueInfoMap();Y._set("uniqueValueGroups",ra);Y._isInfosSource=this._isInfosSource;Y._watchUniqueValueInfosAndGroups();return Y};T.collectRequiredFields=function(){var Y=a._asyncToGenerator(function*(X,ra){X=[this.collectVVRequiredFields(X,
ra),this.collectSymbolFields(X,ra)];yield Promise.all(X)});return function(X,ra){return Y.apply(this,arguments)}}();T.collectSymbolFields=function(){var Y=a._asyncToGenerator(function*(X,ra){const Ba=[...this.getSymbols().map(Ga=>Ga.collectRequiredFields(X,ra)),u.collectArcadeFieldNames(X,ra,this.valueExpression)];u.collectField(X,ra,this.field);u.collectField(X,ra,this.field2);u.collectField(X,ra,this.field3);yield Promise.all(Ba)});return function(X,ra){return Y.apply(this,arguments)}}();T.populateFromStyle=
function(){return L.fetchStyle(this.styleOrigin,{portal:this.portal}).then(Y=>{const X=[];this._valueInfoMap={};Y&&Y.data&&Array.isArray(Y.data.items)&&Y.data.items.forEach(ra=>{var Ba=new I({styleUrl:Y.styleUrl,styleName:Y.styleName,portal:this.portal,name:ra.name});this.defaultSymbol||ra.name!==Y.data.defaultItem||(this.defaultSymbol=Ba,this._isDefaultSymbolDerived=!0);Ba=new D({value:ra.name,symbol:Ba});X.push(Ba);this._valueInfoMap[ra.name]=Ba});this._set("uniqueValueInfos",Object.freeze(X));
this._updateGroupsFromInfos(!0);this._isInfosSource=null;this._watchUniqueValueInfos();!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0);return this})};T._updateFieldDelimiter=function(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")};T._updateUniqueValues=function(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())};T._updateValueInfoMap=
function(){this._valueInfoMap={};const {uniqueValueInfos:Y}=this;if(Y)for(const X of Y)this._valueInfoMap[X.value+""]=X};T._watchUniqueValueInfosAndGroups=function(){this._watchUniqueValueInfos();this._watchUniqueValueGroups()};T._watchUniqueValueInfos=function(){this.removeHandles("uvInfos-watcher");const {uniqueValueInfos:Y}=this;if(Y){const X=[];for(const ra of Y)X.push(f.watch(()=>({symbol:ra.symbol,value:ra.value,label:ra.label,description:ra.description}),(Ba,Ga)=>{Ba!==Ga&&(this._updateGroupsFromInfos(),
this._isInfosSource=!0)},{sync:!0}));this.addHandles(X,"uvInfos-watcher")}};T._watchUniqueValueGroups=function(){this.removeHandles("uvGroups-watcher");const {uniqueValueGroups:Y}=this;if(Y){const X=[];for(const ra of Y){X.push(f.watch(()=>({classes:ra.classes}),(Ba,Ga)=>{Ba!==Ga&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const Ba of ra.classes??[])X.push(f.watch(()=>({symbol:Ba.symbol,values:Ba.values,label:Ba.label,description:Ba.description}),(Ga,Ha)=>{Ga!==Ha&&(this._updateInfosFromGroups(),
this._isInfosSource=!1)},{sync:!0}))}this.addHandles(X,"uvGroups-watcher")}};T._updateInfosFromGroups=function(){if(this.uniqueValueGroups){var Y=[],{field:X,field2:ra,field3:Ba,fieldDelimiter:Ga,uniqueValueGroups:Ha,valueExpression:da}=this;if(X||da){var na=!(!X||!ra);for(const Na of Ha)for(const Oa of Na.classes??[]){const {symbol:N,label:S,values:ja,description:wa}=Oa;for(const Ia of ja??[]){const {value:V,value2:aa,value3:oa}=Ia;var xa=[V];ra&&xa.push(aa);Ba&&xa.push(oa);xa=na?xa.join(Ga||""):
xa[0];Y.push(new D({symbol:N,label:S,value:xa,description:wa}))}}}this._set("uniqueValueInfos",Y)}else this._set("uniqueValueInfos",null);this._updateValueInfoMap();this._watchUniqueValueInfos()};T._updateGroupsFromInfos=function(Y=!1){if(this.uniqueValueInfos){var {field:X,field2:ra,valueExpression:Ba,fieldDelimiter:Ga,uniqueValueInfos:Ha}=this;if((X||Ba)&&Ha.length){var da=!(!X||!ra),na=Ha.map(xa=>{const {symbol:Na,label:Oa,value:N,description:S}=xa,[ja,wa,Ia]=da?N?.toString()?.split(Ga||"")||[]:
[N];return new y({symbol:Na,label:Oa,description:S,values:[new E({value:ja,value2:wa,value3:Ia})]})});na=[new C({classes:na})];Y&&Object.freeze(na);this._set("uniqueValueGroups",na)}else this._set("uniqueValueGroups",[])}else this._set("uniqueValueGroups",null);this._watchUniqueValueGroups()};T._getUniqueValueInfo=function(Y,X){return this.valueExpression?this._getUnqiueValueInfoForExpression(Y,X):this._getUnqiueValueInfoForFields(Y)};T._getUnqiueValueInfoForExpression=function(Y,X){const {viewingMode:ra,
scale:Ba,spatialReference:Ga,arcade:Ha}=t.unwrapOr(X,{});var da=this._cache.compiledFunc;X=t.unwrap(Ha).arcadeUtils;da||(da=X.createSyntaxTree(this.valueExpression),da=X.createFunction(da),this._cache.compiledFunc=da);Y=X.executeFunction(da,X.createExecContext(Y,X.getViewInfo({viewingMode:ra,scale:Ba,spatialReference:Ga})));return this._valueInfoMap[Y+""]};T._getUnqiueValueInfoForFields=function(Y){const X=this.field,ra=Y.attributes;if("function"!==typeof X&&this.field2){Y=this.field2;var Ba=this.field3;
const Ga=[];X&&Ga.push(ra[X]);Y&&Ga.push(ra[Y]);Ba&&Ga.push(ra[Ba]);Ba=Ga.join(this.fieldDelimiter||"")}else"function"===typeof X?Ba=X(Y):X&&(Ba=ra[X]);return this._valueInfoMap[Ba+""]};W.fromPortalStyle=function(Y,X){const ra=new K(X&&X.properties);ra._set("styleOrigin",Object.freeze({styleName:Y}));ra._set("portal",X&&X.portal||z.getDefault());X=ra.populateFromStyle();X.catch(Ba=>{H.error(`#fromPortalStyle('${Y}'[, ...])`,"Failed to create unique value renderer from style name",Ba)});return X};
W.fromStyleUrl=function(Y,X){X=new K(X&&X.properties);X._set("styleOrigin",Object.freeze({styleUrl:Y}));X=X.populateFromStyle();X.catch(ra=>{H.error(`#fromStyleUrl('${Y}'[, ...])`,"Failed to create unique value renderer from style URL",ra)});return X};a._createClass(W,[{key:"_cache",get:function(){return{compiledFunc:null}}},{key:"field",set:function(Y){this._set("field",Y);this._updateFieldDelimiter();this._updateUniqueValues()}},{key:"field2",set:function(Y){this._set("field2",Y);this._updateFieldDelimiter();
this._updateUniqueValues()}},{key:"field3",set:function(Y){this._set("field3",Y);this._updateUniqueValues()}},{key:"valueExpression",set:function(Y){this._set("valueExpression",Y);this._updateUniqueValues()}},{key:"defaultSymbol",set:function(Y){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",Y)}},{key:"fieldDelimiter",set:function(Y){this._set("fieldDelimiter",Y);this._updateUniqueValues()}},{key:"uniqueValueGroups",set:function(Y){this.styleOrigin?H.error("#uniqueValueGroups\x3d","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):
(this._set("uniqueValueGroups",Y),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}},{key:"uniqueValueInfos",set:function(Y){this.styleOrigin?H.error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",Y),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||
!!this.valueExpression}}]);return W}(w.VisualVariablesMixin(x));b.__decorate([g.property({readOnly:!0})],k.prototype,"_cache",null);b.__decorate([r.enumeration({uniqueValue:"unique-value"})],k.prototype,"type",void 0);b.__decorate([g.property(A.rendererBackgroundFillSymbolProperty)],k.prototype,"backgroundFillSymbol",void 0);b.__decorate([g.property({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],k.prototype,"field",null);b.__decorate([l.cast("field")],k.prototype,
"castField",null);b.__decorate([v.writer("field")],k.prototype,"writeField",null);b.__decorate([g.property({type:String,value:null,json:{write:!0}})],k.prototype,"field2",null);b.__decorate([g.property({type:String,value:null,json:{write:!0}})],k.prototype,"field3",null);b.__decorate([g.property({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],k.prototype,"orderByClassesEnabled",void 0);b.__decorate([g.property({type:String,value:null,json:{write:!0}})],
k.prototype,"valueExpression",null);b.__decorate([g.property({type:String,json:{write:!0}})],k.prototype,"valueExpressionTitle",void 0);b.__decorate([g.property({type:B.LegendOptions,json:{write:!0}})],k.prototype,"legendOptions",void 0);b.__decorate([g.property({type:String,json:{write:!0}})],k.prototype,"defaultLabel",void 0);b.__decorate([g.property(m.deepMerge({...A.rendererSymbolProperty},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],
k.prototype,"defaultSymbol",null);b.__decorate([g.property({type:String,value:null,json:{write:!0}})],k.prototype,"fieldDelimiter",null);b.__decorate([g.property({type:z,readOnly:!0})],k.prototype,"portal",void 0);b.__decorate([p.reader("portal",["styleName"])],k.prototype,"readPortal",null);b.__decorate([g.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],k.prototype,"styleOrigin",void 0);b.__decorate([p.reader("styleOrigin",["styleName","styleUrl"])],k.prototype,
"readStyleOrigin",null);b.__decorate([v.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],k.prototype,"writeStyleOrigin",null);b.__decorate([g.property({type:[C],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(Q,W,T)=>(W.uniqueValueGroups||G(W)).map(Y=>C.fromJSON(Y,T))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],k.prototype,"uniqueValueGroups",null);b.__decorate([g.property({type:[D],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?
{enabled:!1}:{enabled:!0}}}}})],k.prototype,"uniqueValueInfos",null);return k=K=b.__decorate([n.subclass("esri.renderers.UniqueValueRenderer")],k)})},"esri/core/reactiveUtils":function(){define("exports ./events ./handleUtils ./maybe ./promiseUtils ./accessorSupport/watch ./accessorSupport/trackingUtils".split(" "),function(a,b,c,e,d,k,t){function m(p,n,v={}){return f(p,n,v,l)}function f(p,n,v={},h){let q=null;const u=v.once?(z,x)=>{h(z)&&(e.removeMaybe(q),n(z,x))}:(z,x)=>{h(z)&&n(z,x)};q=k.watchTracked(p,
u,v.sync,v.equals);v.initial&&(p=p(),u(p,p));return q}function g(p,n,v){if(d.isAborted(v))return Promise.reject(d.createAbortError());const h=p();if(n?.(h))return Promise.resolve(h);let q=null;return new Promise((u,z)=>{q=c.handlesGroup([d.onAbort(v,()=>{q=e.removeMaybe(q);z(d.createAbortError())}),f(p,x=>{q=e.removeMaybe(q);u(x)},{sync:!1,once:!0},n??l)])})}function l(p){return!0}function r(p){return!!p}a.autorun=t.autorun;a.initial={initial:!0};a.on=function(p,n,v,h={}){function q(){z&&x&&(x.remove(),
h.onListenerRemove?.(z),x=z=null)}function u(B){h.once&&h.once&&e.removeMaybe(w);v(B)}let z=null,x=null,w=null;const A=m(p,(B,E)=>{q();b.isEventTarget(B)&&(z=B,x=b.on(B,n,u),h.onListenerAdd?.(B))},{sync:h.sync,initial:!0});return w=c.makeHandle(()=>{A.remove();q()})};a.once=function(p,n){return g(p,null,n)};a.pausable=function(p,n,v={}){let h=!1;const q=m(p,(u,z)=>{h||n(u,z)},v);return{remove(){q.remove()},pause(){h=!0},resume(){h=!1}}};a.sync={sync:!0};a.syncAndInitial={sync:!0,initial:!0};a.watch=
m;a.when=function(p,n,v={}){return f(p,n,v,r)};a.whenOnce=function(p,n){return g(p,r,n)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/diffUtils":function(){define(["exports","../Accessor","../Collection","../maybe","./utils"],function(a,b,c,e,d){function k(n){return n instanceof c?Object.keys(n.items):n instanceof b?d.getProperties(n).keys():n?Object.keys(n):[]}function t(n,v){return n instanceof c?n.items[v]:n[v]}function m(n,v){return Array.isArray(n)&&
Array.isArray(v)?n.length!==v.length:!1}function f(n){return n?n.declaredClass:null}function g(n,v){const h=n.diff;if(h&&"function"===typeof h)return h(n,v);const q=k(n),u=k(v);if(0!==q.length||0!==u.length){if(!q.length||!u.length||m(n,v))return{type:"complete",oldValue:n,newValue:v};var z=u.filter(A=>!q.includes(A)),x=q.filter(A=>!u.includes(A));x=q.filter(A=>u.includes(A)&&t(n,A)!==t(v,A)).concat(z,x).sort();if((z=f(n))&&p.includes(z)&&x.length)return{type:"complete",oldValue:n,newValue:v};var w;
z=n instanceof b&&v instanceof b;for(const A of x){x=t(n,A);const B=t(v,A);if((z||"function"!==typeof x&&"function"!==typeof B)&&x!==B&&(null!=x||null!=B)){if(h&&h[A]&&"function"===typeof h[A])x=h[A](x,B);else if(x instanceof Date&&B instanceof Date){if(x.getTime()===B.getTime())continue;x={type:"complete",oldValue:x,newValue:B}}else x="object"===typeof x&&"object"===typeof B&&f(x)===f(B)?g(x,B):{type:"complete",oldValue:x,newValue:B};e.isSome(x)&&(e.isSome(w)?w.diff[A]=x:w={type:"partial",diff:{[A]:x}})}}return w}}
function l(n,v){if(e.isNone(n))return!1;v=v.split(".");for(const h of v){if("complete"===n.type)break;if("partial"===n.type){if(n=n.diff[h],!n)return!1}else return!1}return!0}function r(n){if(e.isNone(n))return!0;switch(n.type){case "complete":return!1;case "collection":for(const v of n.added)if(!r(v))return!1;for(const v of n.removed)if(!r(v))return!1;for(const v of n.changed)if(!r(v))return!1;return!0;case "partial":for(const v in n.diff)if(!r(n.diff[v]))return!1;return!0}}const p=["esri.Color",
"esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];a.diff=function(n,v){if(!("function"===typeof n||"function"===typeof v||e.isNone(n)&&e.isNone(v)))return e.isNone(n)||e.isNone(v)||"object"===typeof n&&"object"===typeof v&&f(n)!==f(v)?{type:"complete",oldValue:n,newValue:v}:g(n,v)};a.hasDiff=l;a.hasDiffAny=function(n,v){for(const h of v)if(l(n,h))return!0;return!1};a.isEmpty=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/renderers/support/UniqueValue":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,c,e,d,k,t,m,f){c=function(g){function l(r){r=g.call(this,r)||this;r.value=null;r.value2=null;r.value3=null;return r}a._inheritsLoose(l,g);return l}(c.ClonableMixin(e.JSONSupport));
b.__decorate([d.property(f.uniqueValueProperty)],c.prototype,"value",void 0);b.__decorate([d.property(f.uniqueValueProperty)],c.prototype,"value2",void 0);b.__decorate([d.property(f.uniqueValueProperty)],c.prototype,"value3",void 0);return c=b.__decorate([m.subclass("esri.renderers.support.UniqueValue")],c)})},"esri/renderers/support/UniqueValueClass":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./commonProperties ./UniqueValue".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l){c=function(r){function p(n){n=r.call(this,n)||this;n.description=null;n.label=null;n.symbol=null;n.values=null;return n}a._inheritsLoose(p,r);p.prototype.castValues=function(n){if(null==n)return null;n=Array.isArray(n)?n:[n];const v=typeof n[0];return"string"===v||"number"===v?n.map(h=>new l({value:h})):"object"===v?n[0]instanceof l?n:n.map(h=>new l(h)):null};return p}(c.ClonableMixin(e.JSONSupport));b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,
"description",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([k.property(g.rendererSymbolProperty)],c.prototype,"symbol",void 0);b.__decorate([k.property({type:[l],json:{type:[[String]],read:{reader:r=>r?r.map(p=>new l({value:p[0],value2:p[1],value3:p[2]})):null},write:{writer:(r,p)=>{const n=[];for(const v of r)r=[v.value,v.value2,v.value3].filter(d.isSome).map(h=>h.toString()),n.push(r);p.values=n}}}})],c.prototype,"values",void 0);b.__decorate([t.cast("values")],
c.prototype,"castValues",null);return c=b.__decorate([f.subclass("esri.renderers.support.UniqueValueClass")],c)})},"esri/renderers/support/UniqueValueGroup":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./UniqueValueClass".split(" "),function(a,b,c,e,d,k,t,m,f){c=function(g){function l(r){r=
g.call(this,r)||this;r.heading=null;r.classes=null;return r}a._inheritsLoose(l,g);return l}(c.ClonableMixin(e.JSONSupport));b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"heading",void 0);b.__decorate([d.property({type:[f],json:{write:!0}})],c.prototype,"classes",void 0);return c=b.__decorate([m.subclass("esri.renderers.support.UniqueValueGroup")],c)})},"esri/renderers/support/UniqueValueInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),
function(a,b,c,e,d,k,t,m){var f;c=f=function(g){function l(p){p=g.call(this,p)||this;p.description=null;p.label=null;p.symbol=null;p.value=null;return p}a._inheritsLoose(l,g);var r=l.prototype;r.clone=function(){return new f({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})};r.getMeshHash=function(){const p=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${p}`};return l}(c.JSONSupport);b.__decorate([e.property({type:String,
json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([e.property(m.rendererSymbolProperty)],c.prototype,"symbol",void 0);b.__decorate([e.property(m.uniqueValueProperty)],c.prototype,"value",void 0);return c=f=b.__decorate([t.subclass("esri.renderers.support.UniqueValueInfo")],c)})},"esri/symbols/support/styleUtils":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../request ../../core/Error ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ../../support/featureFlags".split(" "),
function(a,b,c,e,d,k,t,m,f,g){function l(h,q){return r.apply(this,arguments)}function r(){r=b._asyncToGenerator(function*(h,q){try{return{data:(yield v(h,q)).data,baseUrl:t.removeFile(h),styleUrl:h}}catch(u){return k.throwIfAbortError(u),null}});return r.apply(this,arguments)}function p(h,q,u){q=d.isSome(q.portal)?q.portal:m.getDefault();let z;const x=`${q.url} - ${q.user&&q.user.username} - ${h}`;a.cachedStyles[x]||(a.cachedStyles[x]=n(h,q,u).then(w=>{z=w;return w.fetchData()}).then(w=>({data:w,
baseUrl:z.itemUrl??"",styleName:h})));return a.cachedStyles[x]}function n(h,q,u){return q.load(u).then(()=>{const z=new f({disableExtraQuery:!0,query:`owner:${"esri_en"} AND type:${"Style"} AND typekeywords:"${h}"`});return q.queryItems(z,u)}).then(({results:z})=>{let x=null;const w=h.toLowerCase();if(z&&Array.isArray(z))for(const A of z)if(A.typeKeywords?.some(B=>B.toLowerCase()===w)&&"Style"===A.type&&"esri_en"===A.owner){x=A;break}if(!x)throw new e("symbolstyleutils:style-not-found",`The style '${h}' could not be found`,
{styleName:h});return x.load(u)})}function v(h,q){q={responseType:"json",query:{f:"json"},...q};return c(t.normalize(h),q)}a.cachedStyles={};a.Style2DUrlTemplate="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson";a.cleanupStyleUtilsCache=function(){a.cachedStyles&&(a.cachedStyles={})};a.fetchStyle=function(h,q,u){return h&&d.isSome(h.styleUrl)?l(h.styleUrl,u):h&&d.isSome(h.styleName)?p(h.styleName,q,u):Promise.reject(new e("symbolstyleutils:style-url-and-name-missing",
"Either styleUrl or styleName is required to resolve a style"))};a.makeCIMSymbolRef=function(h){return null===h||"CIMSymbolReference"===h.type?h:{type:"CIMSymbolReference",symbol:h}};a.requestJSON=v;a.symbolUrlFromStyleItem=function(h,q){if("cimRef"===q)return h.cimRef;if(h.formatInfos&&!g.enableWebStyleForceWOSR())for(const u of h.formatInfos)if("gltf"===u.type)return u.href;return h.webRef};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/featureFlags":function(){define(["exports",
"../core/has"],function(a,b){const c=()=>b.cache["enable-feature:direct-3d-object-feature-layer-display"]=!0;a.enableDirect3DObjectFeatureLayerDisplay=()=>!!b("enable-feature:direct-3d-object-feature-layer-display");a.enableSceneLayerEditing=()=>{b.cache["enable-feature:SceneLayer-editing"]=!0;c()};a.enableWebStyleForceWOSR=()=>!!b("enable-feature:force-wosr");a.sceneLayerEditingEnabled=()=>!!b("enable-feature:SceneLayer-editing");a.turnOnDirect3DObjectFeatureLayerDisplay=c;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/jsonUtils":function(){define(["exports","../../core/Warning","../../core/accessorSupport/extensions/serializableProperty/reader","./types"],function(a,b,c,e){function d(t,m,f){return t?t&&(t.styleName||t.styleUrl)&&"uniqueValue"!==t.type?(f&&f.messages&&f.messages.push(new b("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+t.type+"'",{definition:t,context:f})),null):k(t,m,f):null}const k=
c.createTypeReader({types:e.rendererTypes});a.fromJSON=function(t,m){return d(t,null,m)};a.read=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/types":function(){define("exports ../ClassBreaksRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../PieChartRenderer ../Renderer ../SimpleRenderer ../UniqueValueRenderer".split(" "),function(a,b,c,e,d,k,t,m,f){const g={key:"type",base:t,typeMap:{simple:m,"unique-value":f,"class-breaks":b,heatmap:d},
errorContext:"renderer"};a.rendererTypes={key:"type",base:t,typeMap:{heatmap:d,simple:m,"unique-value":f,"class-breaks":b,"dot-density":e,dictionary:c,"pie-chart":k},errorContext:"renderer"};a.webSceneRendererTypes=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MultiOriginJSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./ReadOnlyMultiOriginJSONSupport ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f){const g=r=>{r=function(p){function n(...h){return p.call(this,...h)||this}b._inheritsLoose(n,p);var v=n.prototype;v.clear=function(h,q="user"){return t.getProperties(this).store.delete(h,k.nameToId(q))};v.write=function(h={},q){h=h||{};m.write(this,h,q);return h};v.setAtOrigin=function(h,q,u){t.getProperties(this).setAtOrigin(h,q,k.nameToId(u))};v.removeOrigin=function(h){const q=t.getProperties(this).store;h=k.nameToId(h);const u=q.keys(h);for(const z of u)q.originOf(z)===
h&&q.set(z,q.get(z,h),k.OriginId.USER)};v.updateOrigin=function(h,q){const u=t.getProperties(this).store;q=k.nameToId(q);const z=this.get(h);for(let x=q+1;x<k.OriginIdNum;++x)u.delete(h,x);u.set(h,z,q)};v.toJSON=function(h){return this.write({},h)};return n}(r);r=c.__decorate([f.subclass("esri.core.WriteableMultiOriginJSONSupport")],r);r.prototype.toJSON.isDefaultToJSON=!0;return r},l=r=>{r=function(p){function n(...v){return p.call(this,...v)||this}b._inheritsLoose(n,p);return n}(g(d.ReadOnlyMultiOriginJSONMixin(r)));
return r=c.__decorate([f.subclass("esri.core.MultiOriginJSONSupport")],r)};a.MultiOriginJSONSupport=function(r){function p(){return r.apply(this,arguments)||this}b._inheritsLoose(p,r);return p}(l(e));a.MultiOriginJSONSupport=c.__decorate([f.subclass("esri.core.MultiOriginJSONSupport")],a.MultiOriginJSONSupport);a.MultiOriginJSONMixin=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ReadOnlyMultiOriginJSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./accessorSupport/defaultsStoreUtils ./accessorSupport/MultiOriginStore ./accessorSupport/PropertyOrigin ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l){const r=p=>{p=function(n){function v(...q){q=n.call(this,...q)||this;const u=d.assumeNonNull(g.getProperties(b._assertThisInitialized(q))),z=u.store,x=new t;u.store=x;k.setupConstructedDefaults(u,z,x);return q}b._inheritsLoose(v,n);var h=v.prototype;h.read=function(q,u){f.read(this,q,u)};h.getAtOrigin=function(q,u){const z=g.getProperties(this).store,x=m.nameToId(u);if("string"===typeof q)return z.get(q,x);const w={};q.forEach(A=>{w[A]=z.get(A,x)});return w};h.originOf=
function(q){return m.idToName(this.originIdOf(q))};h.originIdOf=function(q){return g.getProperties(this).store.originOf(q)};h.revert=function(q,u){const z=g.getProperties(this).store,x=m.nameToId(u),w=g.getProperties(this);("string"===typeof q?"*"===q?z.keys(x):[q]:q).forEach(A=>{w.invalidate(A);z.revert(A,x);w.commit(A)})};return v}(p);return p=c.__decorate([l.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],p)};a.ReadOnlyMultiOriginJSONSupport=function(p){function n(){return p.apply(this,arguments)||
this}b._inheritsLoose(n,p);return n}(r(e));a.ReadOnlyMultiOriginJSONSupport=c.__decorate([l.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],a.ReadOnlyMultiOriginJSONSupport);a.ReadOnlyMultiOriginJSONMixin=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/MultiOriginStore":function(){define(["../lang","../maybe","./PropertyOrigin"],function(a,b,c){return function(){function e(){this._propertyOriginMap=new Map;this._originStores=Array(c.OriginIdNum);
this._values=new Map;this.multipleOriginsSupported=!0}var d=e.prototype;d.clone=function(k){const t=new e;var m=this._originStores[c.OriginId.DEFAULTS];m&&m.forEach((f,g)=>{t.set(g,a.clone(f),c.OriginId.DEFAULTS)});for(let f=c.OriginId.SERVICE;f<c.OriginIdNum;f++)(m=this._originStores[f])&&m.forEach((g,l)=>{k&&k.has(l)||t.set(l,a.clone(g),f)});return t};d.get=function(k,t){return(t=void 0===t?this._values:this._originStores[t])?t.get(k):void 0};d.keys=function(k){return(k=null==k?this._values:this._originStores[k])?
[...k.keys()]:[]};d.set=function(k,t,m=c.OriginId.USER){var f=this._originStores[m];f||(f=new Map,this._originStores[m]=f);f.set(k,t);return!this._values.has(k)||b.assumeNonNull(this._propertyOriginMap.get(k))<=m?(f=this._values.get(k),this._values.set(k,t),this._propertyOriginMap.set(k,m),f!==t):!1};d.delete=function(k,t=c.OriginId.USER){var m=this._originStores[t];if(m){var f=m.get(k);m.delete(k);if(this._values.has(k)&&this._propertyOriginMap.get(k)===t)for(this._values.delete(k),--t;0<=t;t--)if((m=
this._originStores[t])&&m.has(k)){this._values.set(k,m.get(k));this._propertyOriginMap.set(k,t);break}return f}};d.has=function(k,t){return(t=void 0===t?this._values:this._originStores[t])?t.has(k):!1};d.revert=function(k,t){for(;0<t&&!this.has(k,t);)--t;var m=this._originStores[t];m=m&&m.get(k);const f=this._values.get(k);this._values.set(k,m);this._propertyOriginMap.set(k,t);return f!==m};d.originOf=function(k){return this._propertyOriginMap.get(k)||c.OriginId.DEFAULTS};d.forEach=function(k){this._values.forEach(k)};
return e}()})},"esri/core/sql":function(){define(["require","exports","../chunks/_rollupPluginBabelHelpers","./maybe"],function(a,b,c,e){function d(){d=c._asyncToGenerator(function*(k,t){const {WhereClause:m}=yield new Promise((f,g)=>a(["./sql/WhereClause"],f,g));return m.create(k,t)});return d.apply(this,arguments)}b.parseWhereClause=function(k,t){return d.apply(this,arguments)};b.sqlAnd=function(k,t){return e.isSome(k)?e.isSome(t)?`(${k}) AND (${t})`:k:t};Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/form/FormTemplate":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./ExpressionInfo ./elements/GroupElement ./support/elements".split(" "),function(a,b,c,e,d,k,t,m,f,g,l,r){var p;const n=r.buildTypeMaps(l);
c=p=function(v){function h(u){u=v.call(this,u)||this;u.description=null;u.elements=null;u.expressionInfos=null;u.preserveFieldValuesWhenHidden=!1;u.title=null;return u}a._inheritsLoose(h,v);var q=h.prototype;q.castElements=function(u){return r.ensureType(u,n)};q.readElements=function(u,z){return r.fromJSON(z.formElements,n)};q.writeElements=function(u,z){z.formElements=r.toJSON(u,n)};q.clone=function(){return new p({description:this.description,expressionInfos:e.clone(this.expressionInfos),elements:e.clone(this.elements),
title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})};return h}(c.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"elements",void 0);b.__decorate([k.cast("elements")],c.prototype,"castElements",null);b.__decorate([t.reader("elements",["formElements"])],c.prototype,"readElements",null);b.__decorate([f.writer("elements")],c.prototype,"writeElements",null);b.__decorate([d.property({type:[g],
json:{write:!0}})],c.prototype,"expressionInfos",void 0);b.__decorate([d.property({type:Boolean,json:{default:!1,write:!0}})],c.prototype,"preserveFieldValuesWhenHidden",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=p=b.__decorate([m.subclass("esri.form.FormTemplate")],c)})},"esri/form/ExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){var m;c=m=function(f){function g(l){l=f.call(this,l)||this;l.expression=null;l.name=null;l.returnType="boolean";l.title=null;return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};return g}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"name",
void 0);b.__decorate([e.property({type:["boolean","date","number","string"],json:{write:!0}})],c.prototype,"returnType",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);return c=m=b.__decorate([t.subclass("esri.form.ExpressionInfo")],c)})},"esri/form/elements/GroupElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./Element ../support/elements".split(" "),
function(a,b,c,e,d,k,t,m,f,g){var l;f=l=function(p){function n(h){h=p.call(this,h)||this;h.elements=null;h.initialState="expanded";h.type="group";return h}a._inheritsLoose(n,p);var v=n.prototype;v.castElements=function(h){return g.ensureType(h,r,!1)};v.readElements=function(h,q){return g.fromJSON(q.formElements,r,!1)};v.writeElements=function(h,q){q.formElements=g.toJSON(h,r,!1)};v.clone=function(){return new l({description:this.description,elements:c.clone(this.elements),initialState:this.initialState,
label:this.label,visibilityExpression:this.visibilityExpression})};return n}(f);b.__decorate([e.property({json:{write:!0}})],f.prototype,"elements",void 0);b.__decorate([d.cast("elements")],f.prototype,"castElements",null);b.__decorate([k.reader("elements",["formElements"])],f.prototype,"readElements",null);b.__decorate([m.writer("elements")],f.prototype,"writeElements",null);b.__decorate([e.property({type:["collapsed","expanded"],json:{write:!0}})],f.prototype,"initialState",void 0);b.__decorate([e.property({type:String,
json:{read:!1,write:!0}})],f.prototype,"type",void 0);f=l=b.__decorate([t.subclass("esri.form.elements.GroupElement")],f);const r=g.buildTypeMaps(f);return f})},"esri/form/elements/Element":function(){define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass"],function(a,b,c,e,d){c=function(k){function t(m){m=k.call(this,m)||this;m.description=null;m.label=null;
m.type=null;m.visibilityExpression=null;return m}a._inheritsLoose(t,k);return t}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);b.__decorate([e.property()],c.prototype,"type",void 0);b.__decorate([e.property({type:String,json:{write:!0}})],c.prototype,"visibilityExpression",void 0);return c=b.__decorate([d.subclass("esri.form.elements.Element")],c)})},"esri/form/support/elements":function(){define("exports ../../core/accessorSupport/ensureType ../elements/AttachmentElement ../elements/Element ../elements/FieldElement ../elements/RelationshipElement".split(" "),
function(a,b,c,e,d,k){a.buildTypeMaps=function(t){return{typesWithGroup:{base:e,key:"type",typeMap:{attachment:c,field:d,group:t,relationship:k}},typesWithoutGroup:{base:e,key:"type",typeMap:{attachment:c,field:d,relationship:k}}}};a.ensureType=function(t,m,f=!0){return t?t.map(g=>b.ensureOneOfType(f?m.typesWithGroup:m.typesWithoutGroup,g)):null};a.fromJSON=function(t,m,f=!0){if(!t)return null;const g=f?m.typesWithGroup.typeMap:m.typesWithoutGroup.typeMap;return t.filter(l=>g[l.type]).map(l=>g[l.type].fromJSON(l))};
a.toJSON=function(t,m,f=!0){if(!t)return null;const g=f?m.typesWithGroup.typeMap:m.typesWithoutGroup.typeMap;return t.filter(l=>g[l.type]).map(l=>l.toJSON())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/AttachmentElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./Element ./inputs/AttachmentInput".split(" "),
function(a,b,c,e,d,k,t,m){var f;e=f=function(g){function l(r){r=g.call(this,r)||this;r.attachmentKeyword=null;r.editable=!0;r.input=null;r.type="attachment";return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})};return l}(t);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"attachmentKeyword",
void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"editable",void 0);b.__decorate([c.property({type:m,json:{read:{source:"inputType"},write:{target:"inputType"}}})],e.prototype,"input",void 0);b.__decorate([c.property({type:["attachment"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=f=b.__decorate([k.subclass("esri.form.elements.AttachmentElement")],e)})},"esri/form/elements/inputs/AttachmentInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){var m;c=m=function(f){function g(l){l=f.call(this,l)||this;l.type=null;return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({type:this.type})};return g}(c.JSONSupport);b.__decorate([e.property({type:"attachment audio document image signature video".split(" "),json:{write:!0}})],c.prototype,"type",void 0);return c=m=b.__decorate([t.subclass("esri.form.elements.inputs.AttachmentInput")],c)})},"esri/form/elements/FieldElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/deprecate ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./Element ./support/inputs ../../layers/support/domains".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l){var r;const p=e.getLogger("esri.form.elements.FieldElement");e=r=function(n){function v(h){h=n.call(this,h)||this;h.domain=null;h.editableExpression=null;h.fieldName=null;h.hint=null;h.input=null;h.requiredExpression=null;h.type="field";h.valueExpression=null;return h}a._inheritsLoose(v,n);v.prototype.clone=function(){return new r({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,
hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})};a._createClass(v,[{key:"editable",get:function(){c.deprecatedProperty(p,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0});return this._get("editable")??!0},set:function(h){c.deprecatedProperty(p,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0});this._set("editable",h)}}]);return v}(f);
b.__decorate([d.property({types:l.types,json:{read:{reader:l.fromJSON},write:!0}})],e.prototype,"domain",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],e.prototype,"editable",null);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"editableExpression",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"fieldName",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"hint",void 0);b.__decorate([d.property({types:g.types,
json:{read:{source:"inputType"},write:{target:"inputType"}}})],e.prototype,"input",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"requiredExpression",void 0);b.__decorate([d.property({type:String,json:{read:!1,write:!0}})],e.prototype,"type",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"valueExpression",void 0);return e=r=b.__decorate([m.subclass("esri.form.elements.FieldElement")],e)})},"esri/form/elements/support/inputs":function(){define("exports ../inputs/BarcodeScannerInput ../inputs/ComboBoxInput ../inputs/DateTimePickerInput ../inputs/Input ../inputs/RadioButtonsInput ../inputs/SwitchInput ../inputs/TextAreaInput ../inputs/TextBoxInput".split(" "),
function(a,b,c,e,d,k,t,m,f){a.types={base:d,key:"type",typeMap:{"barcode-scanner":b,"combo-box":c,"datetime-picker":e,"radio-buttons":k,switch:t,"text-area":m,"text-box":f}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/inputs/BarcodeScannerInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,e,d,k,t){var m;e=m=function(f){function g(l){l=f.call(this,l)||this;l.type="barcode-scanner";return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({maxLength:this.maxLength,minLength:this.minLength})};return g}(t);b.__decorate([c.property({type:["barcode-scanner"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=m=b.__decorate([k.subclass("esri.form.elements.inputs.BarcodeScannerInput")],e)})},"esri/form/elements/inputs/TextInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,d,k,t){e=function(m){function f(g){g=m.call(this,g)||this;g.maxLength=null;g.minLength=0;return g}a._inheritsLoose(f,m);return f}(t);b.__decorate([c.property({type:Number,json:{write:!0}})],e.prototype,"maxLength",void 0);b.__decorate([c.property({type:Number,json:{write:!0}})],e.prototype,"minLength",void 0);return e=b.__decorate([k.subclass("esri.form.elements.inputs.TextInput")],e)})},"esri/form/elements/inputs/Input":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){c=function(m){function f(g){g=m.call(this,g)||this;g.type=null;return g}a._inheritsLoose(f,m);return f}(c.JSONSupport);b.__decorate([e.property()],c.prototype,"type",void 0);return c=b.__decorate([t.subclass("esri.form.elements.inputs.Input")],c)})},"esri/form/elements/inputs/ComboBoxInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,d,k,t){var m;e=m=function(f){function g(l){l=f.call(this,l)||this;l.noValueOptionLabel=null;l.showNoValueOption=!0;l.type="combo-box";return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})};return g}(t);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"noValueOptionLabel",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"showNoValueOption",
void 0);b.__decorate([c.property({type:["combo-box"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=m=b.__decorate([k.subclass("esri.form.elements.inputs.ComboBoxInput")],e)})},"esri/form/elements/inputs/DateTimePickerInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,c,e,d,k,t,m,f){function g(r){return null!=r?new Date(r):null}var l;e=l=function(r){function p(v){v=r.call(this,v)||this;v.includeTime=!1;v.max=null;v.min=null;v.type="datetime-picker";return v}a._inheritsLoose(p,r);var n=p.prototype;n.readMax=function(v,h){return g(h.max)};n.writeMax=function(v,h){h.max=v?v.getTime():null};n.readMin=function(v,h){return g(h.min)};n.writeMin=function(v,h){h.min=v?v.getTime():null};n.clone=function(){return new l({includeTime:this.includeTime,max:this.max,
min:this.min})};return p}(f);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"includeTime",void 0);b.__decorate([c.property({type:Date,json:{type:Number,write:!0}})],e.prototype,"max",void 0);b.__decorate([k.reader("max")],e.prototype,"readMax",null);b.__decorate([m.writer("max")],e.prototype,"writeMax",null);b.__decorate([c.property({type:Date,json:{type:Number,write:!0}})],e.prototype,"min",void 0);b.__decorate([k.reader("min")],e.prototype,"readMin",null);b.__decorate([m.writer("min")],
e.prototype,"writeMin",null);b.__decorate([c.property({type:["datetime-picker"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=l=b.__decorate([t.subclass("esri.form.elements.inputs.DateTimePickerInput")],e)})},"esri/form/elements/inputs/RadioButtonsInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,d,k,t){var m;e=m=function(f){function g(l){l=f.call(this,l)||this;l.noValueOptionLabel=null;l.showNoValueOption=!0;l.type="radio-buttons";return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})};return g}(t);b.__decorate([c.property({type:String,json:{write:!0}})],e.prototype,"noValueOptionLabel",void 0);b.__decorate([c.property({type:Boolean,json:{write:!0}})],e.prototype,"showNoValueOption",
void 0);b.__decorate([c.property({type:["radio-buttons"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=m=b.__decorate([k.subclass("esri.form.elements.inputs.RadioButtonsInput")],e)})},"esri/form/elements/inputs/SwitchInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,e,d,k,t){var m;e=m=function(f){function g(l){l=f.call(this,l)||this;l.offValue=null;l.onValue=null;l.type="switch";return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({offValue:this.offValue,onValue:this.onValue})};return g}(t);b.__decorate([c.property({type:[String,Number],json:{write:!0}})],e.prototype,"offValue",void 0);b.__decorate([c.property({type:[String,Number],json:{write:!0}})],e.prototype,"onValue",void 0);b.__decorate([c.property({type:["switch"],json:{read:!1,
write:!0}})],e.prototype,"type",void 0);return e=m=b.__decorate([k.subclass("esri.form.elements.inputs.SwitchInput")],e)})},"esri/form/elements/inputs/TextAreaInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),function(a,b,c,e,d,k,t){var m;e=m=function(f){function g(l){l=
f.call(this,l)||this;l.type="text-area";return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({maxLength:this.maxLength,minLength:this.minLength})};return g}(t);b.__decorate([c.property({type:["text-area"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=m=b.__decorate([k.subclass("esri.form.elements.inputs.TextAreaInput")],e)})},"esri/form/elements/inputs/TextBoxInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,e,d,k,t){var m;e=m=function(f){function g(l){l=f.call(this,l)||this;l.type="text-box";return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({maxLength:this.maxLength,minLength:this.minLength})};return g}(t);b.__decorate([c.property({type:["text-box"],json:{read:!1,write:!0}})],e.prototype,"type",void 0);return e=m=b.__decorate([k.subclass("esri.form.elements.inputs.TextBoxInput")],e)})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(a,b,c,e,d,k){b={key:"type",base:e,typeMap:{range:k,"coded-value":c,inherited:d}};a.CodedValueDomain=c;a.DomainBase=e;a.InheritedDomain=d;a.RangeDomain=k;a.fromJSON=function(t){if(!t||!t.type)return null;switch(t.type){case "range":return k.fromJSON(t);case "codedValue":return c.fromJSON(t);case "inherited":return d.fromJSON(t)}return null};a.types=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(a,b,c,e,d,k,t,m,f){var g;d=g=function(l){function r(n){n=l.call(this,n)||this;n.codedValues=null;n.type="coded-value";return n}a._inheritsLoose(r,l);var p=r.prototype;p.getName=function(n){let v=null;if(this.codedValues){const h=String(n);this.codedValues.some(q=>{String(q.code)===h&&(v=q.name);return!!v})}return v};p.clone=function(){return new g({codedValues:c.clone(this.codedValues),name:this.name})};return r}(f);b.__decorate([e.property({type:[m.CodedValue],json:{write:!0}})],d.prototype,
"codedValues",void 0);b.__decorate([k.enumeration({codedValue:"coded-value"})],d.prototype,"type",void 0);return d=g=b.__decorate([t.subclass("esri.layers.support.CodedValueDomain")],d)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),function(a,
b,c,e,d,k,t,m){var f;a.CodedValue=f=function(g){function l(r){r=g.call(this,r)||this;r.name=null;r.code=null;return r}b._inheritsLoose(l,g);l.prototype.clone=function(){return new f({name:this.name,code:this.code})};return l}(e.JSONSupport);c.__decorate([d.property({type:String,json:{write:!0}})],a.CodedValue.prototype,"name",void 0);c.__decorate([d.property({type:[String,Number],json:{write:!0}})],a.CodedValue.prototype,"code",void 0);a.CodedValue=f=c.__decorate([m.subclass("esri.layers.support.CodedValue")],
a.CodedValue);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t,m,f){c=new c.JSONMap({inherited:"inherited",
codedValue:"coded-value",range:"range"});e=function(g){function l(r){r=g.call(this,r)||this;r.name=null;r.type=null;return r}a._inheritsLoose(l,g);return l}(e.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"name",void 0);b.__decorate([m.enumeration(c)],e.prototype,"type",void 0);return e=b.__decorate([f.subclass("esri.layers.support.Domain")],e)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/Error ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,e,d,k,t,m,f,g){var l;c=l=function(r){function p(n){n=r.call(this,n)||this;n.type="inherited";return n}a._inheritsLoose(p,r);p.prototype.clone=function(){return new l};return p}(g);b.__decorate([m.enumeration({inherited:"inherited"})],c.prototype,"type",void 0);return c=l=b.__decorate([f.subclass("esri.layers.support.InheritedDomain")],c)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,e,d,k,t,m){var f;e=f=function(g){function l(r){r=g.call(this,r)||this;r.maxValue=null;r.minValue=null;r.type="range";return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return l}(m);b.__decorate([c.property({type:Number,json:{type:[Number],read:{source:"range",reader(g,l){return l.range&&l.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",
writer(g,l,r){l[r]=[this.minValue||0,g]}}}})],e.prototype,"maxValue",void 0);b.__decorate([c.property({type:Number,json:{type:[Number],read:{source:"range",reader(g,l){return l.range&&l.range[0]}},write:{target:"range",writer(g,l,r){l[r]=[g,this.maxValue||0]}}}})],e.prototype,"minValue",void 0);b.__decorate([k.enumeration({range:"range"})],e.prototype,"type",void 0);return e=f=b.__decorate([t.subclass("esri.layers.support.RangeDomain")],e)})},"esri/form/elements/RelationshipElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./Element ../../popup/support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,e,d,k,t,m){var f;d=f=function(g){function l(r){r=g.call(this,r)||this;r.displayCount=null;r.displayType="list";r.editable=!0;r.orderByFields=null;r.relationshipId=null;r.type="relationship";return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:c.clone(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})};
return l}(t);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"displayCount",void 0);b.__decorate([e.property({type:["list"],json:{write:!0}})],d.prototype,"displayType",void 0);b.__decorate([e.property({type:Boolean,json:{write:!0}})],d.prototype,"editable",void 0);b.__decorate([e.property({type:[m],json:{write:!0}})],d.prototype,"orderByFields",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],d.prototype,"relationshipId",void 0);b.__decorate([e.property({type:["relationship"],
json:{read:!1,write:!0}})],d.prototype,"type",void 0);return d=f=b.__decorate([k.subclass("esri.form.elements.RelationshipElement")],d)})},"esri/layers/graphics/sources/MemorySource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../core/Collection ../../../core/Error ../../../core/HandleOwner ../../../core/has ../../../core/Loadable ../../../core/Logger ../../../core/maybe ../../../core/Promise ../../../core/workers/workers ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/shared ../../../core/accessorSupport/decorators/subclass ../../../rest/query/operations/editsZScale ../../../rest/query/operations/queryZScale ../../../rest/support/FeatureSet ../../../geometry/Extent ../../../geometry/Polygon ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A,B,E,y){let C=0;const D=l.getLogger("esri.layers.graphics.sources.MemorySource");a.MemorySource=function(J){function M(I){I=J.call(this,I)||this;I._idToClientGraphic=null;I.type="memory";return I}b._inheritsLoose(M,J);var L=M.prototype;L.load=function(I){I=r.isSome(I)?I.signal:null;this.addResolvingPromise(this._startWorker(I));return Promise.resolve(this)};L.destroy=function(){this._connection?.close();this._connection=null};L.applyEdits=function(I){return this.load().then(()=>
this._applyEdits(I))};L.openPorts=function(){return this.load().then(()=>this._connection.openPorts())};L.queryFeatures=function(){var I=b._asyncToGenerator(function*(G,K={}){yield this.load(K);K=yield this._connection.invoke("queryFeatures",G?G.toJSON():null,K);w.applyFeatureSetZUnitScaling(G,this.layer.spatialReference,K);G=A.fromJSON(K);if(!this._requiresClientGraphicMapping())return G;K=this.layer.objectIdField;for(const H of G.features){const O=this._idToClientGraphic.get(H.attributes[K]);O&&
(H.geometry=O.geometry)}G.geometryType=this.layer.geometryType;return G});return function(G){return I.apply(this,arguments)}}();L.queryFeaturesJSON=function(){var I=b._asyncToGenerator(function*(G,K={}){if(this._requiresClientGraphicMapping())throw new t("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");yield this.load(K);K=yield this._connection.invoke("queryFeatures",G?G.toJSON():null,K);w.applyFeatureSetZUnitScaling(G,this.layer.spatialReference,
K);return K});return function(G){return I.apply(this,arguments)}}();L.queryFeatureCount=function(I,G={}){return this.load(G).then(()=>this._connection.invoke("queryFeatureCount",I?I.toJSON():null,G))};L.queryObjectIds=function(I,G={}){return this.load(G).then(()=>this._connection.invoke("queryObjectIds",I?I.toJSON():null,G))};L.queryExtent=function(I,G={}){return this.load(G).then(()=>this._connection.invoke("queryExtent",I?I.toJSON():null,G)).then(K=>({count:K.count,extent:B.fromJSON(K.extent)}))};
L.querySnapping=function(I,G={}){return this.load(G).then(()=>this._connection.invoke("querySnapping",I,G))};L._applyEdits=function(){var I=b._asyncToGenerator(function*(G){if(!this._connection)throw new t("feature-layer-source:edit-failure","Memory source not loaded");const K=this.layer.objectIdField;let H=null;const O=[],Q=[];yield Promise.all([this._prepareClientMapping(G.addFeatures,null),this._prepareClientMapping(G.updateFeatures,null)]);const W=ra=>"objectId"in ra&&null!=ra.objectId?ra.objectId:
"attributes"in ra&&null!=ra.attributes[K]?ra.attributes[K]:null;G.addFeatures&&(H=this._prepareAddFeatures(G.addFeatures));if(G.deleteFeatures)for(var T of G.deleteFeatures){const ra=W(T);null!=ra&&O.push(ra)}T=G.updateFeatures&&this._idToClientGraphic?new Map:null;if(G.updateFeatures)for(const ra of G.updateFeatures)Q.push(this._serializeFeature(ra)),T&&(G=W(ra),null!=G&&T.set(G,ra));x.unapplyEditsZUnitScaling(H?H.features:null,Q,this.layer.spatialReference);const {fullExtent:Y,featureEditResults:X}=
yield this._connection.invoke("applyEdits",{adds:H?H.features:[],updates:Q,deletes:O});this.fullExtent=Y;H&&H.finish(X.uidToObjectId);this._updateClientGraphicIds(T,X);return this._createEditsResult(X)});return function(G){return I.apply(this,arguments)}}();L._prepareClientMapping=function(){var I=b._asyncToGenerator(function*(G,K){if("mesh"===this._layerOrSourceGeometryType&&!r.isNone(G)){var H=[];for(const {geometry:O}of G)!r.isSome(O)||"mesh"!==O.type||O.hasExtent||O.loaded||H.push(O.load({signal:K}));
H.length&&(yield Promise.all(H))}});return function(G,K){return I.apply(this,arguments)}}();L._updateClientGraphicIds=function(I,G){if(this._idToClientGraphic){if(I)for(const K of G.updateResults){if(!K.success)continue;const H=I.get(K.objectId);null!=H&&this._addIdToClientGraphic(H)}for(const K of G.deleteResults)K.success&&this._idToClientGraphic.delete(K.objectId)}};L._createEditsResult=function(I){return{addFeatureResults:I.addResults?I.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:I.updateResults?
I.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:I.deleteResults?I.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}};L._createFeatureEditResult=function(I){const G=!0===I.success?null:I.error||{code:void 0,description:void 0};return{objectId:I.objectId,globalId:I.globalId,error:G?new t("feature-layer-source:edit-failure",G.description,{code:G.code}):null}};L._prepareAddFeatures=function(I){const G=
new Map,K=Array(I.length);let H=null;for(let Q=0;Q<I.length;Q++){const W=I[Q],T=this._serializeFeature(W);!H&&r.isSome(W.geometry)&&(H=W.geometry.type);K[Q]=T;G.set(`${T.uid}`,W)}const O=this;return{features:K,inferredGeometryType:H,finish(Q){const W=O.sourceJSON.objectIdField;for(const T in Q){const Y=Q[T],X=G.get(T);X&&(X.attributes||(X.attributes={}),-1===Y?delete X.attributes[W]:X.attributes[W]=Y,O._addIdToClientGraphic(X))}}}};L._addIdToClientGraphic=function(I){if(this._idToClientGraphic){var G=
this.sourceJSON.objectIdField;G=I.attributes&&I.attributes[G];null!=G&&this._idToClientGraphic.set(G,I)}};L._requiresClientGraphicMapping=function(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)};L._geometryRequiresClientGraphicMapping=function(I){return this._geometryTypeRequiresClientGraphicMapping(I.type)};L._geometryTypeRequiresClientGraphicMapping=function(I){return"mesh"===I||"multipatch"===I||"extent"===I};L._serializeFeature=function(I){const {attributes:G}=
I;I=this._geometryForSerialization(I);const K=(C++).toString();return I?{uid:K,geometry:I.toJSON(),attributes:G}:{uid:K,attributes:G}};L._geometryForSerialization=function(I){({geometry:I}=I);return r.isNone(I)?null:this._geometryRequiresClientGraphicMapping(I)?I.extent?E.fromExtent(I.extent):null:I};L._startWorker=function(){var I=b._asyncToGenerator(function*(G){this._connection=yield n.open("MemorySourceWorker",{strategy:f("feature-layers-workers")?"dedicated":"local",signal:G});const {fields:K,
spatialReference:H,objectIdField:O,hasM:Q,hasZ:W,timeInfo:T}=this.layer;var Y="defaults"===this.layer.originOf("spatialReference");yield this._prepareClientMapping(this.items,G);const X=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",Ba=>{D.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");Ba.preventDefault()}));Y={features:X.features,fields:K&&K.map(Ba=>Ba.toJSON()),geometryType:y.typeKebabDictionary.toJSON(this._workerGeometryType),
hasM:"mesh"===this._layerOrSourceGeometryType?!1:Q,hasZ:"mesh"===this._layerOrSourceGeometryType?!0:W,objectIdField:O,spatialReference:Y?null:H&&H.toJSON(),timeInfo:T?T.toJSON():null};G=yield this._connection.invoke("load",Y,{signal:G});for(var ra of G.warnings)D.warn(ra.message,{layer:this.layer,warning:ra});G.featureErrors.length&&D.warn(`Encountered ${G.featureErrors.length} validation errors while loading features`,G.featureErrors);ra=G.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(X.inferredGeometryType)&&
(ra.geometryType=y.typeKebabDictionary.toJSON(X.inferredGeometryType));this.sourceJSON=ra;this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map);X.finish(G.assignedObjectIds)});return function(G){return I.apply(this,arguments)}}();b._createClass(M,[{key:"_workerGeometryType",get:function(){const I=this.layer?.geometryType;return I?this._geometryTypeRequiresClientGraphicMapping(I)?"polygon":I:null}},{key:"_layerOrSourceGeometryType",get:function(){return this.layer?.geometryType??
this.sourceJSON?.geometryType}}]);return M}(g.LoadableMixin(p.EsriPromiseMixin(m.HandleOwnerMixin(k))));c.__decorate([u.shared({Type:d,ensureType:h.ensureType(d)})],a.MemorySource.prototype,"itemType",void 0);c.__decorate([v.property()],a.MemorySource.prototype,"type",void 0);c.__decorate([v.property({constructOnly:!0})],a.MemorySource.prototype,"layer",void 0);c.__decorate([v.property({readOnly:!0})],a.MemorySource.prototype,"_workerGeometryType",null);c.__decorate([v.property()],a.MemorySource.prototype,
"sourceJSON",void 0);a.MemorySource=c.__decorate([z.subclass("esri.layers.graphics.sources.MemorySource")],a.MemorySource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/HandleOwner":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./Handles ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./support/WatchUpdatingTracking".split(" "),function(a,b,c,e,d,k,t,m){const f=g=>{g=function(l){function r(){return l.apply(this,
arguments)||this}b._inheritsLoose(r,l);r.prototype.destroy=function(){this.destroyed||(this._get("handles")?.destroy(),this._get("updatingHandles")?.destroy())};b._createClass(r,[{key:"handles",get:function(){return this._get("handles")||new d}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new m.WatchUpdatingTracking}}]);return r}(g);c.__decorate([k.property({readOnly:!0})],g.prototype,"handles",null);c.__decorate([k.property({readOnly:!0})],g.prototype,"updatingHandles",
null);return g=c.__decorate([t.subclass("esri.core.HandleOwner")],g)};a.HandleOwner=function(g){function l(){return g.apply(this,arguments)||this}b._inheritsLoose(l,g);return l}(f(e));a.HandleOwner=c.__decorate([t.subclass("esri.core.HandleOwner")],a.HandleOwner);a.HandleOwnerMixin=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/support/WatchUpdatingTracking":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../Accessor ../Handles ../maybe ../reactiveUtils ../scheduling ../accessorSupport/decorators/property ../accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f,g){a.WatchUpdatingTracking=function(l){function r(){var n=l.apply(this,arguments)||this;n.updating=!1;n._handleId=0;n._handles=new d;n._scheduleHandleId=0;n._pendingPromises=new Set;return n}b._inheritsLoose(r,l);var p=r.prototype;p.destroy=function(){this.removeAll();this._handles.destroy()};p.add=function(n,v,h={}){return this._installWatch(n,v,h,t.watch)};p.addWhen=function(n,v,h={}){return this._installWatch(n,v,h,t.when)};p.addOnCollectionChange=function(n,v,{initial:h=
!1,final:q=!1}={}){const u=++this._handleId;this._handles.add([t.on(n,"after-changes",this._createSyncUpdatingCallback(),t.sync),t.on(n,"change",v,{onListenerAdd:h?z=>v({added:z.toArray(),removed:[]}):void 0,onListenerRemove:q?z=>v({added:[],removed:z.toArray()}):void 0})],u);return{remove:()=>this._handles.remove(u)}};p.addPromise=function(n){if(k.isNone(n))return n;const v=++this._handleId;this._handles.add({remove:()=>{this._pendingPromises.delete(n)&&(0!==this._pendingPromises.size||this._handles.has(-42)||
this._set("updating",!1))}},v);this._pendingPromises.add(n);this._set("updating",!0);const h=()=>this._handles.remove(v);n.then(h,h);return n};p.removeAll=function(){this._pendingPromises.clear();this._handles.removeAll();this._set("updating",!1)};p._installWatch=function(n,v,h={},q){const u=++this._handleId;h.sync||this._installSyncUpdatingWatch(n,u);n=q(n,v,h);this._handles.add(n,u);return{remove:()=>this._handles.remove(u)}};p._installSyncUpdatingWatch=function(n,v){const h=this._createSyncUpdatingCallback();
n=t.watch(n,h,{sync:!0,equals:()=>!1});this._handles.add(n,v);return n};p._createSyncUpdatingCallback=function(){return()=>{this._handles.remove(-42);++this._scheduleHandleId;const n=this._scheduleHandleId;this._get("updating")||this._set("updating",!0);this._handles.add(m.schedule(()=>{n===this._scheduleHandleId&&(this._set("updating",0<this._pendingPromises.size),this._handles.remove(-42))}),-42)}};return r}(e);c.__decorate([f.property({readOnly:!0})],a.WatchUpdatingTracking.prototype,"updating",
void 0);a.WatchUpdatingTracking=c.__decorate([g.subclass("esri.core.support.WatchUpdatingTracking")],a.WatchUpdatingTracking);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/workers":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../Error ../has ../promiseUtils ./Connection ./RemoteClient ./WorkerOwner".split(" "),function(a,b,c,e,d,k,t,m,f){function g(w){if(w&&w.__esModule)return w;const A=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});
if(w)for(const B in w)if("default"!==B){const E=Object.getOwnPropertyDescriptor(w,B);Object.defineProperty(A,B,E.get?E:{enumerable:!0,get:()=>w[B]})}A.default=w;return Object.freeze(A)}function l(w,A){return r.apply(this,arguments)}function r(){r=c._asyncToGenerator(function*(w,A){const B=new t;yield B.open(w,A);return B});return r.apply(this,arguments)}function p(){p=c._asyncToGenerator(function*(w,A={}){if("string"!==typeof w)throw new e("workers:undefined-module","modulePath is missing");var B=
A.strategy||"distributed";d("host-webworker")&&!d("esri-workers")&&(B="local");if("local"===B){var E=yield m.loadWorker(w);E||(E=yield new Promise((y,C)=>a([w],D=>y(g(D)),C)));k.throwIfAborted(A.signal);B=A.client||E;E=m.connect(E);return l([E],{...A,client:B})}yield n();k.throwIfAborted(A.signal);if("dedicated"===B)return B=q++%h,B=yield u[B].open(w,A),l([B],A);if(A.maxNumWorkers&&0<A.maxNumWorkers&&(B=Math.min(A.maxNumWorkers,h),B<h)){E=Array(B);for(let y=0;y<B;++y){const C=q++%h;E[y]=u[C].open(w,
A)}return l(E,A)}B=u.map(y=>y.open(w,A));return l(B,A)});return p.apply(this,arguments)}function n(){return v.apply(this,arguments)}function v(){v=c._asyncToGenerator(function*(){if(z)return z;x=new AbortController;const w=[];for(let A=0;A<h;A++){const B=f.create(A).then(E=>u[A]=E);w.push(B)}return z=Promise.all(w)});return v.apply(this,arguments)}let h=d("esri-workers-debug")?1:d("esri-mobile")?Math.min(navigator.hardwareConcurrency-1,3):d("host-browser")?navigator.hardwareConcurrency-1:0;h||(h=
d("safari")&&d("mac")?7:2);let q=0;const u=[];let z=null,x;b.Connection=t;b.RemoteClient=m;b.initialize=function(){n()};b.open=function(w){return p.apply(this,arguments)};b.openWithPorts=function(w,A){return l(w,{client:A})};b.terminate=function(){z&&(x.abort(),z=null);for(let w=0;w<u.length;w++)u[w]&&u[w].terminate();u.length=0};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/Connection":function(){define("../../chunks/_rollupPluginBabelHelpers ../handleUtils ../Logger ../promiseUtils ../Queue ./RemoteClient".split(" "),
function(a,b,c,e,d,k){return function(){function t(){this._inUseClients=[];this._clients=[];this._clientPromises=[];this._ongoingJobsQueue=new d}var m=t.prototype;m.destroy=function(){this.close()};m.open=function(f,g){return new Promise((l,r)=>{let p=!0;const n=v=>{e.throwIfAborted(g.signal);p&&(p=!1,v())};this._clients.length=f.length;this._clientPromises.length=f.length;this._inUseClients.length=f.length;for(let v=0;v<f.length;++v){const h=f[v];e.isPromiseLike(h)?this._clientPromises[v]=h.then(q=>
{this._clients[v]=new k(q,g,()=>this._ongoingJobsQueue.pop()??null);n(l);return this._clients[v]},()=>{n(r);return null}):(this._clients[v]=new k(h,g,()=>this._ongoingJobsQueue.pop()??null),this._clientPromises[v]=Promise.resolve(this._clients[v]),n(l))}})};m.broadcast=function(f,g,l){const r=Array(this._clientPromises.length);for(let p=0;p<this._clientPromises.length;++p)r[p]=this._clientPromises[p].then(n=>n?.invoke(f,g,l));return r};m.close=function(){let f;for(;f=this._ongoingJobsQueue.pop();)f.deferred.reject(e.createAbortError(`Worker closing, aborting job calling '${f.methodName}'`));
for(const g of this._clientPromises)g.then(l=>l?.close());this._clients.length=0;this._clientPromises.length=0};m.invoke=function(f,g,l){let r;Array.isArray(l)?(c.getLogger("esri.core.workers.Connection").warn("invoke()","The transferList parameter is deprecated, use the options object instead"),r={transferList:l}):r=l;l=e.createDeferred();this._ongoingJobsQueue.push({methodName:f,data:g,invokeOptions:r,deferred:l});for(f=0;f<this._clientPromises.length;f++)(g=this._clients[f])?g.jobAdded():this._clientPromises[f].then(p=>
p?.jobAdded());return l.promise};m.on=function(f,g){return Promise.all(this._clientPromises).then(()=>b.handlesGroup(this._clients.map(l=>l.on(f,g))))};m.openPorts=function(){return new Promise(f=>{const g=Array(this._clientPromises.length);let l=g.length;for(let r=0;r<this._clientPromises.length;++r)this._clientPromises[r].then(p=>{p&&(g[r]=p.openPort());0===--l&&f(g)})})};a._createClass(t,[{key:"closed",get:function(){return!this._clients||!this._clients.length}},{key:"test",get:function(){return{numClients:this._clients.length}}}]);
return t}()})},"esri/core/Queue":function(){define(["../chunks/_rollupPluginBabelHelpers","./maybe"],function(a,b){return function(){function c(d=k=>k.values().next().value){this._peeker=d;this._items=new Set}var e=c.prototype;e.clear=function(){this._items.clear()};e.last=function(){if(0!==this._items.size){for(var d of this._items);return d}};e.peek=function(){if(0!==this._items.size)return this._peeker(this._items)};e.push=function(d){this.contains(d)||this._items.add(d)};e.contains=function(d){return this._items.has(d)};
e.pop=function(){if(0!==this.length){var d=this.peek();this._items.delete(b.assumeNonNull(d));return d}};e.popLast=function(){if(0!==this.length){var d=this.last();this._items.delete(b.assumeNonNull(d));return d}};e.remove=function(d){this._items.delete(d)};e.filter=function(d){this._items.forEach(k=>{d(k)||this._items.delete(k)});return this};a._createClass(c,[{key:"length",get:function(){return this._items.size}}]);return c}()})},"esri/core/workers/RemoteClient":function(){define("require ../../kernel ../Error ../events ../maybe ../promiseUtils ./utils ../../support/revision".split(" "),
function(a,b,c,e,d,k,t,m){const f=z=>Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"})),g={statsWorker:()=>new Promise((z,x)=>a(["../../smartMapping/statistics/support/statsWorker"],z,x)),geometryEngineWorker:()=>new Promise((z,x)=>a(["../../geometry/geometryEngineWorker"],z,x)),CSVSourceWorker:()=>new Promise((z,x)=>a(["../../layers/graphics/sources/support/CSVSourceWorker"],w=>z(f(w)),x)),EdgeProcessingWorker:()=>new Promise((z,x)=>a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],
w=>z(f(w)),x)),ElevationSamplerWorker:()=>new Promise((z,x)=>a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],w=>z(f(w)),x)),FeatureServiceSnappingSourceWorker:()=>new Promise((z,x)=>a(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],w=>z(f(w)),x)),GeoJSONSourceWorker:()=>new Promise((z,x)=>a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],w=>z(f(w)),x)),LercWorker:()=>new Promise((z,x)=>a(["../../layers/support/LercWorker"],
w=>z(f(w)),x)),MemorySourceWorker:()=>new Promise((z,x)=>a(["../../layers/graphics/sources/support/MemorySourceWorker"],w=>z(f(w)),x)),PBFDecoderWorker:()=>new Promise((z,x)=>a(["../../views/3d/support/PBFDecoderWorker"],w=>z(f(w)),x)),Pipeline:()=>new Promise((z,x)=>a(["../../views/2d/layers/features/Pipeline"],w=>z(f(w)),x)),PointCloudWorker:()=>new Promise((z,x)=>a(["../../views/3d/layers/PointCloudWorker"],w=>z(f(w)),x)),RasterWorker:()=>new Promise((z,x)=>a(["../../layers/support/RasterWorker"],
w=>z(f(w)),x)),SceneLayerSnappingSourceWorker:()=>new Promise((z,x)=>a(["../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker"],w=>z(f(w)),x)),SceneLayerWorker:()=>new Promise((z,x)=>a(["../../views/3d/layers/SceneLayerWorker"],z,x)),WFSSourceWorker:()=>new Promise((z,x)=>a(["../../layers/graphics/sources/WFSSourceWorker"],w=>z(f(w)),x)),WorkerTileHandler:()=>new Promise((z,x)=>a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],w=>z(f(w)),x))},{CLOSE:l,
ABORT:r,INVOKE:p,RESPONSE:n,OPEN_PORT:v,ON:h}=t.MessageType;let q=function(){function z(w){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=w;this._timer=null;this._process=this._process.bind(this)}var x=z.prototype;x.push=function(w){w.type===t.MessageType.ABORT?this._cancelledJobIds.add(w.jobId):(this._invokeMessages.push(w),null===this._timer&&(this._timer=setTimeout(this._process,0)))};x.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();
this._timer=null};x._process=function(){this._timer=null;for(const w of this._invokeMessages)this._cancelledJobIds.has(w.jobId)||this._invoke(w);this._cancelledJobIds.clear();this._invokeMessages.length=0};return z}(),u=function(){function z(w,A,B){this._port=w;this._getNextJob=B;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new q(E=>this._onInvokeMessage(E));this._client=A.client;this._onMessage=this._onMessage.bind(this);this._channel=A.channel;this._schedule=A.schedule;this._port.addEventListener("message",
this._onMessage);this._port.start()}z.connect=function(w){const A=new MessageChannel;w="function"===typeof w?new w:"default"in w&&"function"===typeof w.default?new w.default:w;const B=new z(A.port1,{channel:A,client:w},()=>null);"object"===typeof w&&"remoteClient"in w&&(w.remoteClient=B);z.clients.set(B,w);return A.port2};z.loadWorker=function(w){return(w=g[w])?w():Promise.resolve(null)};var x=z.prototype;x.close=function(){this._post({type:l});this._close()};x.isBusy=function(){return 0<this._outJobs.size};
x.invoke=function(w,A,B){const E=B&&B.signal,y=B&&B.transferList;if(!this._port)return Promise.reject(new c("worker:port-closed",`Cannot call invoke('${w}'), port is closed`,{methodName:w,data:A}));const C=t.newJobId();return new Promise((D,J)=>{if(k.isAborted(E))this._processWork(),J(k.createAbortError());else{var M=k.onAbort(E,()=>{const L=this._outJobs.get(C);L&&(this._outJobs.delete(C),this._processWork(),d.removeMaybe(L.abortHandle),this._post({type:r,jobId:C}),J(k.createAbortError()))});this._outJobs.set(C,
{resolve:D,reject:J,abortHandle:M,debugInfo:w});this._post({type:p,jobId:C,methodName:w,abortable:null!=E},A,y)}})};x.on=function(w,A){function B(y){A(y.data)}const E=new MessageChannel;this._port.postMessage({type:t.MessageType.ON,eventType:w,port:E.port2},[E.port2]);E.port1.addEventListener("message",B);E.port1.start();return{remove(){E.port1.postMessage({type:t.MessageType.CLOSE});E.port1.close();E.port1.removeEventListener("message",B)}}};x.jobAdded=function(){this._processWork()};x.openPort=
function(){const w=new MessageChannel;this._post({type:v,port:w.port2});return w.port1};x._processWork=function(){if(!(2<=this._outJobs.size)){var w=this._getNextJob();if(w){var {methodName:A,data:B,invokeOptions:E,deferred:y}=w;this.invoke(A,B,E).then(C=>y.resolve(C)).catch(C=>y.reject(C))}}};x._close=function(){this._channel&&(this._channel=void 0);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(w=>{d.removeMaybe(w.abortHandle);w.reject(k.createAbortError(`Worker closing, aborting job calling '${w.debugInfo}'`))});
this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._port=this._client=this._schedule=null};x._onMessage=function(w){d.isSome(this._schedule)?this._schedule(()=>this._processMessage(w)):this._processMessage(w)};x._processMessage=function(w){if(w=t.receiveMessage(w))switch(w.type){case n:this._onResponseMessage(w);break;case p:this._invokeQueue.push(w);break;case r:this._onAbortMessage(w);break;case l:this._onCloseMessage();break;case v:this._onOpenPortMessage(w);break;case h:this._onOnMessage(w)}};
x._onAbortMessage=function(w){const A=this._inJobs,B=w.jobId,E=A.get(B);this._invokeQueue.push(w);E&&(E.controller&&E.controller.abort(),A.delete(B))};x._onCloseMessage=function(){const w=this._client;this._close();w&&"destroy"in w&&z.clients.get(this)===w&&w.destroy();z.clients.delete(this);w&&w.remoteClient&&(w.remoteClient=null)};x._onInvokeMessage=function(w){const {methodName:A,jobId:B,data:E,abortable:y}=w;w=y?new AbortController:null;const C=this._inJobs;let D=this._client,J=D[A],M;try{if(!J&&
A&&A.includes(".")){const L=A.split(".");for(let I=0;I<L.length-1;I++)D=D[L[I]],J=D[L[I+1]]}if("function"!==typeof J)throw new TypeError(`${A} is not a function`);M=J.call(D,E,{client:this,signal:w?w.signal:null})}catch(L){this._post({type:n,jobId:B,error:t.toInvokeError(L)});return}k.isPromiseLike(M)?(C.set(B,{controller:w,promise:M}),M.then(L=>{C.has(B)&&(C.delete(B),this._post({type:n,jobId:B},L))},L=>{C.has(B)&&(C.delete(B),k.isAbortError(L)||this._post({type:n,jobId:B,error:t.toInvokeError(L||
{message:`Error encountered at method ${A}`})}))})):this._post({type:n,jobId:B},M)};x._onOpenPortMessage=function(w){new z(w.port,{client:this._client},()=>null)};x._onOnMessage=function(w){const {port:A}=w,B=this._client.on(w.eventType,y=>{A.postMessage(y)}),E=e.on(w.port,"message",y=>{t.receiveMessage(y)?.type===t.MessageType.CLOSE&&(E.remove(),B.remove(),A.close())})};x._onResponseMessage=function(w){const {jobId:A,error:B,data:E}=w;w=this._outJobs;if(w.has(A)){var y=w.get(A);w.delete(A);this._processWork();
d.removeMaybe(y.abortHandle);B?y.reject(c.fromJSON(JSON.parse(B))):y.resolve(E)}};x._post=function(w,A,B){return t.postMessage(this._port,w,A,B)};return z}();u.kernelInfo={revision:m.commitHash,version:b.version,buildDate:m.buildDate};u.clients=new Map;return u})},"esri/core/workers/utils":function(){define(["exports","../has"],function(a,b){function c(m){return m&&"object"===typeof m&&("result"in m||"transferList"in m)}function e(m){return m?"string"===typeof m?JSON.stringify({name:"message",message:m}):
m.toJSON?JSON.stringify(m):JSON.stringify({name:m.name,message:m.message,details:m.details||{stack:m.stack}}):null}function d(m,f,g,l){if(f.type===a.MessageType.OPEN_PORT)m.postMessage(f,[f.port]);else if(f.type!==a.MessageType.INVOKE&&f.type!==a.MessageType.RESPONSE)m.postMessage(f);else if(c(g)?(l=k(g.transferList),f.data=g.result):(l=k(l),f.data=g),l){if(b("ff"))for(const r of l)if("byteLength"in r&&267386880<r.byteLength)switch(f.type){case a.MessageType.INVOKE:throw"Worker call with large ArrayBuffer would crash Firefox";
case a.MessageType.RESPONSE:d(m,{type:a.MessageType.RESPONSE,jobId:f.jobId,error:e("Worker call with large ArrayBuffer would crash Firefox")});return}m.postMessage(f,l)}else m.postMessage(f)}function k(m){if(!m||!m.length)return null;if(b("esri-workers-arraybuffer-transfer"))return m;m=m.filter(f=>!(f instanceof ArrayBuffer||f&&f.constructor&&"ArrayBuffer"===f.constructor.name));return m.length?m:null}a.MessageType=void 0;(function(m){m[m.HANDSHAKE=0]="HANDSHAKE";m[m.OPEN=1]="OPEN";m[m.OPENED=2]=
"OPENED";m[m.RESPONSE=3]="RESPONSE";m[m.INVOKE=4]="INVOKE";m[m.ABORT=5]="ABORT";m[m.CLOSE=6]="CLOSE";m[m.OPEN_PORT=7]="OPEN_PORT";m[m.ON=8]="ON"})(a.MessageType||(a.MessageType={}));let t=0;a.isTranferableResult=c;a.newJobId=function(){return t++};a.postMessage=d;a.receiveMessage=function(m){return m?(m=m.data)?"string"===typeof m?JSON.parse(m):m:null:null};a.toInvokeError=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerOwner":function(){define("../../chunks/_rollupPluginBabelHelpers ../../kernel ../Error ../Logger ../maybe ../promiseUtils ./utils ./workerFactory".split(" "),
function(a,b,c,e,d,k,t,m){const {ABORT:f,INVOKE:g,OPEN:l,OPENED:r,RESPONSE:p}=t.MessageType;return function(){function n(h,q){this._outJobs=new Map;this._inJobs=new Map;this.worker=h;this.id=q;h.addEventListener("message",this._onMessage.bind(this));h.addEventListener("error",u=>{u.preventDefault();e.getLogger("esri.core.workers.WorkerOwner").error(u)})}n.create=function(){var h=a._asyncToGenerator(function*(q){const u=yield m.createWorker();return new n(u,q)});return function(q){return h.apply(this,
arguments)}}();var v=n.prototype;v.terminate=function(){this.worker.terminate()};v.open=function(){var h=a._asyncToGenerator(function*(q,u={}){const {signal:z}=u,x=t.newJobId();return new Promise((w,A)=>{const B=k.onAbortOrThrow(z,()=>{this._outJobs.delete(x);this._post({type:f,jobId:x})});this._outJobs.set(x,{resolve:w,reject:A,abortHandle:B});this._post({type:l,jobId:x,modulePath:q})})});return function(q){return h.apply(this,arguments)}}();v._onMessage=function(h){if(h=t.receiveMessage(h))switch(h.type){case r:this._onOpenedMessage(h);
break;case p:this._onResponseMessage(h);break;case f:this._onAbortMessage(h);break;case g:this._onInvokeMessage(h)}};v._onAbortMessage=function(h){const q=this._inJobs;h=h.jobId;const u=q.get(h);u&&(u.controller&&u.controller.abort(),q.delete(h))};v._onInvokeMessage=function(h){const {methodName:q,jobId:u,data:z,abortable:x}=h;h=x?new AbortController:null;const w=this._inJobs,A=b.workerMessages[q];let B;try{if("function"!==typeof A)throw new TypeError(`${q} is not a function`);B=A.call(null,z,{signal:h?
h.signal:null})}catch(E){this._post({type:p,jobId:u,error:t.toInvokeError(E)});return}k.isPromiseLike(B)?(w.set(u,{controller:h,promise:B}),B.then(E=>{w.has(u)&&(w.delete(u),this._post({type:p,jobId:u},E))},E=>{w.has(u)&&(w.delete(u),E||(E={message:"Error encountered at method"+q}),k.isAbortError(E)||this._post({type:p,jobId:u,error:t.toInvokeError(E||{message:`Error encountered at method ${q}`})}))})):this._post({type:p,jobId:u},B)};v._onOpenedMessage=function(h){const {jobId:q,data:u}=h;if(h=this._outJobs.get(q))this._outJobs.delete(q),
d.removeMaybe(h.abortHandle),h.resolve(u)};v._onResponseMessage=function(h){const {jobId:q,error:u,data:z}=h;if(h=this._outJobs.get(q))this._outJobs.delete(q),d.removeMaybe(h.abortHandle),u?h.reject(c.fromJSON(JSON.parse(u))):h.resolve(z)};v._post=function(h,q,u){return t.postMessage(this.worker,h,q,u)};return n}()})},"esri/core/workers/workerFactory":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../assets ../../config ../../intl ../../kernel ../has ../Logger ../urlUtils ./loaderConfig ./utils ./WorkerFallback ../../intl/locale ../../support/revision".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n){function v(){v=b._asyncToGenerator(function*(){if(!t("esri-workers")||(t("mozilla"),0))return h(new r);if(!x&&!w)try{var B=["let globalId\x3d0;const outgoing\x3dnew Map,configuration\x3dJSON.parse(",');self.esriConfig\x3dconfiguration.esriConfig;const workerPath\x3dself.esriConfig.workers.workerPath,HANDSHAKE\x3d0,OPEN\x3d1,OPENED\x3d2,RESPONSE\x3d3,INVOKE\x3d4,ABORT\x3d5;function createAbortError(){const e\x3dnew Error("Aborted");return e.name\x3d"AbortError",e}function receiveMessage(e){return e\x26\x26e.data?"string"\x3d\x3dtypeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t\x3dr\x26\x26r.signal,n\x3dglobalId++;return new Promise(((r,i)\x3d\x3e{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()\x3d\x3e{outgoing.get(n)\x26\x26(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!\x3dt,data:o})}))}let workerRevisionChecked\x3d!1;function checkWorkerRevision(e){if(!workerRevisionChecked\x26\x26e.kernelInfo){workerRevisionChecked\x3d!0;const{revision:o,version:r}\x3dconfiguration.kernelInfo,{revision:t,version:n}\x3de.kernelInfo;esriConfig.assetsPath!\x3d\x3desriConfig.defaultAssetsPath\x26\x26o!\x3d\x3dt\x26\x26console.warn(`Version mismatch detected between ArcGIS API for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n}`)}}function messageHandler(e){const o\x3dreceiveMessage(e);if(!o)return;const r\x3do.jobId;switch(o.type){case 1:let n;function t(e){const o\x3dn.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"\x3d\x3dtypeof define\x26\x26define.amd?require([workerPath],(e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||new Promise((e\x3d\x3e{require([o.modulePath],e)})))).then(t)})):"System"in self\x26\x26"function"\x3d\x3dtypeof System.import?System.import(workerPath).then((e\x3d\x3e(n\x3de.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e\x3d\x3ee||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n\x3dself.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const i\x3doutgoing.get(r);outgoing.delete(r),o.error?i.reject(JSON.parse(o.error)):i.resolve(o.data)}}}self.dojoConfig\x3dconfiguration.loaderConfig,esriConfig.workers.loaderUrl\x26\x26(self.importScripts(esriConfig.workers.loaderUrl),"function"\x3d\x3dtypeof require\x26\x26"function"\x3d\x3dtypeof require.config\x26\x26require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'],
E=B.join;let D;if(null!=e["default"]){const I={...e};delete I["default"];D=JSON.parse(JSON.stringify(I))}else D=JSON.parse(JSON.stringify(e));D.assetsPath=f.makeAbsolute(D.assetsPath);D.defaultAssetsPath=D.defaultAssetsPath?f.makeAbsolute(D.defaultAssetsPath):void 0;D.request.interceptors=[];D.log.interceptors=[];D.locale=p.getLocale();D.has={"esri-csp-restrictions":t("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":t("esri-2d-update-debug"),"featurelayer-pbf":t("featurelayer-pbf"),
"featurelayer-simplify-thresholds":t("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":t("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":t("featurelayer-simplify-mobile-factor"),"esri-atomics":t("esri-atomics"),"esri-shared-array-buffer":t("esri-shared-array-buffer"),"esri-tiles-debug":t("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":t("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":t("feature-polyline-generalization-factor"),
"host-webworker":1,"polylabel-placement-enabled":t("polylabel-placement-enabled")};D.workers.loaderUrl?D.workers.loaderUrl=f.makeAbsolute(D.workers.loaderUrl):g.DEFAULT_LOADER_URL&&(D.workers.loaderUrl=g.DEFAULT_LOADER_URL);D.workers.workerPath=D.workers.workerPath?f.makeAbsolute(D.workers.workerPath):"esri/core/workers/RemoteClient";D.workers.useDynamicImport=!1;const J=e.workers.loaderConfig,M=g.loaderConfig({baseUrl:J?.baseUrl,locale:p.getLocale(),has:{"csp-restrictions":1,"dojo-test-sniff":0,
"host-webworker":1,...J?.has},map:{...J?.map},paths:{...J?.paths},packages:J?.packages||[]});var y=JSON.stringify({esriConfig:D,loaderConfig:M,kernelInfo:{version:k.version,buildDate:n.buildDate,revision:n.commitHash}});const L=E.call(B,`'${y}'`);x=URL.createObjectURL(new Blob([L],{type:"text/javascript"}))}catch(D){w=D||{}}let C;if(x)try{C=new Worker(x,{name:`esri-worker-${A++}`})}catch(D){u.warn("Failed to create Worker. Fallback to execute module in main thread",w),C=new r}else u.warn("Failed to create Worker. Fallback to execute module in main thread",
w),C=new r;return h(C)});return v.apply(this,arguments)}function h(B){return q.apply(this,arguments)}function q(){q=b._asyncToGenerator(function*(B){return new Promise(E=>{function y(D){(D=l.receiveMessage(D))&&D.type===z&&(B.removeEventListener("message",y),B.removeEventListener("error",C),E(B))}function C(D){D.preventDefault();B.removeEventListener("message",y);B.removeEventListener("error",C);u.warn("Failed to create Worker. Fallback to execute module in main thread",D);B=new r;B.addEventListener("message",
y);B.addEventListener("error",C)}B.addEventListener("message",y);B.addEventListener("error",C)})});return q.apply(this,arguments)}const u=m.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:z}=l.MessageType;let x,w,A=0;a.createWorker=function(){return v.apply(this,arguments)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl":function(){define("exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages ./intl/t9n ./assets".split(" "),function(a,
b,c,e,d,k,t,m){k.registerMessageBundleLoader(t.createJSONLoader({pattern:"esri/",location:m.getAssetUrl}));a.convertDateFormatToIntlOptions=b.convertDateFormatToIntlOptions;a.formatDate=b.formatDate;a.convertNumberFormatToIntlOptions=c.convertNumberFormatToIntlOptions;a.formatNumber=c.formatNumber;a.substitute=e.substitute;a.getLocale=d.getLocale;a.onLocaleChange=d.onLocaleChange;a.prefersRTL=d.prefersRTL;a.setLocale=d.setLocale;a.fetchMessageBundle=k.fetchMessageBundle;a.normalizeMessageBundleLocale=
k.normalizeMessageBundleLocale;a.registerMessageBundleLoader=k.registerMessageBundleLoader;a.createJSONLoader=t.createJSONLoader;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/substitute":function(){define("exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),function(a,b,c,e,d,k){function t(f){switch(typeof f){case "string":return f;case "number":return k.formatNumber(f);case "boolean":return""+f;default:return f instanceof Date?d.formatDate(f):
""}}const m=b.getLogger("esri.intl.substitute");a.substitute=function(f,g,l={}){const {format:r={}}=l;return e.replace(f,p=>{{const h=p.indexOf(":");if(-1===h)var n=p.trim();else{n=p.slice(0,h).trim();var v=p.slice(h+1).trim()}if(n)if(p=c.getDeepValue(n,g),null==p)v="";else if(n=(v?r?.[v]:null)??r?.[n])b:switch(n.type){case "date":v=d.formatDate(p,n.intlOptions);break b;case "number":v=k.formatNumber(p,n.intlOptions);break b;default:m.warn("missing format descriptor for key {key}"),v=t(p)}else if(v)b:switch(v.toLowerCase()){case "dateformat":v=
d.formatDate(p);break b;case "numberformat":v=k.formatNumber(p);break b;default:m.warn(`inline format is unsupported since 4.12: ${v}`),v=/^(dateformat|datestring)/i.test(v)?d.formatDate(p):/^numberformat/i.test(v)?k.formatNumber(p):t(p)}else v=t(p);else v=""}return v})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/t9n":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../request ../core/Error ../core/maybe ./messages".split(" "),function(a,b,c,e,d,k){function t(p,
n,v,h){return m.apply(this,arguments)}function m(){m=b._asyncToGenerator(function*(p,n,v,h){var q=n.exec(v);if(!q)throw new e("esri-intl:invalid-bundle",`Bundle id "${v}" is not compatible with the pattern "${n}"`);n=q[1]?`${q[1]}/`:"";q=q[2];const u=k.normalizeMessageBundleLocale(h);h=`${n}${q}.json`;n=u?`${n}${q}_${u}.json`:h;let z;try{z=yield f(p(n))}catch(x){if(n===h)throw new e("intl:unknown-bundle",`Bundle "${v}" cannot be loaded`,{error:x});try{z=yield f(p(h))}catch(w){throw new e("intl:unknown-bundle",
`Bundle "${v}" cannot be loaded`,{error:w});}}return z});return m.apply(this,arguments)}function f(p){return g.apply(this,arguments)}function g(){g=b._asyncToGenerator(function*(p){if(d.isSome(r.fetchBundleAsset))return r.fetchBundleAsset(p);p=yield c(p,{responseType:"text"});return JSON.parse(p.data)});return g.apply(this,arguments)}let l=function(){function p({base:n="",pattern:v,location:h=new URL(window.location.href)}){let q;q="string"===typeof h?u=>(new URL(u,new URL(h,window.location.href))).href:
h instanceof URL?u=>(new URL(u,h)).href:h;this.pattern="string"===typeof v?new RegExp(`^${v}`):v;this.getAssetUrl=q;n=n?n.endsWith("/")?n:n+"/":"";this.matcher=new RegExp(`^${n}(?:(.*)/)?(.*)$`)}p.prototype.fetchMessageBundle=function(n,v){return t(this.getAssetUrl,this.matcher,n,v)};return p}();const r={};a.JSONLoader=l;a.createJSONLoader=function(p){return new l(p)};a.test=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/loaderConfig":function(){define(["exports",
"../../assets","../has","../urlUtils"],function(a,b,c,e){a.DEFAULT_LOADER_URL=null;a.DEFAULT_LOADER_URL=e.makeAbsolute(b.getAssetUrl("esri/core/workers/init.js"));var d=e.makeAbsolute(b.getAssetUrl("dojo/"));var k=[{name:"esri",location:"../esri"}];a.loaderConfig=function(t){const m={async:t.async,isDebug:t.isDebug,locale:t.locale,baseUrl:t.baseUrl,has:{...t.has},map:{...t.map},packages:t.packages&&t.packages.concat()||[],paths:{...t.paths}};t.hasOwnProperty("async")||(m.async=!0);t.hasOwnProperty("isDebug")||
(m.isDebug=!1);t.baseUrl||(m.baseUrl=d);k?.forEach(f=>{a:{var g=m.packages??[];for(const l of g)if(l.name===f.name)break a;g.push(f)}});return m};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerFallback":function(){define(["require","../../chunks/_rollupPluginBabelHelpers","../nextTick","./RemoteClient","./utils"],function(a,b,c,e,d){function k(m){if(m&&m.__esModule)return m;const f=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(m)for(const g in m)if("default"!==
g){const l=Object.getOwnPropertyDescriptor(m,g);Object.defineProperty(f,g,l.get?l:{enumerable:!0,get:()=>m[g]})}f.default=m;return Object.freeze(f)}let t=function(){const m=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(f=>{this[f]=(...g)=>m[f](...g)})};return function(){function m(){this._dispatcher=new t;this._workerPostMessage({type:d.MessageType.HANDSHAKE})}var f=m.prototype;f.terminate=function(){};f.postMessage=function(g){c.nextTick(()=>
{this._workerMessageHandler(new MessageEvent("message",{data:g}))})};f.dispatchEvent=function(g){return this._dispatcher.dispatchEvent(g)};f.addEventListener=function(g,l,r){this._dispatcher.addEventListener(g,l,r)};f.removeEventListener=function(g,l,r){this._dispatcher.removeEventListener(g,l,r)};f._workerPostMessage=function(g){c.nextTick(()=>{this.dispatchEvent(new MessageEvent("message",{data:g}))})};f._workerMessageHandler=function(){var g=b._asyncToGenerator(function*(l){if((l=d.receiveMessage(l))&&
l.type===d.MessageType.OPEN){const {modulePath:r,jobId:p}=l;(l=yield e.loadWorker(r))||(l=yield new Promise((n,v)=>a([r],h=>n(k(h)),v)));l=e.connect(l);this._workerPostMessage({type:d.MessageType.OPENED,jobId:p,data:l})}});return function(l){return g.apply(this,arguments)}}();b._createClass(m,[{key:"onmessage",get:function(){return this._onmessageHandler},set:function(g){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=g)&&this.addEventListener("message",
g)}},{key:"onmessageerror",get:function(){return this._onmessageerrorHandler},set:function(g){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler);(this._onmessageerrorHandler=g)&&this.addEventListener("messageerror",g)}},{key:"onerror",get:function(){return this._onerrorHandler},set:function(g){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=g)&&this.addEventListener("error",g)}}]);return m}()})},"esri/rest/query/operations/editsZScale":function(){define(["exports",
"../../../core/maybe","../../../core/unitUtils","../../../geometry/support/spatialReferenceUtils"],function(a,b,c,e){function d(t,m,f){if(null==t.hasM||t.hasZ)for(const g of m)for(const l of g)2<l.length&&(l[2]*=f)}function k(t,m,f){if(t)for(const r of t){t=r.geometry;var g=m,l=f;if(!b.isNone(t)&&t.spatialReference&&!e.equals(t.spatialReference,g)&&(g=c.getMetersPerVerticalUnitForSR(t.spatialReference)/l,1!==g))if("x"in t)null!=t.z&&(t.z*=g);else if("rings"in t)d(t,t.rings,g);else if("paths"in t)d(t,
t.paths,g);else if("points"in t&&(null==t.hasM||t.hasZ))for(const p of t.points)2<p.length&&(p[2]*=g)}}a.unapplyEditsZUnitScaling=function(t,m,f){if((t||m)&&f){var g=c.getMetersPerVerticalUnitForSR(f);k(t,f,g);k(m,f,g)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/queryZScale":function(){define(["exports","../../../core/maybe","../../../geometry/support/zscale"],function(a,b,c){a.applyFeatureSetZUnitScaling=function(e,d,k){if(k&&k.features&&k.hasZ&&
(e=c.getGeometryZScaler(k.geometryType,d,e.outSpatialReference),!b.isNone(e)))for(const t of k.features)e(t.geometry)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FeatureSet":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h){var q;const u=new d.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});d=q=function(z){function x(A){A=z.call(this,A)||this;A.displayFieldName=null;A.exceededTransferLimit=!1;A.features=[];A.fields=null;A.geometryType=null;A.hasM=!1;A.hasZ=!1;A.queryGeometry=null;A.spatialReference=null;return A}a._inheritsLoose(x,z);var w=
x.prototype;w.readFeatures=function(A,B){B=n.fromJSON(B.spatialReference);const E=[];for(let D=0;D<A.length;D++){var y=A[D];const J=e.fromJSON(y);var C=y.geometry&&y.geometry.spatialReference;m.isSome(J.geometry)&&!C&&(J.geometry.spatialReference=B);y=y.aggregateGeometries;C=J.aggregateGeometries;if(y&&m.isSome(C))for(const M in C){const L=C[M],I=y[M]?.spatialReference;m.isSome(L)&&!I&&(L.spatialReference=B)}E.push(J)}return E};w.writeGeometryType=function(A,B,E,y){if(A)u.write(A,B,E,y);else if({features:A}=
this,A)for(const C of A)if(C&&m.isSome(C.geometry)){u.write(C.geometry.type,B,E,y);break}};w.readQueryGeometry=function(A,B){if(!A)return null;const E=!!A.spatialReference;(A=v.fromJSON(A))&&!E&&B.spatialReference&&(A.spatialReference=n.fromJSON(B.spatialReference));return A};w.writeSpatialReference=function(A,B){if(A)B.spatialReference=A.toJSON();else if({features:A}=this,A)for(const E of A)if(E&&m.isSome(E.geometry)&&E.geometry.spatialReference){B.spatialReference=E.geometry.spatialReference.toJSON();
break}};w.clone=function(){return new q(this.cloneProperties())};w.cloneProperties=function(){return t.clone({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})};w.toJSON=function(A){const B=this.write();if(B.features&&Array.isArray(A)&&0<A.length)for(let E=0;E<
B.features.length;E++){const y=B.features[E];if(y.geometry){const C=A&&A[E];y.geometry=C&&C.toJSON()||y.geometry}}return B};w.quantize=function(A){const {scale:[B,E],translate:[y,C]}=A,D=this.features,J=this._getQuantizationFunction(this.geometryType,M=>Math.round((M-y)/B),M=>Math.round((C-M)/E));for(let M=0,L=D.length;M<L;M++)J?.(m.unwrap(D[M].geometry))||(D.splice(M,1),M--,L--);this.transform=A;return this};w.unquantize=function(){const {geometryType:A,features:B,transform:E}=this;if(!E)return this;
const {translate:[y,C],scale:[D,J]}=E,M=this._getHydrationFunction(A,L=>L*D+y,L=>C-L*J);for(const {geometry:L}of B)m.isSome(L)&&M&&M(L);this.transform=null;return this};w._quantizePoints=function(A,B,E){let y,C;const D=[];for(let M=0,L=A.length;M<L;M++){var J=A[M];if(0<M){const I=B(J[0]);J=E(J[1]);if(I!==y||J!==C)D.push([I-y,J-C]),y=I,C=J}else y=B(J[0]),C=E(J[1]),D.push([y,C])}return 0<D.length?D:null};w._getQuantizationFunction=function(A,B,E){return"point"===A?y=>{y.x=B(y.x);y.y=E(y.y);return y}:
"polyline"===A||"polygon"===A?y=>{const C=v.isPolygon(y)?y.rings:y.paths,D=[];for(let J=0,M=C.length;J<M;J++){const L=this._quantizePoints(C[J],B,E);L&&D.push(L)}return 0<D.length?(v.isPolygon(y)?y.rings=D:y.paths=D,y):null}:"multipoint"===A?y=>{const C=this._quantizePoints(y.points,B,E);return C&&0<C.length?(y.points=C,y):null}:"extent"===A?y=>y:null};w._getHydrationFunction=function(A,B,E){return"point"===A?y=>{y.x=B(y.x);y.y=E(y.y)}:"polyline"===A||"polygon"===A?y=>{y=v.isPolygon(y)?y.rings:y.paths;
let C,D;for(let J=0,M=y.length;J<M;J++){const L=y[J];for(let I=0,G=L.length;I<G;I++){const K=L[I];0<I?(C+=K[0],D+=K[1]):(C=K[0],D=K[1]);K[0]=B(C);K[1]=E(D)}}}:"extent"===A?y=>{y.xmin=B(y.xmin);y.ymin=E(y.ymin);y.xmax=B(y.xmax);y.ymax=E(y.ymax)}:"multipoint"===A?y=>{y=y.points;let C,D;for(let J=0,M=y.length;J<M;J++){const L=y[J];0<J?(C+=L[0],D+=L[1]):(C=L[0],D=L[1]);L[0]=B(C);L[1]=E(D)}}:null};return x}(k.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],d.prototype,"displayFieldName",
void 0);b.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(z){return{enabled:z}}}}})],d.prototype,"exceededTransferLimit",void 0);b.__decorate([f.property({type:[e],json:{write:!0}})],d.prototype,"features",void 0);b.__decorate([l.reader("features")],d.prototype,"readFeatures",null);b.__decorate([f.property({type:[h],json:{write:!0}})],d.prototype,"fields",void 0);b.__decorate([f.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:u.read}}})],
d.prototype,"geometryType",void 0);b.__decorate([p.writer("geometryType")],d.prototype,"writeGeometryType",null);b.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(z){return{enabled:z}}}}})],d.prototype,"hasM",void 0);b.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(z){return{enabled:z}}}}})],d.prototype,"hasZ",void 0);b.__decorate([f.property({types:c.geometryTypes,json:{write:!0}})],d.prototype,"queryGeometry",void 0);b.__decorate([l.reader("queryGeometry")],d.prototype,
"readQueryGeometry",null);b.__decorate([f.property({type:n,json:{write:!0}})],d.prototype,"spatialReference",void 0);b.__decorate([p.writer("spatialReference")],d.prototype,"writeSpatialReference",null);b.__decorate([f.property({json:{write:!0}})],d.prototype,"transform",void 0);d=q=b.__decorate([r.subclass("esri.rest.support.FeatureSet")],d);d.prototype.toJSON.isDefaultToJSON=!0;return d})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){var p;const n=new c.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});c=p=function(v){function h(u){u=v.call(this,u)||this;
u.alias=null;u.defaultValue=void 0;u.description=null;u.domain=null;u.editable=!0;u.length=-1;u.name=null;u.nullable=!0;u.type=null;u.valueType=null;u.visible=!0;return u}a._inheritsLoose(h,v);var q=h.prototype;q.readDescription=function(u,{description:z}){u=null;try{u=z?JSON.parse(z):null}catch(x){}return u?.value??null};q.readValueType=function(u,{description:z}){u=null;try{u=z?JSON.parse(z):null}catch(x){}return u?n.fromJSON(u.fieldValueType):null};q.clone=function(){return new p({alias:this.alias,
defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})};return h}(e.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"alias",void 0);b.__decorate([d.property({type:[String,Number],json:{write:{allowNull:!0}}})],c.prototype,"defaultValue",void 0);b.__decorate([d.property()],
c.prototype,"description",void 0);b.__decorate([f.reader("description")],c.prototype,"readDescription",null);b.__decorate([d.property({types:l.types,json:{read:{reader:l.fromJSON},write:!0}})],c.prototype,"domain",void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],c.prototype,"editable",void 0);b.__decorate([d.property({type:k.Integer,json:{write:!0}})],c.prototype,"length",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([d.property({type:Boolean,
json:{write:!0}})],c.prototype,"nullable",void 0);b.__decorate([m.enumeration(r.kebabDict)],c.prototype,"type",void 0);b.__decorate([d.property()],c.prototype,"valueType",void 0);b.__decorate([f.reader("valueType",["description"])],c.prototype,"readValueType",null);b.__decorate([d.property({type:Boolean,json:{read:!1}})],c.prototype,"visible",void 0);return c=p=b.__decorate([g.subclass("esri.layers.support.Field")],c)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],
function(a,b){b=new b.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});a.kebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/mixins/APIKeyMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t){a.APIKeyMixin=m=>{m=function(f){function g(){return f.apply(this,arguments)||this}b._inheritsLoose(g,f);b._createClass(g,[{key:"apiKey",get:function(){return this._isOverridden("apiKey")?this._get("apiKey"):
"portalItem"in this?this.portalItem?.apiKey:null},set:function(l){null!=l?this._override("apiKey",l):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}}]);return g}(m);c.__decorate([e.property({type:String})],m.prototype,"apiKey",null);return m=c.__decorate([t.subclass("esri.layers.mixins.APIKeyMixin")],m)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ArcGISService":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../support/arcgisLayerUrl".split(" "),
function(a,b,c,e,d,k,t,m,f,g){a.ArcGISService=l=>{l=function(r){function p(){return r.apply(this,arguments)||this}b._inheritsLoose(p,r);b._createClass(p,[{key:"title",get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const n=g.parse(this.url);if(d.isSome(n)&&n.title)return n.title}return this._get("title")||""},set:function(n){this._set("title",n)}},{key:"url",set:function(n){this._set("url",g.sanitizeUrl(n,e.getLogger(this.declaredClass)))}}]);
return p}(l);c.__decorate([k.property()],l.prototype,"title",null);c.__decorate([k.property({type:String})],l.prototype,"url",null);return l=c.__decorate([f.subclass("esri.layers.mixins.ArcGISService")],l)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/BlendLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils".split(" "),
function(a,b,c,e,d,k,t,m){const f={read:{reader:m.read},write:{allowNull:!0,writer:m.write}};a.BlendLayer=g=>{g=function(l){function r(){var p=l.apply(this,arguments)||this;p.blendMode="normal";p.effect=null;return p}b._inheritsLoose(r,l);return r}(g);c.__decorate([e.property({type:"average color-burn color-dodge color darken destination-atop destination-in destination-out destination-over difference exclusion hard-light hue invert lighten lighter luminosity minus multiply normal overlay plus reflect saturation screen soft-light source-atop source-in source-out vivid-light xor".split(" "),
nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],g.prototype,"blendMode",void 0);c.__decorate([e.property({json:{read:!1,write:!1,origins:{"web-map":f,"portal-item":f}}})],g.prototype,"effect",void 0);return g=c.__decorate([t.subclass("esri.layers.mixins.BlendLayer")],g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/jsonUtils":function(){define(["exports","../../core/Error","../../core/object",
"./parser","./utils"],function(a,b,c,e,d){function k(g){return(g=e.parse(g))?d.isEffectFunctions(g)?g.map(l=>l.toJSON()):g.map(({scale:l,effects:r})=>({scale:l,value:r.map(p=>p.toJSON())})):null}function t(g){if(!g||0===g.length)return null;var l=(l=g[0])?"scale"in l:!1;if(l){l=[];for(const r of g)l.push({scale:r.scale,value:m(r.value)});return l}return m(g)}function m(g){if(!g||!g.length)return"";const l=[];for(const v of g){g=[];switch(v.type){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":case "opacity":g=
[f(v,"amount")];break;case "blur":g=[f(v,"radius","pt")];break;case "hue-rotate":g=[f(v,"angle","deg")];break;case "drop-shadow":g=f(v,"xoffset","pt");var r=f(v,"yoffset","pt"),p=f(v,"blurRadius","pt"),n=v;if(null==n.color)throw new b("effect:missing-parameter",`Missing parameter '${"color"}' in ${n.type} effect`,{effect:n});n=n.color;g=[g,r,p,`rgba(${n[0]||0}, ${n[1]||0}, ${n[2]||0}, ${n[3]/255||0})`];break;case "bloom":g=[f(v,"strength"),f(v,"radius","pt"),f(v,"threshold")]}g=`${v.type}(${g.filter(Boolean).join(" ")})`;
e.parse(g);l.push(g)}return l.join(" ")}function f(g,l,r){if(null==g[l])throw new b("effect:missing-parameter",`Missing parameter '${l}' in ${g.type} effect`,{effect:g});return r?g[l]+r:""+g[l]}a.effectFunctionsFromJSON=m;a.fromJSON=t;a.read=function(g,l,r){try{return t(g)}catch(p){r?.messages?.push(p)}return null};a.toJSON=k;a.write=function(g,l,r,p){try{const n=k(g);c.setDeepValue(r,n,l)}catch(n){p.messages&&p.messages.push(n)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/parser":function(){define("exports ../../colorUtils ../../core/Error ./effects ../../chunks/_commonjsHelpers ./utils".split(" "),
function(a,b,c,e,d,k){function t(x){let w;if(!x)return[];try{w=v.parse(x)}catch(A){throw new c("effect:invalid-syntax","Invalid effect syntax",{value:x,error:A});}return w.map(A=>m(A))}function m(x){try{switch(x.name){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":var w=1;f(x.parameters,1);1===x.parameters.length&&(w=r(x.parameters[0]));return new e.ColorMatrixEffect(x.name,w);case "opacity":return w=1,f(x.parameters,1),1===x.parameters.length&&(w=r(x.parameters[0])),
new e.OpacityEffect(w);case "hue-rotate":w=0;f(x.parameters,1);if(1===x.parameters.length){var A=x.parameters[0];if("quantity"!==A.type||!(0===A.value&&null===A.unit||A.unit&&null!=h[A.unit]))throw new c("effect:type-error",`Expected <angle>, Actual: ${g(A)}`,{term:A});w=A.value*h[A.unit]||0}return new e.HueRotateEffect(w);case "blur":return w=0,f(x.parameters,1),1===x.parameters.length&&(w=p(x.parameters[0]),l(w,x.parameters[0])),new e.BlurEffect(w);case "drop-shadow":const D=[];let J=null;for(const M of x.parameters)if("color"===
M.type){D.length&&Object.freeze(D);if(J)throw new c("effect:type-error","Accepts only one color",{});a:{A=void 0;var B=M;switch(B.colorType){case "hex":J=b.hex2rgba(B.value);break a;case "named":J=n(B.value);break a;case "function":w=B.value;f(w.parameters,4);if(u.test(w.name))A=[r(w.parameters[0]),r(w.parameters[1]),r(w.parameters[2]),w.parameters[3]?r(w.parameters[3]):1];else if(z.test(w.name)){B=b;var E=B.hsla2rgba,y=w.parameters[0],C=y;if("quantity"!==C.type||null!==C.unit)throw new c("effect:type-error",
`Expected <double>, Actual: ${g(C)}`,{term:C});l(y.value,y);A=E.call(B,y.value,r(w.parameters[1]),r(w.parameters[2]),w.parameters[3]?r(w.parameters[3]):1)}else throw new c("effect:syntax-error",`Invalid color function '${w.name}'`,{colorFunction:w});J=A;break a}J=void 0}}else{const L=p(M);if(Object.isFrozen(D))throw new c("effect:type-error","\x3clength\x3e parameters not consecutive",{lengths:D});D.push(L);3===D.length&&l(L,M)}if(2>D.length||3<D.length)throw new c("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${D.length}}`,
{lengths:D});return new e.DropShadowEffect(D[0],D[1],D[2]||0,J||n("black"));case "bloom":return w=1,y=E=0,f(x.parameters,3),x.parameters[0]&&(w=r(x.parameters[0])),x.parameters[1]&&(E=p(x.parameters[1]),l(E,x.parameters[1])),x.parameters[2]&&(y=r(x.parameters[2])),new e.BloomEffect(w,E,y)}}catch(D){throw D.details.filter=x,D;}throw new c("effect:unknown-effect",`Effect '${x.name}' is not supported`,{effect:x});}function f(x,w){if(x.length>w)throw new c("effect:type-error",`Function supports up to ${w} parameters, Actual: ${x.length}`,
{parameters:x});}function g(x){if("color"===x.type)return"\x3ccolor\x3e";if(x.unit){if(q[x.unit])return"\x3clength\x3e";if(h[x.unit])return"\x3cangle\x3e";if("%"===x.unit)return"\x3cpercentage\x3e"}return"\x3cdouble\x3e"}function l(x,w){if(0>x)throw new c("effect:type-error",`Negative values are not allowed, Actual: ${x}`,{term:w});}function r(x){if("quantity"!==x.type||null!==x.unit&&"%"!==x.unit)throw new c("effect:type-error",`Expected <double> or <percentage>, Actual: ${g(x)}`,{term:x});const w=
x.value;l(w,x);return"%"===x.unit?.01*w:w}function p(x){if("quantity"!==x.type||!(0===x.value&&null===x.unit||x.unit&&null!=q[x.unit]))throw new c("effect:type-error",`Expected <length>, Actual: ${g(x)}`,{term:x});return x.value*q[x.unit]||0}function n(x){if(!b.isNamedColor(x))throw new c("effect:unknown-color",`color '${x}' isn't valid`,{namedColor:x});return b.getNamedColorCopy(x)}var v={};(function(x){(function(w,A){x.exports&&(x.exports=A())})(d.commonjsGlobal,function(){function w(B,E,y,C){B=
Error.call(this,B);Object.setPrototypeOf&&Object.setPrototypeOf(B,w.prototype);B.expected=E;B.found=y;B.location=C;B.name="SyntaxError";return B}function A(B,E,y){y=y||" ";if(B.length>E)return B;E-=B.length;y+=y.repeat(E);return B+y.slice(0,E)}(function(B,E){function y(){this.constructor=B}y.prototype=E.prototype;B.prototype=new y})(w,Error);w.prototype.format=function(B){var E="Error: "+this.message;if(this.location){var y=null,C;for(C=0;C<B.length;C++)if(B[C].source===this.location.source){y=B[C].text.split(/\r\n|\n|\r/g);
break}B=this.location.start;C=this.location.source+":"+B.line+":"+B.column;if(y){var D=this.location.end,J=A("",B.line.toString().length," ");y=y[B.line-1];D=(B.line===D.line?D.column:y.length+1)-B.column||1;E+="\n --\x3e "+C+"\n"+J+" |\n"+B.line+" | "+y+"\n"+J+" | "+A("",B.column-1," ")+A("",D,"^")}else E+="\n at "+C}return E};w.buildMessage=function(B,E){function y(L){return L.charCodeAt(0).toString(16).toUpperCase()}function C(L){return L.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,
"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(I){return"\\x0"+y(I)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(I){return"\\x"+y(I)})}function D(L){return L.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(I){return"\\x0"+y(I)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(I){return"\\x"+y(I)})}function J(L){return M[L.type](L)}
var M={literal:function(L){return'"'+C(L.text)+'"'},class:function(L){var I=L.parts.map(function(G){return Array.isArray(G)?D(G[0])+"-"+D(G[1]):D(G)});return"["+(L.inverted?"^":"")+I.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(L){return L.description}};return"Expected "+function(L){L=L.map(J);var I,G;L.sort();if(0<L.length){for(G=I=1;I<L.length;I++)L[I-1]!==L[I]&&(L[G]=L[I],G++);L.length=G}switch(L.length){case 1:return L[0];case 2:return L[0]+
" or "+L[1];default:return L.slice(0,-1).join(", ")+", or "+L[L.length-1]}}(B)+" but "+(E?'"'+C(E)+'"':"end of input")+" found."};return{SyntaxError:w,parse:function(B,E){function y(Pa,va){return{type:"literal",text:Pa,ignoreCase:va}}function C(Pa,va,Sa){return{type:"class",parts:Pa,inverted:va,ignoreCase:Sa}}function D(Pa){return{type:"other",description:Pa}}function J(Pa){var va=ka[Pa],Sa;if(!va){for(Sa=Pa-1;!ka[Sa];)Sa--;va=ka[Sa];for(va={line:va.line,column:va.column};Sa<Pa;)10===B.charCodeAt(Sa)?
(va.line++,va.column=1):va.column++,Sa++;ka[Pa]=va}return va}function M(Pa,va){var Sa=J(Pa),ba=J(va);return{source:Y,start:{offset:Pa,line:Sa.line,column:Sa.column},end:{offset:va,line:ba.line,column:ba.column}}}function L(Pa){Ma<ta||(Ma>ta&&(ta=Ma,pa=[]),pa.push(Pa))}function I(){ya++;var Pa=Ma;H();if(B.substr(Ma,4)===Ba){var va=Ba;Ma+=4}else va=T,0===ya&&L(Ca);va!==T?(H(),mb=Pa,Pa=[]):(Ma=Pa,Pa=T);ya--;Pa===T&&0===ya&&L(la);if(Pa===T)if(Pa=[],va=G(),va!==T)for(;va!==T;)Pa.push(va),va=G();else Pa=
T;return Pa}function G(){var Pa=Ma;H();ya++;var va=Ma;var Sa=O();if(Sa!==T){if(40===B.charCodeAt(Ma)){var ba=da;Ma++}else ba=T,0===ya&&L(Ka);ba!==T?(mb=va,va=Sa):(Ma=va,va=T)}else Ma=va,va=T;ya--;va===T&&(Sa=T,0===ya&&L(ua));if(va!==T){H();Sa=Ma;ba=K();if(ba!==T){var Ja=[];var Ra=Ma;var Ua=H();if(44===B.charCodeAt(Ma)){var $a=Ha;Ma++}else $a=T,0===ya&&L(fa);$a===T&&($a=null);var eb=H();var jb=K();jb!==T?Ra=Ua=[Ua,$a,eb,jb]:(Ma=Ra,Ra=T);for(;Ra!==T;)Ja.push(Ra),Ra=Ma,Ua=H(),44===B.charCodeAt(Ma)?($a=
Ha,Ma++):($a=T,0===ya&&L(fa)),$a===T&&($a=null),eb=H(),jb=K(),jb!==T?Ra=Ua=[Ua,$a,eb,jb]:(Ma=Ra,Ra=T);mb=Sa;Sa=0<Ja.length?[ba].concat(W(Ja,3)):[ba]}else Ma=Sa,Sa=T;Sa===T&&(Sa=null);H();41===B.charCodeAt(Ma)?(ba=Ga,Ma++):(ba=T,0===ya&&L(Qa));ba!==T?(H(),mb=Pa,Pa={type:"function",name:va,parameters:Sa||[]}):(Ma=Pa,Pa=T)}else Ma=Pa,Pa=T;return Pa}function K(){var Pa=Ma;ya++;var va=Ma;H();var Sa=Q();if(Sa!==T){if(37===B.charCodeAt(Ma)){var ba=na;Ma++}else ba=T,0===ya&&L(bb);ba!==T?(mb=va,va={value:Sa,
unit:"%"}):(Ma=va,va=T)}else Ma=va,va=T;ya--;va===T&&0===ya&&L(Za);va===T&&(ya++,va=Ma,H(),Sa=Q(),Sa!==T?(B.substr(Ma,2)===xa?(ba=xa,Ma+=2):(ba=T,0===ya&&L(fb)),ba!==T?(mb=va,va={value:Sa,unit:"px"}):(Ma=va,va=T)):(Ma=va,va=T),va===T&&(va=Ma,H(),Sa=Q(),Sa!==T?(B.substr(Ma,2)===Na?(ba=Na,Ma+=2):(ba=T,0===ya&&L(Xa)),ba!==T?(mb=va,va={value:Sa,unit:"cm"}):(Ma=va,va=T)):(Ma=va,va=T),va===T&&(va=Ma,H(),Sa=Q(),Sa!==T?(B.substr(Ma,2)===Oa?(ba=Oa,Ma+=2):(ba=T,0===ya&&L(Da)),ba!==T?(mb=va,va={value:Sa,unit:"mm"}):
(Ma=va,va=T)):(Ma=va,va=T),va===T&&(va=Ma,H(),Sa=Q(),Sa!==T?(B.substr(Ma,2)===N?(ba=N,Ma+=2):(ba=T,0===ya&&L(Aa)),ba!==T?(mb=va,va={value:Sa,unit:"in"}):(Ma=va,va=T)):(Ma=va,va=T),va===T&&(va=Ma,H(),Sa=Q(),Sa!==T?(B.substr(Ma,2)===S?(ba=S,Ma+=2):(ba=T,0===ya&&L(Va)),ba!==T?(mb=va,va={value:Sa,unit:"pt"}):(Ma=va,va=T)):(Ma=va,va=T),va===T&&(va=Ma,H(),Sa=Q(),Sa!==T?(B.substr(Ma,2)===ja?(ba=ja,Ma+=2):(ba=T,0===ya&&L(cb)),ba!==T?(mb=va,va={value:Sa,unit:"pc"}):(Ma=va,va=T)):(Ma=va,va=T)))))),ya--,va===
T&&0===ya&&L(ab),va===T&&(ya++,va=Ma,Sa=Q(),Sa!==T?(B.substr(Ma,3)===wa?(ba=wa,Ma+=3):(ba=T,0===ya&&L(tb)),ba!==T?(mb=va,va={value:Sa,unit:"deg"}):(Ma=va,va=T)):(Ma=va,va=T),va===T&&(va=Ma,Sa=Q(),Sa!==T?(B.substr(Ma,3)===Ia?(ba=Ia,Ma+=3):(ba=T,0===ya&&L(Ab)),ba!==T?(mb=va,va={value:Sa,unit:"rad"}):(Ma=va,va=T)):(Ma=va,va=T),va===T&&(va=Ma,Sa=Q(),Sa!==T?(B.substr(Ma,4)===V?(ba=V,Ma+=4):(ba=T,0===ya&&L(qb)),ba!==T?(mb=va,va={value:Sa,unit:"grad"}):(Ma=va,va=T)):(Ma=va,va=T),va===T&&(va=Ma,Sa=Q(),Sa!==
T?(B.substr(Ma,4)===aa?(ba=aa,Ma+=4):(ba=T,0===ya&&L(yb)),ba!==T?(mb=va,va={value:Sa,unit:"turn"}):(Ma=va,va=T)):(Ma=va,va=T)))),ya--,va===T&&(Sa=T,0===ya&&L(za)),va===T&&(ya++,va=Ma,H(),Sa=Q(),Sa!==T?(mb=va,va={value:Sa,unit:null}):(Ma=va,va=T),ya--,va===T&&0===ya&&L(Eb))));va!==T&&(mb=Pa,va={type:"quantity",value:va.value,unit:va.unit});Pa=va;if(Pa===T){Pa=Ma;ya++;va=Ma;35===B.charCodeAt(Ma)?(Sa=oa,Ma++):(Sa=T,0===ya&&L(Ib));if(Sa!==T){Sa=[];ea.test(B.charAt(Ma))?(ba=B.charAt(Ma),Ma++):(ba=T,0===
ya&&L(wb));if(ba!==T)for(;ba!==T;)Sa.push(ba),ea.test(B.charAt(Ma))?(ba=B.charAt(Ma),Ma++):(ba=T,0===ya&&L(wb));else Sa=T;Sa!==T?(mb=va,va={type:"hex",value:B.substring(mb,Ma)}):(Ma=va,va=T)}else Ma=va,va=T;va===T&&(va=Ma,Sa=G(),Sa!==T&&(mb=va,Sa={type:"function",value:Sa}),va=Sa,va===T&&(va=Ma,Sa=O(),Sa!==T&&(mb=va,Sa={type:"named",value:B.substring(mb,Ma)}),va=Sa));ya--;va===T&&(Sa=T,0===ya&&L(Fb));va!==T&&(mb=Pa,va={type:"color",colorType:va.type,value:va.value});Pa=va}return Pa}function H(){ya++;
var Pa=[];if(ia.test(B.charAt(Ma))){var va=B.charAt(Ma);Ma++}else va=T,0===ya&&L(Fa);for(;va!==T;)Pa.push(va),ia.test(B.charAt(Ma))?(va=B.charAt(Ma),Ma++):(va=T,0===ya&&L(Fa));ya--;va=T;0===ya&&L(ma);return Pa}function O(){ya++;var Pa=Ma;var va=[];if(qa.test(B.charAt(Ma))){var Sa=B.charAt(Ma);Ma++}else Sa=T,0===ya&&L(Wa);if(Sa!==T)for(;Sa!==T;)va.push(Sa),qa.test(B.charAt(Ma))?(Sa=B.charAt(Ma),Ma++):(Sa=T,0===ya&&L(Wa));else va=T;va!==T&&(mb=Pa,va=B.substring(mb,Ma));Pa=va;ya--;Pa===T&&(va=T,0===
ya&&L(Ta));return Pa}function Q(){var Pa=Ma;U.test(B.charAt(Ma))?(B.charAt(Ma),Ma++):0===ya&&L(zb);var va=Ma;var Sa=[];if(ca.test(B.charAt(Ma))){var ba=B.charAt(Ma);Ma++}else ba=T,0===ya&&L(ib);for(;ba!==T;)Sa.push(ba),ca.test(B.charAt(Ma))?(ba=B.charAt(Ma),Ma++):(ba=T,0===ya&&L(ib));46===B.charCodeAt(Ma)?(ba=P,Ma++):(ba=T,0===ya&&L(rb));if(ba!==T){var Ja=[];if(ca.test(B.charAt(Ma))){var Ra=B.charAt(Ma);Ma++}else Ra=T,0===ya&&L(ib);if(Ra!==T)for(;Ra!==T;)Ja.push(Ra),ca.test(B.charAt(Ma))?(Ra=B.charAt(Ma),
Ma++):(Ra=T,0===ya&&L(ib));else Ja=T;Ja!==T?va=Sa=[Sa,ba,Ja]:(Ma=va,va=T)}else Ma=va,va=T;if(va===T)if(va=[],ca.test(B.charAt(Ma))?(Sa=B.charAt(Ma),Ma++):(Sa=T,0===ya&&L(ib)),Sa!==T)for(;Sa!==T;)va.push(Sa),ca.test(B.charAt(Ma))?(Sa=B.charAt(Ma),Ma++):(Sa=T,0===ya&&L(ib));else va=T;if(va!==T){Sa=Ma;101===B.charCodeAt(Ma)?(ba=Z,Ma++):(ba=T,0===ya&&L(vb));if(ba!==T){U.test(B.charAt(Ma))?(Ja=B.charAt(Ma),Ma++):(Ja=T,0===ya&&L(zb));Ja===T&&(Ja=null);Ra=[];ca.test(B.charAt(Ma))?(va=B.charAt(Ma),Ma++):
(va=T,0===ya&&L(ib));if(va!==T)for(;va!==T;)Ra.push(va),ca.test(B.charAt(Ma))?(va=B.charAt(Ma),Ma++):(va=T,0===ya&&L(ib));else Ra=T;Ra!==T?Sa=ba=[ba,Ja,Ra]:(Ma=Sa,Sa=T)}else Ma=Sa,Sa=T;Sa===T&&(Sa=null);mb=Pa;Pa=parseFloat(B.substring(mb,Ma))}else Ma=Pa,Pa=T;return Pa}function W(Pa,va){return Pa.map(function(Sa){return Sa[va]})}E=void 0!==E?E:{};var T={},Y=E.grammarSource,X={start:I},ra=I,Ba="none",Ga=")",Ha=",",da="(",na="%",xa="px",Na="cm",Oa="mm",N="in",S="pt",ja="pc",wa="deg",Ia="rad",V="grad",
aa="turn",oa="#",P=".",Z="e",ia=/^[ \t\n\r]/,qa=/^[a-z\-]/,ea=/^[0-9a-fA-F]/,U=/^[+\-]/,ca=/^[0-9]/,la=D("none"),Ca=y("none",!1),Qa=y(")",!1),fa=y(",",!1),ma=D("whitespace"),Fa=C([" ","\t","\n","\r"],!1,!1),ua=D("function"),Ka=y("(",!1),Ta=D("identifier"),Wa=C([["a","z"],"-"],!1,!1),Za=D("percentage"),bb=y("%",!1),ab=D("length"),fb=y("px",!1),Xa=y("cm",!1),Da=y("mm",!1),Aa=y("in",!1),Va=y("pt",!1),cb=y("pc",!1),za=D("angle"),tb=y("deg",!1),Ab=y("rad",!1),qb=y("grad",!1),yb=y("turn",!1),Eb=D("number"),
Fb=D("color"),Ib=y("#",!1),wb=C([["0","9"],["a","f"],["A","F"]],!1,!1),zb=C(["+","-"],!1,!1),ib=C([["0","9"]],!1,!1),rb=y(".",!1),vb=y("e",!1),Ma=0,mb=0,ka=[{line:1,column:1}],ta=0,pa=[],ya=0;if("startRule"in E){if(!(E.startRule in X))throw Error("Can't start parsing from rule \""+E.startRule+'".');ra=X[E.startRule]}E=ra();if(E!==T&&Ma===B.length)return E;E!==T&&Ma<B.length&&L({type:"end"});throw function(Pa,va,Sa){return new w(w.buildMessage(Pa,va),Pa,va,Sa)}(pa,ta<B.length?B.charAt(ta):null,ta<
B.length?M(ta,ta+1):M(ta,ta));}}})})({get exports(){return v},set exports(x){v=x}});const h={deg:1,grad:.9,rad:180/Math.PI,turn:360},q={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72},u=/^rgba?/i,z=/^hsla?/i;a.parse=function(x){if(!x||0===x.length)return null;if("string"===typeof x)return(x=t(x))&&0!==x.length?x:null;x=x.map(w=>{if(!Number.isFinite(w.scale)||0>=w.scale)throw new c("effect:invalid-scale","scale must be finite and greater than 0",{stop:w});return{scale:w.scale,effects:t(w.value)}});
x.sort((w,A)=>A.effects.length-w.effects.length);for(let w=0;w<x.length-1;w++){if(!k.canInterpolateEffects(x[w].effects,x[w+1].effects))throw new c("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:x[w].effects,b:x[w+1].effects});k.normalizeEffects(x[w].effects,x[w+1].effects)}x.sort((w,A)=>A.scale-w.scale);return x};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/effects":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../colorUtils ../../core/screenUtils ../../chunks/mat4f32 ./colorMatrixFunctions".split(" "),
function(a,b,c,e,d,k){function t(v,h,q){return v+(h-v)*q}function m(v){return Math.round(1E3*e.px2pt(v))/1E3}let f=function(){function v(q,u,z){this.strength=q;this.radius=u;this.threshold=z;this.type="bloom"}var h=v.prototype;h.interpolate=function(q,u,z){this.strength=t(q.strength,u.strength,z);this.radius=t(q.radius,u.radius,z);this.threshold=t(q.threshold,u.threshold,z)};h.clone=function(){return new v(this.strength,this.radius,this.threshold)};h.toJSON=function(){return{type:"bloom",radius:m(this.radius),
strength:this.strength,threshold:this.threshold}};return v}(),g=function(){function v(q){this.radius=q;this.type="blur"}var h=v.prototype;h.interpolate=function(q,u,z){this.radius=Math.round(t(q.radius,u.radius,z))};h.clone=function(){return new v(this.radius)};h.toJSON=function(){return{type:"blur",radius:m(this.radius)}};return v}(),l=function(){function v(q,u){this.type=q;this.amount=u;if("invert"===this.type||"grayscale"===this.type||"sepia"===this.type)this.amount=Math.min(this.amount,1)}var h=
v.prototype;h.interpolate=function(q,u,z){this.amount=t(q.amount,u.amount,z);this._updateMatrix()};h.clone=function(){return new v(this.type,this.amount)};h.toJSON=function(){return{type:this.type,amount:this.amount}};h._updateMatrix=function(){const q=this._colorMatrix||d.create();switch(this.type){case "brightness":this._colorMatrix=k.brightness(q,this.amount);break;case "contrast":this._colorMatrix=k.contrast(q,this.amount);break;case "grayscale":this._colorMatrix=k.grayscale(q,this.amount);break;
case "invert":this._colorMatrix=k.invert(q,this.amount);break;case "saturate":this._colorMatrix=k.saturate(q,this.amount);break;case "sepia":this._colorMatrix=k.sepia(q,this.amount)}};b._createClass(v,[{key:"colorMatrix",get:function(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}}]);return v}(),r=function(){function v(q,u,z,x){this.offsetX=q;this.offsetY=u;this.blurRadius=z;this.color=x;this.type="drop-shadow"}var h=v.prototype;h.interpolate=function(q,u,z){this.offsetX=t(q.offsetX,
u.offsetX,z);this.offsetY=t(q.offsetY,u.offsetY,z);this.blurRadius=t(q.blurRadius,u.blurRadius,z);this.color[0]=Math.round(t(q.color[0],u.color[0],z));this.color[1]=Math.round(t(q.color[1],u.color[1],z));this.color[2]=Math.round(t(q.color[2],u.color[2],z));this.color[3]=t(q.color[3],u.color[3],z)};h.clone=function(){return new v(this.offsetX,this.offsetY,this.blurRadius,[...this.color])};h.toJSON=function(){const q=[...this.color];q[3]*=255;return{type:"drop-shadow",xoffset:m(this.offsetX),yoffset:m(this.offsetY),
blurRadius:m(this.blurRadius),color:q}};return v}(),p=function(){function v(q){this.angle=q;this.type="hue-rotate"}var h=v.prototype;h.interpolate=function(q,u,z){this.angle=t(q.angle,u.angle,z);this._updateMatrix()};h.clone=function(){return new v(this.angle)};h.toJSON=function(){return{type:"hue-rotate",angle:this.angle}};h._updateMatrix=function(){const q=this._colorMatrix||d.create();this._colorMatrix=k.rotateHue(q,this.angle)};b._createClass(v,[{key:"colorMatrix",get:function(){this._colorMatrix||
this._updateMatrix();return this._colorMatrix}}]);return v}(),n=function(){function v(q){this.amount=q;this.type="opacity";this.amount=Math.min(this.amount,1)}var h=v.prototype;h.interpolate=function(q,u,z){this.amount=t(q.amount,u.amount,z)};h.clone=function(){return new v(this.amount)};h.toJSON=function(){return{type:"opacity",amount:this.amount}};return v}();a.BloomEffect=f;a.BlurEffect=g;a.ColorMatrixEffect=l;a.DropShadowEffect=r;a.HueRotateEffect=p;a.OpacityEffect=n;a.createEffectWithInitialValues=
function(v){switch(v.type){case "grayscale":case "sepia":case "invert":return new l(v.type,0);case "saturate":case "brightness":case "contrast":return new l(v.type,1);case "opacity":return new n(1);case "hue-rotate":return new p(0);case "blur":return new g(0);case "drop-shadow":return new r(0,0,0,[...c.getNamedColor("transparent")]);case "bloom":return new f(0,0,1)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat4f32":function(){define(["exports"],function(a){function b(){const m=
new Float32Array(16);m[0]=1;m[5]=1;m[10]=1;m[15]=1;return m}function c(m){const f=new Float32Array(16);f[0]=m[0];f[1]=m[1];f[2]=m[2];f[3]=m[3];f[4]=m[4];f[5]=m[5];f[6]=m[6];f[7]=m[7];f[8]=m[8];f[9]=m[9];f[10]=m[10];f[11]=m[11];f[12]=m[12];f[13]=m[13];f[14]=m[14];f[15]=m[15];return f}function e(m,f,g,l,r,p,n,v,h,q,u,z,x,w,A,B){const E=new Float32Array(16);E[0]=m;E[1]=f;E[2]=g;E[3]=l;E[4]=r;E[5]=p;E[6]=n;E[7]=v;E[8]=h;E[9]=q;E[10]=u;E[11]=z;E[12]=x;E[13]=w;E[14]=A;E[15]=B;return E}function d(m,f){return new Float32Array(m,
f,16)}const k=b(),t=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:k,clone:c,create:b,createView:d,fromValues:e},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=k;a.clone=c;a.create=b;a.createView=d;a.fromValues=e;a.mat4f32=t})},"esri/layers/effects/colorMatrixFunctions":function(){define(["exports","../../chunks/mat4"],function(a,b){a.brightness=(c,e)=>{c=b.set(c,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1);return b.transpose(c,c)};a.contrast=(c,e)=>{c=b.set(c,e,0,0,.5-.5*e,0,e,0,.5-.5*e,0,0,
e,.5-.5*e,0,0,0,1);return b.transpose(c,c)};a.grayscale=(c,e)=>{e=1-e;c=b.set(c,.2126+.7874*e,.7152-.7152*e,.0722-.0722*e,0,.2126-.2126*e,.7152+.2848*e,.0722-.0722*e,0,.2126-.2126*e,.7152-.7152*e,.0722+.9278*e,0,0,0,0,1);return b.transpose(c,c)};a.invert=(c,e)=>{const d=1-2*e;c=b.set(c,d,0,0,e,0,d,0,e,0,0,d,e,0,0,0,1);return b.transpose(c,c)};a.rotateHue=(c,e)=>{const d=Math.sin(e*Math.PI/180);e=Math.cos(e*Math.PI/180);c=b.set(c,.213+.787*e-.213*d,.715-.715*e-.715*d,.072-.072*e+.928*d,0,.213-.213*
e+.143*d,.715+.285*e+.14*d,.072-.072*e-.283*d,0,.213-.213*e-.787*d,.715-.715*e+.715*d,.072+.928*e+.072*d,0,0,0,0,1);return b.transpose(c,c)};a.saturate=(c,e)=>{c=b.set(c,.213+.787*e,.715-.715*e,.072-.072*e,0,.213-.213*e,.715+.285*e,.072-.072*e,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,1);return b.transpose(c,c)};a.sepia=(c,e)=>{e=1-e;c=b.set(c,.393+.607*e,.769-.769*e,.189-.189*e,0,.349-.349*e,.686+.314*e,.168-.168*e,0,.272-.272*e,.534-.534*e,.131+.869*e,0,0,0,0,1);return b.transpose(c,c)};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(a){a.commonjsGlobal="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};a.getDefaultExportFromCjs=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b["default"]:b}})},"esri/layers/effects/utils":function(){define(["exports","./effects"],function(a,b){a.canInterpolateEffects=
function(c,e){const d=c.length>e.length?c:e;return(c.length>e.length?e:c).every((k,t)=>k.type===d[t].type)};a.isEffectFunctions=function(c){return(c=c[0])?"type"in c:!1};a.normalizeEffects=function(c,e){const d=c.length>e.length?c:e;c=c.length>e.length?e:c;for(e=c.length;e<d.length;e++)c.push(b.createEffectWithInitialValues(d[e]))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/CustomParametersMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){a.CustomParametersMixin=m=>{m=function(f){function g(){var l=f.apply(this,arguments)||this;l.customParameters=null;return l}b._inheritsLoose(g,f);return g}(m);c.__decorate([e.property({type:Object,json:{write:{overridePolicy(f){return{enabled:!!(f&&0<Object.keys(f).length)}}}}})],m.prototype,"customParameters",void 0);return m=c.__decorate([t.subclass("esri.layers.mixins.CustomParametersMixin")],m)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/EditBusLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Evented ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/Error ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f,g){const l=new e.EventEmitter,r=Symbol("esri.layers.mixins.EditBusLayer");a.EditBusLayer=p=>{p=function(v){function h(...q){var u=v.call(this,...q)||this;u[n]=!0;u.when().then(()=>{u.own([l.on("edits",z=>{const x="layer"in z?z.layer?.url:z.serviceUrl,w="layer"in z?z.layer?.layerId:z.layerId;var A=z.event;if(("layer"in z?z.layer:null)!==b._assertThisInitialized(u)&&x===u.url)if(null!=w&&null!=u.layerId&&w===u.layerId)u.emit("edits",d.clone(A));else if(z=A.editedFeatures?.find(({layerId:B})=>
B===u.layerId)){const {adds:B,updates:E,deletes:y}=z.editedFeatures;A={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:B?B.map(({attributes:C})=>({objectId:u.objectIdField&&C[u.objectIdField],globalId:u.globalIdField&&C[u.globalIdField]})):[],deletedFeatures:y?y.map(({attributes:C})=>({objectId:u.objectIdField&&C[u.objectIdField],globalId:u.globalIdField&&C[u.globalIdField]})):[],updatedFeatures:E?E.map(({current:{attributes:C}})=>({objectId:u.objectIdField&&
C[u.objectIdField],globalId:u.globalIdField&&C[u.globalIdField]})):[],editedFeatures:d.clone(A.editedFeatures),exceededTransferLimit:!1};u.emit("edits",A)}})])},()=>{});return u}b._inheritsLoose(h,v);return h}(p);var n=r;return p=c.__decorate([g.subclass("esri.layers.mixins.EditBusLayer")],p)};a.editEventBus=l;a.isEditBusLayer=function(p){return null!=p&&"object"===typeof p&&r in p};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/FeatureEffectLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../support/FeatureEffect".split(" "),
function(a,b,c,e,d,k,t,m){const f={write:{allowNull:!0}};a.FeatureEffectLayer=g=>{g=function(l){function r(){var p=l.apply(this,arguments)||this;p.featureEffect=null;return p}b._inheritsLoose(r,l);return r}(g);c.__decorate([e.property({type:m,json:{origins:{"web-map":f,"portal-item":f}}})],g.prototype,"featureEffect",void 0);return g=c.__decorate([t.subclass("esri.layers.mixins.FeatureEffectLayer")],g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureEffect":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/JSONSupport ../../core/maybe ../../core/object ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils ./FeatureFilter".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){var p;m={read:{reader:l.read},write:{writer:l.write,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}};l={read:{reader:l.read},write:{writer:l.write,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}};f={name:"showExcludedLabels",default:!0};e=p=function(n){function v(q){q=n.call(this,q)||this;q.filter=null;q.includedEffect=null;q.excludedEffect=null;q.excludedLabelsVisible=
!1;return q}a._inheritsLoose(v,n);var h=v.prototype;h.write=function(q,u){q=n.prototype.write.call(this,q,u);if(u?.origin){if(q.filter){const z=Object.keys(q.filter);if(1<z.length||"where"!==z[0])return u.messages?.push(new c("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:u.layer,effect:this})),null}if("showExcludedLabels"in q)return u.messages?.push(new c("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",
{layer:u.layer,effect:this})),null}return q};h.clone=function(){return new p({filter:d.isSome(this.filter)?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})};return v}(e.JSONSupport);b.__decorate([t.property({type:r,json:{write:{allowNull:!0,writer(n,v,h,q){(n=n?.write({},q))&&0!==Object.keys(n).length?k.setDeepValue(h,n,v):k.setDeepValue(h,null,v)}}}})],e.prototype,"filter",void 0);b.__decorate([t.property({json:{write:!0,
origins:{"web-map":m,"portal-item":m}}})],e.prototype,"includedEffect",void 0);b.__decorate([t.property({json:{write:!0,origins:{"web-map":l,"portal-item":l}}})],e.prototype,"excludedEffect",void 0);b.__decorate([t.property({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":f,"portal-item":f}}})],e.prototype,"excludedLabelsVisible",void 0);return e=p=b.__decorate([g.subclass("esri.layers.support.FeatureEffect")],e)})},"esri/layers/support/FeatureFilter":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../rest/support/Query".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){var p;g=new d.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});d=new d.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});k=p=function(n){function v(q){q=n.call(this,q)||this;q.where=null;q.geometry=null;q.spatialRelationship="intersects";q.distance=void 0;q.objectIds=null;q.units=null;q.timeExtent=null;return q}a._inheritsLoose(v,n);var h=v.prototype;h.createQuery=function(q={}){const {where:u,geometry:z,spatialRelationship:x,timeExtent:w,objectIds:A,units:B,distance:E}=this;
return new r({geometry:t.clone(z),objectIds:t.clone(A),spatialRelationship:x,timeExtent:t.clone(w),where:u,units:B,distance:E,...q})};h.clone=function(){const {where:q,geometry:u,spatialRelationship:z,timeExtent:x,objectIds:w,units:A,distance:B}=this;return new p({geometry:t.clone(u),objectIds:t.clone(w),spatialRelationship:z,timeExtent:t.clone(x),where:q,units:A,distance:B})};return v}(k.JSONSupport);b.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"where",void 0);b.__decorate([f.property({types:c.geometryTypes,
json:{write:!0}})],k.prototype,"geometry",void 0);b.__decorate([f.property({type:g.apiValues,json:{name:"spatialRel",read:{reader:g.read},write:{allowNull:!1,writer:g.write,overridePolicy(){return{enabled:m.isSome(this.geometry)}}}}})],k.prototype,"spatialRelationship",void 0);b.__decorate([f.property({type:Number,json:{write:{overridePolicy(n){return{enabled:null!=n&&null!=this.geometry}}}}})],k.prototype,"distance",void 0);b.__decorate([f.property({type:[Number],json:{write:!0}})],k.prototype,"objectIds",
void 0);b.__decorate([f.property({type:d.apiValues,json:{read:d.read,write:{writer:d.write,overridePolicy(n){return{enabled:null!=n&&null!=this.geometry}}}}})],k.prototype,"units",void 0);b.__decorate([f.property({type:e,json:{write:!0}})],k.prototype,"timeExtent",void 0);return k=p=b.__decorate([l.subclass("esri.layers.support.FeatureFilter")],k)})},"esri/rest/support/Query":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../layers/support/source/DataLayerSource ./FullTextSearch ./QuantizationParameters ./StatisticDefinition ../../geometry/SpatialReference ../../geometry/Point".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w){var A;const B=new d.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});d=new d.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});k=A=function(E){function y(D){D=E.call(this,D)||this;D.aggregateIds=null;D.cacheHint=void 0;D.compactGeometryEnabled=!1;D.datumTransformation=null;D.defaultSpatialReferenceEnabled=!1;D.distance=void 0;D.dynamicDataSource=void 0;D.formatOf3DObjects=null;D.fullText=null;D.gdbVersion=null;D.geometry=null;D.geometryPrecision=void 0;D.groupByFieldsForStatistics=
null;D.having=null;D.historicMoment=null;D.maxAllowableOffset=void 0;D.maxRecordCountFactor=1;D.multipatchOption=null;D.num=void 0;D.objectIds=null;D.orderByFields=null;D.outFields=null;D.outSpatialReference=null;D.outStatistics=null;D.parameterValues=null;D.pixelSize=null;D.quantizationParameters=null;D.rangeValues=null;D.relationParameter=null;D.resultType=null;D.returnCentroid=!1;D.returnDistinctValues=!1;D.returnExceededLimitFeatures=!0;D.returnGeometry=!1;D.returnQueryGeometry=!1;D.returnM=void 0;
D.returnZ=void 0;D.sourceSpatialReference=null;D.spatialRelationship="intersects";D.start=void 0;D.sqlFormat=null;D.text=null;D.timeExtent=null;D.timeReferenceUnknownClient=!1;D.units=null;D.where=null;return D}a._inheritsLoose(y,E);y.from=function(D){return n.ensureClass(A,D)};var C=y.prototype;C.castDatumTransformation=function(D){return"number"===typeof D||"object"===typeof D?D:null};C.writeHistoricMoment=function(D,J){J.historicMoment=D&&D.getTime()};C.writeParameterValues=function(D,J){if(D){const M=
{};for(const L in D){const I=D[L];Array.isArray(I)?M[L]=I.map(G=>G instanceof Date?G.getTime():G):M[L]=I instanceof Date?I.getTime():I}J.parameterValues=M}};C.writeStart=function(D,J){J.resultOffset=this.start;J.resultRecordCount=this.num||10;J.where="1\x3d1"};C.writeWhere=function(D,J){J.where=D||"1\x3d1"};C.clone=function(){return new A(t.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,
defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:m.isSome(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,
num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,
returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))};return y}(k.JSONSupport);k.MAX_MAX_RECORD_COUNT_FACTOR=
5;b.__decorate([f.property({json:{write:!0}})],k.prototype,"aggregateIds",void 0);b.__decorate([f.property({type:Boolean,json:{write:!0}})],k.prototype,"cacheHint",void 0);b.__decorate([f.property({type:Boolean,json:{default:!1,write:!0}})],k.prototype,"compactGeometryEnabled",void 0);b.__decorate([f.property({json:{write:!0}})],k.prototype,"datumTransformation",void 0);b.__decorate([g.cast("datumTransformation")],k.prototype,"castDatumTransformation",null);b.__decorate([f.property({type:Boolean,
json:{default:!1,write:!0}})],k.prototype,"defaultSpatialReferenceEnabled",void 0);b.__decorate([f.property({type:Number,json:{write:{overridePolicy(E){return{enabled:0<E}}}}})],k.prototype,"distance",void 0);b.__decorate([f.property({type:h.DataLayerSource,json:{write:!0}})],k.prototype,"dynamicDataSource",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"formatOf3DObjects",void 0);b.__decorate([f.property({type:[q],json:{write:{enabled:!0,overridePolicy(){return{enabled:m.isSome(this.fullText)&&
0<this.fullText.length}}}}})],k.prototype,"fullText",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"gdbVersion",void 0);b.__decorate([f.property({types:c.geometryTypes,json:{read:v.fromJSON,write:!0}})],k.prototype,"geometry",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],k.prototype,"geometryPrecision",void 0);b.__decorate([f.property({type:[String],json:{write:!0}})],k.prototype,"groupByFieldsForStatistics",void 0);b.__decorate([f.property({type:String,
json:{write:!0}})],k.prototype,"having",void 0);b.__decorate([f.property({type:Date})],k.prototype,"historicMoment",void 0);b.__decorate([p.writer("historicMoment")],k.prototype,"writeHistoricMoment",null);b.__decorate([f.property({type:Number,json:{write:!0}})],k.prototype,"maxAllowableOffset",void 0);b.__decorate([f.property({type:Number,cast(E){return 1>E?1:E>A.MAX_MAX_RECORD_COUNT_FACTOR?A.MAX_MAX_RECORD_COUNT_FACTOR:E},json:{write:{overridePolicy(E){return{enabled:1<E}}}}})],k.prototype,"maxRecordCountFactor",
void 0);b.__decorate([f.property({type:["xyFootprint"],json:{write:!0}})],k.prototype,"multipatchOption",void 0);b.__decorate([f.property({type:Number,json:{read:{source:"resultRecordCount"}}})],k.prototype,"num",void 0);b.__decorate([f.property({json:{write:!0}})],k.prototype,"objectIds",void 0);b.__decorate([f.property({type:[String],json:{write:!0}})],k.prototype,"orderByFields",void 0);b.__decorate([f.property({type:[String],json:{write:!0}})],k.prototype,"outFields",void 0);b.__decorate([f.property({type:x,
json:{name:"outSR",write:!0}})],k.prototype,"outSpatialReference",void 0);b.__decorate([f.property({type:[z],json:{write:{enabled:!0,overridePolicy(){return{enabled:m.isSome(this.outStatistics)&&0<this.outStatistics.length}}}}})],k.prototype,"outStatistics",void 0);b.__decorate([f.property({json:{write:!0}})],k.prototype,"parameterValues",void 0);b.__decorate([p.writer("parameterValues")],k.prototype,"writeParameterValues",null);b.__decorate([f.property({type:w,json:{write:!0}})],k.prototype,"pixelSize",
void 0);b.__decorate([f.property({type:u,json:{write:!0}})],k.prototype,"quantizationParameters",void 0);b.__decorate([f.property({type:[Object],json:{write:!0}})],k.prototype,"rangeValues",void 0);b.__decorate([f.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],k.prototype,"relationParameter",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"resultType",
void 0);b.__decorate([f.property({type:Boolean,json:{default:!1,write:!0}})],k.prototype,"returnCentroid",void 0);b.__decorate([f.property({type:Boolean,json:{default:!1,write:!0}})],k.prototype,"returnDistinctValues",void 0);b.__decorate([f.property({type:Boolean,json:{default:!0,write:!0}})],k.prototype,"returnExceededLimitFeatures",void 0);b.__decorate([f.property({type:Boolean,json:{write:!0}})],k.prototype,"returnGeometry",void 0);b.__decorate([f.property({type:Boolean,json:{default:!1,write:!0}})],
k.prototype,"returnQueryGeometry",void 0);b.__decorate([f.property({type:Boolean,json:{default:!1,write:!0}})],k.prototype,"returnM",void 0);b.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(E){return{enabled:E}}}}})],k.prototype,"returnZ",void 0);b.__decorate([f.property({type:x,json:{write:!0}})],k.prototype,"sourceSpatialReference",void 0);b.__decorate([l.enumeration(B,{ignoreUnknown:!1,name:"spatialRel"})],k.prototype,"spatialRelationship",void 0);b.__decorate([f.property({type:Number,
json:{read:{source:"resultOffset"}}})],k.prototype,"start",void 0);b.__decorate([p.writer("start"),p.writer("num")],k.prototype,"writeStart",null);b.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"sqlFormat",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"text",void 0);b.__decorate([f.property({type:e,json:{write:!0}})],k.prototype,"timeExtent",void 0);b.__decorate([f.property({type:Boolean,json:{default:!1,write:!0}})],k.prototype,"timeReferenceUnknownClient",
void 0);b.__decorate([l.enumeration(d,{ignoreUnknown:!1}),f.property({json:{write:{overridePolicy(E){return{enabled:!!E&&null!=this.distance&&0<this.distance}}}}})],k.prototype,"units",void 0);b.__decorate([f.property({type:String,json:{write:{overridePolicy(E){return{enabled:null!=E||null!=this.start&&0<this.start}}}}})],k.prototype,"where",void 0);b.__decorate([p.writer("where")],k.prototype,"writeWhere",null);return k=A=b.__decorate([r.subclass("esri.rest.support.Query")],k)})},"esri/layers/support/source/DataLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/extensions/serializableProperty/reader ../Field ./MapLayerSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q){function u(){A||(A=r.createTypeReader({types:z()}));return A}function z(){B||(B={key:"type",base:null,typeMap:{"data-layer":a.DataLayerSource,"map-layer":n.MapLayerSource}});return B}var x,w;e=e.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});a.JoinTableDataSource=x=function(E){function y(D){D=E.call(this,D)||this;D.type="join-table";return D}b._inheritsLoose(y,E);var C=y.prototype;C.readLeftTableSource=function(D,J,M){return u()(D,
J,M)};C.castLeftTableSource=function(D){return l.ensureOneOfType(z(),D)};C.readRightTableSource=function(D,J,M){return u()(D,J,M)};C.castRightTableSource=function(D){return l.ensureOneOfType(z(),D)};C.clone=function(){const {leftTableKey:D,rightTableKey:J,leftTableSource:M,rightTableSource:L,joinType:I}=this,G={leftTableKey:D,rightTableKey:J,leftTableSource:M?.clone()??void 0,rightTableSource:L?.clone()??void 0,joinType:I};return new x(G)};return y}(d.JSONSupport);c.__decorate([m.enumeration({joinTable:"join-table"})],
a.JoinTableDataSource.prototype,"type",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableKey",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableKey",void 0);c.__decorate([k.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableSource",void 0);c.__decorate([f.reader("leftTableSource")],a.JoinTableDataSource.prototype,"readLeftTableSource",null);c.__decorate([t.cast("leftTableSource")],
a.JoinTableDataSource.prototype,"castLeftTableSource",null);c.__decorate([k.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableSource",void 0);c.__decorate([f.reader("rightTableSource")],a.JoinTableDataSource.prototype,"readRightTableSource",null);c.__decorate([t.cast("rightTableSource")],a.JoinTableDataSource.prototype,"castRightTableSource",null);c.__decorate([m.enumeration(e)],a.JoinTableDataSource.prototype,"joinType",void 0);a.JoinTableDataSource=x=c.__decorate([g.subclass("esri.layers.support.source.JoinTableDataSource")],
a.JoinTableDataSource);let A=null,B=null;t={key:"type",base:null,typeMap:{"join-table":a.JoinTableDataSource,"query-table":v.QueryTableDataSource,raster:h.RasterDataSource,table:q.TableDataSource}};a.DataLayerSource=w=function(E){function y(C){C=E.call(this,C)||this;C.type="data-layer";return C}b._inheritsLoose(y,E);y.prototype.clone=function(){const {fields:C,dataSource:D}=this;return new w({fields:C,dataSource:D})};return y}(d.JSONSupport);c.__decorate([m.enumeration({dataLayer:"data-layer"})],
a.DataLayerSource.prototype,"type",void 0);c.__decorate([k.property({type:[p],json:{write:!0}})],a.DataLayerSource.prototype,"fields",void 0);c.__decorate([k.property({types:t,json:{write:!0}})],a.DataLayerSource.prototype,"dataSource",void 0);a.DataLayerSource=w=c.__decorate([g.subclass("esri.layers.support.source.DataLayerSource")],a.DataLayerSource);a.DataLayerSource.from=l.ensureType(a.DataLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f){var g;a.MapLayerSource=g=function(l){function r(p){p=l.call(this,p)||this;p.type="map-layer";return p}b._inheritsLoose(r,l);r.prototype.clone=function(){const {mapLayerId:p,gdbVersion:n}=this;return new g({mapLayerId:p,gdbVersion:n})};return r}(e.JSONSupport);c.__decorate([m.enumeration({mapLayer:"map-layer"})],a.MapLayerSource.prototype,"type",void 0);c.__decorate([d.property({type:k.Integer,json:{write:!0}})],a.MapLayerSource.prototype,"mapLayerId",void 0);c.__decorate([d.property({type:String,
json:{write:!0}})],a.MapLayerSource.prototype,"gdbVersion",void 0);a.MapLayerSource=g=c.__decorate([f.subclass("esri.layers.support.source.MapLayerSource")],a.MapLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../geometry/SpatialReference ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){var p;a.QueryTableDataSource=p=function(n){function v(h){h=n.call(this,h)||this;h.type="query-table";return h}b._inheritsLoose(v,n);v.prototype.clone=function(){const {workspaceId:h,query:q,oidFields:u,spatialReference:z,geometryType:x}=this,w={workspaceId:h,query:q,oidFields:u,spatialReference:z?.clone()??void 0,geometryType:x};return new p(w)};return v}(d.JSONSupport);c.__decorate([f.enumeration({queryTable:"query-table"})],a.QueryTableDataSource.prototype,"type",
void 0);c.__decorate([k.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"workspaceId",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"query",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"oidFields",void 0);c.__decorate([k.property({type:l,json:{write:!0}})],a.QueryTableDataSource.prototype,"spatialReference",void 0);c.__decorate([f.enumeration(r.featureGeometryTypeKebabDictionary)],
a.QueryTableDataSource.prototype,"geometryType",void 0);a.QueryTableDataSource=p=c.__decorate([g.subclass("esri.layers.support.source.QueryTableDataSource")],a.QueryTableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f){var g;a.RasterDataSource=g=function(l){function r(p){p=l.call(this,p)||this;p.type="raster";return p}b._inheritsLoose(r,l);r.prototype.clone=function(){const {workspaceId:p,dataSourceName:n}=this;return new g({workspaceId:p,dataSourceName:n})};return r}(e.JSONSupport);c.__decorate([m.enumeration({raster:"raster"})],a.RasterDataSource.prototype,"type",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"dataSourceName",void 0);c.__decorate([d.property({type:String,
json:{write:!0}})],a.RasterDataSource.prototype,"workspaceId",void 0);a.RasterDataSource=g=c.__decorate([f.subclass("esri.layers.support.source.RasterDataSource")],a.RasterDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f){var g;a.TableDataSource=g=function(l){function r(p){p=l.call(this,p)||this;p.type="table";return p}b._inheritsLoose(r,l);r.prototype.clone=function(){const {workspaceId:p,gdbVersion:n,dataSourceName:v}=this;return new g({workspaceId:p,gdbVersion:n,dataSourceName:v})};return r}(e.JSONSupport);c.__decorate([m.enumeration({table:"table"})],a.TableDataSource.prototype,"type",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"workspaceId",
void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"gdbVersion",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"dataSourceName",void 0);a.TableDataSource=g=c.__decorate([f.subclass("esri.layers.support.source.TableDataSource")],a.TableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FullTextSearch":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f){c=function(g){function l(r){r=g.call(this,r)||this;r.onFields=null;r.operator=null;r.searchTerm=null;r.searchType=null;return r}a._inheritsLoose(l,g);return l}(c.ClonableMixin(e.JSONSupport));b.__decorate([k.property({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:d.isSome(this.onFields)&&0<this.onFields.length}}}}})],c.prototype,"onFields",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"operator",void 0);b.__decorate([k.property({type:String,
json:{write:!0}})],c.prototype,"searchTerm",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],c.prototype,"searchType",void 0);return c=b.__decorate([f.subclass("esri.rest.support.FullTextSearch")],c)})},"esri/rest/support/QuantizationParameters":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../geometry/Extent".split(" "),
function(a,b,c,e,d,k,t,m,f,g){var l;c=new e.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});d=l=function(r){function p(n){n=r.call(this,n)||this;n.extent=null;n.mode="view";n.originPosition="upper-left";n.tolerance=1;return n}a._inheritsLoose(p,r);p.prototype.clone=function(){return new l(k.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))};return p}(d.JSONSupport);b.__decorate([t.property({type:g,json:{write:{overridePolicy(){return{enabled:"view"===
this.mode}}}}})],d.prototype,"extent",void 0);b.__decorate([t.property({type:["view","edit"],json:{write:!0}})],d.prototype,"mode",void 0);b.__decorate([t.property({type:String,json:{read:c.read,write:c.write}})],d.prototype,"originPosition",void 0);b.__decorate([t.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],d.prototype,"tolerance",void 0);return d=l=b.__decorate([f.subclass("esri.rest.support.QuantizationParameters")],d)})},"esri/rest/support/StatisticDefinition":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,k,t,m,f){var g;c=new c.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});e=g=function(l){function r(n){n=l.call(this,n)||this;n.maxPointCount=void 0;n.maxRecordCount=void 0;n.maxVertexCount=void 0;n.onStatisticField=
null;n.outStatisticFieldName=null;n.statisticType=null;n.statisticParameters=null;return n}a._inheritsLoose(r,l);var p=r.prototype;p.writeStatisticParameters=function(n,v){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)v.statisticParameters=d.clone(n)};p.clone=function(){return new g({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,
statisticType:this.statisticType,statisticParameters:d.clone(this.statisticParameters)})};return r}(e.JSONSupport);b.__decorate([k.property({type:Number,json:{write:!0}})],e.prototype,"maxPointCount",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],e.prototype,"maxRecordCount",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],e.prototype,"maxVertexCount",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],e.prototype,"onStatisticField",void 0);b.__decorate([k.property({type:String,
json:{write:!0}})],e.prototype,"outStatisticFieldName",void 0);b.__decorate([k.property({type:String,json:{read:{source:"statisticType",reader:c.read},write:{target:"statisticType",writer:c.write}}})],e.prototype,"statisticType",void 0);b.__decorate([k.property({type:Object})],e.prototype,"statisticParameters",void 0);b.__decorate([f.writer("statisticParameters")],e.prototype,"writeStatisticParameters",null);return e=g=b.__decorate([m.subclass("esri.rest.support.StatisticDefinition")],e)})},"esri/layers/mixins/FeatureLayerBase":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/Extent ../../geometry/HeightModelInfo ../../geometry/SpatialReference ../support/arcgisLayerUrl ../support/commonProperties ../support/EditFieldsInfo ../support/FeatureIndex ../support/featureLayerUtils ../support/GeometryFieldsInfo ../support/LayerFloorInfo ../support/Relationship ../support/serviceCapabilitiesUtils ../../time/TimeReference".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A,B,E){a.FeatureLayerBase=y=>{y=function(C){function D(){var M=C.apply(this,arguments)||this;M.capabilities=null;M.copyright=null;M.dateFieldsTimeReference=null;M.datesInUnknownTimezone=!1;M.displayField=null;M.definitionExpression=null;M.editFieldsInfo=null;M.editingInfo=null;M.elevationInfo=null;M.floorInfo=null;M.fullExtent=null;M.gdbVersion=null;M.geometryFieldsInfo=null;M.geometryType=null;M.hasM=void 0;M.hasZ=void 0;M.heightModelInfo=null;M.historicMoment=
null;M.isTable=!1;M.layerId=void 0;M.minScale=0;M.maxScale=0;M.globalIdField=null;M.objectIdField=null;M.preferredTimeReference=null;M.relationships=null;M.sourceJSON=null;M.returnM=void 0;M.returnZ=void 0;M.serviceDefinitionExpression=null;M.serviceItemId=null;M.spatialReference=n.WGS84;M.subtypeField=null;M.trackIdField=null;M.indexes=new (e.ofType(u.FeatureIndex));M.version=void 0;return M}b._inheritsLoose(D,C);var J=D.prototype;J.readCapabilitiesFromService=function(M,L){return B.getFeatureLayerCapabilities(L,
this.url)};J.readEditingInfo=function(M,L){({editingInfo:M}=L);return M?{lastEditDate:null!=M.lastEditDate?new Date(M.lastEditDate):null}:null};J.readIsTableFromService=function(M,L){return"Table"===L.type};J.readMinScale=function(M,L){return L.effectiveMinScale||M||0};J.readMaxScale=function(M,L){return L.effectiveMaxScale||M||0};J.readGlobalIdFieldFromService=function(M,L){return z.readGlobalIdField(L)};J.readObjectIdFieldFromService=function(M,L){return z.readObjectIdField(L)};J.readServiceDefinitionExpression=
function(M,L){return L.definitionQuery||L.definitionExpression};J.writeUrl=function(M,L,I,G){v.writeUrlWithLayerId(this,M,null,L,G)};J.readVersion=function(M,L){return z.readVersion(L)};b._createClass(D,[{key:"effectiveCapabilities",get:function(){var M=this.capabilities;if(!M)return null;M=d.clone(M);const {operations:L,editing:I}=M;if(this.sourceJSON?.isMultiServicesView)return this.userHasUpdateItemPrivileges&&(L.supportsQuery=!0),M;if(this.userHasUpdateItemPrivileges)return L.supportsAdd=L.supportsDelete=
L.supportsEditing=L.supportsQuery=L.supportsUpdate=I.supportsDeleteByOthers=I.supportsGeometryUpdate=I.supportsUpdateByOthers=!0,M;this.userHasFullEditingPrivileges&&L.supportsEditing&&(L.supportsAdd=L.supportsDelete=L.supportsUpdate=I.supportsGeometryUpdate=!0);return M}},{key:"url",set:function(M){M=v.sanitizeUrlWithLayerId({layer:this,url:M,nonStandardUrlAllowed:!0,logger:k.getLogger(this.declaredClass)});this._set("url",M.url);null!=M.layerId&&this._set("layerId",M.layerId)}}]);return D}(y);c.__decorate([t.property({readOnly:!0,
json:{read:!1,origins:{service:{read:{source:"advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities datesInUnknownTimezone hasAttachments hasM hasZ maxRecordCount maxRecordCountFactor ownershipBasedAccessControlForFeatures standardMaxRecordCount supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql tileMaxRecordCount useStandardizedQueries".split(" ")}}}}})],
y.prototype,"capabilities",void 0);c.__decorate([f.reader("service","capabilities")],y.prototype,"readCapabilitiesFromService",null);c.__decorate([t.property({readOnly:!0})],y.prototype,"effectiveCapabilities",null);c.__decorate([t.property({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],y.prototype,"copyright",void 0);c.__decorate([t.property({type:E})],y.prototype,"dateFieldsTimeReference",void 0);c.__decorate([t.property({type:Boolean})],y.prototype,"datesInUnknownTimezone",
void 0);c.__decorate([t.property({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],y.prototype,"displayField",void 0);c.__decorate([t.property({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],y.prototype,"definitionExpression",void 0);c.__decorate([t.property({readOnly:!0,type:q})],y.prototype,"editFieldsInfo",void 0);c.__decorate([t.property({readOnly:!0})],y.prototype,"editingInfo",void 0);
c.__decorate([f.reader("editingInfo")],y.prototype,"readEditingInfo",null);c.__decorate([t.property((()=>{const C=d.clone(h.elevationInfo),D=C.json.origins;D["web-map"]={read:!1,write:!1};D["portal-item"]={read:!1,write:!1};return C})())],y.prototype,"elevationInfo",void 0);c.__decorate([t.property({type:w,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],y.prototype,"floorInfo",void 0);c.__decorate([t.property({type:r,json:{origins:{service:{read:{source:"extent"}}}}})],
y.prototype,"fullExtent",void 0);c.__decorate([t.property()],y.prototype,"gdbVersion",void 0);c.__decorate([t.property({readOnly:!0,type:x,json:{read:{source:"geometryProperties"}}})],y.prototype,"geometryFieldsInfo",void 0);c.__decorate([t.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),json:{origins:{service:{read:z.geometryTypeKebabDict.read}}}})],y.prototype,"geometryType",void 0);c.__decorate([t.property({type:Boolean,json:{origins:{service:{read:!0}}}})],y.prototype,
"hasM",void 0);c.__decorate([t.property({type:Boolean,json:{origins:{service:{read:!0}}}})],y.prototype,"hasZ",void 0);c.__decorate([t.property({readOnly:!0,type:p})],y.prototype,"heightModelInfo",void 0);c.__decorate([t.property({type:Date})],y.prototype,"historicMoment",void 0);c.__decorate([t.property({readOnly:!0})],y.prototype,"isTable",void 0);c.__decorate([f.reader("service","isTable",["type"])],y.prototype,"readIsTableFromService",null);c.__decorate([t.property({type:Number,json:{origins:{service:{read:{source:"id"}},
"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],y.prototype,"layerId",void 0);c.__decorate([t.property(h.minScale)],y.prototype,"minScale",void 0);c.__decorate([f.reader("service","minScale",["minScale","effectiveMinScale"])],y.prototype,"readMinScale",null);c.__decorate([t.property(h.maxScale)],y.prototype,"maxScale",void 0);c.__decorate([f.reader("service","maxScale",["maxScale","effectiveMaxScale"])],y.prototype,"readMaxScale",null);c.__decorate([t.property({type:String})],y.prototype,
"globalIdField",void 0);c.__decorate([f.reader("service","globalIdField",["globalIdField","fields"])],y.prototype,"readGlobalIdFieldFromService",null);c.__decorate([t.property({type:String})],y.prototype,"objectIdField",void 0);c.__decorate([f.reader("service","objectIdField",["objectIdField","fields"])],y.prototype,"readObjectIdFieldFromService",null);c.__decorate([t.property({type:E})],y.prototype,"preferredTimeReference",void 0);c.__decorate([t.property({type:[A],readOnly:!0})],y.prototype,"relationships",
void 0);c.__decorate([t.property()],y.prototype,"sourceJSON",void 0);c.__decorate([t.property({type:Boolean})],y.prototype,"returnM",void 0);c.__decorate([t.property({type:Boolean})],y.prototype,"returnZ",void 0);c.__decorate([t.property({readOnly:!0})],y.prototype,"serviceDefinitionExpression",void 0);c.__decorate([f.reader("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],y.prototype,"readServiceDefinitionExpression",null);c.__decorate([t.property({type:String,
readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],y.prototype,"serviceItemId",void 0);c.__decorate([t.property({type:n,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],y.prototype,"spatialReference",void 0);c.__decorate([t.property({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],y.prototype,"subtypeField",void 0);c.__decorate([t.property({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],y.prototype,"trackIdField",void 0);c.__decorate([t.property({readOnly:!0,
json:{write:!1}})],y.prototype,"serverGens",void 0);c.__decorate([t.property({type:e.ofType(u.FeatureIndex),readOnly:!0})],y.prototype,"indexes",void 0);c.__decorate([t.property(h.url)],y.prototype,"url",null);c.__decorate([l.writer("url")],y.prototype,"writeUrl",null);c.__decorate([t.property({json:{origins:{service:{read:!0}},read:!1}})],y.prototype,"version",void 0);c.__decorate([f.reader("service","version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],
y.prototype,"readVersion",null);return y=c.__decorate([g.subclass("esri.layers.mixins.FeatureLayerBase")],y)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/HeightModelInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/arrayUtils ../core/jsonMap ../core/JSONSupport ../core/unitUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){function p(q,u){return new t("height-unit:unsupported",`Height unit of value '${q}' is not supported`,u)}var n;const v=e.strict()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"});f=v.jsonValues.slice();c.removeUnordered(f,"orthometric");const h=e.strict()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards",
"sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});c=n=function(q){function u(x){x=q.call(this,x)||this;x.heightModel="gravity-related-height";x.heightUnit="meters";x.vertCRS=null;return x}a._inheritsLoose(u,q);var z=u.prototype;
z.writeHeightModel=function(x,w,A){return v.write(x,w,A)};z.readHeightModel=function(x,w,A){if(w=v.read(x))return w;if(A&&A.messages){w=A.messages;var B=w.push;x=new t("height-model:unsupported",`Height model of value '${x}' is not supported`,{context:A});B.call(w,x)}return null};z.readHeightUnit=function(x,w,A){if(w=h.read(x))return w;A&&A.messages&&A.messages.push(p(x,{context:A}));return null};z.readHeightUnitService=function(x,w,A){if(w=k.unitFromRESTJSON(x)||h.read(x))return w;A&&A.messages&&
A.messages.push(p(x,{context:A}));return null};z.readVertCRS=function(x,w){return w.vertCRS||w.ellipsoid||w.geoid};z.clone=function(){return new n({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})};z.equals=function(x){return x?this===x?!0:this.heightModel===x.heightModel&&this.heightUnit===x.heightUnit&&this.vertCRS===x.vertCRS:!1};u.deriveUnitFromSR=function(x,w){w=k.getVerticalUnitStringForSR(w);return new n({heightModel:x.heightModel,heightUnit:w,vertCRS:x.vertCRS})};
z.write=function(x,w){w={origin:"web-scene",...w};return q.prototype.write.call(this,x,w)};u.fromJSON=function(x){if(!x)return null;const w=new n;w.read(x,{origin:"web-scene"});return w};return u}(d.JSONSupport);b.__decorate([m.property({type:v.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:f,default:"ellipsoidal"}}}})],c.prototype,"heightModel",void 0);b.__decorate([r.writer("web-scene","heightModel")],c.prototype,"writeHeightModel",null);b.__decorate([g.reader(["web-scene","service"],
"heightModel")],c.prototype,"readHeightModel",null);b.__decorate([m.property({type:h.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:h.jsonValues,write:h.write}}}})],c.prototype,"heightUnit",void 0);b.__decorate([g.reader("web-scene","heightUnit")],c.prototype,"readHeightUnit",null);b.__decorate([g.reader("service","heightUnit")],c.prototype,"readHeightUnitService",null);b.__decorate([m.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],c.prototype,"vertCRS",
void 0);b.__decorate([g.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],c.prototype,"readVertCRS",null);return c=n=b.__decorate([l.subclass("esri.geometry.HeightModelInfo")],c)})},"esri/layers/support/EditFieldsInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../../time/TimeReference".split(" "),
function(a,b,c,e,d,k,t,m,f){c=function(g){function l(r){r=g.call(this,r)||this;r.creatorField=null;r.creationDateField=null;r.editorField=null;r.editDateField=null;r.realm=null;r.dateFieldsTimeReference=null;return r}a._inheritsLoose(l,g);return l}(c.ClonableMixin(e.JSONSupport));b.__decorate([d.property()],c.prototype,"creatorField",void 0);b.__decorate([d.property()],c.prototype,"creationDateField",void 0);b.__decorate([d.property()],c.prototype,"editorField",void 0);b.__decorate([d.property()],
c.prototype,"editDateField",void 0);b.__decorate([d.property()],c.prototype,"realm",void 0);b.__decorate([d.property({type:f})],c.prototype,"dateFieldsTimeReference",void 0);return c=b.__decorate([m.subclass("esri.layers.support.EditFieldsInfo")],c)})},"esri/time/TimeReference":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Clonable ../core/JSONSupport ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./timeReferenceUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){c=function(p){function n(h){h=p.call(this,h)||this;h.legacy=null;h.timeZone="system";return h}a._inheritsLoose(n,p);var v=n.prototype;v.readLegacy=function(h,q){const {timeZone:u,respectsDaylightSaving:z}=q;return{timeZone:u,respectsDaylightSaving:z}};v.readTimeZone=function(h,q){return"timeZoneIANA"in q?q.timeZoneIANA:r.convertLegacyTimeZone(q)};v.writeTimeZone=function(h,q){q.timeZoneIANA=h};v.equals=function(h){return d.isNone(h)||d.isNone(this.timeZone)||d.isNone(h.timeZone)?
!1:this.timeZone===h.timeZone};return n}(c.ClonableMixin(e.JSONSupport));b.__decorate([k.property()],c.prototype,"legacy",void 0);b.__decorate([f.reader("legacy",["timeZone"])],c.prototype,"readLegacy",null);b.__decorate([k.property({type:String,nonNullable:!0})],c.prototype,"timeZone",void 0);b.__decorate([f.reader("timeZone",["timeZone","timeZoneIANA","respectsDaylightSaving"])],c.prototype,"readTimeZone",null);b.__decorate([l.writer("timeZone")],c.prototype,"writeTimeZone",null);return c=b.__decorate([g.subclass("esri.time.TimeReference")],
c)})},"esri/time/timeReferenceUtils":function(){define(["exports","./legacyTimeZoneMap","../chunks/datetime"],function(a,b,c){a.convertLegacyTimeZone=function(e,d="system"){if(!e||!b.legacyTimeZoneMap.has(e.timeZone))return d;d=b.legacyTimeZoneMap.get(e.timeZone);if(e.timeZone.startsWith("UTC")||e.respectsDaylightSaving)return d;e=c.DateTime.local().setZone(d);e=Math.min(e.set({month:1,day:1}).offset,e.set({month:5}).offset);e=0===e?"Etc/UTC":`Etc/GMT${c.FixedOffsetZone.instance(-e).formatOffset(0,
"narrow")}`;return e};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/legacyTimeZoneMap":function(){define(["exports"],function(a){const b=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time",
"Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],
["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],
["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time",
"Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time",
"America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],
["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Chihuahua"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time",
"Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)",
"America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time",
"Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],
["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],
["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],
["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],
["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);a.legacyTimeZoneMap=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/datetime":function(){define(["exports"],function(a){function b(F,R={}){const ha=JSON.stringify([F,R]);let sa=oc[ha];sa||(sa=new Intl.ListFormat(F,R),oc[ha]=sa);return sa}function c(F,R={}){const ha=JSON.stringify([F,R]);
let sa=bc[ha];sa||(sa=new Intl.DateTimeFormat(F,R),bc[ha]=sa);return sa}function e(F,R={}){const ha=JSON.stringify([F,R]);let sa=cc[ha];sa||(sa=new Intl.NumberFormat(F,R),cc[ha]=sa);return sa}function d(F,R={}){const {base:ha,...sa}=R,Ea=JSON.stringify([F,sa]);let La=dc[Ea];La||(La=new Intl.RelativeTimeFormat(F,R),dc[Ea]=La);return La}function k(F){const R=[];for(let ha=1;12>=ha;ha++){const sa=kb.utc(2016,ha,1);R.push(F(sa))}return R}function t(F){const R=[];for(let ha=1;7>=ha;ha++){const sa=kb.utc(2016,
11,13+ha);R.push(F(sa))}return R}function m(F,R,ha,sa,Ea){F=F.listingMode(ha);return"error"===F?null:"en"===F?sa(R):Ea(R)}function f(F,R){if(g(F)||null===F)return R;if(F instanceof Tb)return F;if("string"===typeof F){const ha=F.toLowerCase();return"default"===ha?R:"local"===ha||"system"===ha?Yb.instance:"utc"===ha||"gmt"===ha?Bb.utcInstance:Bb.parseSpecifier(ha)||Lb.create(F)}return l(F)?Bb.instance(F):"object"===typeof F&&F.offset&&"number"===typeof F.offset?F:new Nc(F)}function g(F){return"undefined"===
typeof F}function l(F){return"number"===typeof F}function r(F){return"number"===typeof F&&0===F%1}function p(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(F){return!1}}function n(F,R,ha){if(0!==F.length)return F.reduce((sa,Ea)=>{Ea=[R(Ea),Ea];return sa?ha(sa[0],Ea[0])===sa[0]?sa:Ea:Ea},null)[1]}function v(F,R){return R.reduce((ha,sa)=>{ha[sa]=F[sa];return ha},{})}function h(F,R){return Object.prototype.hasOwnProperty.call(F,R)}function q(F,R,ha){return r(F)&&F>=R&&F<=ha}function u(F,
R=2){return 0>F?"-"+(""+-F).padStart(R,"0"):(""+F).padStart(R,"0")}function z(F){if(!g(F)&&null!==F&&""!==F)return parseInt(F,10)}function x(F){if(!g(F)&&null!==F&&""!==F)return parseFloat(F)}function w(F){if(!g(F)&&null!==F&&""!==F)return F=1E3*parseFloat("0."+F),Math.floor(F)}function A(F,R,ha=!1){R=10**R;return(ha?Math.trunc:Math.round)(F*R)/R}function B(F){return 0===F%4&&(0!==F%100||0===F%400)}function E(F,R){var ha=R-1;ha=ha-12*Math.floor(ha/12)+1;return 2===ha?B(F+(R-ha)/12)?29:28:[31,null,
31,30,31,30,31,31,30,31,30,31][ha-1]}function y(F){let R=Date.UTC(F.year,F.month-1,F.day,F.hour,F.minute,F.second,F.millisecond);100>F.year&&0<=F.year&&(R=new Date(R),R.setUTCFullYear(R.getUTCFullYear()-1900));return+R}function C(F){var R=F-1;R=(R+Math.floor(R/4)-Math.floor(R/100)+Math.floor(R/400))%7;return 4===(F+Math.floor(F/4)-Math.floor(F/100)+Math.floor(F/400))%7||3===R?53:52}function D(F){return 99<F?F:F>xb.twoDigitCutoffYear?1900+F:2E3+F}function J(F,R,ha,sa=null){F=new Date(F);const Ea={hourCycle:"h23",
year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};sa&&(Ea.timeZone=sa);return(R=(new Intl.DateTimeFormat(ha,{timeZoneName:R,...Ea})).formatToParts(F).find(La=>"timezonename"===La.type.toLowerCase()))?R.value:null}function M(F,R){F=parseInt(F,10);Number.isNaN(F)&&(F=0);R=parseInt(R,10)||0;R=0>F||Object.is(F,-0)?-R:R;return 60*F+R}function L(F){const R=Number(F);if("boolean"===typeof F||""===F||Number.isNaN(R))throw new ya(`Invalid unit value ${F}`);return R}function I(F,
R){const ha={};for(const sa in F)if(h(F,sa)){const Ea=F[sa];void 0!==Ea&&null!==Ea&&(ha[R(sa)]=L(Ea))}return ha}function G(F,R){const ha=Math.trunc(Math.abs(F/60)),sa=Math.trunc(Math.abs(F%60));F=0<=F?"+":"-";switch(R){case "short":return`${F}${u(ha,2)}:${u(sa,2)}`;case "narrow":return`${F}${ha}${0<sa?`:${sa}`:""}`;case "techie":return`${F}${u(ha,2)}${u(sa,2)}`;default:throw new RangeError(`Value format ${R} is out of range for property format`);}}function K(F){return v(F,["hour","minute","second",
"millisecond"])}function H(F){switch(F){case "narrow":return[...Oc];case "short":return[...pc];case "long":return[...Pc];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function O(F){switch(F){case "narrow":return[...Qc];case "short":return[...qc];case "long":return[...rc];case "numeric":return"1234567".split("");default:return null}}function Q(F){switch(F){case "narrow":return[...Rc];case "short":return[...Sc];
case "long":return[...Tc];default:return null}}function W(F,R,ha="always",sa=!1){const Ea={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var La=-1===["hours","minutes","seconds"].indexOf(F);if("auto"===ha&&La)switch(ha="days"===F,R){case 1:return ha?"tomorrow":`next ${Ea[F][0]}`;case -1:return ha?"yesterday":`last ${Ea[F][0]}`;case 0:return ha?"today":
`this ${Ea[F][0]}`}ha=Object.is(R,-0)||0>R;R=Math.abs(R);La=1===R;const Ya=Ea[F];F=sa?La?Ya[1]:Ya[2]||Ya[1]:La?Ea[F][0]:F;return ha?`${R} ${F} ago`:`in ${R} ${F}`}function T(F,R){let ha="";for(const sa of F)ha=sa.literal?ha+sa.val:ha+R(sa.val);return ha}function Y(...F){F=F.reduce((R,ha)=>R+ha.source,"");return RegExp(`^${F}$`)}function X(...F){return R=>F.reduce(([ha,sa,Ea],La)=>{const [Ya,db,gb]=La(R,Ea);return[{...ha,...Ya},db||sa,gb]},[{},null,1]).slice(0,2)}function ra(F,...R){if(null==F)return[null,
null];for(const [ha,sa]of R)if(R=ha.exec(F))return sa(R);return[null,null]}function Ba(...F){return(R,ha)=>{const sa={};let Ea;for(Ea=0;Ea<F.length;Ea++)sa[F[Ea]]=z(R[ha+Ea]);return[sa,null,ha+Ea]}}function Ga(F,R,ha){F=F[R];return g(F)?ha:z(F)}function Ha(F,R){return[{hours:Ga(F,R,0),minutes:Ga(F,R+1,0),seconds:Ga(F,R+2,0),milliseconds:w(F[R+3])},null,R+4]}function da(F,R){const ha=!F[R]&&!F[R+1];F=M(F[R+1],F[R+2]);return[{},ha?null:Bb.instance(F),R+3]}function na(F,R){return[{},F[R]?Lb.create(F[R]):
null,R+1]}function xa(F){const [R,ha,sa,Ea,La,Ya,db,gb,lb]=F,hb="-"===R[0];F=gb&&"-"===gb[0];const ob=(nb,Cb=!1)=>void 0!==nb&&(Cb||nb&&hb)?-nb:nb;return[{years:ob(x(ha)),months:ob(x(sa)),weeks:ob(x(Ea)),days:ob(x(La)),hours:ob(x(Ya)),minutes:ob(x(db)),seconds:ob(x(gb),"-0"===gb),milliseconds:ob(w(lb),F)}]}function Na(F,R,ha,sa,Ea,La,Ya){R={year:2===R.length?D(z(R)):z(R),month:pc.indexOf(ha)+1,day:z(sa),hour:z(Ea),minute:z(La)};Ya&&(R.second=z(Ya));F&&(R.weekday=3<F.length?rc.indexOf(F)+1:qc.indexOf(F)+
1);return R}function Oa(F){const [,R,ha,sa,Ea,La,Ya,db,gb,lb,hb,ob]=F;F=Na(R,Ea,sa,ha,La,Ya,db);let nb;nb=gb?Uc[gb]:lb?0:M(hb,ob);return[F,new Bb(nb)]}function N(F){const [,R,ha,sa,Ea,La,Ya,db]=F;return[Na(R,Ea,sa,ha,La,Ya,db),Bb.utcInstance]}function S(F){const [,R,ha,sa,Ea,La,Ya,db]=F;return[Na(R,db,ha,sa,Ea,La,Ya),Bb.utcInstance]}function ja(F,R,ha=!1){F={values:ha?R.values:{...F.values,...(R.values||{})},loc:F.loc.clone(R.loc),conversionAccuracy:R.conversionAccuracy||F.conversionAccuracy,matrix:R.matrix||
F.matrix};return new pb(F)}function wa(F,R,ha,sa,Ea){F=F[Ea][ha];var La=R[ha]/F;La=Math.sign(La)!==Math.sign(sa[Ea])&&0!==sa[Ea]&&1>=Math.abs(La)?0>La?Math.floor(La):Math.ceil(La):Math.trunc(La);sa[Ea]+=La;R[ha]-=La*F}function Ia(F,R){Vc.reduce((ha,sa)=>{if(g(R[sa]))return ha;ha&&wa(F,R,ha,R,sa);return sa},null)}function V(F,R){F=R.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-F.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(pb.fromMillis(F).as("days"))}function aa(F,
R,ha){const sa=[["years",(gb,lb)=>lb.year-gb.year],["quarters",(gb,lb)=>lb.quarter-gb.quarter+4*(lb.year-gb.year)],["months",(gb,lb)=>lb.month-gb.month+12*(lb.year-gb.year)],["weeks",(gb,lb)=>{gb=V(gb,lb);return(gb-gb%7)/7}],["days",V]],Ea={},La=F;let Ya,db;for(const [gb,lb]of sa)0<=ha.indexOf(gb)&&(Ya=gb,Ea[gb]=lb(F,R),db=La.plus(Ea),db>R?(Ea[gb]--,F=La.plus(Ea)):F=db);return[F,Ea,db,Ya]}function oa(F,R,ha,sa){let [Ea,La,Ya,db]=aa(F,R,ha);F=R-Ea;ha=ha.filter(gb=>0<=["hours","minutes","seconds","milliseconds"].indexOf(gb));
0===ha.length&&(Ya<R&&(Ya=Ea.plus({[db]:1})),Ya!==Ea&&(La[db]=(La[db]||0)+F/(Ya-Ea)));R=pb.fromObject(La,sa);return 0<ha.length?pb.fromMillis(F,sa).shiftTo(...ha).plus(R):R}function P({numberingSystem:F},R=""){return new RegExp(`${ec[F||"latn"]}${R}`)}function Z(F,R=ha=>ha){return{regex:F,deser:([ha])=>{{let sa=parseInt(ha,10);if(isNaN(sa)){sa="";for(let Ea=0;Ea<ha.length;Ea++){const La=ha.charCodeAt(Ea);if(-1!==ha[Ea].search(ec.hanidec))sa+=Wc.indexOf(ha[Ea]);else for(const Ya in sc){const [db,gb]=
sc[Ya];La>=db&&La<=gb&&(sa+=La-db)}}ha=parseInt(sa,10)}else ha=sa}return R(ha)}}}function ia(F){return F.replace(/\./g,"\\.?").replace(fc,tc)}function qa(F,R){return null===F?null:{regex:RegExp(F.map(ia).join("|")),deser:([ha])=>F.findIndex(sa=>ha.replace(/\./g,"").replace(fc," ").toLowerCase()===sa.replace(/\./g,"").replace(fc," ").toLowerCase())+R}}function ea(F,R){return{regex:F,deser:([,ha,sa])=>M(ha,sa),groups:R}}function U(F){return{regex:F,deser:([R])=>R}}function ca(F,R){const ha=P(R),sa=
P(R,"{2}"),Ea=P(R,"{3}"),La=P(R,"{4}"),Ya=P(R,"{6}"),db=P(R,"{1,2}"),gb=P(R,"{1,3}"),lb=P(R,"{1,6}"),hb=P(R,"{1,9}"),ob=P(R,"{2,4}"),nb=P(R,"{4,6}"),Cb=Ob=>({regex:RegExp(Ob.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([gc])=>gc,literal:!0}),Ub=(Ob=>{if(F.literal)return Cb(Ob);switch(Ob.val){case "G":return qa(R.eras("short",!1),0);case "GG":return qa(R.eras("long",!1),0);case "y":return Z(lb);case "yy":return Z(ob,D);case "yyyy":return Z(La);case "yyyyy":return Z(nb);case "yyyyyy":return Z(Ya);
case "M":return Z(db);case "MM":return Z(sa);case "MMM":return qa(R.months("short",!0,!1),1);case "MMMM":return qa(R.months("long",!0,!1),1);case "L":return Z(db);case "LL":return Z(sa);case "LLL":return qa(R.months("short",!1,!1),1);case "LLLL":return qa(R.months("long",!1,!1),1);case "d":return Z(db);case "dd":return Z(sa);case "o":return Z(gb);case "ooo":return Z(Ea);case "HH":return Z(sa);case "H":return Z(db);case "hh":return Z(sa);case "h":return Z(db);case "mm":return Z(sa);case "m":return Z(db);
case "q":return Z(db);case "qq":return Z(sa);case "s":return Z(db);case "ss":return Z(sa);case "S":return Z(gb);case "SSS":return Z(Ea);case "u":return U(hb);case "uu":return U(db);case "uuu":return Z(ha);case "a":return qa(R.meridiems(),0);case "kkkk":return Z(La);case "kk":return Z(ob,D);case "W":return Z(db);case "WW":return Z(sa);case "E":case "c":return Z(ha);case "EEE":return qa(R.weekdays("short",!1,!1),1);case "EEEE":return qa(R.weekdays("long",!1,!1),1);case "ccc":return qa(R.weekdays("short",
!0,!1),1);case "cccc":return qa(R.weekdays("long",!0,!1),1);case "Z":case "ZZ":return ea(new RegExp(`([+-]${db.source})(?::(${sa.source}))?`),2);case "ZZZ":return ea(new RegExp(`([+-]${db.source})(${sa.source})?`),2);case "z":return U(/[a-z_+-/]{1,256}?/i);default:return Cb(Ob)}})(F)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};Ub.token=F;return Ub}function la(F){return[`^${F.map(R=>R.regex).reduce((R,ha)=>`${R}(${ha.source})`,"")}$`,F]}function Ca(F,R,ha){if(F=F.match(R)){R=
{};let sa=1;for(const Ea in ha)if(h(ha,Ea)){const La=ha[Ea],Ya=La.groups?La.groups+1:1;!La.literal&&La.token&&(R[La.token.val[0]]=La.deser(F.slice(sa,sa+Ya)));sa+=Ya}return[F,R]}return[F,{}]}function Qa(F){const R=Ea=>{switch(Ea){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";case "k":return"weekYear";
case "q":return"quarter";default:return null}};let ha=null,sa;g(F.z)||(ha=Lb.create(F.z));g(F.Z)||(ha||(ha=new Bb(F.Z)),sa=F.Z);g(F.q)||(F.M=3*(F.q-1)+1);g(F.h)||(12>F.h&&1===F.a?F.h+=12:12===F.h&&0===F.a&&(F.h=0));0===F.G&&F.y&&(F.y=-F.y);g(F.u)||(F.S=w(F.u));return[Object.keys(F).reduce((Ea,La)=>{const Ya=R(La);Ya&&(Ea[Ya]=F[La]);return Ea},{}),ha,sa]}function fa(F,R){return Array.prototype.concat(...F.map(ha=>{if(!ha.literal){var sa=Db.macroTokenToFormatOpts(ha.val);sa=Fa(sa,R);ha=null==sa||sa.includes(void 0)?
ha:sa}return ha}))}function ma(F,R,ha){ha=fa(Db.parseFormat(ha),F);var sa=ha.map(nb=>ca(nb,F));const Ea=sa.find(nb=>nb.invalidReason);if(Ea)return{input:R,tokens:ha,invalidReason:Ea.invalidReason};const [La,Ya]=la(sa);sa=RegExp(La,"i");const [db,gb]=Ca(R,sa,Ya),[lb,hb,ob]=gb?Qa(gb):[null,null,void 0];if(h(gb,"a")&&h(gb,"H"))throw new ta("Can't include meridiem when specifying 24-hour format");return{input:R,tokens:ha,regex:sa,rawMatches:db,matches:gb,result:lb,zone:hb,specificOffset:ob}}function Fa(F,
R){if(!F)return null;R=Db.create(R,F);var ha=R.formatDateTimeParts;hc||(hc=kb.fromMillis(1555555555555));return ha.call(R,hc).map(sa=>{{const {type:La,value:Ya}=sa;if("literal"===La)sa={literal:!0,val:Ya};else{sa=F[La];var Ea=Xc[La];"object"===typeof Ea&&(Ea=Ea[sa]);sa=Ea?{literal:!1,val:Ea}:void 0}}return sa})}function ua(F,R){return new Jb("unit out of range",`you specified ${R} (of type ${typeof R}) as a ${F}, which is invalid`)}function Ka(F,R,ha){R=new Date(Date.UTC(F,R-1,ha));100>F&&0<=F&&R.setUTCFullYear(R.getUTCFullYear()-
1900);F=R.getUTCDay();return 0===F?7:F}function Ta(F,R){F=B(F)?ic:jc;const ha=F.findIndex(sa=>sa<R);return{month:ha+1,day:R-F[ha]}}function Wa(F){const {year:R,month:ha,day:sa}=F;var Ea=sa+(B(R)?ic:jc)[ha-1];const La=Ka(R,ha,sa);Ea=Math.floor((Ea-La+10)/7);let Ya;1>Ea?(Ya=R-1,Ea=C(Ya)):Ea>C(R)?(Ya=R+1,Ea=1):Ya=R;return{weekYear:Ya,weekNumber:Ea,weekday:La,...K(F)}}function Za(F){const {weekYear:R,weekNumber:ha,weekday:sa}=F;var Ea=Ka(R,1,4),La=B(R)?366:365;Ea=7*ha+sa-Ea-3;1>Ea?(La=R-1,Ea+=B(La)?366:
365):Ea>La?(La=R+1,Ea-=B(R)?366:365):La=R;const {month:Ya,day:db}=Ta(La,Ea);return{year:La,month:Ya,day:db,...K(F)}}function bb(F){const {year:R,month:ha,day:sa}=F;var Ea=sa+(B(R)?ic:jc)[ha-1];return{year:R,ordinal:Ea,...K(F)}}function ab(F){const {year:R,ordinal:ha}=F,{month:sa,day:Ea}=Ta(R,ha);return{year:R,month:sa,day:Ea,...K(F)}}function fb(F){const R=r(F.year),ha=q(F.month,1,12),sa=q(F.day,1,E(F.year,F.month));return R?ha?sa?!1:ua("day",F.day):ua("month",F.month):ua("year",F.year)}function Xa(F){const {hour:R,
minute:ha,second:sa,millisecond:Ea}=F;F=q(R,0,23)||24===R&&0===ha&&0===sa&&0===Ea;const La=q(ha,0,59),Ya=q(sa,0,59),db=q(Ea,0,999);return F?La?Ya?db?!1:ua("millisecond",Ea):ua("second",sa):ua("minute",ha):ua("hour",R)}function Da(F){return new Jb("unsupported zone",`the zone "${F.name}" is not supported`)}function Aa(F){null===F.weekData&&(F.weekData=Wa(F.c));return F.weekData}function Va(F,R){F={ts:F.ts,zone:F.zone,c:F.c,o:F.o,loc:F.loc,invalid:F.invalid};return new kb({...F,...R,old:F})}function cb(F,
R,ha){let sa=F-6E4*R;const Ea=ha.offset(sa);if(R===Ea)return[sa,R];sa-=6E4*(Ea-R);R=ha.offset(sa);return Ea===R?[sa,Ea]:[F-6E4*Math.min(Ea,R),Math.max(Ea,R)]}function za(F,R){F=new Date(F+6E4*R);return{year:F.getUTCFullYear(),month:F.getUTCMonth()+1,day:F.getUTCDate(),hour:F.getUTCHours(),minute:F.getUTCMinutes(),second:F.getUTCSeconds(),millisecond:F.getUTCMilliseconds()}}function tb(F,R,ha){return cb(y(F),R,ha)}function Ab(F,R){const ha=F.o;var sa=F.c.year+Math.trunc(R.years);const Ea=F.c.month+
Math.trunc(R.months)+3*Math.trunc(R.quarters);sa={...F.c,year:sa,month:Ea,day:Math.min(F.c.day,E(sa,Ea))+Math.trunc(R.days)+7*Math.trunc(R.weeks)};R=pb.fromObject({years:R.years-Math.trunc(R.years),quarters:R.quarters-Math.trunc(R.quarters),months:R.months-Math.trunc(R.months),weeks:R.weeks-Math.trunc(R.weeks),days:R.days-Math.trunc(R.days),hours:R.hours,minutes:R.minutes,seconds:R.seconds,milliseconds:R.milliseconds}).as("milliseconds");sa=y(sa);let [La,Ya]=cb(sa,ha,F.zone);0!==R&&(La+=R,Ya=F.zone.offset(La));
return{ts:La,o:Ya}}function qb(F,R,ha,sa,Ea,La){const {setZone:Ya,zone:db}=ha;return F&&0!==Object.keys(F).length?(F=kb.fromObject(F,{...ha,zone:R||db,specificOffset:La}),Ya?F:F.setZone(db)):kb.invalid(new Jb("unparsable",`the input "${Ea}" can't be parsed as ${sa}`))}function yb(F,R,ha=!0){return F.isValid?Db.create(sb.create("en-US"),{allowZ:ha,forceSimple:!0}).formatDateTimeFromString(F,R):null}function Eb(F,R){const ha=9999<F.c.year||0>F.c.year;let sa="";ha&&0<=F.c.year&&(sa+="+");sa+=u(F.c.year,
ha?6:4);R?(sa=sa+"-"+u(F.c.month),sa=sa+"-"+u(F.c.day)):(sa+=u(F.c.month),sa+=u(F.c.day));return sa}function Fb(F,R,ha,sa,Ea,La){let Ya=u(F.c.hour);R?(Ya=Ya+":"+u(F.c.minute),0===F.c.second&&ha||(Ya+=":")):Ya+=u(F.c.minute);0===F.c.second&&ha||(Ya+=u(F.c.second),0===F.c.millisecond&&sa||(Ya=Ya+"."+u(F.c.millisecond,3)));Ea&&(F.isOffsetFixed&&0===F.offset&&!La?Ya+="Z":0>F.o?(Ya=Ya+"-"+u(Math.trunc(-F.o/60)),Ya=Ya+":"+u(Math.trunc(-F.o%60))):(Ya=Ya+"+"+u(Math.trunc(F.o/60)),Ya=Ya+":"+u(Math.trunc(F.o%
60))));La&&(Ya+="["+F.zone.ianaName+"]");return Ya}function Ib(F){const R={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[F.toLowerCase()];
if(!R)throw new pa(F);return R}function wb(F,R){const ha=f(R.zone,xb.defaultZone);R=sb.fromObject(R);const sa=xb.now();var Ea;if(g(F.year))F=sa;else{for(const La of uc)g(F[La])&&(F[La]=vc[La]);if(Ea=fb(F)||Xa(F))return kb.invalid(Ea);Ea=ha.offset(sa);[F,Ea]=tb(F,Ea,ha)}return new kb({ts:F,zone:ha,loc:R,o:Ea})}function zb(F,R,ha){const sa=g(ha.round)?!0:ha.round,Ea=(Ya,db)=>{Ya=A(Ya,sa||ha.calendary?0:2,!0);return R.loc.clone(ha).relFormatter(ha).format(Ya,db)},La=Ya=>ha.calendary?R.hasSame(F,Ya)?
0:R.startOf(Ya).diff(F.startOf(Ya),Ya).get(Ya):R.diff(F,Ya).get(Ya);if(ha.unit)return Ea(La(ha.unit),ha.unit);for(const Ya of ha.units){const db=La(Ya);if(1<=Math.abs(db))return Ea(db,Ya)}return Ea(F>R?-0:0,ha.units[ha.units.length-1])}function ib(F){let R={};0<F.length&&"object"===typeof F[F.length-1]?(R=F[F.length-1],F=Array.from(F).slice(0,F.length-1)):F=Array.from(F);return[R,F]}function rb(F){if(kb.isDateTime(F))return F;if(F&&F.valueOf&&l(F.valueOf()))return kb.fromJSDate(F);if(F&&"object"===
typeof F)return kb.fromObject(F);throw new ya(`Unknown datetime argument: ${F}, of type ${typeof F}`);}class vb extends Error{}class Ma extends vb{constructor(F){super(`Invalid DateTime: ${F.toMessage()}`)}}class mb extends vb{constructor(F){super(`Invalid Interval: ${F.toMessage()}`)}}class ka extends vb{constructor(F){super(`Invalid Duration: ${F.toMessage()}`)}}class ta extends vb{}class pa extends vb{constructor(F){super(`Invalid unit ${F}`)}}class ya extends vb{}class Pa extends vb{constructor(){super("Zone is an abstract class")}}
const va={year:"numeric",month:"numeric",day:"numeric"},Sa={year:"numeric",month:"short",day:"numeric"},ba={year:"numeric",month:"short",day:"numeric",weekday:"short"},Ja={year:"numeric",month:"long",day:"numeric"},Ra={year:"numeric",month:"long",day:"numeric",weekday:"long"},Ua={hour:"numeric",minute:"numeric"},$a={hour:"numeric",minute:"numeric",second:"numeric"},eb={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},jb={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},
Hb={hour:"numeric",minute:"numeric",hourCycle:"h23"},Mb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},Qb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"short"},Kb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},Vb={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},Gb={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Rb={year:"numeric",
month:"short",day:"numeric",hour:"numeric",minute:"numeric"},Sb={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Nb={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},Wb={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},wc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},xc={year:"numeric",month:"long",
day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},yc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"};class Tb{get type(){throw new Pa;}get name(){throw new Pa;}get ianaName(){return this.name}get isUniversal(){throw new Pa;}offsetName(F,R){throw new Pa;}formatOffset(F,R){throw new Pa;}offset(F){throw new Pa;}equals(F){throw new Pa;}get isValid(){throw new Pa;}}let kc=null;class Yb extends Tb{static get instance(){null===
kc&&(kc=new Yb);return kc}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(F,{format:R,locale:ha}){return J(F,R,ha)}formatOffset(F,R){return G(this.offset(F),R)}offset(F){return-(new Date(F)).getTimezoneOffset()}equals(F){return"system"===F.type}get isValid(){return!0}}let Zb={};const Yc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let $b={};class Lb extends Tb{static create(F){$b[F]||($b[F]=new Lb(F));return $b[F]}static resetCache(){$b=
{};Zb={}}static isValidSpecifier(F){return this.isValidZone(F)}static isValidZone(F){if(!F)return!1;try{return(new Intl.DateTimeFormat("en-US",{timeZone:F})).format(),!0}catch(R){return!1}}constructor(F){super();this.zoneName=F;this.valid=Lb.isValidZone(F)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(F,{format:R,locale:ha}){return J(F,R,ha,this.name)}formatOffset(F,R){return G(this.offset(F),R)}offset(F){F=new Date(F);if(isNaN(F))return NaN;var R=this.name;
Zb[R]||(Zb[R]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:R,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}));R=Zb[R];if(R.formatToParts){R=R.formatToParts(F);var ha=[];for(let hb=0;hb<R.length;hb++){const {type:ob,value:nb}=R[hb],Cb=Yc[ob];"era"===ob?ha[Cb]=nb:g(Cb)||(ha[Cb]=parseInt(nb,10))}R=ha}else{R=R.format(F).replace(/\u200E/g,"");R=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(R);const [,hb,ob,nb,Cb,Ub,Ob,gc]=R;R=
[nb,hb,ob,Cb,Ub,Ob,gc]}let [sa,Ea,La,Ya,db,gb,lb]=R;"BC"===Ya&&(sa=-Math.abs(sa)+1);R=y({year:sa,month:Ea,day:La,hour:24===db?0:db,minute:gb,second:lb,millisecond:0});F=+F;ha=F%1E3;return(R-(F-(0<=ha?ha:1E3+ha)))/6E4}equals(F){return"iana"===F.type&&F.name===this.name}get isValid(){return this.valid}}let oc={},bc={},cc={},dc={},ac=null;class Zc{constructor(F,R,ha){this.padTo=ha.padTo||0;this.floor=ha.floor||!1;const {padTo:sa,floor:Ea,...La}=ha;if(!R||0<Object.keys(La).length)R={useGrouping:!1,...ha},
0<ha.padTo&&(R.minimumIntegerDigits=ha.padTo),this.inf=e(F,R)}format(F){if(this.inf)return this.inf.format(this.floor?Math.floor(F):F);F=this.floor?Math.floor(F):A(F,3);return u(F,this.padTo)}}class $c{constructor(F,R,ha){this.opts=ha;var sa=void 0;F.zone.isUniversal?(sa=F.offset/60*-1,sa=0<=sa?`Etc/GMT+${sa}`:`Etc/GMT${sa}`,0!==F.offset&&Lb.create(sa).valid?this.dt=F:(sa="UTC",this.dt=ha.timeZoneName?F:0===F.offset?F:kb.fromMillis(F.ts+6E4*F.offset))):"system"===F.zone.type?this.dt=F:(this.dt=F,
sa=F.zone.name);F={...this.opts};F.timeZone=F.timeZone||sa;this.dtf=c(R,F)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class ad{constructor(F,R,ha){this.opts={style:"long",...ha};!R&&p()&&(this.rtf=d(F,ha))}format(F,R){return this.rtf?this.rtf.format(F,R):W(R,F,this.opts.numeric,"long"!==this.opts.style)}formatToParts(F,R){return this.rtf?this.rtf.formatToParts(F,R):[]}}class sb{static fromOpts(F){return sb.create(F.locale,
F.numberingSystem,F.outputCalendar,F.defaultToEN)}static create(F,R,ha,sa=!1){F=F||xb.defaultLocale;var Ea;(Ea=F)||(sa?sa="en-US":(ac||(ac=(new Intl.DateTimeFormat).resolvedOptions().locale),sa=ac),Ea=sa);return new sb(Ea,R||xb.defaultNumberingSystem,ha||xb.defaultOutputCalendar,F)}static resetCache(){ac=null;bc={};cc={};dc={}}static fromObject({locale:F,numberingSystem:R,outputCalendar:ha}={}){return sb.create(F,R,ha)}constructor(F,R,ha,sa){var Ea=F.indexOf("-x-");-1!==Ea&&(F=F.substring(0,Ea));
Ea=F.indexOf("-u-");if(-1===Ea)var La=[F];else{try{La=c(F).resolvedOptions();var Ya=F}catch(nb){Ya=F.substring(0,Ea),La=c(Ya).resolvedOptions()}const {numberingSystem:hb,calendar:ob}=La;La=[Ya,hb,ob]}const [db,gb,lb]=La;this.locale=db;this.numberingSystem=R||gb||null;this.outputCalendar=ha||lb||null;R=this.locale;ha=this.numberingSystem;if((La=this.outputCalendar)||ha)R.includes("-u-")||(R+="-u"),La&&(R+=`-ca-${La}`),ha&&(R+=`-nu-${ha}`);this.intl=R;this.weekdaysCache={format:{},standalone:{}};this.monthsCache=
{format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=sa;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var F=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=F}return this.fastNumbersCached}listingMode(){const F=this.isEnglish(),R=(null===this.numberingSystem||
"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return F&&R?"en":"intl"}clone(F){return F&&0!==Object.getOwnPropertyNames(F).length?sb.create(F.locale||this.specifiedLocale,F.numberingSystem||this.numberingSystem,F.outputCalendar||this.outputCalendar,F.defaultToEN||!1):this}redefaultToEN(F={}){return this.clone({...F,defaultToEN:!0})}redefaultToSystem(F={}){return this.clone({...F,defaultToEN:!1})}months(F,R=!1,ha=!0){return m(this,F,ha,H,()=>{const sa=
R?{month:F,day:"numeric"}:{month:F},Ea=R?"format":"standalone";this.monthsCache[Ea][F]||(this.monthsCache[Ea][F]=k(La=>this.extract(La,sa,"month")));return this.monthsCache[Ea][F]})}weekdays(F,R=!1,ha=!0){return m(this,F,ha,O,()=>{const sa=R?{weekday:F,year:"numeric",month:"long",day:"numeric"}:{weekday:F},Ea=R?"format":"standalone";this.weekdaysCache[Ea][F]||(this.weekdaysCache[Ea][F]=t(La=>this.extract(La,sa,"weekday")));return this.weekdaysCache[Ea][F]})}meridiems(F=!0){return m(this,void 0,F,
()=>zc,()=>{if(!this.meridiemCache){const R={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[kb.utc(2016,11,13,9),kb.utc(2016,11,13,19)].map(ha=>this.extract(ha,R,"dayperiod"))}return this.meridiemCache})}eras(F,R=!0){return m(this,F,R,Q,()=>{const ha={era:F};this.eraCache[F]||(this.eraCache[F]=[kb.utc(-40,1,1),kb.utc(2017,1,1)].map(sa=>this.extract(sa,ha,"era")));return this.eraCache[F]})}extract(F,R,ha){return(F=this.dtFormatter(F,R).formatToParts().find(sa=>sa.type.toLowerCase()===ha))?F.value:
null}numberFormatter(F={}){return new Zc(this.intl,F.forceSimple||this.fastNumbers,F)}dtFormatter(F,R={}){return new $c(F,this.intl,R)}relFormatter(F={}){return new ad(this.intl,this.isEnglish(),F)}listFormatter(F={}){return b(this.intl,F)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}equals(F){return this.locale===F.locale&&this.numberingSystem===F.numberingSystem&&this.outputCalendar===
F.outputCalendar}}let lc=null;class Bb extends Tb{static get utcInstance(){null===lc&&(lc=new Bb(0));return lc}static instance(F){return 0===F?Bb.utcInstance:new Bb(F)}static parseSpecifier(F){return F&&(F=F.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new Bb(M(F[1],F[2])):null}constructor(F){super();this.fixed=F}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${G(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${G(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(F,
R){return G(this.fixed,R)}get isUniversal(){return!0}offset(){return this.fixed}equals(F){return"fixed"===F.type&&F.fixed===this.fixed}get isValid(){return!0}}class Nc extends Tb{constructor(F){super();this.zoneName=F}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let Ac=()=>Date.now(),Bc="system",Cc=null,Dc=null,Ec=null,Fc=60,Gc;class xb{static get now(){return Ac}static set now(F){Ac=
F}static set defaultZone(F){Bc=F}static get defaultZone(){return f(Bc,Yb.instance)}static get defaultLocale(){return Cc}static set defaultLocale(F){Cc=F}static get defaultNumberingSystem(){return Dc}static set defaultNumberingSystem(F){Dc=F}static get defaultOutputCalendar(){return Ec}static set defaultOutputCalendar(F){Ec=F}static get twoDigitCutoffYear(){return Fc}static set twoDigitCutoffYear(F){Fc=F%100}static get throwOnInvalid(){return Gc}static set throwOnInvalid(F){Gc=F}static resetCaches(){sb.resetCache();
Lb.resetCache()}}const Pc="January February March April May June July August September October November December".split(" "),pc="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Oc="JFMAMJJASOND".split(""),rc="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),qc="Mon Tue Wed Thu Fri Sat Sun".split(" "),Qc="MTWTFSS".split(""),zc=["AM","PM"],Tc=["Before Christ","Anno Domini"],Sc=["BC","AD"],Rc=["B","A"],bd={D:va,DD:Sa,DDD:Ja,DDDD:Ra,t:Ua,tt:$a,ttt:eb,tttt:jb,T:Hb,TT:Mb,
TTT:Qb,TTTT:Kb,f:Vb,ff:Rb,fff:Wb,ffff:xc,F:Gb,FF:Sb,FFF:wc,FFFF:yc};class Db{static create(F,R={}){return new Db(F,R)}static parseFormat(F){let R=null,ha="",sa=!1;const Ea=[];for(let La=0;La<F.length;La++){const Ya=F.charAt(La);"'"===Ya?(0<ha.length&&Ea.push({literal:sa,val:ha}),R=null,ha="",sa=!sa):sa?ha+=Ya:Ya===R?ha+=Ya:(0<ha.length&&Ea.push({literal:!1,val:ha}),R=ha=Ya)}0<ha.length&&Ea.push({literal:sa,val:ha});return Ea}static macroTokenToFormatOpts(F){return bd[F]}constructor(F,R){this.opts=
R;this.loc=F;this.systemLoc=null}formatWithSystemDefault(F,R){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(F,{...this.opts,...R}).format()}formatDateTime(F,R={}){return this.loc.dtFormatter(F,{...this.opts,...R}).format()}formatDateTimeParts(F,R={}){return this.loc.dtFormatter(F,{...this.opts,...R}).formatToParts()}formatInterval(F,R={}){return this.loc.dtFormatter(F.start,{...this.opts,...R}).dtf.formatRange(F.start.toJSDate(),F.end.toJSDate())}resolvedOptions(F,
R={}){return this.loc.dtFormatter(F,{...this.opts,...R}).resolvedOptions()}num(F,R=0){if(this.opts.forceSimple)return u(F,R);const ha={...this.opts};0<R&&(ha.padTo=R);return this.loc.numberFormatter(ha).format(F)}formatDateTimeFromString(F,R){const ha="en"===this.loc.listingMode(),sa=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Ea=(hb,ob)=>this.loc.extract(F,hb,ob),La=hb=>F.isOffsetFixed&&0===F.offset&&hb.allowZ?"Z":F.isValid?F.zone.formatOffset(F.ts,hb.format):"",Ya=(hb,ob)=>ha?H(hb)[F.month-
1]:Ea(ob?{month:hb}:{month:hb,day:"numeric"},"month"),db=(hb,ob)=>ha?O(hb)[F.weekday-1]:Ea(ob?{weekday:hb}:{weekday:hb,month:"long",day:"numeric"},"weekday"),gb=hb=>{const ob=Db.macroTokenToFormatOpts(hb);return ob?this.formatWithSystemDefault(F,ob):hb},lb=hb=>ha?Q(hb)[0>F.year?0:1]:Ea({era:hb},"era");return T(Db.parseFormat(R),hb=>{switch(hb){case "S":return this.num(F.millisecond);case "u":case "SSS":return this.num(F.millisecond,3);case "s":return this.num(F.second);case "ss":return this.num(F.second,
2);case "uu":return this.num(Math.floor(F.millisecond/10),2);case "uuu":return this.num(Math.floor(F.millisecond/100));case "m":return this.num(F.minute);case "mm":return this.num(F.minute,2);case "h":return this.num(0===F.hour%12?12:F.hour%12);case "hh":return this.num(0===F.hour%12?12:F.hour%12,2);case "H":return this.num(F.hour);case "HH":return this.num(F.hour,2);case "Z":return La({format:"narrow",allowZ:this.opts.allowZ});case "ZZ":return La({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return La({format:"techie",
allowZ:this.opts.allowZ});case "ZZZZ":return F.zone.offsetName(F.ts,{format:"short",locale:this.loc.locale});case "ZZZZZ":return F.zone.offsetName(F.ts,{format:"long",locale:this.loc.locale});case "z":return F.zoneName;case "a":return ha?zc[12>F.hour?0:1]:Ea({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return sa?Ea({day:"numeric"},"day"):this.num(F.day);case "dd":return sa?Ea({day:"2-digit"},"day"):this.num(F.day,2);case "c":return this.num(F.weekday);case "ccc":return db("short",!0);case "cccc":return db("long",
!0);case "ccccc":return db("narrow",!0);case "E":return this.num(F.weekday);case "EEE":return db("short",!1);case "EEEE":return db("long",!1);case "EEEEE":return db("narrow",!1);case "L":return sa?Ea({month:"numeric",day:"numeric"},"month"):this.num(F.month);case "LL":return sa?Ea({month:"2-digit",day:"numeric"},"month"):this.num(F.month,2);case "LLL":return Ya("short",!0);case "LLLL":return Ya("long",!0);case "LLLLL":return Ya("narrow",!0);case "M":return sa?Ea({month:"numeric"},"month"):this.num(F.month);
case "MM":return sa?Ea({month:"2-digit"},"month"):this.num(F.month,2);case "MMM":return Ya("short",!1);case "MMMM":return Ya("long",!1);case "MMMMM":return Ya("narrow",!1);case "y":return sa?Ea({year:"numeric"},"year"):this.num(F.year);case "yy":return sa?Ea({year:"2-digit"},"year"):this.num(F.year.toString().slice(-2),2);case "yyyy":return sa?Ea({year:"numeric"},"year"):this.num(F.year,4);case "yyyyyy":return sa?Ea({year:"numeric"},"year"):this.num(F.year,6);case "G":return lb("short");case "GG":return lb("long");
case "GGGGG":return lb("narrow");case "kk":return this.num(F.weekYear.toString().slice(-2),2);case "kkkk":return this.num(F.weekYear,4);case "W":return this.num(F.weekNumber);case "WW":return this.num(F.weekNumber,2);case "o":return this.num(F.ordinal);case "ooo":return this.num(F.ordinal,3);case "q":return this.num(F.quarter);case "qq":return this.num(F.quarter,2);case "X":return this.num(Math.floor(F.ts/1E3));case "x":return this.num(F.ts);default:return gb(hb)}})}formatDurationFromString(F,R){const ha=
Ea=>{switch(Ea[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "w":return"week";case "M":return"month";case "y":return"year";default:return null}};R=Db.parseFormat(R);const sa=R.reduce((Ea,{literal:La,val:Ya})=>La?Ea:Ea.concat(Ya),[]);F=F.shiftTo(...sa.map(ha).filter(Ea=>Ea));return T(R,(Ea=>La=>{const Ya=ha(La);return Ya?this.num(Ea.get(Ya),La.length):La})(F))}}class Jb{constructor(F,R){this.reason=F;this.explanation=
R}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Hc=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,Ic=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,mc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Jc=RegExp(`${mc.source}${`(?:${Ic.source}?(?:\\[(${Hc.source})\\])?)?`}`),nc=RegExp(`(?:T${Jc.source})?`),cd=Ba("weekYear","weekNumber","weekDay"),dd=Ba("year","ordinal"),Kc=RegExp(`${mc.source} ?(?:${Ic.source}|(${Hc.source}))?`),
ed=RegExp(`(?: ${Kc.source})?`),fd=RegExp(`^T?${mc.source}$`),gd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/,Uc={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},hd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,
id=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,jd=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,kd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,ld=Y(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,nc),md=Y(/(\d{4})-?W(\d\d)(?:-?(\d))?/,
nc),nd=Y(/(\d{4})-?(\d{3})/,nc),od=Y(Jc),Lc=X(function(F,R){return[{year:Ga(F,R),month:Ga(F,R+1,1),day:Ga(F,R+2,1)},null,R+3]},Ha,da,na),pd=X(cd,Ha,da,na),qd=X(dd,Ha,da,na),rd=X(Ha,da,na),sd=X(Ha),td=Y(/(\d{4})-(\d\d)-(\d\d)/,ed),ud=Y(Kc),vd=X(Ha,da,na),Mc={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},
wd={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6},...Mc},xd={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,
minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Mc},Pb="years quarters months weeks days hours minutes seconds milliseconds".split(" "),Vc=Pb.slice(0).reverse();class pb{constructor(F){const R="longterm"===F.conversionAccuracy||!1;let ha=R?xd:wd;F.matrix&&(ha=F.matrix);this.values=F.values;this.loc=F.loc||sb.create();this.conversionAccuracy=R?"longterm":"casual";this.invalid=
F.invalid||null;this.matrix=ha;this.isLuxonDuration=!0}static fromMillis(F,R){return pb.fromObject({milliseconds:F},R)}static fromObject(F,R={}){if(null==F||"object"!==typeof F)throw new ya(`Duration.fromObject: argument expected to be an object, got ${null===F?"null":typeof F}`);return new pb({values:I(F,pb.normalizeUnit),loc:sb.fromObject(R),conversionAccuracy:R.conversionAccuracy,matrix:R.matrix})}static fromDurationLike(F){if(l(F))return pb.fromMillis(F);if(pb.isDuration(F))return F;if("object"===
typeof F)return pb.fromObject(F);throw new ya(`Unknown duration argument ${F} of type ${typeof F}`);}static fromISO(F,R){const [ha]=ra(F,[gd,xa]);return ha?pb.fromObject(ha,R):pb.invalid("unparsable",`the input "${F}" can't be parsed as ISO 8601`)}static fromISOTime(F,R){const [ha]=ra(F,[fd,sd]);return ha?pb.fromObject(ha,R):pb.invalid("unparsable",`the input "${F}" can't be parsed as ISO 8601`)}static invalid(F,R=null){if(!F)throw new ya("need to specify a reason the Duration is invalid");F=F instanceof
Jb?F:new Jb(F,R);if(xb.throwOnInvalid)throw new ka(F);return new pb({invalid:F})}static normalizeUnit(F){const R={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[F?F.toLowerCase():F];if(!R)throw new pa(F);return R}static isDuration(F){return F&&F.isLuxonDuration||
!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(F,R={}){R={...R,floor:!1!==R.round&&!1!==R.floor};return this.isValid?Db.create(this.loc,R).formatDurationFromString(this,F):"Invalid Duration"}toHuman(F={}){const R=Pb.map(ha=>{const sa=this.values[ha];return g(sa)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...F,unit:ha.slice(0,-1)}).format(sa)}).filter(ha=>ha);return this.loc.listFormatter({type:"conjunction",
style:F.listStyle||"narrow",...F}).format(R)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let F="P";0!==this.years&&(F+=this.years+"Y");if(0!==this.months||0!==this.quarters)F+=this.months+3*this.quarters+"M";0!==this.weeks&&(F+=this.weeks+"W");0!==this.days&&(F+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)F+="T";0!==this.hours&&(F+=this.hours+"H");0!==this.minutes&&(F+=this.minutes+"M");if(0!==this.seconds||
0!==this.milliseconds)F+=A(this.seconds+this.milliseconds/1E3,3)+"S";"P"===F&&(F+="T0S");return F}toISOTime(F={}){if(!this.isValid)return null;var R=this.toMillis();if(0>R||864E5<=R)return null;F={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...F};R=this.shiftTo("hours","minutes","seconds","milliseconds");let ha="basic"===F.format?"hhmm":"hh:mm";F.suppressSeconds&&0===R.seconds&&0===R.milliseconds||(ha+="basic"===F.format?"ss":":ss",F.suppressMilliseconds&&0===R.milliseconds||
(ha+=".SSS"));R=R.toFormat(ha);F.includePrefix&&(R="T"+R);return R}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(F){if(!this.isValid)return this;F=pb.fromDurationLike(F);const R={};for(const ha of Pb)if(h(F.values,ha)||h(this.values,ha))R[ha]=F.get(ha)+this.get(ha);return ja(this,{values:R},!0)}minus(F){if(!this.isValid)return this;F=pb.fromDurationLike(F);return this.plus(F.negate())}mapUnits(F){if(!this.isValid)return this;
const R={};for(const ha of Object.keys(this.values))R[ha]=L(F(this.values[ha],ha));return ja(this,{values:R},!0)}get(F){return this[pb.normalizeUnit(F)]}set(F){if(!this.isValid)return this;F={...this.values,...I(F,pb.normalizeUnit)};return ja(this,{values:F})}reconfigure({locale:F,numberingSystem:R,conversionAccuracy:ha,matrix:sa}={}){F={loc:this.loc.clone({locale:F,numberingSystem:R}),matrix:sa,conversionAccuracy:ha};return ja(this,F)}as(F){return this.isValid?this.shiftTo(F).get(F):NaN}normalize(){if(!this.isValid)return this;
const F=this.toObject();Ia(this.matrix,F);return ja(this,{values:F},!0)}rescale(){if(!this.isValid)return this;var F=this.normalize().shiftToAll().toObject();const R={};for(const [ha,sa]of Object.entries(F))0!==sa&&(R[ha]=sa);return ja(this,{values:R},!0)}shiftTo(...F){if(!this.isValid||0===F.length)return this;F=F.map(La=>pb.normalizeUnit(La));const R={},ha={},sa=this.toObject();let Ea;for(const La of Pb)if(0<=F.indexOf(La)){Ea=La;let Ya=0;for(const gb in ha)Ya+=this.matrix[gb][La]*ha[gb],ha[gb]=
0;l(sa[La])&&(Ya+=sa[La]);const db=Math.trunc(Ya);R[La]=db;ha[La]=(1E3*Ya-1E3*db)/1E3;for(const gb in sa)Pb.indexOf(gb)>Pb.indexOf(La)&&wa(this.matrix,sa,gb,R,La)}else l(sa[La])&&(ha[La]=sa[La]);for(const La in ha)0!==ha[La]&&(R[Ea]+=La===Ea?ha[La]:ha[La]/this.matrix[Ea][La]);return ja(this,{values:R},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const F={};for(const R of Object.keys(this.values))F[R]=
0===this.values[R]?0:-this.values[R];return ja(this,{values:F},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?
this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(F){if(!this.isValid||!F.isValid||!this.loc.equals(F.loc))return!1;for(const sa of Pb){var R=this.values[sa];var ha=F.values[sa];R=void 0===R||0===R?void 0===ha||0===ha:R===ha;if(!R)return!1}return!0}}class ub{constructor(F){this.s=
F.start;this.e=F.end;this.invalid=F.invalid||null;this.isLuxonInterval=!0}static invalid(F,R=null){if(!F)throw new ya("need to specify a reason the Interval is invalid");F=F instanceof Jb?F:new Jb(F,R);if(xb.throwOnInvalid)throw new mb(F);return new ub({invalid:F})}static fromDateTimes(F,R){F=rb(F);R=rb(R);var ha=F&&F.isValid?R&&R.isValid?R<F?ub.invalid("end before start",`The end of an interval must be after its start, but you had start=${F.toISO()} and end=${R.toISO()}`):null:ub.invalid("missing or invalid end"):
ub.invalid("missing or invalid start");return null==ha?new ub({start:F,end:R}):ha}static after(F,R){R=pb.fromDurationLike(R);F=rb(F);return ub.fromDateTimes(F,F.plus(R))}static before(F,R){R=pb.fromDurationLike(R);F=rb(F);return ub.fromDateTimes(F.minus(R),F)}static fromISO(F,R){const [ha,sa]=(F||"").split("/",2);if(ha&&sa){let Ya;try{var Ea=kb.fromISO(ha,R);Ya=Ea.isValid}catch(gb){Ya=!1}let db;try{var La=kb.fromISO(sa,R);db=La.isValid}catch(gb){db=!1}if(Ya&&db)return ub.fromDateTimes(Ea,La);if(Ya){if(La=
pb.fromISO(sa,R),La.isValid)return ub.after(Ea,La)}else if(db&&(Ea=pb.fromISO(ha,R),Ea.isValid))return ub.before(La,Ea)}return ub.invalid("unparsable",`the input "${F}" can't be parsed as ISO 8601`)}static isInterval(F){return F&&F.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:
null}length(F="milliseconds"){return this.isValid?this.toDuration(...[F]).get(F):NaN}count(F="milliseconds"){if(!this.isValid)return NaN;const R=this.start.startOf(F),ha=this.end.startOf(F);return Math.floor(ha.diff(R,F).get(F))+1}hasSame(F){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,F):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(F){return this.isValid?this.s>F:!1}isBefore(F){return this.isValid?this.e<=F:!1}contains(F){return this.isValid?this.s<=F&&this.e>
F:!1}set({start:F,end:R}={}){return this.isValid?ub.fromDateTimes(F||this.s,R||this.e):this}splitAt(...F){if(!this.isValid)return[];F=F.map(rb).filter(La=>this.contains(La)).sort();const R=[];let {s:ha}=this,sa=0;for(;ha<this.e;){var Ea=F[sa]||this.e;Ea=+Ea>+this.e?this.e:Ea;R.push(ub.fromDateTimes(ha,Ea));ha=Ea;sa+=1}return R}splitBy(F){F=pb.fromDurationLike(F);if(!this.isValid||!F.isValid||0===F.as("milliseconds"))return[];let {s:R}=this,ha=1;const sa=[];for(;R<this.e;){var Ea=this.start.plus(F.mapUnits(La=>
La*ha));Ea=+Ea>+this.e?this.e:Ea;sa.push(ub.fromDateTimes(R,Ea));R=Ea;ha+=1}return sa}divideEqually(F){return this.isValid?this.splitBy(this.length()/F).slice(0,F):[]}overlaps(F){return this.e>F.s&&this.s<F.e}abutsStart(F){return this.isValid?+this.e===+F.s:!1}abutsEnd(F){return this.isValid?+F.e===+this.s:!1}engulfs(F){return this.isValid?this.s<=F.s&&this.e>=F.e:!1}equals(F){return this.isValid&&F.isValid?this.s.equals(F.s)&&this.e.equals(F.e):!1}intersection(F){if(!this.isValid)return this;const R=
this.s>F.s?this.s:F.s;F=this.e<F.e?this.e:F.e;return R>=F?null:ub.fromDateTimes(R,F)}union(F){return this.isValid?ub.fromDateTimes(this.s<F.s?this.s:F.s,this.e>F.e?this.e:F.e):this}static merge(F){const [R,ha]=F.sort((sa,Ea)=>sa.s-Ea.s).reduce(([sa,Ea],La)=>Ea?Ea.overlaps(La)||Ea.abutsStart(La)?[sa,Ea.union(La)]:[sa.concat([Ea]),La]:[sa,La],[[],null]);ha&&R.push(ha);return R}static xor(F){let R=null,ha=0;const sa=[];F=F.map(Ea=>[{time:Ea.s,type:"s"},{time:Ea.e,type:"e"}]);F=Array.prototype.concat(...F).sort((Ea,
La)=>Ea.time-La.time);for(const Ea of F)ha+="s"===Ea.type?1:-1,1===ha?R=Ea.time:(R&&+R!==+Ea.time&&sa.push(ub.fromDateTimes(R,Ea.time)),R=null);return ub.merge(sa)}difference(...F){return ub.xor([this].concat(F)).map(R=>this.intersection(R)).filter(R=>R&&!R.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}toLocaleString(F=va,R={}){return this.isValid?Db.create(this.s.loc.clone(R),F).formatInterval(this):"Invalid Interval"}toISO(F){return this.isValid?
`${this.s.toISO(F)}/${this.e.toISO(F)}`:"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(F){return this.isValid?`${this.s.toISOTime(F)}/${this.e.toISOTime(F)}`:"Invalid Interval"}toFormat(F,{separator:R=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(F)}${R}${this.e.toFormat(F)}`:"Invalid Interval"}toDuration(F,R){return this.isValid?this.e.diff(this.s,F,R):pb.invalid(this.invalidReason)}mapEndpoints(F){return ub.fromDateTimes(F(this.s),
F(this.e))}}class Xb{static hasDST(F=xb.defaultZone){const R=kb.now().setZone(F).set({month:12});return!F.isUniversal&&R.offset!==R.set({month:6}).offset}static isValidIANAZone(F){return Lb.isValidZone(F)}static normalizeZone(F){return f(F,xb.defaultZone)}static months(F="long",{locale:R=null,numberingSystem:ha=null,locObj:sa=null,outputCalendar:Ea="gregory"}={}){return(sa||sb.create(R,ha,Ea)).months(F)}static monthsFormat(F="long",{locale:R=null,numberingSystem:ha=null,locObj:sa=null,outputCalendar:Ea=
"gregory"}={}){return(sa||sb.create(R,ha,Ea)).months(F,!0)}static weekdays(F="long",{locale:R=null,numberingSystem:ha=null,locObj:sa=null}={}){return(sa||sb.create(R,ha,null)).weekdays(F)}static weekdaysFormat(F="long",{locale:R=null,numberingSystem:ha=null,locObj:sa=null}={}){return(sa||sb.create(R,ha,null)).weekdays(F,!0)}static meridiems({locale:F=null}={}){return sb.create(F).meridiems()}static eras(F="short",{locale:R=null}={}){return sb.create(R,null,"gregory").eras(F)}static features(){return{relative:p()}}}
const ec={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",
tibt:"[\u0f20-\u0f29]",latn:"\\d"},sc={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Wc=ec.hanidec.replace(/[\[|\]]/g,"").split(""),tc=`[ ${String.fromCharCode(160)}]`,fc=new RegExp(tc,"g"),Xc={year:{"2-digit":"yy",
numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let hc=null;const jc=[0,31,59,90,120,151,181,212,243,273,304,334],ic=[0,31,60,91,121,152,182,213,244,274,305,335],vc={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},yd={weekNumber:1,
weekday:1,hour:0,minute:0,second:0,millisecond:0},zd={ordinal:1,hour:0,minute:0,second:0,millisecond:0},uc="year month day hour minute second millisecond".split(" "),Ad="weekYear weekNumber weekday hour minute second millisecond".split(" "),Bd="year ordinal hour minute second millisecond".split(" ");class kb{constructor(F){const R=F.zone||xb.defaultZone;let ha=F.invalid||(Number.isNaN(F.ts)?new Jb("invalid input"):null)||(R.isValid?null:Da(R));this.ts=g(F.ts)?xb.now():F.ts;let sa=null;var Ea=null;
ha||(F.old&&F.old.ts===this.ts&&F.old.zone.equals(R)?[sa,Ea]=[F.old.c,F.old.o]:(Ea=R.offset(this.ts),sa=za(this.ts,Ea),sa=(ha=Number.isNaN(sa.year)?new Jb("invalid input"):null)?null:sa,Ea=ha?null:Ea));this._zone=R;this.loc=F.loc||sb.create();this.invalid=ha;this.weekData=null;this.c=sa;this.o=Ea;this.isLuxonDateTime=!0}static now(){return new kb({})}static local(){const [F,R]=ib(arguments),[ha,sa,Ea,La,Ya,db,gb]=R;return wb({year:ha,month:sa,day:Ea,hour:La,minute:Ya,second:db,millisecond:gb},F)}static utc(){const [F,
R]=ib(arguments),[ha,sa,Ea,La,Ya,db,gb]=R;F.zone=Bb.utcInstance;return wb({year:ha,month:sa,day:Ea,hour:La,minute:Ya,second:db,millisecond:gb},F)}static fromJSDate(F,R={}){F="[object Date]"===Object.prototype.toString.call(F)?F.valueOf():NaN;if(Number.isNaN(F))return kb.invalid("invalid input");const ha=f(R.zone,xb.defaultZone);return ha.isValid?new kb({ts:F,zone:ha,loc:sb.fromObject(R)}):kb.invalid(Da(ha))}static fromMillis(F,R={}){if(l(F))return-864E13>F||864E13<F?kb.invalid("Timestamp out of range"):
new kb({ts:F,zone:f(R.zone,xb.defaultZone),loc:sb.fromObject(R)});throw new ya(`fromMillis requires a numerical input, but received a ${typeof F} with value ${F}`);}static fromSeconds(F,R={}){if(l(F))return new kb({ts:1E3*F,zone:f(R.zone,xb.defaultZone),loc:sb.fromObject(R)});throw new ya("fromSeconds requires a numerical input");}static fromObject(F,R={}){F=F||{};var ha=f(R.zone,xb.defaultZone);if(!ha.isValid)return kb.invalid(Da(ha));var sa=xb.now();const Ea=g(R.specificOffset)?ha.offset(sa):R.specificOffset,
La=I(F,Ib);var Ya=!g(La.ordinal),db=!g(La.year),gb=!g(La.month)||!g(La.day);db=db||gb;var lb=La.weekYear||La.weekNumber;R=sb.fromObject(R);if((db||Ya)&&lb)throw new ta("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(gb&&Ya)throw new ta("Can't mix ordinal dates with month/day");gb=lb||La.weekday&&!db;let hb=za(sa,Ea);gb?(sa=Ad,lb=yd,hb=Wa(hb)):Ya?(sa=Bd,lb=zd,hb=bb(hb)):(sa=uc,lb=vc);let ob=!1;for(var nb of sa)g(La[nb])?La[nb]=ob?lb[nb]:hb[nb]:ob=!0;gb?(nb=r(La.weekYear),
sa=q(La.weekNumber,1,C(La.weekYear)),lb=q(La.weekday,1,7),nb=nb?sa?lb?!1:ua("weekday",La.weekday):ua("week",La.week):ua("weekYear",La.weekYear)):Ya?(nb=r(La.year),sa=q(La.ordinal,1,B(La.year)?366:365),nb=nb?sa?!1:ua("ordinal",La.ordinal):ua("year",La.year)):nb=fb(La);if(nb=nb||Xa(La))return kb.invalid(nb);Ya=gb?Za(La):Ya?ab(La):La;const [Cb,Ub]=tb(Ya,Ea,ha);ha=new kb({ts:Cb,zone:ha,o:Ub,loc:R});return La.weekday&&db&&F.weekday!==ha.weekday?kb.invalid("mismatched weekday",`you can't specify both a weekday of ${La.weekday} and a date of ${ha.toISO()}`):
ha}static fromISO(F,R={}){const [ha,sa]=ra(F,[ld,Lc],[md,pd],[nd,qd],[od,rd]);return qb(ha,sa,R,"ISO 8601",F)}static fromRFC2822(F,R={}){const [ha,sa]=ra(F.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[hd,Oa]);return qb(ha,sa,R,"RFC 2822",F)}static fromHTTP(F,R={}){const [ha,sa]=ra(F,[id,N],[jd,N],[kd,S]);return qb(ha,sa,R,"HTTP",R)}static fromFormat(F,R,ha={}){if(g(F)||g(R))throw new ya("fromFormat requires an input string and a format");const {locale:sa=null,numberingSystem:Ea=
null}=ha,La=sb.fromOpts({locale:sa,numberingSystem:Ea,defaultToEN:!0}),{result:Ya,zone:db,specificOffset:gb,invalidReason:lb}=ma(La,F,R),[hb,ob,nb,Cb]=[Ya,db,gb,lb];return Cb?kb.invalid(Cb):qb(hb,ob,ha,`format ${R}`,F,nb)}static fromString(F,R,ha={}){return kb.fromFormat(F,R,ha)}static fromSQL(F,R={}){const [ha,sa]=ra(F,[td,Lc],[ud,vd]);return qb(ha,sa,R,"SQL",F)}static invalid(F,R=null){if(!F)throw new ya("need to specify a reason the DateTime is invalid");F=F instanceof Jb?F:new Jb(F,R);if(xb.throwOnInvalid)throw new Ma(F);
return new kb({invalid:F})}static isDateTime(F){return F&&F.isLuxonDateTime||!1}static parseFormatForOpts(F,R={}){return(F=Fa(F,sb.fromObject(R)))?F.map(ha=>ha?ha.val:null).join(""):null}static expandFormat(F,R={}){return fa(Db.parseFormat(F),sb.fromObject(R)).map(ha=>ha.val).join("")}get(F){return this[F]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?
this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?
this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Aa(this).weekYear:NaN}get weekNumber(){return this.isValid?Aa(this).weekNumber:NaN}get weekday(){return this.isValid?Aa(this).weekday:NaN}get ordinal(){return this.isValid?bb(this.c).ordinal:NaN}get monthShort(){return this.isValid?Xb.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Xb.months("long",
{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Xb.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Xb.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?
this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return B(this.year)}get daysInMonth(){return E(this.year,this.month)}get daysInYear(){return this.isValid?B(this.year)?366:365:NaN}get weeksInWeekYear(){return this.isValid?C(this.weekYear):NaN}resolvedLocaleOptions(F={}){const {locale:R,numberingSystem:ha,calendar:sa}=Db.create(this.loc.clone(F),F).resolvedOptions(this);return{locale:R,
numberingSystem:ha,outputCalendar:sa}}toUTC(F=0,R={}){return this.setZone(Bb.instance(F),R)}toLocal(){return this.setZone(xb.defaultZone)}setZone(F,{keepLocalTime:R=!1,keepCalendarTime:ha=!1}={}){F=f(F,xb.defaultZone);if(F.equals(this.zone))return this;if(F.isValid){let sa=this.ts;if(R||ha)R=F.offset(this.ts),ha=this.toObject(),[sa]=tb(ha,R,F);return Va(this,{ts:sa,zone:F})}return kb.invalid(Da(F))}reconfigure({locale:F,numberingSystem:R,outputCalendar:ha}={}){F=this.loc.clone({locale:F,numberingSystem:R,
outputCalendar:ha});return Va(this,{loc:F})}setLocale(F){return this.reconfigure({locale:F})}set(F){if(!this.isValid)return this;F=I(F,Ib);var R=!g(F.weekYear)||!g(F.weekNumber)||!g(F.weekday);const ha=!g(F.ordinal),sa=!g(F.year),Ea=!g(F.month)||!g(F.day),La=F.weekYear||F.weekNumber;if((sa||Ea||ha)&&La)throw new ta("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Ea&&ha)throw new ta("Can't mix ordinal dates with month/day");R?R=Za({...Wa(this.c),...F}):g(F.ordinal)?(R={...this.toObject(),
...F},g(F.day)&&(R.day=Math.min(E(R.year,R.month),R.day))):R=ab({...bb(this.c),...F});const [Ya,db]=tb(R,this.o,this.zone);return Va(this,{ts:Ya,o:db})}plus(F){if(!this.isValid)return this;F=pb.fromDurationLike(F);return Va(this,Ab(this,F))}minus(F){if(!this.isValid)return this;F=pb.fromDurationLike(F).negate();return Va(this,Ab(this,F))}startOf(F){if(!this.isValid)return this;const R={};F=pb.normalizeUnit(F);switch(F){case "years":R.month=1;case "quarters":case "months":R.day=1;case "weeks":case "days":R.hour=
0;case "hours":R.minute=0;case "minutes":R.second=0;case "seconds":R.millisecond=0}"weeks"===F&&(R.weekday=1);"quarters"===F&&(R.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(R)}endOf(F){return this.isValid?this.plus({[F]:1}).startOf(F).minus(1):this}toFormat(F,R={}){return this.isValid?Db.create(this.loc.redefaultToEN(R)).formatDateTimeFromString(this,F):"Invalid DateTime"}toLocaleString(F=va,R={}){return this.isValid?Db.create(this.loc.clone(R),F).formatDateTime(this):"Invalid DateTime"}toLocaleParts(F=
{}){return this.isValid?Db.create(this.loc.clone(F),F).formatDateTimeParts(this):[]}toISO({format:F="extended",suppressSeconds:R=!1,suppressMilliseconds:ha=!1,includeOffset:sa=!0,extendedZone:Ea=!1}={}){if(!this.isValid)return null;F="extended"===F;let La=Eb(this,F);return La=La+"T"+Fb(this,F,R,ha,sa,Ea)}toISODate({format:F="extended"}={}){return this.isValid?Eb(this,"extended"===F):null}toISOWeekDate(){return yb(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:F=!1,suppressSeconds:R=!1,includeOffset:ha=
!0,includePrefix:sa=!1,extendedZone:Ea=!1,format:La="extended"}={}){return this.isValid?(sa?"T":"")+Fb(this,"extended"===La,R,F,ha,Ea):null}toRFC2822(){return yb(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return yb(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Eb(this,!0):null}toSQLTime({includeOffset:F=!0,includeZone:R=!1,includeOffsetSpace:ha=!0}={}){let sa="HH:mm:ss.SSS";if(R||F)ha&&(sa+=" "),R?sa+="z":F&&(sa+="ZZ");return yb(this,sa,!0)}toSQL(F={}){return this.isValid?
`${this.toSQLDate()} ${this.toSQLTime(F)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1E3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(F={}){if(!this.isValid)return{};const R={...this.c};F.includeConfig&&(R.outputCalendar=this.outputCalendar,R.numberingSystem=this.loc.numberingSystem,
R.locale=this.loc.locale);return R}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(F,R="milliseconds",ha={}){if(!this.isValid||!F.isValid)return pb.invalid("created by diffing an invalid DateTime");ha={locale:this.locale,numberingSystem:this.numberingSystem,...ha};const sa=(Array.isArray(R)?R:[R]).map(pb.normalizeUnit);R=F.valueOf()>this.valueOf();F=oa(R?this:F,R?F:this,sa,ha);return R?F.negate():F}diffNow(F="milliseconds",R={}){return this.diff(kb.now(),F,R)}until(F){return this.isValid?
ub.fromDateTimes(this,F):this}hasSame(F,R){if(!this.isValid)return!1;const ha=F.valueOf();F=this.setZone(F.zone,{keepLocalTime:!0});return F.startOf(R)<=ha&&ha<=F.endOf(R)}equals(F){return this.isValid&&F.isValid&&this.valueOf()===F.valueOf()&&this.zone.equals(F.zone)&&this.loc.equals(F.loc)}toRelative(F={}){if(!this.isValid)return null;const R=F.base||kb.fromObject({},{zone:this.zone}),ha=F.padding?this<R?-F.padding:F.padding:0;let sa="years months days hours minutes seconds".split(" "),Ea=F.unit;
Array.isArray(F.unit)&&(sa=F.unit,Ea=void 0);return zb(R,this.plus(ha),{...F,numeric:"always",units:sa,unit:Ea})}toRelativeCalendar(F={}){return this.isValid?zb(F.base||kb.fromObject({},{zone:this.zone}),this,{...F,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...F){if(!F.every(kb.isDateTime))throw new ya("min requires all arguments be DateTimes");return n(F,R=>R.valueOf(),Math.min)}static max(...F){if(!F.every(kb.isDateTime))throw new ya("max requires all arguments be DateTimes");
return n(F,R=>R.valueOf(),Math.max)}static fromFormatExplain(F,R,ha={}){const {locale:sa=null,numberingSystem:Ea=null}=ha;ha=sb.fromOpts({locale:sa,numberingSystem:Ea,defaultToEN:!0});return ma(ha,F,R)}static fromStringExplain(F,R,ha={}){return kb.fromFormatExplain(F,R,ha)}static get DATE_SHORT(){return va}static get DATE_MED(){return Sa}static get DATE_MED_WITH_WEEKDAY(){return ba}static get DATE_FULL(){return Ja}static get DATE_HUGE(){return Ra}static get TIME_SIMPLE(){return Ua}static get TIME_WITH_SECONDS(){return $a}static get TIME_WITH_SHORT_OFFSET(){return eb}static get TIME_WITH_LONG_OFFSET(){return jb}static get TIME_24_SIMPLE(){return Hb}static get TIME_24_WITH_SECONDS(){return Mb}static get TIME_24_WITH_SHORT_OFFSET(){return Qb}static get TIME_24_WITH_LONG_OFFSET(){return Kb}static get DATETIME_SHORT(){return Vb}static get DATETIME_SHORT_WITH_SECONDS(){return Gb}static get DATETIME_MED(){return Rb}static get DATETIME_MED_WITH_SECONDS(){return Sb}static get DATETIME_MED_WITH_WEEKDAY(){return Nb}static get DATETIME_FULL(){return Wb}static get DATETIME_FULL_WITH_SECONDS(){return wc}static get DATETIME_HUGE(){return xc}static get DATETIME_HUGE_WITH_SECONDS(){return yc}}
a.DateTime=kb;a.Duration=pb;a.FixedOffsetZone=Bb;a.IANAZone=Lb;a.Info=Xb;a.Interval=ub;a.SystemZone=Yb;a.Zone=Tb})},"esri/layers/support/FeatureIndex":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t,m,f){a.FeatureIndex=function(g){function l(r){return g.call(this,
r)||this}b._inheritsLoose(l,g);return l}(e.ClonableMixin(d.JSONSupport));c.__decorate([k.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"name",void 0);c.__decorate([k.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"fields",void 0);c.__decorate([k.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isAscending",void 0);c.__decorate([k.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"indexType",void 0);c.__decorate([k.property({constructOnly:!0,
json:{write:!0}})],a.FeatureIndex.prototype,"isUnique",void 0);c.__decorate([k.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"description",void 0);a.FeatureIndex=c.__decorate([f.subclass("esri.layers.support.FeatureIndex")],a.FeatureIndex);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/featureLayerUtils":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../kernel ../../core/Error ../../core/jsonMap ../../core/maybe ../../core/sql ./layerUtils ../../rest/support/AttachmentQuery ../../rest/support/Query ../../rest/support/RelationshipQuery".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){function p(){p=c._asyncToGenerator(function*(I,G,K,H){const O=yield C(I);yield n(I,G,H);if(!O.addAttachment)throw new d(H,"Layer source does not support addAttachment capability");return O.addAttachment(G,K)});return p.apply(this,arguments)}function n(I,G,K){const {attributes:H}=G,{objectIdField:O}=I;return I.get("capabilities.data.supportsAttachment")?G?H?O&&H[O]?Promise.resolve():Promise.reject(new d(K,`feature is missing the identifying attribute ${O}`)):Promise.reject(new d(K,
"'attributes' are required on a feature to query attachments")):Promise.reject(new d(K,"A feature is required to add/delete/update attachments")):Promise.reject(new d(K,"this layer doesn't support attachments"))}function v(){v=c._asyncToGenerator(function*(I,G,K,H,O){const Q=yield C(I);yield n(I,G,O);if(!Q.updateAttachment)throw new d(O,"Layer source does not support updateAttachment capability");return Q.updateAttachment(G,K,H)});return v.apply(this,arguments)}function h(){h=c._asyncToGenerator(function*(I,
G,K){const H=yield new Promise((O,Q)=>a(["../graphics/editingSupport"],O,Q));I=yield I.load();return H.applyEdits(I,I.source,G,K)});return h.apply(this,arguments)}function q(){q=c._asyncToGenerator(function*(I,G,K,H){const O=yield C(I);yield n(I,G,H);if(!O.deleteAttachments)throw new d(H,"Layer source does not support deleteAttachments capability");return O.deleteAttachments(G,K)});return q.apply(this,arguments)}function u(){u=c._asyncToGenerator(function*(I,G,K){I=(yield I.load({signal:G?.signal})).source;
if(!I.fetchRecomputedExtents)throw new d(K,"Layer source does not support fetchUpdates capability");return I.fetchRecomputedExtents(G)});return u.apply(this,arguments)}function z(){z=c._asyncToGenerator(function*(I,G,K,H){G=g.from(G);yield I.load();K=I.source;I=I.capabilities;if(!I?.data?.supportsAttachment)throw new d(H,"this layer doesn't support attachments");const {attachmentTypes:O,objectIds:Q,globalIds:W,num:T,size:Y,start:X,where:ra}=G;if(!I?.operations?.supportsQueryAttachments&&(0<O?.length||
0<W?.length||0<Y?.length||T||X||ra))throw new d(H,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",G);if(!(Q?.length||W?.length||ra))throw new d(H,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",G);if(!K.queryAttachments)throw new d(H,"Layer source does not support queryAttachments capability",G);return K.queryAttachments(G)});return z.apply(this,arguments)}function x(){x=c._asyncToGenerator(function*(I,G,K,H){const O=
yield C(I);if(!O.queryObjectIds)throw new d(H,"Layer source does not support queryObjectIds capability");return O.queryObjectIds(l.from(G)??I.createQuery(),K)});return x.apply(this,arguments)}function w(){w=c._asyncToGenerator(function*(I,G,K,H){const O=yield C(I);if(!O.queryFeatureCount)throw new d(H,"Layer source does not support queryFeatureCount capability");return O.queryFeatureCount(l.from(G)??I.createQuery(),K)});return w.apply(this,arguments)}function A(){A=c._asyncToGenerator(function*(I,
G,K,H){const O=yield C(I);if(!O.queryExtent)throw new d(H,"Layer source does not support queryExtent capability");return O.queryExtent(l.from(G)??I.createQuery(),K)});return A.apply(this,arguments)}function B(){B=c._asyncToGenerator(function*(I,G,K,H){I=yield C(I);if(!I.queryRelatedFeatures)throw new d(H,"Layer source does not support queryRelatedFeatures capability");return I.queryRelatedFeatures(r.from(G),K)});return B.apply(this,arguments)}function E(){E=c._asyncToGenerator(function*(I,G,K,H){I=
yield C(I);if(!I.queryRelatedFeaturesCount)throw new d(H,"Layer source does not support queryRelatedFeaturesCount capability");return I.queryRelatedFeaturesCount(r.from(G),K)});return E.apply(this,arguments)}function y(){y=c._asyncToGenerator(function*(I){const G=I.source;if(G?.refresh)try{const {dataChanged:K,updates:H}=yield G.refresh();t.isSome(H)&&(I.sourceJSON={...I.sourceJSON,...H},I.read(H,{origin:"service",url:I.parsedUrl}));if(K)return!0}catch{}if(I.definitionExpression)try{return(yield m.parseWhereClause(I.definitionExpression,
I.fieldsIndex)).hasDateFunctions}catch{}return!1});return y.apply(this,arguments)}function C(I){return D.apply(this,arguments)}function D(){D=c._asyncToGenerator(function*(I){return(yield I.load()).source});return D.apply(this,arguments)}function J(I,G){return M.apply(this,arguments)}function M(){M=c._asyncToGenerator(function*(I,G){if(e.id&&!e.id.findCredential(I)){var K;try{const H=yield f.getOwningPortalUrl(I,G);H&&(K=yield e.id.checkSignInStatus(`${H}/sharing`))}catch(H){}if(K)try{const H=t.isSome(G)?
G.signal:null;yield e.id.getCredential(I,{signal:H})}catch(H){}}});return M.apply(this,arguments)}function L(){L=c._asyncToGenerator(function*(I,G){const K=I.parsedUrl?.path;if(K){var H=I.editFieldsInfo;if(I.userHasUpdateItemPrivileges||I.userHasFullEditingPrivileges&&I.capabilities.operations.supportsEditing||H?.creatorField||H?.editorField)yield J(K,G)}});return L.apply(this,arguments)}k=new k.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",
esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});b.addAttachment=function(I,G,K,H){return p.apply(this,arguments)};b.applyEdits=function(I,G,K){return h.apply(this,arguments)};b.computeEffectiveEditingEnabled=function(I){return I.sourceJSON?.isMultiServicesView?!1:I.userHasUpdateItemPrivileges||I.editingEnabled};b.createQuery=function(I){const G=new l,K=I.get("capabilities.data"),H=I.get("capabilities.query");G.historicMoment=I.historicMoment;G.gdbVersion=I.gdbVersion;G.returnGeometry=
!0;H&&(G.compactGeometryEnabled=H.supportsCompactGeometry,G.defaultSpatialReferenceEnabled=H.supportsDefaultSpatialReference);K&&(K.supportsZ&&null!=I.returnZ&&(G.returnZ=I.returnZ),K.supportsM&&null!=I.returnM&&(G.returnM=I.returnM));G.outFields=["*"];const {timeOffset:O,timeExtent:Q}=I;G.timeExtent=null!=O&&null!=Q?Q.offset(-O.value,O.unit):Q||null;G.multipatchOption="multipatch"===I.geometryType?"xyFootprint":null;return G};b.deleteAttachments=function(I,G,K,H){return q.apply(this,arguments)};
b.ensureLayerCredential=function(I,G){return L.apply(this,arguments)};b.fetchRecomputedExtents=function(I,G,K){return u.apply(this,arguments)};b.geometryTypeKebabDict=k;b.hasDataChanged=function(I){return y.apply(this,arguments)};b.queryAttachments=function(I,G,K,H){return z.apply(this,arguments)};b.queryExtent=function(I,G,K,H){return A.apply(this,arguments)};b.queryFeatureCount=function(I,G,K,H){return w.apply(this,arguments)};b.queryObjectIds=function(I,G,K,H){return x.apply(this,arguments)};b.queryRelatedFeatures=
function(I,G,K,H){return B.apply(this,arguments)};b.queryRelatedFeaturesCount=function(I,G,K,H){return E.apply(this,arguments)};b.readGlobalIdField=function(I){const {globalIdField:G,fields:K}=I;if(G)return G;if(K)for(const H of K)if("esriFieldTypeGlobalID"===H.type)return H.name};b.readObjectIdField=function(I){const {objectIdField:G,fields:K}=I;if(G)return G;if(K)for(const H of K)if("esriFieldTypeOID"===H.type)return H.name};b.readVersion=function(I){return I.currentVersion?I.currentVersion:I.hasOwnProperty("capabilities")||
I.hasOwnProperty("drawingInfo")||I.hasOwnProperty("hasAttachments")||I.hasOwnProperty("htmlPopupType")||I.hasOwnProperty("relationships")||I.hasOwnProperty("timeInfo")||I.hasOwnProperty("typeIdField")||I.hasOwnProperty("types")?10:9.3};b.updateAttachment=function(I,G,K,H,O){return v.apply(this,arguments)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AttachmentQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,e,d,k,t,m){var f;c=f=function(g){function l(p){p=g.call(this,p)||this;p.attachmentTypes=null;p.attachmentsWhere=null;p.cacheHint=void 0;p.keywords=null;p.globalIds=null;p.name=null;p.num=null;p.objectIds=null;p.returnMetadata=!1;p.size=null;p.start=null;p.where=null;return p}a._inheritsLoose(l,g);var r=l.prototype;r.writeStart=function(p,n){n.resultOffset=this.start;n.resultRecordCount=this.num||10};r.clone=function(){return new f(e.clone({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,
cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))};return l}(c.JSONSupport);b.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"attachmentTypes",void 0);b.__decorate([d.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],c.prototype,"attachmentsWhere",
void 0);b.__decorate([d.property({type:Boolean,json:{write:!0}})],c.prototype,"cacheHint",void 0);b.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"keywords",void 0);b.__decorate([d.property({type:[Number],json:{write:!0}})],c.prototype,"globalIds",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([d.property({type:Number,json:{read:{source:"resultRecordCount"}}})],c.prototype,"num",void 0);b.__decorate([d.property({type:[Number],json:{write:!0}})],
c.prototype,"objectIds",void 0);b.__decorate([d.property({type:Boolean,json:{default:!1,write:!0}})],c.prototype,"returnMetadata",void 0);b.__decorate([d.property({type:[Number],json:{write:!0}})],c.prototype,"size",void 0);b.__decorate([d.property({type:Number,json:{read:{source:"resultOffset"}}})],c.prototype,"start",void 0);b.__decorate([m.writer("start"),m.writer("num")],c.prototype,"writeStart",null);b.__decorate([d.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],
c.prototype,"where",void 0);c=f=b.__decorate([t.subclass("esri.rest.support.AttachmentQuery")],c);c.from=k.ensureType(c);return c})},"esri/rest/support/RelationshipQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/source/DataLayerSource ../../geometry/SpatialReference".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l){var r;c=r=function(p){function n(h){h=p.call(this,h)||this;h.cacheHint=void 0;h.dynamicDataSource=void 0;h.gdbVersion=null;h.geometryPrecision=void 0;h.historicMoment=null;h.maxAllowableOffset=void 0;h.objectIds=null;h.orderByFields=null;h.outFields=null;h.outSpatialReference=null;h.relationshipId=void 0;h.start=void 0;h.num=void 0;h.returnGeometry=!1;h.returnM=void 0;h.returnZ=void 0;h.where=null;return h}a._inheritsLoose(n,p);var v=n.prototype;v._writeHistoricMoment=
function(h,q){q.historicMoment=h&&h.getTime()};v.writeStart=function(h,q){q.resultOffset=this.start;q.resultRecordCount=this.num||10;0<this.start&&null==this.where&&(q.definitionExpression="1\x3d1")};v.clone=function(){return new r(d.clone({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,
orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))};return n}(e.JSONSupport);b.__decorate([k.property({type:Boolean,json:{write:!0}})],c.prototype,"cacheHint",void 0);b.__decorate([k.property({type:g.DataLayerSource,json:{write:!0}})],c.prototype,"dynamicDataSource",void 0);b.__decorate([k.property({type:String,
json:{write:!0}})],c.prototype,"gdbVersion",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],c.prototype,"geometryPrecision",void 0);b.__decorate([k.property({type:Date})],c.prototype,"historicMoment",void 0);b.__decorate([f.writer("historicMoment")],c.prototype,"_writeHistoricMoment",null);b.__decorate([k.property({type:Number,json:{write:!0}})],c.prototype,"maxAllowableOffset",void 0);b.__decorate([k.property({type:[Number],json:{write:!0}})],c.prototype,"objectIds",void 0);b.__decorate([k.property({type:[String],
json:{write:!0}})],c.prototype,"orderByFields",void 0);b.__decorate([k.property({type:[String],json:{write:!0}})],c.prototype,"outFields",void 0);b.__decorate([k.property({type:l,json:{read:{source:"outSR"},write:{target:"outSR"}}})],c.prototype,"outSpatialReference",void 0);b.__decorate([k.property({json:{write:!0}})],c.prototype,"relationshipId",void 0);b.__decorate([k.property({type:Number,json:{read:{source:"resultOffset"}}})],c.prototype,"start",void 0);b.__decorate([f.writer("start"),f.writer("num")],
c.prototype,"writeStart",null);b.__decorate([k.property({type:Number,json:{read:{source:"resultRecordCount"}}})],c.prototype,"num",void 0);b.__decorate([k.property({json:{write:!0}})],c.prototype,"returnGeometry",void 0);b.__decorate([k.property({type:Boolean,json:{write:{overridePolicy(p){return{enabled:p}}}}})],c.prototype,"returnM",void 0);b.__decorate([k.property({type:Boolean,json:{write:{overridePolicy(p){return{enabled:p}}}}})],c.prototype,"returnZ",void 0);b.__decorate([k.property({type:String,
json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],c.prototype,"where",void 0);c=r=b.__decorate([m.subclass("esri.rest.support.RelationshipQuery")],c);c.from=t.ensureType(c);return c})},"esri/layers/support/GeometryFieldsInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f){c=function(g){function l(r){r=g.call(this,r)||this;r.shapeAreaField=null;r.shapeLengthField=null;r.units=null;return r}a._inheritsLoose(l,g);return l}(c.ClonableMixin(e.JSONSupport));b.__decorate([k.property({type:String,json:{read:{source:"shapeAreaFieldName"}}})],c.prototype,"shapeAreaField",void 0);b.__decorate([k.property({type:String,json:{read:{source:"shapeLengthFieldName"}}})],c.prototype,"shapeLengthField",void 0);b.__decorate([k.property({type:String,json:{read:g=>
d.areaUnitsJSONMap.read(g)||d.lengthUnitsJSONMap.read(g)}})],c.prototype,"units",void 0);return c=b.__decorate([f.subclass("esri.layers.support.GeometryFieldsInfo")],c)})},"esri/layers/support/LayerFloorInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m){var f;e=f=function(g){function l(r){r=g.call(this,r)||this;r.floorField=null;r.viewAllMode=!1;r.viewAllLevelIds=new c;return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})};return l}(e.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"floorField",void 0);b.__decorate([d.property({json:{read:!1,write:!1}})],e.prototype,"viewAllMode",
void 0);b.__decorate([d.property({json:{read:!1,write:!1}})],e.prototype,"viewAllLevelIds",void 0);return e=f=b.__decorate([m.subclass("esri.layers.support.LayerFloorInfo")],e)})},"esri/layers/support/Relationship":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f){t=new e.JSONMap({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"});e=new e.JSONMap({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});c=function(g){function l(r){r=g.call(this,r)||this;r.cardinality=null;r.composite=null;r.id=null;r.keyField=null;r.keyFieldInRelationshipTable=null;r.name=null;r.relatedTableId=null;r.relationshipTableId=null;r.role=null;return r}a._inheritsLoose(l,
g);return l}(c.ClonableMixin(d.JSONSupport));b.__decorate([k.property({json:{read:t.read,write:t.write}})],c.prototype,"cardinality",void 0);b.__decorate([k.property({json:{read:!0,write:!0}})],c.prototype,"composite",void 0);b.__decorate([k.property({json:{read:!0,write:!0}})],c.prototype,"id",void 0);b.__decorate([k.property({json:{read:!0,write:!0}})],c.prototype,"keyField",void 0);b.__decorate([k.property({json:{read:!0,write:!0}})],c.prototype,"keyFieldInRelationshipTable",void 0);b.__decorate([k.property({json:{read:!0,
write:!0}})],c.prototype,"name",void 0);b.__decorate([k.property({json:{read:!0,write:!0}})],c.prototype,"relatedTableId",void 0);b.__decorate([k.property({json:{read:!0,write:!0}})],c.prototype,"relationshipTableId",void 0);b.__decorate([k.property({json:{read:e.read,write:e.write}})],c.prototype,"role",void 0);return c=b.__decorate([f.subclass("esri.layers.support.Relationship")],c)})},"esri/layers/support/serviceCapabilitiesUtils":function(){define(["exports","../../core/has","../../core/maybe",
"./arcgisLayerUrl"],function(a,b,c,e){function d(p,n,v){return!(p&&p.hasOwnProperty(n)?!p[n]:!v)}function k(p,n,v){return p&&p.hasOwnProperty(n)?p[n]:v}function t(p){p=p?.supportedSpatialAggregationStatistics?.map(n=>n.toLowerCase());return{envelope:!!p?.includes("envelopeaggregate"),centroid:!!p?.includes("centroidaggregate"),convexHull:!!p?.includes("convexhullaggregate")}}function m(p,n){return!!p?.supportedOperationsWithCacheHint?.map(v=>v.toLowerCase())?.includes(n.toLowerCase())}function f(p){const n=
p.attachmentProperties,v={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:m(p.advancedQueryCapabilities,"queryAttachments"),supportsResize:d(p,"supportsAttachmentsResizing",!1)};n&&Array.isArray(n)&&n.forEach(h=>{const q=r[h.name];q&&(v[q]=!!h.isEnabled)});return v}function g(p,n,v){p=p?p.toLowerCase().split(",").map(A=>A.trim()):[];v=v?e.parse(v):null;v=p.includes(c.isSome(v)&&"MapServer"===v.serverType?"data":"query");const h=p.includes("editing")&&
!n.datesInUnknownTimezone;let q=h&&p.includes("create"),u=h&&p.includes("delete"),z=h&&p.includes("update");const x=p.includes("changetracking"),w=n.advancedQueryCapabilities;!h||q||u||z||(q=u=z=!0);return{supportsCalculate:d(n,"supportsCalculate",!1),supportsTruncate:d(n,"supportsTruncate",!1),supportsValidateSql:d(n,"supportsValidateSql",!1),supportsAdd:q,supportsDelete:u,supportsEditing:h,supportsChangeTracking:x,supportsQuery:v,supportsQueryAnalytics:d(w,"supportsQueryAnalytic",!1),supportsQueryAttachments:d(w,
"supportsQueryAttachments",!1),supportsQueryTopFeatures:d(w,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:d(n,"supportsAttachmentsResizing",!1),supportsSync:p.includes("sync"),supportsUpdate:z,supportsExceedsLimitStatistics:d(n,"supportsExceedsLimitStatistics",!1)}}function l(p,n){const v=p.advancedQueryCapabilities,h=p.ownershipBasedAccessControlForFeatures,q=p.archivingInfo;var u=p.currentVersion;u=!n?.includes("MapServer")||u>=b("mapserver-pbf-version-support");n=e.isHostedAgolService(n);
const z=new Set((p.supportedQueryFormats??"").split(",").map(x=>x.toLowerCase().trim()));return{supportsStatistics:d(v,"supportsStatistics",p.supportsStatistics),supportsPercentileStatistics:d(v,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:d(v,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:t(v),supportsCentroid:d(v,"supportsReturningGeometryCentroid",!1),supportsDistance:d(v,"supportsQueryWithDistance",!1),supportsDistinct:d(v,"supportsDistinct",
p.supportsAdvancedQueries),supportsExtent:d(v,"supportsReturningQueryExtent",!1),supportsGeometryProperties:d(v,"supportsReturningGeometryProperties",!1),supportsHavingClause:d(v,"supportsHavingClause",!1),supportsOrderBy:d(v,"supportsOrderBy",p.supportsAdvancedQueries),supportsPagination:d(v,"supportsPagination",!1),supportsQuantization:d(p,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:d(p,"supportsQuantizationEditMode",!1),supportsQueryGeometry:d(p,"supportsReturningQueryGeometry",
!1),supportsResultType:d(v,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:d(v,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:d(v,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:d(p,"useStandardizedQueries",!1),supportsTopFeaturesQuery:d(v,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:d(h,"allowOthersToQuery",!0),supportsHistoricMoment:d(q,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:u&&z.has("pbf"),supportsDisjointSpatialRelationship:d(v,"supportsDisjointSpatialRel",
!1),supportsCacheHint:d(v,"supportsQueryWithCacheHint",!1)||m(v,"query"),supportsDefaultSpatialReference:d(v,"supportsDefaultSR",!1),supportsCompactGeometry:n,supportsFullTextSearch:d(v,"supportsFullTextSearch",!1),maxRecordCountFactor:k(p,"maxRecordCountFactor",void 0),maxRecordCount:k(p,"maxRecordCount",void 0),standardMaxRecordCount:k(p,"standardMaxRecordCount",void 0),tileMaxRecordCount:k(p,"tileMaxRecordCount",void 0)}}const r={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",
keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};a.getFeatureLayerCapabilities=function(p,n){var v={supportsCacheHint:m(p.advancedQueryCapabilities,"queryAnalytics")},h=f(p);var q={isVersioned:d(p,"isDataVersioned",!1),supportsAttachment:d(p,"hasAttachments",!1),supportsM:d(p,"hasM",!1),supportsZ:d(p,"hasZ",!1)};var u={supportsAdvancedFieldProperties:d(p,"supportsFieldDescriptionProperty",!1)},z=g(p.capabilities,p,n);n=l(p,n);var x=p.advancedQueryCapabilities;var w=d(x,"supportsAdvancedQueryRelated",
!1);x={supportsPagination:d(x,"supportsQueryRelatedPagination",!1),supportsCount:w,supportsOrderBy:w,supportsCacheHint:m(x,"queryRelated")};w={supportsCacheHint:m(p.advancedQueryCapabilities,"queryTopFilter")};const A=p.ownershipBasedAccessControlForFeatures;p={supportsGeometryUpdate:d(p,"allowGeometryUpdates",!0),supportsGlobalId:d(p,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:d(p,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:d(p,
"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:d(p,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:d(p,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:d(A,"allowAnonymousToDelete",!0),supportsDeleteByOthers:d(A,"allowOthersToDelete",!0),supportsUpdateByAnonymous:d(A,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:d(A,"allowOthersToUpdate",!0)};return{analytics:v,attachment:h,data:q,metadata:u,operations:z,query:n,queryRelated:x,queryTopFeatures:w,editing:p}};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/FeatureReductionLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../support/AggregateField ../support/featureReductionUtils ../../views/2d/layers/support/clusterUtils".split(" "),function(a,b,c,e,d,k,t,m,f,g){a.FeatureReductionLayer=
l=>{l=function(r){function p(...n){var v=r.call(this,...n)||this;v.own(v.watch("renderer",()=>{if(v.featureReduction){const h=v._normalizeFeatureReduction(v.featureReduction);v._set("featureReduction",h)}},!0));return v}b._inheritsLoose(p,r);p.prototype._normalizeFeatureReduction=function(n){if("cluster"!==n?.type)return n;const v=n.clone(),h=[new m({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],q=(v.fields??[]).filter(u=>!u.isAutoGenerated);if(n.renderer&&!n.renderer.authoringInfo?.isAutoGenerated)return v.fields=
[...h,...q],v;if(n.symbol)return v.fields=[...h,...q],v.renderer=null,v;if(!this.renderer)return n;n=g.createClusterRenderer(h,this.renderer,n,null,!1);v.fields=[...h,...q];v.renderer=n;return v};b._createClass(p,[{key:"featureReduction",set:function(n){n=this._normalizeFeatureReduction(n);this._set("featureReduction",n)}},{key:"renderer",set:function(n){}}]);return p}(l);c.__decorate([e.property(f.featureReductionProperty)],l.prototype,"featureReduction",null);return l=c.__decorate([t.subclass("esri.layers.mixins.FeatureReductionLayer")],
l)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/AggregateField":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ExpressionInfo".split(" "),function(a,b,c,e,d,k,t,m){var f;c=f=function(g){function l(r){r=g.call(this,r)||this;r.isAutoGenerated=!1;r.name=null;
r.alias=null;r.onStatisticField=null;r.onStatisticExpression=null;r.statisticType=null;return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:e.clone(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})};return l}(c.JSONSupport);b.__decorate([d.property({type:Boolean,json:{write:!0}})],c.prototype,"isAutoGenerated",void 0);b.__decorate([d.property({type:String,
json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"alias",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"onStatisticField",void 0);b.__decorate([d.property({type:m,json:{write:!0}})],c.prototype,"onStatisticExpression",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"statisticType",void 0);return c=f=b.__decorate([t.subclass("esri.layers.support.AggregateField")],c)})},"esri/layers/support/ExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m){c=function(f){function g(l){l=f.call(this,l)||this;l.expression=null;l.title=null;l.returnType=null;return l}a._inheritsLoose(g,f);return g}(c.ClonableMixin(e.JSONSupport));b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"expression",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"returnType",void 0);return c=b.__decorate([m.subclass("esri.layers.support.ExpressionInfo")],
c)})},"esri/layers/support/featureReductionUtils":function(){define(["exports","./FeatureReduction","./FeatureReductionBinning","./FeatureReductionCluster","./FeatureReductionSelection"],function(a,b,c,e,d){const k={key:"type",base:b.FeatureReduction,typeMap:{cluster:e,binning:c}};a.featureReductionProperty={types:{key:"type",base:b.FeatureReduction,typeMap:{selection:d,cluster:e,binning:c}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:k},"portal-item":{types:k},
"web-scene":{types:{key:"type",base:b.FeatureReduction,typeMap:{selection:d}}}}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReduction":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t,m){a.FeatureReduction=
function(f){function g(){var l=f.apply(this,arguments)||this;l.type=null;return l}b._inheritsLoose(g,f);return g}(e.JSONSupport);c.__decorate([d.property({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],a.FeatureReduction.prototype,"type",void 0);a.FeatureReduction=c.__decorate([m.subclass("esri.layers.support.FeatureReduction")],a.FeatureReduction);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionBinning":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../symbols ../../core/lang ../../core/object ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/extensions/serializableProperty/reader ./AggregateField ./commonProperties ./FeatureReduction ./LabelClass".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A,B,E,y,C,D){var J;const M=B.createTypeReader({types:n.symbolTypesRenderer});e=J=function(L){function I(K){K=L.call(this,K)||this;K.type="binning";K.binType="geohash";K.fixedBinLevel=3;K.labelingInfo=null;K.labelsVisible=!0;K.maxScale=0;K.popupEnabled=!0;K.popupTemplate=null;K.fields=[];K.renderer=null;return K}a._inheritsLoose(I,L);var G=I.prototype;G.writeFields=function(K,H,O){K=K.filter(Q=>"avg_angle"!==Q.statisticType).map(Q=>Q.toJSON());h.setDeepValue(O,
K,H)};G.readRenderer=function(K,H,O){return(K=H.drawingInfo?.renderer)?r.read(K,H,O)??void 0:H.defaultSymbol?H.types&&H.types.length?new l({defaultSymbol:M(H.defaultSymbol,H,O),field:H.typeIdField,uniqueValueInfos:H.types.map(Q=>({id:Q.id,symbol:M(Q.symbol,Q,O)}))}):new g({symbol:M(H.defaultSymbol,H,O)}):null};G.clone=function(){return new J({fields:v.clone(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:v.clone(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,
popupEnabled:this.popupEnabled,popupTemplate:v.clone(this.popupTemplate),renderer:v.clone(this.renderer)})};return I}(C.FeatureReduction);b.__decorate([z.enumeration({binning:"binning"})],e.prototype,"type",void 0);b.__decorate([z.enumeration({geohash:"geohash"})],e.prototype,"binType",void 0);b.__decorate([q.property({type:Number,range:{min:1,max:9},json:{write:!0}})],e.prototype,"fixedBinLevel",void 0);b.__decorate([q.property({type:[D],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],
e.prototype,"labelingInfo",void 0);b.__decorate([q.property(y.labelsVisible)],e.prototype,"labelsVisible",void 0);b.__decorate([q.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],e.prototype,"maxScale",void 0);b.__decorate([q.property(y.popupEnabled)],e.prototype,"popupEnabled",void 0);b.__decorate([q.property({type:c,json:{name:"popupInfo",write:!0}})],e.prototype,"popupTemplate",void 0);b.__decorate([q.property({type:[E],json:{write:!0}})],e.prototype,"fields",void 0);b.__decorate([A.writer("fields")],
e.prototype,"writeFields",null);b.__decorate([q.property({types:p.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],e.prototype,"renderer",void 0);b.__decorate([x.reader("renderer",["drawingInfo.renderer"])],e.prototype,"readRenderer",null);return e=J=b.__decorate([w.subclass("esri.layers.support.FeatureReductionBinning")],e)})},"esri/layers/support/LabelClass":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../symbols ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./LabelExpressionInfo ./labelUtils ./layerUtils ../../symbols/support/defaults ../../symbols/support/jsonUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q){function u(A,B,E){return{enabled:!v.isSceneServiceLayer(E?.layer)}}function z(A){return A?"service"===A.origin?!1:"map-image"!==A.layer?.type:!0}function x(A){return"map-image"===A?.type?!!A.capabilities?.exportMap?.supportsArcadeExpressionForLabeling:!1}var w;e=new e.JSONMap({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",
esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",
esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},
{ignoreUnknown:!0});d=w=function(A){function B(y){y=A.call(this,y)||this;y.type="label";y.name=null;y.allowOverrun=!1;y.deconflictionStrategy="static";y.labelExpression=null;y.labelExpressionInfo=null;y.labelPlacement=null;y.labelPosition="curved";y.maxScale=0;y.minScale=0;y.repeatLabel=!0;y.repeatLabelDistance=null;y.symbol=h.defaultTextSymbol2D;y.useCodedValues=void 0;y.where=null;return y}a._inheritsLoose(B,A);B.evaluateWhere=function(y,C){const D=(J,M,L)=>{switch(M){case "\x3d":return J==L?!0:
!1;case "\x3c\x3e":return J!=L?!0:!1;case "\x3e":return J>L?!0:!1;case "\x3e\x3d":return J>=L?!0:!1;case "\x3c":return J<L?!0:!1;case "\x3c\x3d":return J<=L?!0:!1}return!1};try{if(null==y)return!0;const J=y.split(" ");if(3===J.length)return D(C[J[0]],J[1],J[2]);if(7===J.length){const M=D(C[J[0]],J[1],J[2]),L=J[3],I=D(C[J[4]],J[5],J[6]);switch(L){case "AND":return M&&I;case "OR":return M||I}}return!1}catch(J){console.log("Error.: can't parse \x3d "+y)}};var E=B.prototype;E.readLabelExpression=function(y,
C){C=C.labelExpressionInfo;if(!C||!C.value&&!C.expression)return y};E.writeLabelExpression=function(y,C,D){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)y=n.templateStringToSql(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const J=n.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression);J&&(y="["+J+"]")}null!=y&&(C[D]=y)};E.writeLabelExpressionInfo=function(y,C,D,J){if(null==y&&null!=this.labelExpression&&z(J))y=new p({expression:this.getLabelExpressionArcade()});
else if(!y)return;y=y.toJSON(J);y.expression&&(C[D]=y)};E.writeMaxScale=function(y,C){if(y||this.minScale)C.maxScale=y};E.writeMinScale=function(y,C){if(y||this.maxScale)C.minScale=y};E.getLabelExpression=function(){return n.getLabelExpression(this)};E.getLabelExpressionArcade=function(){return n.getLabelExpressionArcade(this)};E.getLabelExpressionSingleField=function(){return n.getLabelExpressionSingleField(this)};E.hash=function(){return JSON.stringify(this)};E.clone=function(){return new w({allowOverrun:this.allowOverrun,
deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:k.clone(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:k.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})};return B}(d.JSONSupport);b.__decorate([m.property({type:String,json:{write:!0}})],
d.prototype,"name",void 0);b.__decorate([m.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:u}}}}})],d.prototype,"allowOverrun",void 0);b.__decorate([m.property({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:u}}}}})],d.prototype,"deconflictionStrategy",void 0);b.__decorate([m.property({type:String,json:{write:{overridePolicy(A,B,E){return this.labelExpressionInfo&&
"service"===E?.origin&&x(E.layer)?{enabled:!1}:{allowNull:!0}}}}})],d.prototype,"labelExpression",void 0);b.__decorate([g.reader("labelExpression")],d.prototype,"readLabelExpression",null);b.__decorate([r.writer("labelExpression")],d.prototype,"writeLabelExpression",null);b.__decorate([m.property({type:p,json:{write:{overridePolicy(A,B,E){return z(E)||x(E?.layer)?{allowNull:!0}:{enabled:!1}}}}})],d.prototype,"labelExpressionInfo",void 0);b.__decorate([r.writer("labelExpressionInfo")],d.prototype,
"writeLabelExpressionInfo",null);b.__decorate([m.property({type:e.apiValues,json:{type:e.jsonValues,read:e.read,write:e.write}})],d.prototype,"labelPlacement",void 0);b.__decorate([m.property({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],d.prototype,"labelPosition",void 0);b.__decorate([m.property({type:Number})],d.prototype,"maxScale",void 0);b.__decorate([r.writer("maxScale")],d.prototype,"writeMaxScale",null);b.__decorate([m.property({type:Number})],
d.prototype,"minScale",void 0);b.__decorate([r.writer("minScale")],d.prototype,"writeMinScale",null);b.__decorate([m.property({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:u}}}}})],d.prototype,"repeatLabel",void 0);b.__decorate([m.property({type:Number,cast:t.toPt,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:u}}}}})],d.prototype,"repeatLabelDistance",void 0);b.__decorate([m.property({types:c.symbolTypesLabel,
json:{origins:{"web-scene":{types:c.symbolTypesLabel3D,write:q.writeLabelSymbol,default:null}},write:q.writeLabelSymbol,default:null}})],d.prototype,"symbol",void 0);b.__decorate([m.property({type:Boolean,json:{write:!0}})],d.prototype,"useCodedValues",void 0);b.__decorate([m.property({type:String,json:{write:!0}})],d.prototype,"where",void 0);return d=w=b.__decorate([l.subclass("esri.layers.support.LabelClass")],d)})},"esri/layers/support/LabelExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./labelUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g){var l;c=l=function(r){function p(){var v=r.apply(this,arguments)||this;v.expression=null;v.title=null;v.value=null;return v}a._inheritsLoose(p,r);var n=p.prototype;n.readExpression=function(v,h){return h.value?g.convertTemplatedStringToArcade(h.value):v};n.writeExpression=function(v,h,q){null!=this.value&&(v=g.convertTemplatedStringToArcade(this.value));null!=v&&(h[q]=v)};n.clone=function(){return new l({expression:this.expression,title:this.title,value:this.value})};
return p}(c.JSONSupport);b.__decorate([e.property({type:String,json:{write:{writerEnsuresNonNull:!0}}})],c.prototype,"expression",void 0);b.__decorate([t.reader("expression",["expression","value"])],c.prototype,"readExpression",null);b.__decorate([f.writer("expression")],c.prototype,"writeExpression",null);b.__decorate([e.property({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],c.prototype,"title",void 0);b.__decorate([e.property({json:{read:!1,write:!1}})],c.prototype,"value",void 0);
return c=l=b.__decorate([m.subclass("esri.layers.support.LabelExpressionInfo")],c)})},"esri/layers/support/labelUtils":function(){define(["exports","../../core/string"],function(a,b){function c(h){return h.replace(RegExp("\\[","g"),"{").replace(RegExp("\\]","g"),"}")}function e(h){const q={expression:"",type:"none"};h.labelExpressionInfo?h.labelExpressionInfo.value?(q.expression=h.labelExpressionInfo.value,q.type="conventional"):h.labelExpressionInfo.expression&&(q.expression=h.labelExpressionInfo.expression,
q.type="arcade"):null!=h.labelExpression&&(q.expression=c(h.labelExpression),q.type="conventional");return q}function d(h){h?(h=b.replace(h,q=>'__begin__$feature["'+q+'"]__end__'),h=g.test(h)?h.replace(g,""):'"'+h,h=l.test(h)?h.replace(l,""):h+'"',h=h.replace(m,'" + ').replace(f,' + "')):h='""';return h}function k(h){return(h=h?.match(r))&&h[1].trim()||null}function t(h){if(!h)return null;let q=p.exec(h)||n.exec(h);return q?q[1]||q[3]:(q=v.exec(h))?q[2]:null}const m=RegExp("__begin__","ig"),f=RegExp("__end__",
"ig"),g=RegExp("^__begin__","i"),l=RegExp("__end__$","i"),r=/^\s*\{([^}]+)\}\s*$/i,p=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,n=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,v=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;a.convertTemplatedStringToArcade=d;a.getLabelExpression=e;a.getLabelExpressionArcade=function(h){h=e(h);if(!h)return null;switch(h.type){case "conventional":return d(h.expression);
case "arcade":return h.expression}return null};a.getLabelExpressionSingleField=function(h){h=e(h);if(!h)return null;switch(h.type){case "conventional":return k(h.expression);case "arcade":return t(h.expression)}return null};a.getSingleFieldArcadeExpression=t;a.getSingleFieldTemplatedString=k;a.sqlToTemplateString=c;a.templateStringToSql=function(h){return h.replace(RegExp("\\{","g"),"[").replace(RegExp("\\}","g"),"]")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaults":function(){define("exports ../../core/has ../../core/maybe ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),
function(a,b,c,e,d,k,t,m){const f=k.fromJSON(m.defaultPointSymbolJSON),g=d.fromJSON(m.defaultPolylineSymbolJSON),l=e.fromJSON(m.defaultPolygonSymbolJSON);b=t.fromJSON(m.defaultTextSymbolJSON);k=k.fromJSON(m.errorPointSymbolJSON);d=d.fromJSON(m.errorPolylineSymbolJSON);e=e.fromJSON(m.errorPolygonSymbolJSON);a.defaultPointSymbol2D=f;a.defaultPolygonSymbol2D=l;a.defaultPolylineSymbol2D=g;a.defaultTextSymbol2D=b;a.errorPointSymbol2D=k;a.errorPolygonSymbol2D=e;a.errorPolylineSymbol2D=d;a.getDefaultSymbol2D=
function(r){if(c.isNone(r))return null;switch(r.type){case "point":case "multipoint":return f;case "polyline":return g;case "polygon":case "extent":return l}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaultsJSON":function(){define(["exports"],function(a){const b=[252,146,31,255],c={type:"esriSMS",style:"esriSMSCircle",size:6,color:b,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},e={type:"esriSLS",style:"esriSLSSolid",
width:.75,color:b};a.defaultColor=b;a.defaultOutlineColor=[153,153,153,255];a.defaultPointSymbolJSON=c;a.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};a.defaultPolylineSymbolJSON=e;a.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,
text:"",xoffset:0,yoffset:0,angle:0};a.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};a.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};a.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionCluster":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../symbols ../../core/JSONSupport ../../core/lang ../../core/object ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/extensions/serializableProperty/reader ./AggregateField ./commonProperties ./LabelClass".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A,B,E,y,C,D){var J;const M=E.createTypeReader({types:n.symbolTypesRenderer});e=J=function(L){function I(K){K=L.call(this,K)||this;K.type="cluster";K.clusterRadius=u.toPt("80px");K.clusterMinSize=u.toPt("12px");K.clusterMaxSize=u.toPt("50px");K.maxScale=0;K.popupEnabled=!0;K.popupTemplate=null;K.renderer=null;K.symbol=null;K.labelingInfo=null;K.labelsVisible=!0;K.fields=null;return K}a._inheritsLoose(I,L);var G=I.prototype;G.readRenderer=function(K,
H,O){K=H.drawingInfo?.renderer;return K?.authoringInfo?.isAutoGenerated?null:K?"simple"!==K.type||K.visualVariables?.length?r.read(K,H,O)??void 0:null:H.defaultSymbol?H.types&&H.types.length?new l({defaultSymbol:M(H.defaultSymbol,H,O),field:H.typeIdField,uniqueValueInfos:H.types.map(Q=>({id:Q.id,symbol:M(Q.symbol,Q,O)}))}):new g({symbol:M(H.defaultSymbol,H,O)}):null};G.readSymbol=function(K,H,O){K=H.drawingInfo?.renderer;return K?.authoringInfo?.isAutoGenerated?null:K&&"simple"===K.type&&!K.visualVariables?.length?
r.read(K,H,O)?.symbol:null};G.writeSymbol=function(K,H,O,Q){O=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||O)K=new g({symbol:K}),H.drawingInfo={renderer:K.write({},Q)}};G.writeFields=function(K,H,O){K=K.filter(Q=>"avg_angle"!==Q.statisticType).map(Q=>Q.toJSON());q.setDeepValue(O,K,H)};G.readFields=function(K,H,O){return K.filter(Q=>!Q.isAutoGenerated).map(Q=>y.fromJSON(Q))};G.clone=function(){return new J({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,
labelingInfo:h.clone(this.labelingInfo),labelsVisible:this.labelsVisible,fields:h.clone(this.fields),maxScale:this.maxScale,renderer:h.clone(this.renderer),symbol:h.clone(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:h.clone(this.popupTemplate)})};return I}(v.JSONSupport);b.__decorate([z.property({type:["cluster"],readOnly:!0,json:{write:!0}})],e.prototype,"type",void 0);b.__decorate([z.property({type:Number,cast:L=>"auto"===L?L:u.toPt(L),json:{write:!0}})],e.prototype,"clusterRadius",
void 0);b.__decorate([z.property({type:Number,cast:u.toPt,json:{write:!0}})],e.prototype,"clusterMinSize",void 0);b.__decorate([z.property({type:Number,cast:u.toPt,json:{write:!0}})],e.prototype,"clusterMaxSize",void 0);b.__decorate([z.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],e.prototype,"maxScale",void 0);b.__decorate([z.property(C.popupEnabled)],e.prototype,"popupEnabled",void 0);b.__decorate([z.property({type:c,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],
e.prototype,"popupTemplate",void 0);b.__decorate([z.property({types:p.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],e.prototype,"renderer",void 0);b.__decorate([w.reader("renderer",["drawingInfo.renderer"])],e.prototype,"readRenderer",null);b.__decorate([z.property({types:n.symbolTypesCluster})],e.prototype,"symbol",void 0);b.__decorate([w.reader("symbol",["drawingInfo.renderer"])],e.prototype,"readSymbol",null);b.__decorate([B.writer("symbol")],e.prototype,"writeSymbol",null);b.__decorate([z.property({type:[D],
json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],e.prototype,"labelingInfo",void 0);b.__decorate([z.property(C.labelsVisible)],e.prototype,"labelsVisible",void 0);b.__decorate([z.property({type:[y],json:{write:!0}})],e.prototype,"fields",void 0);b.__decorate([B.writer("fields")],e.prototype,"writeFields",null);b.__decorate([w.reader("fields")],e.prototype,"readFields",null);return e=J=b.__decorate([A.subclass("esri.layers.support.FeatureReductionCluster")],
e)})},"esri/layers/support/FeatureReductionSelection":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./FeatureReduction".split(" "),function(a,b,c,e,d,k,t){var m;e=m=function(f){function g(l){l=f.call(this,l)||this;l.type="selection";return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m};return g}(t.FeatureReduction);
b.__decorate([c.property({type:["selection"]})],e.prototype,"type",void 0);return e=m=b.__decorate([k.subclass("esri.layers.support.FeatureReductionSelection")],e)})},"esri/views/2d/layers/support/clusterUtils":function(){define("exports ../../../../core/Error ../../../../core/has ../../../../core/Logger ../../../../core/maybe ../../../../core/MD5 ../../../../layers/support/AggregateField ../../../../layers/support/ExpressionInfo ../../../../renderers/support/AuthoringInfo ../../../../renderers/visualVariables/SizeVariable ../../../../renderers/visualVariables/support/SizeStop ../../engine/LevelDependentSizeVariable".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){function p(A,B,E){switch(A){case "sum":return`cluster_sum_${B}`;case "avg":case "avg_angle":return`cluster_avg_${B}`;case "mode":return`cluster_type_${B}`;case "avg_norm":return A=B.toLowerCase()+",norm:field,"+E.toLowerCase(),"cluster_avg_"+k.createMD5Hash(A)}}function n(A,B,E,y){const C=k.createMD5Hash(B),D="mode"===E?`cluster_type_${C}`:"sum"===E?`cluster_sum_${C}`:`cluster_avg_${C}`;A.some(J=>J.name===D)||A.push(new t({name:D,isAutoGenerated:!0,onStatisticExpression:new m({expression:B,
returnType:y}),statisticType:E}));return D}function v(A,B,E,y,C){if("cluster_count"===B||A.some(J=>J.name===B))return B;const D=p(E,B,C);A.some(J=>J.name===D)||("avg_norm"===E?A.push(new t({name:D,isAutoGenerated:!0,onStatisticExpression:new m({expression:`$feature.${B} / $feature.${C}`,returnType:y}),statisticType:"avg"})):A.push(new t({name:D,isAutoGenerated:!0,onStatisticField:B,statisticType:E})));return D}const h=e.getLogger("esri.views.2d.layers.support.clusterUtils");c.add("esri-cluster-arcade-enabled",
!0);const q=c("esri-cluster-arcade-enabled"),u=A=>{for(const B of A)if("size"===B.type)return B;return null},z=A=>{for(const B of A)if("cluster_count"===B.field)return!0;return!1},x=(A,B)=>{const E=[new l({value:0,size:0}),new l({value:1})];if(d.isNone(B))return new g({field:"cluster_count",stops:[...E,new l({value:2,size:0})]});const y=Object.keys(B).reduce((C,D)=>({...C,[D]:[...E,new l({value:Math.max(2,B[D].minValue),size:A.clusterMinSize}),new l({value:Math.max(3,B[D].maxValue),size:A.clusterMaxSize})]}),
{});return new r.LevelDependentSizeVariable({field:"cluster_count",levels:y})},w=A=>{const B=E=>h.error(new b("Unsupported-renderer",E,{renderer:A}));switch(A.type){case "unique-value":if(A.field2||A.field3)return B("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case "class-breaks":if(A.normalizationField){const E=A.normalizationType;if("field"!==E)return B(`FeatureReductionCluster does not support a normalizationType of ${E}`),!1}break;case "simple":case "pie-chart":break;
default:return B(`FeatureReductionCluster does not support renderers of type ${A.type}`),!1}if(!q){if("valueExpression"in A&&A.valueExpression)return B("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in A&&A.visualVariables||[]).some(E=>!!("valueExpression"in E&&E.valueExpression)))return B("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),
!1}return!0};a.createClusterCountSizeVariable=x;a.createClusterRenderer=(A,B,E,y,C)=>{B=B.clone();if(!w(B))return B;B.authoringInfo||(B.authoringInfo=new f);B.authoringInfo.isAutoGenerated=!0;if("visualVariables"in B){const D=(B.visualVariables||[]).filter(M=>"$view.scale"!==M.valueExpression),J=u(D);D.forEach(M=>{"rotation"===M.type?M.field?M.field=v(A,M.field,"avg_angle","number"):M.valueExpression&&(M.field=n(A,M.valueExpression,"avg_angle","number"),M.valueExpression=null):M.normalizationField?
(M.field=v(A,M.field,"avg_norm","number",M.normalizationField),M.normalizationField=null):M.field?M.field=v(A,M.field,"avg","number"):M.valueExpression&&(M.field=n(A,M.valueExpression,"avg","number"),M.valueExpression=null)});d.isNone(J)&&!z(D)&&C&&(D.push(x(E,y)),B.dynamicClusterSize=!0);B.visualVariables=D}switch(B.type){case "pie-chart":for(const D of B.attributes)D.field?D.field=v(A,D.field,"sum","number"):D.valueExpression&&(D.field=n(A,D.valueExpression,"sum","number"),D.valueExpression=null);
break;case "unique-value":B.field?B.field=v(A,B.field,"mode","string"):B.valueExpression&&(B.field=n(A,B.valueExpression,"mode","string"),B.valueExpression=null);break;case "class-breaks":B.normalizationField?(B.field=v(A,B.field,"avg_norm","number",B.normalizationField),B.normalizationField=null):B.field?B.field=v(A,B.field,"avg","number"):B.valueExpression&&(B.field=n(A,B.valueExpression,"avg","number"),B.valueExpression=null)}return B};a.findSizeVV=u;a.hasClusterCountVV=z;a.injectDynamicLevelDependentSizeVisualVariable=
function(A,B,E){A=A.clone();let y=!1;if("visualVariables"in A){var C=(A.visualVariables||[]).filter(D=>"$view.scale"!==D.valueExpression);C=u(C);d.isNone(C)&&(A.visualVariables||(A.visualVariables=[]),A.visualVariables.push(x(B,E)),y=A.dynamicClusterSize=!0)}return{renderer:A,didInject:y}};a.isClusterCompatibleRenderer=w;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MD5":function(){define(["exports"],function(a){function b(m,f){const g=(m&65535)+(f&65535);return(m>>16)+
(f>>16)+(g>>16)<<16|g&65535}function c(m,f,g,l,r,p){m=b(b(f,m),b(l,p));return b(m<<r|m>>>32-r,g)}function e(m,f,g,l,r,p,n){return c(f&g|~f&l,m,f,r,p,n)}function d(m,f,g,l,r,p,n){return c(f&l|g&~l,m,f,r,p,n)}function k(m,f,g,l,r,p,n){return c(g^(f|~l),m,f,r,p,n)}const t={Base64:0,Hex:1,String:2,Raw:3};a.createMD5Hash=function(m,f=t.Hex){f=f||t.Base64;var g=[];for(let n=0,v=8*m.length;n<v;n+=8)g[n>>5]|=(m.charCodeAt(n/8)&255)<<n%32;m=8*m.length;g[m>>5]|=128<<m%32;g[(m+64>>>9<<4)+14]=m;m=1732584193;
var l=-271733879;let r=-1732584194,p=271733878;for(let n=0;n<g.length;n+=16){const v=m,h=l,q=r,u=p;m=e(m,l,r,p,g[n+0],7,-680876936);p=e(p,m,l,r,g[n+1],12,-389564586);r=e(r,p,m,l,g[n+2],17,606105819);l=e(l,r,p,m,g[n+3],22,-1044525330);m=e(m,l,r,p,g[n+4],7,-176418897);p=e(p,m,l,r,g[n+5],12,1200080426);r=e(r,p,m,l,g[n+6],17,-1473231341);l=e(l,r,p,m,g[n+7],22,-45705983);m=e(m,l,r,p,g[n+8],7,1770035416);p=e(p,m,l,r,g[n+9],12,-1958414417);r=e(r,p,m,l,g[n+10],17,-42063);l=e(l,r,p,m,g[n+11],22,-1990404162);
m=e(m,l,r,p,g[n+12],7,1804603682);p=e(p,m,l,r,g[n+13],12,-40341101);r=e(r,p,m,l,g[n+14],17,-1502002290);l=e(l,r,p,m,g[n+15],22,1236535329);m=d(m,l,r,p,g[n+1],5,-165796510);p=d(p,m,l,r,g[n+6],9,-1069501632);r=d(r,p,m,l,g[n+11],14,643717713);l=d(l,r,p,m,g[n+0],20,-373897302);m=d(m,l,r,p,g[n+5],5,-701558691);p=d(p,m,l,r,g[n+10],9,38016083);r=d(r,p,m,l,g[n+15],14,-660478335);l=d(l,r,p,m,g[n+4],20,-405537848);m=d(m,l,r,p,g[n+9],5,568446438);p=d(p,m,l,r,g[n+14],9,-1019803690);r=d(r,p,m,l,g[n+3],14,-187363961);
l=d(l,r,p,m,g[n+8],20,1163531501);m=d(m,l,r,p,g[n+13],5,-1444681467);p=d(p,m,l,r,g[n+2],9,-51403784);r=d(r,p,m,l,g[n+7],14,1735328473);l=d(l,r,p,m,g[n+12],20,-1926607734);m=c(l^r^p,m,l,g[n+5],4,-378558);p=c(m^l^r,p,m,g[n+8],11,-2022574463);r=c(p^m^l,r,p,g[n+11],16,1839030562);l=c(r^p^m,l,r,g[n+14],23,-35309556);m=c(l^r^p,m,l,g[n+1],4,-1530992060);p=c(m^l^r,p,m,g[n+4],11,1272893353);r=c(p^m^l,r,p,g[n+7],16,-155497632);l=c(r^p^m,l,r,g[n+10],23,-1094730640);m=c(l^r^p,m,l,g[n+13],4,681279174);p=c(m^l^
r,p,m,g[n+0],11,-358537222);r=c(p^m^l,r,p,g[n+3],16,-722521979);l=c(r^p^m,l,r,g[n+6],23,76029189);m=c(l^r^p,m,l,g[n+9],4,-640364487);p=c(m^l^r,p,m,g[n+12],11,-421815835);r=c(p^m^l,r,p,g[n+15],16,530742520);l=c(r^p^m,l,r,g[n+2],23,-995338651);m=k(m,l,r,p,g[n+0],6,-198630844);p=k(p,m,l,r,g[n+7],10,1126891415);r=k(r,p,m,l,g[n+14],15,-1416354905);l=k(l,r,p,m,g[n+5],21,-57434055);m=k(m,l,r,p,g[n+12],6,1700485571);p=k(p,m,l,r,g[n+3],10,-1894986606);r=k(r,p,m,l,g[n+10],15,-1051523);l=k(l,r,p,m,g[n+1],21,
-2054922799);m=k(m,l,r,p,g[n+8],6,1873313359);p=k(p,m,l,r,g[n+15],10,-30611744);r=k(r,p,m,l,g[n+6],15,-1560198380);l=k(l,r,p,m,g[n+13],21,1309151649);m=k(m,l,r,p,g[n+4],6,-145523070);p=k(p,m,l,r,g[n+11],10,-1120210379);r=k(r,p,m,l,g[n+2],15,718787259);l=k(l,r,p,m,g[n+9],21,-343485551);m=b(m,v);l=b(l,h);r=b(r,q);p=b(p,u)}g=[m,l,r,p];switch(f){case t.Raw:return g;case t.Hex:f=[];for(let n=0,v=4*g.length;n<v;n++)f.push("0123456789abcdef".charAt(g[n>>2]>>n%4*8+4&15)+"0123456789abcdef".charAt(g[n>>2]>>
n%4*8&15));return f.join("");case t.String:f=[];for(let n=0,v=32*g.length;n<v;n+=8)f.push(String.fromCharCode(g[n>>5]>>>n%32&255));return f.join("");case t.Base64:f=[];for(let n=0,v=4*g.length;n<v;n+=3)for(m=(g[n>>2]>>n%4*8&255)<<16|(g[n+1>>2]>>(n+1)%4*8&255)<<8|g[n+2>>2]>>(n+2)%4*8&255,l=0;4>l;l++)8*n+6*l>32*g.length?f.push("\x3d"):f.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(m>>6*(3-l)&63));return f.join("")}};a.outputTypes=t;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/views/2d/engine/LevelDependentSizeVariable":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../renderers/visualVariables/SizeVariable ../../../renderers/visualVariables/support/sizeVariableUtils".split(" "),function(a,
b,c,e,d,k,t,m,f,g){var l;a.LevelDependentSizeVariable=l=function(r){function p(){return r.apply(this,arguments)||this}b._inheritsLoose(p,r);var n=p.prototype;n.writeLevels=function(v,h,q){for(const u in v){h.stops=this.levels[u];break}};n.clone=function(){return new l({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:g.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,
minSize:g.isSizeVariable(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(v=>v.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone(),levels:e.clone(this.levels)})};return p}(f);c.__decorate([d.property()],a.LevelDependentSizeVariable.prototype,"levels",void 0);c.__decorate([m.writer("levels")],
a.LevelDependentSizeVariable.prototype,"writeLevels",null);a.LevelDependentSizeVariable=l=c.__decorate([t.subclass("esri.views.2d.engine.LevelDependentSizeVariable")],a.LevelDependentSizeVariable);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OrderedLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/object ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../support/OrderByInfo".split(" "),
function(a,b,c,e,d,k,t,m,f){function g(r,p,n){if(!r)return null;r=r.find(v=>!!v.field);if(!r)return null;p=new f;p.read(r,n);return[p]}function l(r,p,n,v){(r=r.find(h=>!!h.field))&&e.setDeepValue(n,[r.toJSON()],p)}a.OrderedLayer=r=>{r=function(p){function n(){var v=p.apply(this,arguments)||this;v.orderBy=null;return v}b._inheritsLoose(n,p);return n}(r);c.__decorate([d.property({type:[f],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:g},write:{target:"layerDefinition.orderBy",
writer:l}}})],r.prototype,"orderBy",void 0);return r=c.__decorate([m.subclass("esri.layers.mixins.OrderedLayer")],r)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/OrderByInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m){var f;c=new c.JSONMap({asc:"ascending",desc:"descending"});e=f=function(g){function l(r){r=g.call(this,r)||this;r.field=null;r.valueExpression=null;r.order="ascending";return r}a._inheritsLoose(l,g);l.prototype.clone=function(){return new f({field:this.field,valueExpression:this.valueExpression,order:this.order})};return l}(e.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"field",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],
e.prototype,"valueExpression",void 0);b.__decorate([d.property({type:c.apiValues,json:{read:c.read,write:c.write}})],e.prototype,"order",void 0);return e=f=b.__decorate([m.subclass("esri.layers.support.OrderByInfo")],e)})},"esri/layers/mixins/PublishableLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../support/PublishingInfo".split(" "),
function(a,b,c,e,d,k,t,m){const f=Symbol("esri.layers.mixins.PublishableLayer");a.PublishableLayer=g=>{g=function(r){function p(){var n=r.apply(this,arguments)||this;n[l]=!0;return n}b._inheritsLoose(p,r);p.prototype._checkPublishingStatus=function(n){var v=this;let h=0;const q=function(){var z=b._asyncToGenerator(function*(x){n.updating=!0;let w;try{w=yield v.fetchPublishingStatus()}catch(A){w="unavailable"}if("published"===w||"unavailable"===w)"publishing"===n.status&&v.refresh(),u.remove();n.status=
w;n.updating=!1;u.removed||(h=setTimeout(q,x,x+125))});return function(x){return z.apply(this,arguments)}}(),u={removed:!1,remove(){this.removed=!0;clearTimeout(h)}};this.when().catch(()=>u.remove());q(250);this.own(u)};b._createClass(p,[{key:"publishingInfo",get:function(){if(this.destroyed)return null;var n=this._get("publishingInfo");if(n)return n;n=new m;this._checkPublishingStatus(n);return n}}]);return p}(g);var l=f;c.__decorate([e.property({readOnly:!0,clonable:!1})],g.prototype,"publishingInfo",
null);return g=c.__decorate([t.subclass("esri.layers.mixins.PublishableLayer")],g)};a.isPublishableLayer=function(g){return null!=g&&"object"===typeof g&&f in g};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/PublishingInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){c=function(m){function f(){var g=m.apply(this,arguments)||this;g.updating=!1;g.status="unknown";return g}a._inheritsLoose(f,m);return f}(c);b.__decorate([e.property()],c.prototype,"updating",void 0);b.__decorate([e.property()],c.prototype,"status",void 0);return c=b.__decorate([t.subclass("esri.layers.support.PublishingInfo")],c)})},"esri/layers/mixins/TemporalLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../support/fieldUtils ../support/TimeInfo ../../portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p){a.TemporalLayer=n=>{n=function(v){function h(){var q=v.apply(this,arguments)||this;q.timeExtent=null;q.timeOffset=null;q.useViewTime=!0;return q}b._inheritsLoose(h,v);h.prototype.readOffset=function(q,u){u=u.timeInfo.exportOptions;if(!u)return null;q=u.timeOffset;u=p.timeUnitKebabDictionary.fromJSON(u.timeOffsetUnits);return q&&u?new d({value:q,unit:u}):null};b._createClass(h,[{key:"timeInfo",set:function(q){l.fixTimeInfoFields(q,this.fieldsIndex);this._set("timeInfo",
q)}}]);return h}(n);c.__decorate([k.property({type:e,json:{write:!1}})],n.prototype,"timeExtent",void 0);c.__decorate([k.property({type:d})],n.prototype,"timeOffset",void 0);c.__decorate([f.reader("service","timeOffset",["timeInfo.exportOptions"])],n.prototype,"readOffset",null);c.__decorate([k.property({value:null,type:r,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],n.prototype,"timeInfo",null);c.__decorate([k.property({type:Boolean,json:{read:{source:"timeAnimation"},
write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],n.prototype,"useViewTime",void 0);return n=c.__decorate([g.subclass("esri.layers.mixins.TemporalLayer")],n)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/TimeInterval":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Clonable ./core/JSONSupport ./core/timeUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/arrayUtils ./core/accessorSupport/decorators/enumeration ./core/accessorSupport/decorators/subclass ./portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l){c=function(r){function p(n){n=r.call(this,n)||this;n.unit="milliseconds";n.value=0;return n}a._inheritsLoose(p,r);p.prototype.toMilliseconds=function(){return d.convertTime(this.value,this.unit,"milliseconds")};return p}(c.ClonableMixin(e.JSONSupport));b.__decorate([f.enumeration(l.timeUnitKebabDictionary,{nonNullable:!0})],c.prototype,"unit",void 0);b.__decorate([k.property({type:Number,json:{write:!0},nonNullable:!0})],c.prototype,"value",void 0);return c=b.__decorate([g.subclass("esri.TimeInterval")],
c)})},"esri/portal/timeUnitKebabDictionary":function(){define(["exports","../core/jsonMap"],function(a,b){b=b.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});a.timeUnitKebabDictionary=b;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/TimeInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/Clonable ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../time/TimeReference".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n){d=function(v){function h(u){u=v.call(this,u)||this;u.cumulative=!1;u.endField=null;u.fullTimeExtent=null;u.hasLiveData=!1;u.interval=null;u.startField=null;u.timeReference=null;u.trackIdField=null;u.useTime=!0;return u}a._inheritsLoose(h,v);var q=h.prototype;q.readFullTimeExtent=function(u,z){return z.timeExtent&&Array.isArray(z.timeExtent)&&2===z.timeExtent.length?new c({start:new Date(z.timeExtent[0]),end:new Date(z.timeExtent[1])}):null};q.writeFullTimeExtent=
function(u,z){u&&t.isSome(u.start)&&t.isSome(u.end)?z.timeExtent=[u.start.getTime(),u.end.getTime()]:z.timeExtent=null};q.readInterval=function(u,z){return z.timeInterval&&z.timeIntervalUnits?e.fromJSON({value:z.timeInterval,unit:z.timeIntervalUnits}):z.defaultTimeInterval&&z.defaultTimeIntervalUnits?e.fromJSON({value:z.defaultTimeInterval,unit:z.defaultTimeIntervalUnits}):null};q.writeInterval=function(u,z){z.timeInterval=u?.toJSON().value??null;z.timeIntervalUnits=u?.toJSON().unit??null};return h}(d.ClonableMixin(k.JSONSupport));
b.__decorate([m.property({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],d.prototype,"cumulative",void 0);b.__decorate([m.property({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],d.prototype,"endField",void 0);b.__decorate([m.property({type:c,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"fullTimeExtent",void 0);b.__decorate([l.reader("fullTimeExtent",["timeExtent"])],d.prototype,"readFullTimeExtent",null);b.__decorate([p.writer("fullTimeExtent")],
d.prototype,"writeFullTimeExtent",null);b.__decorate([m.property({type:Boolean,json:{write:!0}})],d.prototype,"hasLiveData",void 0);b.__decorate([m.property({type:e,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"interval",void 0);b.__decorate([l.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],d.prototype,"readInterval",null);b.__decorate([p.writer("interval")],d.prototype,"writeInterval",null);b.__decorate([m.property({type:String,
json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],d.prototype,"startField",void 0);b.__decorate([m.property({type:n,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"timeReference",void 0);b.__decorate([m.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"trackIdField",void 0);b.__decorate([m.property({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],d.prototype,"useTime",void 0);return d=b.__decorate([r.subclass("esri.layers.support.TimeInfo")],
d)})},"esri/layers/support/FeatureTemplate":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t,m,f){e=new e.JSONMap({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",
esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});c=function(g){function l(r){r=g.call(this,r)||this;
r.name=null;r.description=null;r.drawingTool=null;r.prototype=null;r.thumbnail=null;return r}a._inheritsLoose(l,g);return l}(c.ClonableMixin(d.JSONSupport));b.__decorate([k.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([k.property({json:{write:!0}})],c.prototype,"description",void 0);b.__decorate([k.property({json:{read:e.read,write:e.write}})],c.prototype,"drawingTool",void 0);b.__decorate([k.property({json:{write:!0}})],c.prototype,"prototype",void 0);b.__decorate([k.property({json:{write:!0}})],
c.prototype,"thumbnail",void 0);return c=b.__decorate([f.subclass("esri.layers.support.FeatureTemplate")],c)})},"esri/layers/support/FeatureType":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains ./FeatureTemplate".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r){c=function(p){function n(h){h=p.call(this,h)||this;h.id=null;h.name=null;h.domains=null;h.templates=null;return h}a._inheritsLoose(n,p);var v=n.prototype;v.readDomains=function(h){const q={};for(const u of Object.keys(h))q[u]=l.fromJSON(h[u]);return q};v.writeDomains=function(h,q){const u={};for(const z of Object.keys(h))h[z]&&(u[z]=h[z]?.toJSON());q.domains=u};return n}(c.ClonableMixin(e.JSONSupport));b.__decorate([d.property({json:{write:!0}})],c.prototype,"id",
void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"name",void 0);b.__decorate([d.property({json:{write:!0}})],c.prototype,"domains",void 0);b.__decorate([m.reader("domains")],c.prototype,"readDomains",null);b.__decorate([g.writer("domains")],c.prototype,"writeDomains",null);b.__decorate([d.property({type:[r],json:{write:!0}})],c.prototype,"templates",void 0);return c=b.__decorate([f.subclass("esri.layers.support.FeatureType")],c)})},"esri/layers/support/fieldProperties":function(){define(["exports",
"../../core/Logger","./Field","./FieldsIndex","./fieldUtils"],function(a,b,c,e,d){a.defineFieldProperties=function(){return{fields:{type:[c],value:null},fieldsIndex:{readOnly:!0,get(){return new e(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(k){this._userOutFields=k;this.notifyChange("outFields")},get:function(){const k=this._userOutFields;if(!k||!k.length)return null;if(k.includes("*"))return["*"];if(!this.fields)return k;for(const t of k)this.fieldsIndex?.has(t)||b.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",
`Invalid field ${t} found in outFields`,{layer:this,outFields:k});return d.fixFields(this.fieldsIndex,k)}}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FieldsIndex":function(){define(["../../chunks/_rollupPluginBabelHelpers","./fieldUtils"],function(a,b){function c(d){return"oid"===d.type||"esriFieldTypeOID"===d.type}function e(d){return"global-id"===d.type||"esriFieldTypeGlobalID"===d.type}return function(){function d(t=[]){this.fields=[];this._fieldsMap=
new Map;this._normalizedFieldsMap=new Map;this._dateFieldsSet=new Set;this._numericFieldsSet=new Set;this.dateFields=[];this.numericFields=[];this._requiredFields=null;if(t){this.fields=t;var m=[];for(const f of t){t=f?.name;const g=b.normalizeFieldName(f?.name)?.toLowerCase()??"";if(t&&g){const l=t.trim().toLowerCase();this._fieldsMap.set(t,f);this._fieldsMap.set(l,f);this._normalizedFieldsMap.set(g,f);m.push(l);"date"===f.type||"esriFieldTypeDate"===f.type?(this.dateFields.push(f),this._dateFieldsSet.add(f)):
b.isNumericField(f)&&(this._numericFieldsSet.add(f),this.numericFields.push(f));c(f)||e(f)||(f.editable=null==f.editable?!0:!!f.editable,f.nullable=null==f.nullable?!0:!!f.nullable)}}m.sort();this.uid=m.join(",")}}var k=d.prototype;k.destroy=function(){this._fieldsMap.clear()};k.has=function(t){return null!=this.get(t)};k.get=function(t){if(t){var m=this._fieldsMap.get(t);if(m)return m;(m=this._fieldsMap.get(t.trim().toLowerCase())??this._normalizedFieldsMap.get(b.normalizeFieldName(t)?.toLowerCase()??
""))&&this._fieldsMap.set(t,m);return m}};k.isDateField=function(t){return this._dateFieldsSet.has(this.get(t))};k.isNumericField=function(t){return this._numericFieldsSet.has(this.get(t))};k.normalizeFieldName=function(t){if(t=this.get(t))return t.name??void 0};a._createClass(d,[{key:"requiredFields",get:function(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)c(t)||e(t)||t.nullable||void 0!==b.getFieldDefaultValue(t)||this._requiredFields.push(t)}return this._requiredFields}}]);
return d}()})},"esri/layers/support/labelingInfo":function(){define(["exports","../../core/Error","../../core/lang","../../core/Logger","./LabelClass"],function(a,b,c,e,d){const k=e.getLogger("esri.layers.support.labelingInfo"),t=/\[([^\[\]]+)\]/gi,m={esriGeometryPoint:"above-right above-center above-left center-center center-left center-right below-center below-left below-right".split(" "),esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null};
a.reader=function(f,g,l){return f?f.map(r=>{const p=new d;p.read(r,l);if(p.labelExpression){const n=g.fields||g.layerDefinition&&g.layerDefinition.fields||this.fields;p.labelExpression=p.labelExpression.replace(t,(v,h)=>{a:if(n){v=h.toLowerCase();for(let q=0;q<n.length;q++){const u=n[q].name;if(u.toLowerCase()===v){h=u;break a}}}return`[${h}]`})}return p}):null};a.validateLabelingInfo=function(f,g){f=c.clone(f);return f.some(l=>{{const p=l.labelPlacement;var r=m[g];l.symbol?r?(r.includes(p)||(r=r[0],
p&&k.warn(`Found invalid label placement type ${p} for ${g}. Defaulting to ${r}`),l.labelPlacement=r),l=!1):(k.error(new b("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${g}' is not supported`)),l=!0):(k.warn("No ILabelClass symbol specified."),l=!0)}return l})?[]:f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/versionUtils":function(){define(["exports","./arcgisLayerUrl"],function(a,b){const c=[];c.push([10.91,()=>
{const e=new Set([9709,9716,9741,9761,9766]);for(var d=9712;9713>=d;d++)e.add(d);for(d=9748;9749>=d;d++)e.add(d);for(d=20904;20932>=d;d++)e.add(d);for(d=21004;21032>=d;d++)e.add(d);for(d=21207;21264>=d;d++)e.add(d);for(d=21307;21364>=d;d++)e.add(d);for(d=102759;102760>=d;d++)e.add(d);for(d=102901;102955>=d;d++)e.add(d);return e}]);c.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(var d=9356;9360>=d;d++)e.add(d);for(d=9404;9407>=
d;d++)e.add(d);for(d=9476;9482>=d;d++)e.add(d);for(d=9487;9494>=d;d++)e.add(d);for(d=9697;9699>=d;d++)e.add(d);return e}]);c.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(var d=9248;9254>=d;d++)e.add(d);for(d=9271;9273>=d;d++)e.add(d);for(d=9284;9285>=d;d++)e.add(d);for(d=21453;21463>=d;d++)e.add(d);return e}]);c.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(var d=8035;8036>=d;d++)e.add(d);for(d=8455;8456>=
d;d++)e.add(d);for(d=8518;8529>=d;d++)e.add(d);for(d=8533;8536>=d;d++)e.add(d);for(d=8538;8540>=d;d++)e.add(d);for(d=8677;8679>=d;d++)e.add(d);for(d=8902;8903>=d;d++)e.add(d);for(d=8907;8910>=d;d++)e.add(d);for(d=8949;8951>=d;d++)e.add(d);for(d=8972;8987>=d;d++)e.add(d);for(d=9039;9040>=d;d++)e.add(d);for(d=9068;9069>=d;d++)e.add(d);for(d=9140;9141>=d;d++)e.add(d);for(d=9148;9150>=d;d++)e.add(d);for(d=9153;9159>=d;d++)e.add(d);for(d=9205;9218>=d;d++)e.add(d);for(d=9221;9222>=d;d++)e.add(d);for(d=
54098;54101>=d;d++)e.add(d);return e}]);c.push([10.71,()=>{const e=new Set([6316]);for(var d=8351;8353>=d;d++)e.add(d);for(d=9294;9297>=d;d++)e.add(d);for(d=22619;22621>=d;d++)e.add(d);for(d=103586;103594>=d;d++)e.add(d);return e}]);c.push([10.7,()=>{const e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(var d=8065;8068>=d;d++)e.add(d);for(d=8082;8083>=d;d++)e.add(d);for(d=8379;8385>=d;d++)e.add(d);for(d=8836;8840>=d;d++)e.add(d);for(d=8857;8860>=d;d++)e.add(d);for(d=
53035;53037>=d;d++)e.add(d);for(d=54090;54091>=d;d++)e.add(d);for(d=102498;102499>=d;d++)e.add(d);return e}]);c.push([10.61,()=>new Set([102497])]);c.push([10.6,()=>{const e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(var d=7755;7787>=d;d++)e.add(d);for(d=7791;7795>=d;d++)e.add(d);for(d=7799;7801>=d;d++)e.add(d);for(d=7825;7831>=d;d++)e.add(d);for(d=7877;7878>=d;d++)e.add(d);for(d=7882;7883>=d;d++)e.add(d);for(d=7991;7992>=d;d++)e.add(d);for(d=8042;8043>=d;d++)e.add(d);
for(d=8058;8059>=d;d++)e.add(d);for(d=8311;8348>=d;d++)e.add(d);for(d=9060;9067>=d;d++)e.add(d);for(d=102562;102568>=d;d++)e.add(d);for(d=102799;102900>=d;d++)e.add(d);return e}]);c.push([10.51,()=>{const e=new Set([7683,7881,7886,7899,8888,9E3]);for(var d=8013;8032>=d;d++)e.add(d);for(d=9053;9057>=d;d++)e.add(d);for(d=104017;104018>=d;d++)e.add(d);for(d=104971;104974>=d;d++)e.add(d);return e}]);c.push([10.5,()=>{const e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(var d=4087;4088>=
d;d++)e.add(d);for(d=5896;5899>=d;d++)e.add(d);for(d=7005;7007>=d;d++)e.add(d);for(d=7057;7070>=d;d++)e.add(d);for(d=7073;7082>=d;d++)e.add(d);for(d=7109;7128>=d;d++)e.add(d);for(d=7844;7859>=d;d++)e.add(d);return e}]);a.serviceSupportsSpatialReference=function(e,d){if(b.isHostedAgolService(e.url??""))return!0;({wkid:d}=d);for(const k of c){if((e.version??0)>=k[0])break;"function"===typeof k[1]&&(k[1]=k[1]());if(k[1].has(d))return!1}return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/rest/support/TopFeaturesQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/support/jsonUtils ./TopFilter ../../geometry/SpatialReference".split(" "),function(a,
b,c,e,d,k,t,m,f,g,l,r,p,n,v){var h;const q=new d.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});d=new d.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});k=h=function(u){function z(w){w=u.call(this,w)||this;w.cacheHint=void 0;w.distance=void 0;w.geometry=null;w.geometryPrecision=void 0;w.maxAllowableOffset=void 0;w.num=void 0;w.objectIds=null;w.orderByFields=null;w.outFields=null;w.outSpatialReference=null;w.resultType=null;w.returnGeometry=!1;w.returnM=void 0;w.returnZ=void 0;w.start=void 0;w.spatialRelationship=
"intersects";w.timeExtent=null;w.topFilter=void 0;w.units=null;w.where="1\x3d1";return w}a._inheritsLoose(z,u);var x=z.prototype;x.writeStart=function(w,A){A.resultOffset=this.start;A.resultRecordCount=this.num||10};x.clone=function(){return new h(t.clone({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,
outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))};return z}(k.JSONSupport);b.__decorate([f.property({type:Boolean,json:{write:!0}})],k.prototype,"cacheHint",void 0);b.__decorate([f.property({type:Number,json:{write:{overridePolicy(u){return{enabled:0<
u}}}}})],k.prototype,"distance",void 0);b.__decorate([f.property({types:c.geometryTypes,json:{read:p.fromJSON,write:!0}})],k.prototype,"geometry",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],k.prototype,"geometryPrecision",void 0);b.__decorate([f.property({type:Number,json:{write:!0}})],k.prototype,"maxAllowableOffset",void 0);b.__decorate([f.property({type:Number,json:{read:{source:"resultRecordCount"}}})],k.prototype,"num",void 0);b.__decorate([f.property({json:{write:!0}})],
k.prototype,"objectIds",void 0);b.__decorate([f.property({type:[String],json:{write:!0}})],k.prototype,"orderByFields",void 0);b.__decorate([f.property({type:[String],json:{write:!0}})],k.prototype,"outFields",void 0);b.__decorate([f.property({type:v,json:{read:{source:"outSR"},write:{target:"outSR"}}})],k.prototype,"outSpatialReference",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"resultType",void 0);b.__decorate([f.property({json:{write:!0}})],k.prototype,"returnGeometry",
void 0);b.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(u){return{enabled:u}}}}})],k.prototype,"returnM",void 0);b.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(u){return{enabled:u}}}}})],k.prototype,"returnZ",void 0);b.__decorate([f.property({type:Number,json:{read:{source:"resultOffset"}}})],k.prototype,"start",void 0);b.__decorate([r.writer("start"),r.writer("num")],k.prototype,"writeStart",null);b.__decorate([f.property({type:String,json:{read:{source:"spatialRel",
reader:q.read},write:{target:"spatialRel",writer:q.write}}})],k.prototype,"spatialRelationship",void 0);b.__decorate([f.property({type:e,json:{write:!0}})],k.prototype,"timeExtent",void 0);b.__decorate([f.property({type:n,json:{write:!0}})],k.prototype,"topFilter",void 0);b.__decorate([f.property({type:String,json:{read:d.read,write:{writer:d.write,overridePolicy(u){return{enabled:m.isSome(u)&&m.isSome(this.distance)&&0<this.distance}}}}})],k.prototype,"units",void 0);b.__decorate([f.property({type:String,
json:{write:!0}})],k.prototype,"where",void 0);k=h=b.__decorate([l.subclass("esri.rest.support.TopFeaturesQuery")],k);k.from=g.ensureType(k);return k})},"esri/rest/support/TopFilter":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t){var m;c=m=function(f){function g(l){l=
f.call(this,l)||this;l.groupByFields=void 0;l.topCount=void 0;l.orderByFields=void 0;return l}a._inheritsLoose(g,f);g.prototype.clone=function(){return new m({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})};return g}(c.JSONSupport);b.__decorate([e.property({type:[String],json:{write:!0}})],c.prototype,"groupByFields",void 0);b.__decorate([e.property({type:Number,json:{write:!0}})],c.prototype,"topCount",void 0);b.__decorate([e.property({type:[String],json:{write:!0}})],
c.prototype,"orderByFields",void 0);return c=m=b.__decorate([t.subclass("esri.rest.support.TopFilter")],c)})},"esri/support/popupUtils":function(){define("exports ../PopupTemplate ../layers/support/fieldUtils ../popup/content/AttachmentsContent ../popup/content/Content ../popup/content/CustomContent ../popup/content/ExpressionContent ../popup/content/FieldsContent ../popup/content/MediaContent ../popup/content/RelationshipContent ../popup/content/TextContent ../popup/FieldInfo ../popup/support/FieldInfoFormat".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p){function n(D,J){const M=D;J&&(D=D.filter(L=>!J.includes(L.type)));D===M&&(D=D.slice());D.sort(v);return D}function v(D,J){return"oid"===D.type?-1:"oid"===J.type?1:w(D)?-1:w(J)?1:(D.alias||D.name).toLocaleLowerCase().localeCompare((J.alias||J.name).toLocaleLowerCase())}function h(D,J){if(!D||!J)return!1;const {creationDateField:M,creatorField:L,editDateField:I,editorField:G}=J;return[M&&M.toLowerCase(),L&&L.toLowerCase(),I&&I.toLowerCase(),G&&G.toLowerCase()].includes(D.toLowerCase())}
function q({editFieldsInfo:D,fields:J,objectIdField:M},L){return n(J??[],L?.ignoreFieldTypes||C).map(I=>{var G=I.name;var K=I.editable&&!B.includes(I.type)&&!h(I.name,D);return new r({fieldName:G,isEditable:K,label:I.alias,format:x(I),visible:y(I,{editFieldsInfo:D,objectIdField:M,visibleFieldNames:L?.visibleFieldNames})})})}function u(D,J){return D.map(M=>new r({fieldName:M.name,isEditable:!1,label:M.alias,format:z(M,J),visible:!0}))}function z(D,J){const {onStatisticField:M,onStatisticExpression:L,
statisticType:I}=D;return M&&(D=J.find(G=>M===G.name))?x(D):"number"===L?.returnType?new p({digitSeparator:!0,places:2}):"count"===I?new p({digitSeparator:!0,places:0}):null}function x(D){switch(D.type){case "small-integer":case "integer":case "single":return new p({digitSeparator:!0,places:0});case "double":return new p({digitSeparator:!0,places:2});case "date":return new p({dateFormat:"long-month-day-year"});default:return"string"===D.type&&c.isRasterPixelValueField(D.name)?new p({digitSeparator:!0,
places:0}):null}}function w(D){return"name"===(D.name&&D.name.toLowerCase())||"name"===(D.alias&&D.alias.toLowerCase())?!0:!1}const A=["oid","global-id"],B=["oid","global-id","guid"],E=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],y=(D,{editFieldsInfo:J,objectIdField:M,visibleFieldNames:L})=>L?L.has(D.name):h(D.name,J)?!1:M&&D.name===M?!1:A.includes(D.type)?!1:!E.some(I=>I.test(D.name)),
C=["geometry","blob","raster","guid","xml"];a.createFieldInfos=q;a.createFieldsContent=function(D,J){return new m({fieldInfos:q(D,J).filter(M=>M.visible)})};a.createPopupTemplate=function({displayField:D,editFieldsInfo:J,fields:M,objectIdField:L,title:I},G){if(!M)return null;J=q({editFieldsInfo:J,fields:M,objectIdField:L},G);if(!J.length)return null;M={titleBase:I,fields:M,displayField:D};D=c.getDisplayFieldName(M);({titleBase:M}=M);D=D?`${M}: {${D.trim()}}`:M??"";M=[new m,new e];return new b({title:D,
content:M,fieldInfos:J})};a.createPopupTemplateForFeatureReduction=function(D){const {fields:J,featureReduction:M,title:L}=D;D=M.fields;if(!D)return null;D=u(D,J??[]);if(!D.length)return null;var I=[new m];return new b({title:L,content:I,fieldInfos:D})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../kernel ../../../request ../../../TimeExtent ../../../core/Error ../../../core/has ../../../core/jsonMap ../../../core/Loadable ../../../core/maybe ../../../core/object ../../../core/promiseUtils ../../../core/urlUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ../../../geometry/Extent ../../../geometry/support/jsonUtils ../assetEditingSupport ./support/clientSideDefaults ./support/QueryTask ../../support/arcgisLayerUrl ../../../rest/query/operations/editsZScale ../../../geometry/SpatialReference".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A,B,E,y,C,D){function J(K){return M.apply(this,arguments)}function M(){M=a._asyncToGenerator(function*(K){if("string"===typeof K){const H=v.dataComponents(K);return H?H:{data:K}}return new Promise((H,O)=>{const Q=new FileReader;Q.readAsDataURL(K);Q.onload=()=>H(v.dataComponents(Q.result));Q.onerror=W=>O(W)})});return M.apply(this,arguments)}const L=new g.JSONMap({originalAndCurrentFeatures:"original-and-current-features",none:"none"}),I=new Set(["Feature Layer",
"Table"]),G=new g.JSONMap({Started:"published",Publishing:"publishing",Stopped:"unavailable"});c=function(K){function H(){var Q=K.apply(this,arguments)||this;Q.type="feature-layer";Q.refresh=n.debounce(a._asyncToGenerator(function*(){yield Q.load();var W=Q.sourceJSON.editingInfo?.lastEditDate;if(null==W)return{dataChanged:!0,updates:{}};try{yield Q._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}W=W!==Q.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:W,updates:W?{editingInfo:Q.sourceJSON.editingInfo,
extent:Q.sourceJSON.extent}:null}}));return Q}a._inheritsLoose(H,K);var O=H.prototype;O.load=function(Q){Q=r.isSome(Q)?Q.signal:null;this.addResolvingPromise(this._fetchService(this.layer.sourceJSON,Q));return Promise.resolve(this)};O.addAttachment=function(){var Q=a._asyncToGenerator(function*(W,T){yield this.load();W=W.attributes[this.layer.objectIdField];const Y=this.layer.parsedUrl.path+"/"+W+"/addAttachment",X=this._getLayerRequestOptions();T=this._getFormDataForAttachment(T,X.query);try{const ra=
yield k(Y,{body:T});return this._createFeatureEditResult(ra.data.addAttachmentResult)}catch(ra){throw this._createAttachmentErrorResult(W,ra);}});return function(W,T){return Q.apply(this,arguments)}}();O.updateAttachment=function(){var Q=a._asyncToGenerator(function*(W,T,Y){yield this.load();W=W.attributes[this.layer.objectIdField];const X=this.layer.parsedUrl.path+"/"+W+"/updateAttachment";T=this._getLayerRequestOptions({query:{attachmentId:T}});Y=this._getFormDataForAttachment(Y,T.query);try{const ra=
yield k(X,{body:Y});return this._createFeatureEditResult(ra.data.updateAttachmentResult)}catch(ra){throw this._createAttachmentErrorResult(W,ra);}});return function(W,T,Y){return Q.apply(this,arguments)}}();O.applyEdits=function(){var Q=a._asyncToGenerator(function*(W,T){yield this.load();const Y=this.layer.infoFor3D;var X=r.isSome(Y),ra=X||(T?.globalIdUsed??!1),Ba=W.addFeatures?.map(Oa=>this._serializeFeature(Oa,Y)).filter(r.isSome)??[],Ga=W.updateFeatures?.map(Oa=>this._serializeFeature(Oa,Y)).filter(r.isSome)??
[];const Ha=this._getFeatureIds(W.deleteFeatures,ra);C.unapplyEditsZUnitScaling(Ba,Ga,this.layer.spatialReference);var da=[],na=[],xa=[...(W.deleteAttachments??[])];for(const Oa of W.addAttachments??[])da.push(yield this._serializeAttachment(Oa));for(const Oa of W.updateAttachments??[])na.push(yield this._serializeAttachment(Oa));na=da.length||na.length||xa.length?{adds:da,updates:na,deletes:xa}:null;xa=void 0;da=null;if(X){da=new Map;xa=[];for(const Oa of W.addAssets??[])xa.push(this._serializeAssetMapEditAndUploadAssets(Oa,
da));W=yield Promise.all(xa);xa=W.length?{adds:W,updates:[],deletes:[]}:void 0}W={gdbVersion:T?.gdbVersion||this.layer.gdbVersion,rollbackOnFailure:T?.rollbackOnFailureEnabled,useGlobalIds:ra,returnEditMoment:T?.returnEditMoment,usePreviousEditMoment:T?.usePreviousEditMoment,sessionId:T?.sessionId};T?.returnServiceEditsOption?(W.edits=JSON.stringify([{id:this.layer.layerId,adds:Ba,updates:Ga,deletes:Ha,attachments:na,assetMaps:r.unwrap(xa)}]),W.returnServiceEditsOption=L.toJSON(T?.returnServiceEditsOption),
W.returnServiceEditsInSourceSR=T?.returnServiceEditsInSourceSR):(W.adds=Ba.length?JSON.stringify(Ba):null,W.updates=Ga.length?JSON.stringify(Ga):null,W.deletes=Ha.length?ra?JSON.stringify(Ha):Ha.join(","):null,W.attachments=na&&JSON.stringify(na),W.assetMaps=r.isSome(xa)?JSON.stringify(xa):void 0);Ba=this._getLayerRequestOptions({method:"post",query:W});ra=T?.returnServiceEditsOption?this.layer.url:this.layer.parsedUrl.path;T=yield k(ra+"/applyEdits",Ba);!this.layer.capabilities.operations?.supportsEditing&&
this.layer.effectiveCapabilities?.operations?.supportsEditing&&(yield d.id?.findCredential(this.layer.url)?.refreshToken());if(X&&null!=T.data&&null!=T.data.assetMaps){Ga=T.data;X=this.layer.objectIdField;Ba=[];for(var Na of Ga.addResults)Na.success&&Ba.push(Na.objectId);for(const Oa of Ga.updateResults)Oa.success&&Ba.push(Oa.objectId);Na=this._createRequestQueryOptions();if((Na=yield k(ra+"/query",{...Na,query:{f:"json",formatOf3DObjects:"3D_glb",where:`OBJECTID IN (${Ba.join(",")})`,outFields:`${X}`}}))&&
Na.data&&Na.data.assetMaps&&r.isSome(da)){Na=Na.data.assetMaps;for(const Oa of Na)Na=da.get(Oa.parentGlobalId).geometry,r.isSome(Na)&&"mesh"===Na.type&&Na.updateExternalSource({source:[{name:Oa.assetName,source:Oa.assetName}],extent:Na.extent})}}return this._createEditsResult(T)});return function(W,T){return Q.apply(this,arguments)}}();O.deleteAttachments=function(){var Q=a._asyncToGenerator(function*(W,T){yield this.load();W=W.attributes[this.layer.objectIdField];const Y=this.layer.parsedUrl.path+
"/"+W+"/deleteAttachments";try{return(yield k(Y,this._getLayerRequestOptions({query:{attachmentIds:T.join(",")},method:"post"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(X){throw this._createAttachmentErrorResult(W,X);}});return function(W,T){return Q.apply(this,arguments)}}();O.fetchRecomputedExtents=function(Q={}){var W=this;return this.load({signal:Q.signal}).then(a._asyncToGenerator(function*(){var T=W._getLayerRequestOptions({...Q,query:{returnUpdates:!0}});const {layerId:Y,
url:X}=W.layer;({data:T}=yield k(`${X}/${Y}`,T));const {id:ra,extent:Ba,fullExtent:Ga,timeExtent:Ha}=T;T=Ba||Ga;return{id:ra,fullExtent:T&&x.fromJSON(T),timeExtent:Ha&&t.fromJSON({start:Ha[0],end:Ha[1]})}}))};O.queryAttachments=function(){var Q=a._asyncToGenerator(function*(W,T={}){yield this.load();T=this._getLayerRequestOptions(T);return this.queryTask.executeAttachmentQuery(W,T)});return function(W){return Q.apply(this,arguments)}}();O.queryFeatures=function(){var Q=a._asyncToGenerator(function*(W,
T){yield this.load();return this.queryTask.execute(W,{...T,query:this._createRequestQueryOptions(T)})});return function(W,T){return Q.apply(this,arguments)}}();O.queryFeaturesJSON=function(){var Q=a._asyncToGenerator(function*(W,T){yield this.load();return this.queryTask.executeJSON(W,{...T,query:this._createRequestQueryOptions(T)})});return function(W,T){return Q.apply(this,arguments)}}();O.queryObjectIds=function(){var Q=a._asyncToGenerator(function*(W,T){yield this.load();return this.queryTask.executeForIds(W,
{...T,query:this._createRequestQueryOptions(T)})});return function(W,T){return Q.apply(this,arguments)}}();O.queryFeatureCount=function(){var Q=a._asyncToGenerator(function*(W,T){yield this.load();return this.queryTask.executeForCount(W,{...T,query:this._createRequestQueryOptions(T)})});return function(W,T){return Q.apply(this,arguments)}}();O.queryExtent=function(){var Q=a._asyncToGenerator(function*(W,T){yield this.load();return this.queryTask.executeForExtent(W,{...T,query:this._createRequestQueryOptions(T)})});
return function(W,T){return Q.apply(this,arguments)}}();O.queryRelatedFeatures=function(){var Q=a._asyncToGenerator(function*(W,T){yield this.load();return this.queryTask.executeRelationshipQuery(W,{...T,query:this._createRequestQueryOptions(T)})});return function(W,T){return Q.apply(this,arguments)}}();O.queryRelatedFeaturesCount=function(){var Q=a._asyncToGenerator(function*(W,T){yield this.load();return this.queryTask.executeRelationshipQueryForCount(W,{...T,query:this._createRequestQueryOptions(T)})});
return function(W,T){return Q.apply(this,arguments)}}();O.queryTopFeatures=function(){var Q=a._asyncToGenerator(function*(W,T){yield this.load();return this.queryTask.executeTopFeaturesQuery(W,{...T,query:this._createRequestQueryOptions(T)})});return function(W,T){return Q.apply(this,arguments)}}();O.queryTopObjectIds=function(){var Q=a._asyncToGenerator(function*(W,T){yield this.load();return this.queryTask.executeForTopIds(W,{...T,query:this._createRequestQueryOptions(T)})});return function(W,T){return Q.apply(this,
arguments)}}();O.queryTopExtents=function(){var Q=a._asyncToGenerator(function*(W,T){yield this.load();return this.queryTask.executeForTopExtents(W,{...T,query:this._createRequestQueryOptions(T)})});return function(W,T){return Q.apply(this,arguments)}}();O.queryTopCount=function(){var Q=a._asyncToGenerator(function*(W,T){yield this.load();return this.queryTask.executeForTopCount(W,{...T,query:this._createRequestQueryOptions(T)})});return function(W,T){return Q.apply(this,arguments)}}();O.fetchPublishingStatus=
function(){var Q=a._asyncToGenerator(function*(){if(!y.isHostedAgolService(this.layer.url))return"unavailable";var W=v.join(this.layer.url,"status");W=yield k(W,{query:{f:"json"}});return G.fromJSON(W.data.status)});return function(){return Q.apply(this,arguments)}}();O._createRequestQueryOptions=function(Q){Q={...this.layer.customParameters,token:this.layer.apiKey,...Q?.query};this.layer.datesInUnknownTimezone&&(Q.timeReferenceUnknownClient=!0);return Q};O._fetchService=function(){var Q=a._asyncToGenerator(function*(W,
T){W||({data:W}=yield k(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:f("featurelayer-advanced-symbols")?{returnAdvancedSymbols:!0}:{},signal:T})));this.sourceJSON=this._patchServiceJSON(W);W=W.type;if(!I.has(W))throw new m("feature-layer-source:unsupported-type",`Source type "${W}" is not supported`);});return function(W,T){return Q.apply(this,arguments)}}();O._patchServiceJSON=function(Q){if("Table"!==Q.type&&Q.geometryType&&!Q?.drawingInfo?.renderer&&!Q.defaultSymbol){const W=B.createDrawingInfo(Q.geometryType).renderer;
p.setDeepValue("drawingInfo.renderer",W,Q)}"esriGeometryMultiPatch"===Q.geometryType&&Q.infoFor3D&&(Q.geometryType="mesh");return Q};O._serializeFeature=function(Q,W){const {geometry:T,attributes:Y}=Q;if(r.isSome(W)&&r.isSome(Q.geometry)&&"mesh"===Q.geometry.type){const ra={...Y};Q=Q.geometry;var X=Q.origin;Q=Q.transform;ra[W.transformFieldRoles.originX]=X.x;ra[W.transformFieldRoles.originY]=X.y;ra[W.transformFieldRoles.originZ]=X.z;if(r.isSome(Q)){X=Q.translation;const Ba=Q.scale;Q=Q.rotation;ra[W.transformFieldRoles.translationX]=
X[0];ra[W.transformFieldRoles.translationY]=-X[2];ra[W.transformFieldRoles.translationZ]=X[1];ra[W.transformFieldRoles.scaleX]=Ba[0];ra[W.transformFieldRoles.scaleY]=Ba[1];ra[W.transformFieldRoles.scaleZ]=Ba[2];ra[W.transformFieldRoles.rotationX]=Q[0];ra[W.transformFieldRoles.rotationY]=Q[2];ra[W.transformFieldRoles.rotationZ]=Q[1];ra[W.transformFieldRoles.rotationDeg]=Q[3]}return{geometry:null,attributes:ra}}return r.isNone(T)?{attributes:Y}:"mesh"===T.type||"extent"===T.type?null:{geometry:T.toJSON(),
attributes:Y}};O._serializeAttachment=function(){var Q=a._asyncToGenerator(function*(W){const {feature:T,attachment:Y}=W,{globalId:X,name:ra,contentType:Ba,data:Ga,uploadId:Ha}=Y;W={globalId:X,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};T&&(W.parentGlobalId="attributes"in T?T.attributes&&T.attributes[this.layer.globalIdField]:T.globalId);if(Ha)W.uploadId=Ha;else if(Ga){const da=yield J(Ga);da&&(W.contentType=da.mediaType,W.data=da.data);Ga instanceof File&&(W.name=Ga.name)}ra&&
(W.name=ra);Ba&&(W.contentType=Ba);return W});return function(W){return Q.apply(this,arguments)}}();O._serializeAssetMapEditAndUploadAssets=function(){var Q=a._asyncToGenerator(function*(W,T){var Y=this.layer.url,X=null;try{const ra=new Blob([W.data],{type:W.mimeType}),Ba=new FormData;Ba.append("f","json");Ba.append("file",ra,`${W.assetName}`);const {data:Ga}=yield k(`${Y}/uploads/upload`,{body:Ba,method:"post",responseType:"json"});if(!Ga.success)throw new m("feature-layer-source:upload-failure",
"Expected upload to be successfull.");X={assetType:W.assetType,assetUploadId:Ga.item.itemID}}catch(ra){X=null}if(r.isNone(X)){Y=yield J(new Blob([W.data]));if(!Y.isBase64)throw new m("feature-layer-source:uploadAssets-failure","Expected gltf data in base64 format after conversion.");X={assetType:W.assetType,assetData:Y.data}}if(r.isNone(X))throw new m("feature-layer-source:uploadAssets-failure","Unable to prepare uploadAsset request options.");Y={method:"post",query:{f:"json",assets:JSON.stringify([X])},
responseType:"json"};Y=yield k(v.join(this.layer.parsedUrl.path,"uploadAssets"),Y);if(1!==Y.data.uploadResults.length||!Y.data.uploadResults[0].success)throw new m("feature-layer-source:uploadAssets-failure","Bad response.");Y=Y.data.uploadResults[0].assetHash;X=[];W.flags&A.AssetMapEditFlags.PROJECT_VERTICES&&X.push("PROJECT_VERTICES");Y={globalId:W.assetMapGlobalId,parentGlobalId:W.featureGlobalId,assetName:W.assetName,assetHash:Y,flags:X};T.set(W.featureGlobalId,W.feature);return Y});return function(W,
T){return Q.apply(this,arguments)}}();O._getFeatureIds=function(Q,W){const T=Q?.[0];return T?this._canUseGlobalIds(W,Q)?this._getGlobalIdsFromFeatureIdentifier(Q):"objectId"in T?this._getObjectIdsFromFeatureIdentifier(Q):this._getIdsFromFeatures(Q):[]};O._getIdsFromFeatures=function(Q){const W=this.layer.objectIdField;return Q.map(T=>T.attributes&&T.attributes[W])};O._canUseGlobalIds=function(Q,W){return Q&&"globalId"in W[0]};O._getObjectIdsFromFeatureIdentifier=function(Q){return Q.map(W=>W.objectId)};
O._getGlobalIdsFromFeatureIdentifier=function(Q){return Q.map(W=>W.globalId)};O._createEditsResult=function(Q){const W=Q.data,{layerId:T}=this.layer;Q=[];let Y=null;if(Array.isArray(W))for(var X of W)Q.push({id:X.id,editedFeatures:X.editedFeatures}),X.id===T&&(Y={addResults:X.addResults??[],updateResults:X.updateResults??[],deleteResults:X.deleteResults??[],attachments:X.attachments,editMoment:X.editMoment});else Y=W;X=Y?.attachments;X={addFeatureResults:Y?.addResults?.map(this._createFeatureEditResult,
this)??[],updateFeatureResults:Y?.updateResults?.map(this._createFeatureEditResult,this)??[],deleteFeatureResults:Y?.deleteResults?.map(this._createFeatureEditResult,this)??[],addAttachmentResults:X&&X.addResults?X.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:X&&X.updateResults?X.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:X&&X.deleteResults?X.deleteResults.map(this._createFeatureEditResult,this):[]};Y?.editMoment&&(X.editMoment=
Y.editMoment);if(0<Q.length){X.editedFeatureResults=[];for(const ra of Q){({editedFeatures:Q}=ra);const Ba=Q?.spatialReference?new D(Q.spatialReference):null;X.editedFeatureResults.push({layerId:ra.id,editedFeatures:{adds:Q?.adds?.map(Ga=>this._createEditedFeature(Ga,Ba))||[],updates:Q?.updates?.map(Ga=>({original:this._createEditedFeature(Ga[0],Ba),current:this._createEditedFeature(Ga[1],Ba)}))||[],deletes:Q?.deletes?.map(Ga=>this._createEditedFeature(Ga,Ba))||[],spatialReference:Ba}})}}return X};
O._createEditedFeature=function(Q,W){return new e({attributes:Q.attributes,geometry:w.fromJSON({...Q.geometry,spatialReference:W})})};O._createFeatureEditResult=function(Q){const W=!0===Q.success?null:Q.error||{code:void 0,description:void 0};return{objectId:Q.objectId,globalId:Q.globalId,error:W?new m("feature-layer-source:edit-failure",W.description,{code:W.code}):null}};O._createAttachmentErrorResult=function(Q,W){return{objectId:Q,globalId:null,error:new m("feature-layer-source:attachment-failure",
W.details.messages&&W.details.messages[0]||W.message,{code:W.details.httpStatus||W.details.messageCode})}};O._getFormDataForAttachment=function(Q,W){if(Q=Q instanceof FormData?Q:Q&&Q.elements?new FormData(Q):null)for(const T in W){const Y=W[T];null!=Y&&(Q.set?Q.set(T,Y):Q.append(T,Y))}return Q};O._getLayerRequestOptions=function(Q={}){const {parsedUrl:W,gdbVersion:T,dynamicDataSource:Y}=this.layer;return{...Q,query:{gdbVersion:T,layer:Y?JSON.stringify({source:Y}):void 0,...W.query,f:"json",...this._createRequestQueryOptions(Q)},
responseType:"json"}};a._createClass(H,[{key:"queryTask",get:function(){const {capabilities:Q,parsedUrl:W,dynamicDataSource:T,infoFor3D:Y,gdbVersion:X,spatialReference:ra,fieldsIndex:Ba}=this.layer,Ga=f("featurelayer-pbf")&&Q?.query.supportsFormatPBF&&r.isNone(Y);return new E({url:W.path,pbfSupported:Ga,fieldsIndex:Ba,infoFor3D:Y,dynamicDataSource:T,gdbVersion:X,sourceSpatialReference:ra,queryAttachmentsSupported:Q?.operations?.supportsQueryAttachments??!1})}}]);return H}(l);b.__decorate([h.property()],
c.prototype,"type",void 0);b.__decorate([h.property({constructOnly:!0})],c.prototype,"layer",void 0);b.__decorate([h.property({readOnly:!0})],c.prototype,"queryTask",null);return c=b.__decorate([z.subclass("esri.layers.graphics.sources.FeatureLayerSource")],c)})},"esri/layers/graphics/assetEditingSupport":function(){define(["exports"],function(a){a.AssetMapEditFlags=void 0;var b=a.AssetMapEditFlags||(a.AssetMapEditFlags={});b[b.PROJECT_VERTICES=1]="PROJECT_VERTICES";Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/graphics/sources/support/clientSideDefaults":function(){define(["exports","../../../../core/has","../../../../core/lang","../../data/QueryEngineCapabilities","../../../../symbols/support/defaultsJSON"],function(a,b,c,e,d){const k=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let t=1;a.createCapabilities=function(m,f){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:m},metadata:{supportsAdvancedFieldProperties:!1},
operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:f,supportsDelete:f,supportsEditing:f,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:f,supportsExceedsLimitStatistics:!0},query:e.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},
editing:{supportsGeometryUpdate:f,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}};a.createDefaultAttributesFunction=function(m,f){if(b("esri-csp-restrictions"))return()=>({[f]:null,...m});try{let g=`this.${f} = null;`;for(const r in m){const p=k.test(r)?`.${r}`:`["${r}"]`;g+=`this${p} = ${JSON.stringify(m[r])};`}const l=
(new Function(`\n      return class AttributesClass$${t++} {\n        constructor() {\n          ${g};\n        }\n      }\n    `))();return()=>new l}catch(g){return()=>({[f]:null,...m})}};a.createDefaultTemplate=function(m={}){return[{name:"New Feature",description:"",prototype:{attributes:c.clone(m)}}]};a.createDrawingInfo=function(m){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===m||"esriGeometryMultipoint"===m?d.defaultPointSymbolJSON:"esriGeometryPolyline"===m?d.defaultPolylineSymbolJSON:
d.defaultPolygonSymbolJSON}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["exports"],function(a){a.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,
supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,
maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/support/QueryTask":function(){define("require ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Accessor ../../../../core/Error ../../../../core/has ../../../../core/maybe ../../../../core/promiseUtils ../../../../core/urlUtils ../../../../core/accessorSupport/decorators/property ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/accessorSupport/decorators/subclass ../../../support/source/DataLayerSource ../../../../rest/utils ../../../../rest/query/executeForCount ../../../../rest/query/executeForExtent ../../../../rest/query/executeForIds ../../../../rest/query/executeQueryJSON ../../../../rest/query/executeQueryPBF ../../../../rest/support/FeatureSet ../../../../rest/support/Query".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A){const B=E=>Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));e=function(E){function y(D){D=E.call(this,D)||this;D.dynamicDataSource=null;D.fieldsIndex=null;D.gdbVersion=null;D.infoFor3D=null;D.pbfSupported=!1;D.queryAttachmentsSupported=!1;D.sourceSpatialReference=null;D.url=null;return D}b._inheritsLoose(y,E);var C=y.prototype;C.execute=function(){var D=b._asyncToGenerator(function*(J,M){const L=
yield this.executeJSON(J,M);return this.featureSetFromJSON(J,L,M)});return function(J,M){return D.apply(this,arguments)}}();C.executeJSON=function(){var D=b._asyncToGenerator(function*(J,M){const L=this._normalizeQuery(J);J=null!=J.outStatistics?.[0];const I=k("featurelayer-pbf-statistics");J=!J||I;let G;if(this.pbfSupported&&J)try{G=yield x.executeRawQueryPBF(this.url,L,M)}catch(K){if("query:parsing-pbf"===K.name)this.pbfSupported=!1;else throw K;}this.pbfSupported&&J||(G=yield z.executeRawQueryJSON(this.url,
L,M));this._normalizeFields(G.fields);return G});return function(J,M){return D.apply(this,arguments)}}();C.featureSetFromJSON=function(){var D=b._asyncToGenerator(function*(J,M,L){if(!this._queryIs3DObjectFormat(J)||t.isNone(this.infoFor3D)||!M.assetMaps||!M.features||!M.features.length)return w.fromJSON(M);({meshFeatureSetFromJSON:L}=yield m.whenOrAbort(new Promise((I,G)=>a(["../../../../rest/support/meshFeatureSet"],I,G)),L));return L(J,this.infoFor3D,M)});return function(J,M,L){return D.apply(this,
arguments)}}();C.executeForCount=function(D,J){return h.executeForCount(this.url,this._normalizeQuery(D),J)};C.executeForExtent=function(D,J){return q.executeForExtent(this.url,this._normalizeQuery(D),J)};C.executeForIds=function(D,J){return u.executeForIds(this.url,this._normalizeQuery(D),J)};C.executeRelationshipQuery=function(){var D=b._asyncToGenerator(function*(J,M){const [{default:L},{executeRelationshipQuery:I}]=yield m.whenOrAbort(Promise.all([new Promise((G,K)=>a(["../../../../rest/support/RelationshipQuery"],
H=>G(B(H)),K)),new Promise((G,K)=>a(["../../../../rest/query/executeRelationshipQuery"],G,K))]),M);J=L.from(J);if(this.gdbVersion||this.dynamicDataSource)J=J.clone(),J.gdbVersion=J.gdbVersion||this.gdbVersion,J.dynamicDataSource=J.dynamicDataSource||this.dynamicDataSource;return I(this.url,J,M)});return function(J,M){return D.apply(this,arguments)}}();C.executeRelationshipQueryForCount=function(){var D=b._asyncToGenerator(function*(J,M){const [{default:L},{executeRelationshipQueryForCount:I}]=yield m.whenOrAbort(Promise.all([new Promise((G,
K)=>a(["../../../../rest/support/RelationshipQuery"],H=>G(B(H)),K)),new Promise((G,K)=>a(["../../../../rest/query/executeRelationshipQuery"],G,K))]),M);J=L.from(J);if(this.gdbVersion||this.dynamicDataSource)J=J.clone(),J.gdbVersion=J.gdbVersion||this.gdbVersion,J.dynamicDataSource=J.dynamicDataSource||this.dynamicDataSource;return I(this.url,J,M)});return function(J,M){return D.apply(this,arguments)}}();C.executeAttachmentQuery=function(){var D=b._asyncToGenerator(function*(J,M){const {executeAttachmentQuery:L,
fetchAttachments:I,processAttachmentQueryResult:G}=yield m.whenOrAbort(new Promise((H,O)=>a(["../../../../rest/query/operations/queryAttachments"],H,O)),M),K=v.parseUrl(this.url);J=yield this.queryAttachmentsSupported?L(K,J,M):I(K,J,M);return G(K,J)});return function(J,M){return D.apply(this,arguments)}}();C.executeTopFeaturesQuery=function(){var D=b._asyncToGenerator(function*(J,M){const {executeTopFeaturesQuery:L}=yield m.whenOrAbort(new Promise((I,G)=>a(["../../../../rest/query/executeTopFeaturesQuery"],
I,G)),M);return L(this.parsedUrl,J,this.sourceSpatialReference,M)});return function(J,M){return D.apply(this,arguments)}}();C.executeForTopIds=function(){var D=b._asyncToGenerator(function*(J,M){const {executeForTopIds:L}=yield m.whenOrAbort(new Promise((I,G)=>a(["../../../../rest/query/executeForTopIds"],I,G)),M);return L(this.parsedUrl,J,M)});return function(J,M){return D.apply(this,arguments)}}();C.executeForTopExtents=function(){var D=b._asyncToGenerator(function*(J,M){const {executeForTopExtents:L}=
yield m.whenOrAbort(new Promise((I,G)=>a(["../../../../rest/query/executeForTopExtents"],I,G)),M);return L(this.parsedUrl,J,M)});return function(J,M){return D.apply(this,arguments)}}();C.executeForTopCount=function(){var D=b._asyncToGenerator(function*(J,M){const {executeForTopCount:L}=yield m.whenOrAbort(new Promise((I,G)=>a(["../../../../rest/query/executeForTopCount"],I,G)),M);return L(this.parsedUrl,J,M)});return function(J,M){return D.apply(this,arguments)}}();C._normalizeQuery=function(D){let J=
A.from(D);J.sourceSpatialReference=J.sourceSpatialReference||this.sourceSpatialReference;if(this.gdbVersion||this.dynamicDataSource)J=J===D?J.clone():J,J.gdbVersion=D.gdbVersion||this.gdbVersion,J.dynamicDataSource=D.dynamicDataSource?n.DataLayerSource.from(D.dynamicDataSource):this.dynamicDataSource;if(t.isSome(this.infoFor3D)&&this._queryIs3DObjectFormat(D)){J=J===D?J.clone():J;J.formatOf3DObjects=null;for(const M of this.infoFor3D.queryFormats){if("3D_glb"===M){J.formatOf3DObjects=M;break}"3D_gltf"!==
M||J.formatOf3DObjects||(J.formatOf3DObjects=M)}if(!J.formatOf3DObjects)throw new d("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(t.isNone(J.outFields)||!J.outFields.includes("*")){J=J===D?J.clone():J;t.isNone(J.outFields)&&(J.outFields=[]);const {originX:M,originY:L,originZ:I,translationX:G,translationY:K,translationZ:H,scaleX:O,scaleY:Q,scaleZ:W,rotationX:T,rotationY:Y,rotationZ:X,rotationDeg:ra}=this.infoFor3D.transformFieldRoles;
J.outFields.push(M,L,I,G,K,H,O,Q,W,T,Y,X,ra)}}return J};C._normalizeFields=function(D){if(t.isSome(this.fieldsIndex)&&t.isSome(D))for(const J of D)(D=this.fieldsIndex.get(J.name))&&Object.assign(J,D.toJSON())};C._queryIs3DObjectFormat=function(D){return t.isSome(this.infoFor3D)&&!0===D.returnGeometry&&"xyFootprint"!==D.multipatchOption&&!D.outStatistics};b._createClass(y,[{key:"parsedUrl",get:function(){return f.urlToObject(this.url)}}]);return y}(e);c.__decorate([g.property({type:n.DataLayerSource})],
e.prototype,"dynamicDataSource",void 0);c.__decorate([g.property()],e.prototype,"fieldsIndex",void 0);c.__decorate([g.property()],e.prototype,"gdbVersion",void 0);c.__decorate([g.property()],e.prototype,"infoFor3D",void 0);c.__decorate([g.property({readOnly:!0})],e.prototype,"parsedUrl",null);c.__decorate([g.property()],e.prototype,"pbfSupported",void 0);c.__decorate([g.property()],e.prototype,"queryAttachmentsSupported",void 0);c.__decorate([g.property()],e.prototype,"sourceSpatialReference",void 0);
c.__decorate([g.property({type:String})],e.prototype,"url",void 0);return e=c.__decorate([p.subclass("esri.tasks.QueryTask")],e)})},"esri/rest/utils":function(){define("exports ../config ../kernel ../core/lang ../core/urlUtils ../support/apiKeyUtils".split(" "),function(a,b,c,e,d,k){function t(m,f,g){const l={};for(const p in m)if("declaredClass"!==p){var r=m[p];if(null!=r&&"function"!==typeof r)if(Array.isArray(r)){l[p]=[];for(let n=0;n<r.length;n++)l[p][n]=t(r[n])}else"object"===typeof r?r.toJSON?
(r=r.toJSON(g&&g[p]),l[p]=f?r:JSON.stringify(r)):l[p]=f?r:JSON.stringify(r):l[p]=r}return l}a.asValidOptions=function(m,f){return f?{...f,query:{...(m??{}),...f.query}}:{query:m}};a.encode=t;a.getToken=function(m,f){return k.supportsApiKey(m)&&(f||b.apiKey)?f||b.apiKey:c.id?.findCredential(m)?.token};a.parseUrl=function(m){return"string"===typeof m?d.urlToObject(m):e.clone(m)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeForCount":function(){define(["exports",
"../../chunks/_rollupPluginBabelHelpers","../utils","./operations/query","../support/Query"],function(a,b,c,e,d){function k(){k=b._asyncToGenerator(function*(t,m,f){t=c.parseUrl(t);return e.executeQueryForCount(t,d.from(m),{...f}).then(g=>g.data.count)});return k.apply(this,arguments)}a.executeForCount=function(t,m,f){return k.apply(this,arguments)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/query":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../request ../../../core/maybe ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../operations/urlUtils ./pbfQueryUtils ./queryZScale".split(" "),
function(a,b,c,e,d,k,t,m,f,g){function l(q,u){if(u&&"extent"===q.type)return`${q.xmin},${q.ymin},${q.xmax},${q.ymax}`;if(u&&"point"===q.type)return`${q.x},${q.y}`;q=q.toJSON();delete q.spatialReference;return JSON.stringify(q)}function r(q,u){const z=q.geometry,x=q.toJSON();delete x.compactGeometryEnabled;delete x.defaultSpatialReferenceEnabled;let w,A,B;e.isSome(z)&&(A=z.spatialReference,B=z.spatialReference.wkid||JSON.stringify(z.spatialReference),x.geometryType=k.getJsonType(z),x.geometry=l(z,
q.compactGeometryEnabled),x.inSR=B);x.groupByFieldsForStatistics&&(x.groupByFieldsForStatistics=x.groupByFieldsForStatistics.join(","));x.objectIds&&(x.objectIds=x.objectIds.join(","));x.orderByFields&&(x.orderByFields=x.orderByFields.join(","));!x.outFields||!x.returnDistinctValues&&(u?.returnCountOnly||u?.returnExtentOnly||u?.returnIdsOnly)?delete x.outFields:x.outFields.includes("*")?x.outFields="*":x.outFields=x.outFields.join(",");x.outSR?(x.outSR=x.outSR.wkid||JSON.stringify(x.outSR),w=q.outSpatialReference):
z&&(x.returnGeometry||x.returnCentroid)&&(x.outSR=x.inSR,w=A);x.returnGeometry&&delete x.returnGeometry;x.outStatistics&&(x.outStatistics=JSON.stringify(x.outStatistics));x.fullText&&(x.fullText=JSON.stringify(x.fullText));x.pixelSize&&(x.pixelSize=JSON.stringify(x.pixelSize));x.quantizationParameters&&(q.defaultSpatialReferenceEnabled&&e.isSome(A)&&e.isSome(q.quantizationParameters)&&e.isSome(q.quantizationParameters.extent)&&A.equals(q.quantizationParameters.extent.spatialReference)&&delete x.quantizationParameters.extent.spatialReference,
x.quantizationParameters=JSON.stringify(x.quantizationParameters));x.parameterValues&&(x.parameterValues=JSON.stringify(x.parameterValues));x.rangeValues&&(x.rangeValues=JSON.stringify(x.rangeValues));x.dynamicDataSource&&(x.layer=JSON.stringify({source:x.dynamicDataSource}),delete x.dynamicDataSource);if(x.timeExtent){const {start:E,end:y}=x.timeExtent;if(null!=E||null!=y)x.time=E===y?E:`${null==E?"null":E},${null==y?"null":y}`;delete x.timeExtent}q.defaultSpatialReferenceEnabled&&e.isSome(A)&&e.isSome(w)&&
A.equals(w)&&(x.defaultSR=x.inSR,delete x.inSR,delete x.outSR);return x}function p(){p=b._asyncToGenerator(function*(q,u,z,x){q=e.isSome(u.timeExtent)&&u.timeExtent.isEmpty?{data:{features:[]}}:yield h(q,u,"json",x);g.applyFeatureSetZUnitScaling(u,z,q.data);return q});return p.apply(this,arguments)}function n(){n=b._asyncToGenerator(function*(q,u,z,x){if(e.isSome(u.timeExtent)&&u.timeExtent.isEmpty)return{data:z.createFeatureResult()};q=yield v(q,u,x);q.data=f.parsePBFFeatureQuery(q.data,z);return q});
return n.apply(this,arguments)}function v(q,u,z){return h(q,u,"pbf",z)}function h(q,u,z,x={},w={}){const A="string"===typeof q?d.urlToObject(q):q;q=u.geometry?[u.geometry]:[];x.responseType="pbf"===z?"array-buffer":"json";return t.normalizeCentralMeridian(q,null,x).then(B=>{B=B&&B[0];e.isSome(B)&&(u=u.clone(),u.geometry=B);B=m.mapParameters({...A.query,f:z,...w,...r(u,w)});return c(d.join(A.path,"query"),{...x,query:{...B,...x.query}})})}a.encodeGeometry=l;a.executeQuery=function(q,u,z,x){return p.apply(this,
arguments)};a.executeQueryForCount=function(q,u,z){return e.isSome(u.timeExtent)&&u.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):h(q,u,"json",z,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForExtent=function(q,u,z){return e.isSome(u.timeExtent)&&u.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):h(q,u,"json",z,{returnExtentOnly:!0,returnCountOnly:!0}).then(x=>{const w=x.data;if(w.hasOwnProperty("extent"))return x;if(w.features)throw Error("Layer does not support extent calculation.");
if(w.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return x})};a.executeQueryForIds=function(q,u,z){return e.isSome(u.timeExtent)&&u.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):h(q,u,"json",z,{returnIdsOnly:!0})};a.executeQueryPBF=function(q,u,z,x){return n.apply(this,arguments)};a.executeQueryPBFBuffer=v;a.queryToQueryStringParameters=r;a.runQuery=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../config ../../core/Error ../../core/Logger ../../core/maybe ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../rest/geometryService/cut ../../rest/geometryService/simplify".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p){function n(A){const B=[];let E=0,y=0;for(let C=0;C<A.length;C++){const D=A[C];let J=null;for(let M=0;M<D.length;M++)J=D[M],B.push(J),0===M?y=E=J[0]:(E=Math.min(E,J[0]),y=Math.max(y,J[0]));J&&B.push([(E+y)/2,0])}return B}function v(A,B){if(!(A instanceof m||A instanceof t))throw w.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new e("straightLineDensify: the input geometry is neither polyline nor polygon");var E=f.getGeometryParts(A);
const y=[];for(const D of E){E=[];y.push(E);E.push([D[0][0],D[0][1]]);for(let J=0;J<D.length-1;J++){const M=D[J][0],L=D[J][1],I=D[J+1][0],G=D[J+1][1];var C=Math.sqrt((I-M)*(I-M)+(G-L)*(G-L));const K=(G-L)/C,H=(I-M)/C,O=C/B;if(1<O){for(let Q=1;Q<=O-1;Q++){const W=Q*B;E.push([H*W+M,K*W+L])}C=(C+Math.floor(O-1)*B)/2;E.push([H*C+M,K*C+L])}E.push([I,G])}}return"polygon"===A.type?new t({rings:y,spatialReference:A.spatialReference}):new m({paths:y,spatialReference:A.spatialReference})}function h(A,B,E){B&&
(A=v(A,1E6),A=l.webMercatorToGeographic(A,!0));E&&(A=f.updatePolyGeometry(A,E));return A}function q(A,B,E){if(Array.isArray(A)){var y=A[0];y>B?(E=f.offsetMagnitude(y,B),A[0]=y+-2*E*B):y<E&&(B=f.offsetMagnitude(y,E),A[0]=y+-2*B*E)}else y=A.x,y>B?(E=f.offsetMagnitude(y,B),A=A.clone().offset(-2*E*B,0)):y<E&&(B=f.offsetMagnitude(y,E),A=A.clone().offset(-2*B*E,0));return A}function u(A,B){let E=-1;for(let y=0;y<B.cutIndexes.length;y++){const C=B.cutIndexes[y],D=B.geometries[y],J=f.getGeometryParts(D);
for(let M=0;M<J.length;M++){const L=J[M];L.some(I=>{if(180>I[0])return!0;I=0;for(var G=0;G<L.length;G++){var K=L[G][0];I=K>I?K:I}I=Number(I.toFixed(9));I=-360*f.offsetMagnitude(I,180);for(G=0;G<L.length;G++)K=D.getPoint(M,G),D.setPoint(M,G,K.clone().offset(I,0));return!0})}if(C===E)if("polygon"===A[0].type)for(const M of f.getGeometryParts(D))A[C]=A[C].addRing(M);else{if("polyline"===A[0].type)for(const M of f.getGeometryParts(D))A[C]=A[C].addPath(M)}else E=C,A[C]=D}return A}function z(A,B,E){return x.apply(this,
arguments)}function x(){x=b._asyncToGenerator(function*(A,B,E){if(!Array.isArray(A))return z([A],B);B&&"string"!==typeof B&&w.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");var y="string"===typeof B?B:B?.url??c.geometryServiceUrl;let C,D,J;let M=0;var L=[];B=[];for(var I of A)if(k.isNone(I))B.push(I);else{if(!G){var G=I.spatialReference;var K=g.getInfo(G);var H=(C=G.isWebMercator)?102100:4326;D=f.cutParams[H].maxX;J=f.cutParams[H].minX;var O=f.cutParams[H].plus180Line;
H=f.cutParams[H].minus180Line}if(K)if("mesh"===I.type)B.push(I);else if("point"===I.type)B.push(q(I.clone(),D,J));else if("multipoint"===I.type){var Q=I.clone();Q.points=Q.points.map(W=>q(W,D,J));B.push(Q)}else if("extent"===I.type)Q=I.clone()._normalize(!1,!1,K),B.push(Q.rings?new t(Q):Q);else if(I.extent){Q=I.extent;const W=2*f.offsetMagnitude(Q.xmin,J)*D;let T=0===W?I.clone():f.updatePolyGeometry(I.clone(),W);Q.offset(W,0);Q.intersects(O)&&Q.xmax!==D?(M=Q.xmax>M?Q.xmax:M,T=h(T,C),L.push(T),B.push("cut")):
Q.intersects(H)&&Q.xmin!==J?(M=2*Q.xmax*D>M?2*Q.xmax*D:M,T=h(T,C,360),L.push(T),B.push("cut")):B.push(T)}else B.push(I.clone());else B.push(I)}G=f.offsetMagnitude(M,D);K=-90;O=G;for(I=new m;0<G;)H=-180+360*G,I.addPath([[H,K],[H,-1*K]]),K*=-1,G--;if(0<L.length&&0<O){G=yield r.cut(y,L,I,E);G=u(L,G);K=[];L=[];for(O=0;O<B.length;O++)I=B[O],"cut"!==I?L.push(I):(I=G.shift(),H=A[O],k.isSome(H)&&"polygon"===H.type&&H.rings&&1<H.rings.length&&I.rings.length>=H.rings.length?(K.push(I),L.push("simplify")):L.push(C?
l.geographicToWebMercator(I):I));if(!K.length)return L;B=yield p.simplify(y,K,E);A=[];for(E=0;E<L.length;E++)y=L[E],"simplify"!==y?A.push(y):A.push(C?l.geographicToWebMercator(B.shift()):B.shift());return A}A=[];for(E=0;E<B.length;E++)y=B[E],"cut"!==y?A.push(y):(y=L.shift(),A.push(!0===C?l.geographicToWebMercator(y):y));return A});return x.apply(this,arguments)}const w=d.getLogger("esri.geometry.support.normalizeUtils");a.getDenormalizedExtent=function(A){if(!A)return null;const B=A.extent;if(!B)return null;
var E=A.spatialReference&&g.getInfo(A.spatialReference);if(!E)return B;const [y,C]=E.valid;({width:E}=B);let {xmin:D,xmax:J}=B;[D,J]=[J,D];if("extent"===A.type||0===E||E<=C||E>2*C||D<y||J>C)return B;let M;switch(A.type){case "polygon":if(1<A.rings.length)M=n(A.rings);else return B;break;case "polyline":if(1<A.paths.length)M=n(A.paths);else return B;break;case "multipoint":M=A.points}A=B.clone();for(let L=0;L<M.length;L++){let I=M[L][0];0>I?(I+=C,J=Math.max(I,J)):(I-=C,D=Math.min(I,D))}A.xmin=D;A.xmax=
J;return A.width<E?(A.xmin-=C,A.xmax-=C,A):B};a.normalizeCentralMeridian=z;a.normalizeMapX=function(A,B){if(B=g.getInfo(B)){const [E,y]=B.valid;B=y-E;if(A<E)for(;A<E;)A+=B;if(A>y)for(;A>y;)A-=B}return A};a.straightLineDensify=v;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../Polyline","../SpatialReference","./jsonUtils"],function(a,b,c,e){function d(k){return e.isPolygon(k)?k.rings:k.paths}b={102100:{maxX:2.0037508342788905E7,
minX:-2.0037508342788905E7,plus180Line:new b({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator}),minus180Line:new b({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new b({paths:[[[180,-180],[180,180]]],spatialReference:c.WGS84}),minus180Line:new b({paths:[[[-180,-180],[-180,180]]],spatialReference:c.WGS84})}};
a.cutParams=b;a.getGeometryParts=d;a.offsetMagnitude=function(k,t){return Math.ceil((k-t)/(2*t))};a.updatePolyGeometry=function(k,t){const m=d(k);for(const f of m)for(const g of f)g[0]+=t;return k};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/cut":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../../request ../../geometry/support/jsonUtils ../utils".split(" "),function(a,b,c,e,d,k){function t(){t=b._asyncToGenerator(function*(m,
f,g,l){m=k.parseUrl(m);const r=f[0].spatialReference;f={...l,query:{...m.query,f:"json",sr:JSON.stringify(r),target:JSON.stringify({geometryType:d.getJsonType(f[0]),geometries:f}),cutter:JSON.stringify(g)}};f=yield e(m.path+"/cut",f);const {cutIndexes:p,geometries:n=[]}=f.data;return{cutIndexes:p,geometries:n.map(v=>{v=d.fromJSON(v);v.spatialReference=r;return v})}});return t.apply(this,arguments)}a.cut=function(m,f,g,l){return t.apply(this,arguments)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/rest/geometryService/simplify":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../request ../../core/urlUtils ../../geometry/support/jsonUtils ./utils".split(" "),function(a,b,c,e,d,k){function t(){t=b._asyncToGenerator(function*(m,f,g){const l="string"===typeof m?e.urlToObject(m):m;m=f[0].spatialReference;const r=d.getJsonType(f[0]);f={...g,query:{...l.query,f:"json",sr:m.wkid?m.wkid:JSON.stringify(m),geometries:JSON.stringify(k.encodeGeometries(f))}};({data:f}=yield c(l.path+
"/simplify",f));return k.decodeGeometries(f.geometries,r,m)});return t.apply(this,arguments)}a.simplify=function(m,f,g){return t.apply(this,arguments)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/utils":function(){define(["exports","../../geometry/support/jsonUtils"],function(a,b){a.decodeGeometries=function(c,e,d){const k=b.getGeometryType(e);return c.map(t=>{t=k.fromJSON(t);t.spatialReference=d;return t})};a.encodeGeometries=function(c){return{geometryType:b.getJsonType(c[0]),
geometries:c.map(e=>e.toJSON())}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/operations/urlUtils":function(){define(["exports"],function(a){function b(c){const e={};for(const d in c){if("declaredClass"===d)continue;const k=c[d];if(null!=k&&"function"!==typeof k)if(Array.isArray(k)){e[d]=[];for(let t=0;t<k.length;t++)e[d][t]=b(k[t])}else"object"===typeof k?k.toJSON&&(e[d]=JSON.stringify(k)):e[d]=k}return e}a.mapParameters=b;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(a,b){a.parsePBFFeatureQuery=function(c,e){var d=b.parseFeatureQuery(c,e);c=d.queryResult.featureResult;e=d.queryResult.queryGeometry;d=d.queryResult.queryGeometryType;if(c&&c.features&&c.features.length&&c.objectIdFieldName){const k=c.objectIdFieldName;for(const t of c.features)t.attributes&&(t.objectId=t.attributes[k])}c&&(c.queryGeometry=e,c.queryGeometryType=d);return c};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define("exports ../../../core/Error ../../../core/maybe ../../../core/pbf ../../../layers/graphics/OptimizedGeometry ./pbfOptimizedFeatureSet".split(" "),function(a,b,c,e,d,k){function t(y){return y>=A.length?null:A[y]}function m(y,C,D){y=y.asUnsafe();for(D=C.createPointGeometry(D);y.next();)switch(y.tag()){case 3:var J=y.getUInt32();J=y.pos()+J;let M=0;for(;y.pos()<J;)C.addCoordinatePoint(D,
y.getSInt64(),M++);break;default:y.skip()}return D}function f(y,C,D){y=y.asUnsafe();const J=C.createGeometry(D);for(D=2+(D.hasZ?1:0)+(D.hasM?1:0);y.next();)switch(y.tag()){case 2:var M=y.getUInt32();M=y.pos()+M;for(var L=0;y.pos()<M;)C.addLength(J,y.getUInt32(),L++);break;case 3:M=y.getUInt32();M=y.pos()+M;L=0;for(C.allocateCoordinates(J);y.pos()<M;)C.addCoordinate(J,y.getSInt64(),L),L++,L===D&&(L=0);break;default:y.skip()}return J}function g(y){y=y.asUnsafe();const C=new d;let D="esriGeometryPoint";
for(;y.next();)switch(y.tag()){case 2:var J=y.getUInt32();for(J=y.pos()+J;y.pos()<J;)C.lengths.push(y.getUInt32());break;case 3:J=y.getUInt32();for(J=y.pos()+J;y.pos()<J;)C.coords.push(y.getSInt64());break;case 1:D=k.OPTIMIZED_GEOMETRY_TYPES[y.getEnum()];break;default:y.skip()}return{queryGeometry:C,queryGeometryType:D}}function l(y){for(y=y.asUnsafe();y.next();)switch(y.tag()){case 1:return y.getString();case 2:return y.getFloat();case 3:return y.getDouble();case 4:return y.getSInt32();case 5:return y.getUInt32();
case 6:return y.getInt64();case 7:return y.getUInt64();case 8:return y.getSInt64();case 9:return y.getBool();default:return y.skip(),null}return null}function r(y){y=y.asUnsafe();const C={type:t(0)};for(;y.next();)switch(y.tag()){case 1:C.name=y.getString();break;case 2:C.type=t(y.getEnum());break;case 3:C.alias=y.getString();break;case 4:var D=y.getEnum();D=D>=B.length?null:B[D];C.sqlType=D;break;case 5:y.skip();break;case 6:C.defaultValue=y.getString();break;default:y.skip()}return C}function p(y){const C=
{};for(y=y.asUnsafe();y.next();)switch(y.tag()){case 1:C.name=y.getString();break;case 2:C.isSystemMaintained=y.getBool();break;default:y.skip()}return C}function n(y,C,D,J){const M=C.createFeature(D);let L=0;for(;y.next();)switch(y.tag()){case 1:const I=J[L++].name;M.attributes[I]=y.processMessage(l);break;case 2:M.geometry=y.processMessageWithArgs(f,C,D);break;case 4:M.centroid=y.processMessageWithArgs(m,C,D);break;default:y.skip()}return M}function v(y){const C=[1,1,1,1];for(y=y.asUnsafe();y.next();)switch(y.tag()){case 1:C[0]=
y.getDouble();break;case 2:C[1]=y.getDouble();break;case 4:C[2]=y.getDouble();break;case 3:C[3]=y.getDouble();break;default:y.skip()}return C}function h(y){const C=[0,0,0,0];for(y=y.asUnsafe();y.next();)switch(y.tag()){case 1:C[0]=y.getDouble();break;case 2:C[1]=y.getDouble();break;case 4:C[2]=y.getDouble();break;case 3:C[3]=y.getDouble();break;default:y.skip()}return C}function q(y){const C={originPosition:0>=E.length?null:E[0]};for(y=y.asUnsafe();y.next();)switch(y.tag()){case 1:var D=y.getEnum();
C.originPosition=D>=E.length?null:E[D];break;case 2:C.scale=y.processMessage(v);break;case 3:C.translate=y.processMessage(h);break;default:y.skip()}return C}function u(y){const C={};for(y=y.asUnsafe();y.next();)switch(y.tag()){case 1:C.shapeAreaFieldName=y.getString();break;case 2:C.shapeLengthFieldName=y.getString();break;case 3:C.units=y.getString();break;default:y.skip()}return C}function z(y,C){for(C=C.createSpatialReference();y.next();)switch(y.tag()){case 1:C.wkid=y.getUInt32();break;case 5:C.wkt=
y.getString();break;case 2:C.latestWkid=y.getUInt32();break;case 3:C.vcsWkid=y.getUInt32();break;case 4:C.latestVcsWkid=y.getUInt32();break;default:y.skip()}return C}function x(y,C){const D=C.createFeatureResult();y=y.asUnsafe();D.geometryType=0>=C.geometryTypes.length?null:C.geometryTypes[0];let J=!1;for(;y.next();)switch(y.tag()){case 1:D.objectIdFieldName=y.getString();break;case 3:D.globalIdFieldName=y.getString();break;case 4:D.geohashFieldName=y.getString();break;case 5:D.geometryProperties=
y.processMessage(u);break;case 7:var M=y.getEnum();D.geometryType=M>=C.geometryTypes.length?null:C.geometryTypes[M];break;case 8:D.spatialReference=y.processMessageWithArgs(z,C);break;case 10:D.hasZ=y.getBool();break;case 11:D.hasM=y.getBool();break;case 12:D.transform=y.processMessage(q);break;case 9:M=y.getBool();D.exceededTransferLimit=M;break;case 13:C.addField(D,y.processMessage(r));break;case 15:J||(C.prepareFeatures(D),J=!0);C.addFeature(D,y.processMessageWithArgs(n,C,D,D.fields));break;case 2:D.uniqueIdField=
y.processMessage(p);break;default:y.skip()}C.finishFeatureResult(D);return D}function w(y,C){const D={};let J=null;for(;y.next();)switch(y.tag()){case 4:J=y.processMessageWithArgs(g);break;case 1:D.featureResult=y.processMessageWithArgs(x,C);break;default:y.skip()}c.isSome(J)&&D.featureResult&&C.addQueryGeometry(D,J);return D}const A="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),
B="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),E=["upperLeft","lowerLeft"];a.parseFeatureQuery=function(y,C){try{const D=new e(new Uint8Array(y),new DataView(y));
for(y={};D.next();)switch(D.tag()){case 2:y.queryResult=D.processMessageWithArgs(w,C);break;default:D.skip()}return y}catch(D){throw new b("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:D});}};a.parseFieldType=t;a.parseTransform=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/pbf":function(){define(["./has","./ObjectPool"],function(a,b){var c;(function(k){k[k.varint=0]="varint";k[k.fixed64=1]="fixed64";k[k.delimited=2]="delimited";k[k.fixed32=
5]="fixed32";k[k.unknown=99]="unknown"})(c||(c={}));const e=new TextDecoder("utf-8"),d=a("safari")||a("ios")?6:a("ff")?12:32;a=function(){function k(m,f,g=0,l=m?m.byteLength:0){this._tag=0;this._dataType=c.unknown;this._init(m,f,g,l)}var t=k.prototype;t._init=function(m,f,g,l){this._data=m;this._dataView=f;this._pos=g;this._end=l};t.asUnsafe=function(){return this};t.clone=function(){return new k(this._data,this._dataView,this._pos,this._end)};t.pos=function(){return this._pos};t.move=function(m){this._pos=
m};t.nextTag=function(m){for(;;){if(this._pos===this._end)return!1;const f=this._decodeVarint();this._tag=f>>3;this._dataType=f&7;if(!m||m===this._tag)break;this.skip()}return!0};t.next=function(){if(this._pos===this._end)return!1;const m=this._decodeVarint();this._tag=m>>3;this._dataType=m&7;return!0};t.empty=function(){return this._pos>=this._end};t.tag=function(){return this._tag};t.getInt32=function(){return this._decodeVarint()};t.getInt64=function(){return this._decodeVarint()};t.getUInt32=
function(){let m=4294967295;m=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return m;m=(m|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return m;m=(m|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return m;m=(m|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return m;m=(m|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return m};t.getUInt64=function(){return this._decodeVarint()};t.getSInt32=function(){const m=
this.getUInt32();if(void 0!==m)return m>>>1^-(m&1)|0};t.getSInt64=function(){return this._decodeSVarint()};t.getBool=function(){const m=0!==this._data[this._pos];this._skip(1);return m};t.getEnum=function(){return this._decodeVarint()};t.getFixed64=function(){var m=this._dataView;const f=this._pos;m=m.getUint32(f,!0)+4294967296*m.getUint32(f+4,!0);this._skip(8);return m};t.getSFixed64=function(){var m=this._dataView;const f=this._pos;m=m.getUint32(f,!0)+4294967296*m.getInt32(f+4,!0);this._skip(8);
return m};t.getDouble=function(){const m=this._dataView.getFloat64(this._pos,!0);this._skip(8);return m};t.getFixed32=function(){const m=this._dataView.getUint32(this._pos,!0);this._skip(4);return m};t.getSFixed32=function(){const m=this._dataView.getInt32(this._pos,!0);this._skip(4);return m};t.getFloat=function(){const m=this._dataView.getFloat32(this._pos,!0);this._skip(4);return m};t.getString=function(){const m=this._getLength();var f=this._pos;f=this._toString(this._data,f,f+m);this._skip(m);
return f};t.getBytes=function(){const m=this._getLength();var f=this._pos;f=this._toBytes(this._data,f,f+m);this._skip(m);return f};t.getLength=function(){return this._getLengthUnsafe()};t.processMessageWithArgs=function(m,f,g,l){const r=this.getMessage();m=m(r,f,g,l);r.release();return m};t.processMessage=function(m){const f=this.getMessage();m=m(f);f.release();return m};t.getMessage=function(){const m=this._getLength(),f=k.pool.acquire();f._init(this._data,this._dataView,this._pos,this._pos+m);
this._skip(m);return f};t.release=function(){k.pool.release(this)};t.dataType=function(){return this._dataType};t.skip=function(){switch(this._dataType){case c.varint:this._decodeVarint();break;case c.fixed64:this._skip(8);break;case c.delimited:this._skip(this._getLength());break;case c.fixed32:this._skip(4);break;default:throw Error("Invalid data type!");}};t.skipLen=function(m){this._skip(m)};t._skip=function(m){if(this._pos+m>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=
m};t._decodeVarint=function(){const m=this._data;let f=this._pos,g=0,l=0;if(10<=this._end-f){if(l=m[f++],g|=l&127,0!==(l&128)&&(l=m[f++],g|=(l&127)<<7,0!==(l&128)&&(l=m[f++],g|=(l&127)<<14,0!==(l&128)&&(l=m[f++],g|=(l&127)<<21,0!==(l&128)&&(l=m[f++],g+=268435456*(l&127),0!==(l&128)&&(l=m[f++],g+=34359738368*(l&127),0!==(l&128)&&(l=m[f++],g+=4398046511104*(l&127),0!==(l&128)&&(l=m[f++],g+=562949953421312*(l&127),0!==(l&128)&&(l=m[f++],g+=72057594037927936*(l&127),0!==(l&128)&&(l=m[f++],g+=0x7fffffffffffffff*
(l&127),0!==(l&128)))))))))))throw Error("Varint too long!");}else{let r=1;for(;f!==this._end;){l=m[f];if(0===(l&128))break;++f;g+=(l&127)*r;r*=128}if(f===this._end)throw Error("Varint overrun!");++f;g+=l*r}this._pos=f;return g};t._decodeSVarint=function(){const m=this._data;let f=this._pos,g=0,l=0;const r=m[f]&1;if(10<=this._end-f){if(l=m[f++],g|=l&127,0!==(l&128)&&(l=m[f++],g|=(l&127)<<7,0!==(l&128)&&(l=m[f++],g|=(l&127)<<14,0!==(l&128)&&(l=m[f++],g|=(l&127)<<21,0!==(l&128)&&(l=m[f++],g+=268435456*
(l&127),0!==(l&128)&&(l=m[f++],g+=34359738368*(l&127),0!==(l&128)&&(l=m[f++],g+=4398046511104*(l&127),0!==(l&128)&&(l=m[f++],g+=562949953421312*(l&127),0!==(l&128)&&(l=m[f++],g+=72057594037927936*(l&127),0!==(l&128)&&(l=m[f++],g+=0x7fffffffffffffff*(l&127),0!==(l&128)))))))))))throw Error("Varint too long!");}else{let p=1;for(;f!==this._end;){l=m[f];if(0===(l&128))break;++f;g+=(l&127)*p;p*=128}if(f===this._end)throw Error("Varint overrun!");++f;g+=l*p}this._pos=f;return r?-(g+1)/2:g/2};t._getLength=
function(){if(this._dataType!==c.delimited)throw Error("Not a delimited data type!");return this._decodeVarint()};t._getLengthUnsafe=function(){return this.getUInt32()};t._toString=function(m,f,g){g=Math.min(this._end,g);if(g-f>d)return m=m.subarray(f,g),e.decode(m);let l="",r="";for(;f<g;++f){const p=m[f];p&128?r+="%"+p.toString(16):(l+=decodeURIComponent(r)+String.fromCharCode(p),r="")}r.length&&(l+=decodeURIComponent(r));return l};t._toBytes=function(m,f,g){g=Math.min(this._end,g);return new Uint8Array(m.buffer,
f,g-f)};return k}();a.pool=new b(a,void 0,k=>{k._data=null;k._dataView=null});return a})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function b(e=[],d=[],k=!1){this.lengths=e??[];this.coords=d??[];this.hasIndeterminateRingOrder=k}b.fromRect=function(e){const [d,k,t,m]=e;e=t-d;const f=m-k;return new b([5],[d,k,e,0,0,f,-e,0,0,-f])};var c=b.prototype;c.forEachVertex=function(e){let d=0;this.lengths.length||e(this.coords[0],
this.coords[1]);for(let k=0;k<this.lengths.length;k++){const t=this.lengths[k];for(let m=0;m<t;m++)e(this.coords[2*(m+d)],this.coords[2*(m+d)+1]);d+=t}};c.clone=function(e){return e?(e.set(this.coords),new b(this.lengths.slice(),e,this.hasIndeterminateRingOrder)):new b(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};a._createClass(b,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max(...this.lengths)}},{key:"size",
get:function(){return this.lengths.reduce((e,d)=>e+d)}}]);return b}()})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),function(a,b,c,e,d,k){const t=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let m=function(){function f(l){this._options=
l;this.geometryTypes=t;this._vertexDimension=this._coordinatePtr=0}var g=f.prototype;g.createFeatureResult=function(){return new d};g.prepareFeatures=function(l){this._vertexDimension=2;l.hasZ&&this._vertexDimension++;l.hasM&&this._vertexDimension++};g.finishFeatureResult=function(l){if(l&&l.features&&l.hasZ&&this._options.sourceSpatialReference&&l.spatialReference&&!c.equals(l.spatialReference,this._options.sourceSpatialReference)&&!l.spatialReference.vcsWkid){var r=b.getMetersPerVerticalUnitForSR(this._options.sourceSpatialReference),
p=b.getMetersPerVerticalUnitForSR(l.spatialReference);r/=p;if(1!==r)for(const n of l.features)if(e.hasGeometry(n))for(l=n.geometry.coords,p=2;p<l.length;p+=3)l[p]*=r}};g.addFeature=function(l,r){l.features.push(r)};g.createFeature=function(){return new e.OptimizedFeature};g.createSpatialReference=function(){return{wkid:0}};g.createGeometry=function(){return new k};g.addField=function(l,r){l.fields.push(r)};g.allocateCoordinates=function(l){l.coords.length=l.lengths.reduce((r,p)=>r+p,0)*this._vertexDimension;
this._coordinatePtr=0};g.addCoordinate=function(l,r){l.coords[this._coordinatePtr++]=r};g.addCoordinatePoint=function(l,r){l.coords.push(r)};g.addLength=function(l,r){l.lengths.push(r)};g.addQueryGeometry=function(l,r){l.queryGeometry=r.queryGeometry;l.queryGeometryType=r.queryGeometryType};g.createPointGeometry=function(){return new k};return f}();a.OPTIMIZED_GEOMETRY_TYPES=t;a.OptimizedFeatureSetParserContext=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports",
"../../chunks/_rollupPluginBabelHelpers","../../core/maybe"],function(a,b,c){let e=function(){function k(t=null,m={},f,g){this.geometry=t;this.attributes=m;this.centroid=f;this.objectId=g;this.geohashY=this.geohashX=this.displayId=0}k.prototype.weakClone=function(){const t=new k(this.geometry,this.attributes,this.centroid,this.objectId);t.displayId=this.displayId;t.geohashX=this.geohashX;t.geohashY=this.geohashY;return t};return k}(),d=function(k){function t(){return k.apply(this,arguments)||this}
b._inheritsLoose(t,k);return t}(e);a.OptimizedFeature=e;a.OptimizedFeatureWithGeometry=d;a.hasGeometry=function(k){return!(c.isNone(k.geometry)||!k.geometry.coords||!k.geometry.coords.length)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function a(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=
this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}a.prototype.weakClone=function(){const b=new a;b.objectIdFieldName=this.objectIdFieldName;b.globalIdFieldName=this.globalIdFieldName;b.geohashFieldName=this.geohashFieldName;b.geometryProperties=this.geometryProperties;b.geometryType=this.geometryType;b.spatialReference=this.spatialReference;b.hasZ=this.hasZ;b.hasM=this.hasM;b.features=this.features;
b.fields=this.fields;b.transform=this.transform;b.exceededTransferLimit=this.exceededTransferLimit;b.uniqueIdField=this.uniqueIdField;b.queryGeometry=this.queryGeometry;b.queryGeometryType=this.queryGeometryType;return b};return a}()})},"esri/rest/query/executeForExtent":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../utils ./operations/query ../support/Query ../../geometry/Extent".split(" "),function(a,b,c,e,d,k,t){function m(){m=b._asyncToGenerator(function*(f,
g,l){f=e.parseUrl(f);return d.executeQueryForExtent(f,k.from(g),{...l}).then(r=>({count:r.data.count,extent:t.fromJSON(r.data.extent)}))});return m.apply(this,arguments)}a.executeForExtent=function(f,g,l){return m.apply(this,arguments)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeForIds":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../utils","./operations/query","../support/Query"],function(a,b,c,e,d){function k(){k=b._asyncToGenerator(function*(t,
m,f){t=c.parseUrl(t);return e.executeQueryForIds(t,d.from(m),{...f}).then(g=>g.data.objectIds)});return k.apply(this,arguments)}a.executeForIds=function(t,m,f){return k.apply(this,arguments)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryJSON":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../utils ./operations/query ../support/FeatureSet ../support/Query".split(" "),function(a,b,c,e,d,k){function t(){t=b._asyncToGenerator(function*(g,
l,r){g=yield m(g,l,r);return d.fromJSON(g)});return t.apply(this,arguments)}function m(g,l,r){return f.apply(this,arguments)}function f(){f=b._asyncToGenerator(function*(g,l,r){g=c.parseUrl(g);r={...r};l=k.from(l);({data:l}=yield e.executeQuery(g,l,l.sourceSpatialReference,r));return l});return f.apply(this,arguments)}a.executeQueryJSON=function(g,l,r){return t.apply(this,arguments)};a.executeRawQueryJSON=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryPBF":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../utils ./operations/pbfJSONFeatureSet ./operations/query ../support/FeatureSet ../support/Query".split(" "),
function(a,b,c,e,d,k,t){function m(){m=b._asyncToGenerator(function*(l,r,p){l=yield f(l,t.from(r),p);return k.fromJSON(l)});return m.apply(this,arguments)}function f(l,r,p){return g.apply(this,arguments)}function g(){g=b._asyncToGenerator(function*(l,r,p){l=c.parseUrl(l);p={...p};r=t.from(r);({data:r}=yield d.executeQueryPBF(l,r,new e.JSONFeatureSetParserContext({sourceSpatialReference:r.sourceSpatialReference,applyTransform:!r.quantizationParameters}),p));return r});return g.apply(this,arguments)}
a.executeQueryPBF=function(l,r,p){return m.apply(this,arguments)};a.executeRawQueryPBF=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfJSONFeatureSet":function(){define(["exports","../../../core/maybe","../../../geometry/support/zscale","../../../layers/graphics/featureConversionUtils"],function(a,b,c,e){function d(p,n){return n}function k(p,n,v,h){switch(v){case 0:return g(p,n+h,0);case 1:return"lowerLeft"===p.originPosition?g(p,n+h,1):l(p,n+h,1)}}
function t(p,n,v,h){switch(v){case 2:return g(p,n,2);default:return k(p,n,v,h)}}function m(p,n,v,h){switch(v){case 2:return g(p,n,3);default:return k(p,n,v,h)}}function f(p,n,v,h){switch(v){case 3:return g(p,n,3);default:return t(p,n,v,h)}}function g({translate:p,scale:n},v,h){return p[h]+v*n[h]}function l({translate:p,scale:n},v,h){return p[h]-v*n[h]}let r=function(){function p(v){this._options=v;this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];
this._previousCoordinate=[0,0];this._transform=null;this._applyTransform=d;this._lengths=[];this._vertexDimension=this._toAddInCurrentPath=this._currentLengthIndex=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;this._attributesConstructor=function(){return function(){}}()}var n=p.prototype;n.createFeatureResult=function(){return{fields:[],features:[]}};n.finishFeatureResult=function(v){this._options.applyTransform&&(v.transform=null);this._attributesConstructor=function(){return function(){}}();
this._coordinateBuffer=null;this._lengths.length=0;if(v.hasZ){var h=c.getGeometryZScaler(v.geometryType,this._options.sourceSpatialReference,v.spatialReference);if(!b.isNone(h))for(const q of v.features)h(q.geometry)}};n.createSpatialReference=function(){return{}};n.addField=function(v,h){v=v.fields;b.assertIsSome(v);v.push(h);const q=v.map(u=>u.name);this._attributesConstructor=function(){for(const u of q)this[u]=null}};n.addFeature=function(v,h){v.features.push(h)};n.prepareFeatures=function(v){this._transform=
v.transform;this._options.applyTransform&&v.transform&&(this._applyTransform=this._deriveApplyTransform(v));this._vertexDimension=2;v.hasZ&&this._vertexDimension++;v.hasM&&this._vertexDimension++;switch(v.geometryType){case "esriGeometryPoint":this.addCoordinate=(h,q,u)=>this.addCoordinatePoint(h,q,u);this.createGeometry=h=>this.createPointGeometry(h);break;case "esriGeometryPolygon":this.addCoordinate=(h,q,u)=>this._addCoordinatePolygon(h,q,u);this.createGeometry=h=>this._createPolygonGeometry(h);
break;case "esriGeometryPolyline":this.addCoordinate=(h,q,u)=>this._addCoordinatePolyline(h,q,u);this.createGeometry=h=>this._createPolylineGeometry(h);break;case "esriGeometryMultipoint":this.addCoordinate=(h,q,u)=>this._addCoordinateMultipoint(h,q,u),this.createGeometry=h=>this._createMultipointGeometry(h)}};n.createFeature=function(){this._currentLengthIndex=this._lengths.length=0;this._previousCoordinate[0]=0;this._previousCoordinate[1]=0;this._coordinateBuffer=null;this._coordinateBufferPtr=
0;return{attributes:new this._attributesConstructor}};n.allocateCoordinates=function(){};n.addLength=function(v,h,q){0===this._lengths.length&&(this._toAddInCurrentPath=h);this._lengths.push(h)};n.addQueryGeometry=function(v,h){const {queryGeometry:q,queryGeometryType:u}=h;h=e.unquantizeOptimizedGeometry(q.clone(),q,!1,!1,this._transform);h=e.convertToGeometry(h,u,!1,!1);v.queryGeometryType=u;v.queryGeometry={...h}};n.createPointGeometry=function(v){const h={x:0,y:0,spatialReference:v.spatialReference};
v.hasZ&&(h.z=0);v.hasM&&(h.m=0);return h};n.addCoordinatePoint=function(v,h,q){const u=b.unwrapOrThrow(this._transform,"transform");h=this._applyTransform(u,h,q,0);switch(q){case 0:v.x=h;break;case 1:v.y=h;break;case 2:"z"in v?v.z=h:v.m=h;break;case 3:v.m=h}};n._transformPathLikeValue=function(v,h){let q=0;1>=h&&(q=this._previousCoordinate[h],this._previousCoordinate[h]+=v);const u=b.unwrapOrThrow(this._transform,"transform");return this._applyTransform(u,v,h,q)};n._addCoordinatePolyline=function(v,
h,q){this._dehydratedAddPointsCoordinate(v.paths,h,q)};n._addCoordinatePolygon=function(v,h,q){this._dehydratedAddPointsCoordinate(v.rings,h,q)};n._addCoordinateMultipoint=function(v,h,q){0===q&&v.points.push([]);h=this._transformPathLikeValue(h,q);v.points[v.points.length-1].push(h)};n._createPolygonGeometry=function(v){return{rings:[[]],spatialReference:v.spatialReference,hasZ:!!v.hasZ,hasM:!!v.hasM}};n._createPolylineGeometry=function(v){return{paths:[[]],spatialReference:v.spatialReference,hasZ:!!v.hasZ,
hasM:!!v.hasM}};n._createMultipointGeometry=function(v){return{points:[],spatialReference:v.spatialReference,hasZ:!!v.hasZ,hasM:!!v.hasM}};n._dehydratedAddPointsCoordinate=function(v,h,q){0===q&&0===this._toAddInCurrentPath--&&(v.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);h=this._transformPathLikeValue(h,q);v=v[v.length-1];0===q&&(this._coordinateBufferPtr=0,this._coordinateBuffer=Array(this._vertexDimension),
v.push(this._coordinateBuffer));this._coordinateBuffer[this._coordinateBufferPtr++]=h};n._deriveApplyTransform=function(v){const {hasZ:h,hasM:q}=v;return h&&q?f:h?t:q?m:k};return p}();a.JSONFeatureSetParserContext=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(a,b,c,e,d,k,t,m,f,g){function l(V,aa){return V?aa?4:3:aa?3:2}function r(V,aa,oa,P){if(V){if(oa)return aa&&P?S:Oa;if(aa&&P)return N}else if(aa&&P)return Oa;return Na}function p({scale:V,translate:aa},oa){return Math.round((oa-aa[0])/V[0])}function n({scale:V,translate:aa},oa){return Math.round((aa[1]-oa)/V[1])}function v({scale:V,translate:aa},oa,P){return oa*V[P]+aa[P]}function h(V){V=V.coords;return{x:V[0],y:V[1]}}function q(V,aa){V.coords[0]=aa.x;V.coords[1]=aa.y;return V}function u(V){V=
V.coords;return{x:V[0],y:V[1],z:V[2]}}function z(V,aa){V.coords[0]=aa.x;V.coords[1]=aa.y;V.coords[2]=aa.z;return V}function x(V){V=V.coords;return{x:V[0],y:V[1],m:V[2]}}function w(V,aa){V.coords[0]=aa.x;V.coords[1]=aa.y;V.coords[2]=aa.m;return V}function A(V){V=V.coords;return{x:V[0],y:V[1],z:V[2],m:V[3]}}function B(V,aa){V.coords[0]=aa.x;V.coords[1]=aa.y;V.coords[2]=aa.z;V.coords[3]=aa.m;return V}function E(V,aa){return V&&aa?B:V?z:aa?w:q}function y(V,aa,oa,P,Z){oa=E(oa,P);for(const {geometry:ia,
attributes:qa}of aa)aa=e.isSome(ia)?oa(new g,ia):null,V.push(new m.OptimizedFeature(aa,qa,null,Z?qa[Z]:void 0));return V}function C(V,aa,oa,P){for(const {geometry:Z,attributes:ia}of aa)V.push({attributes:ia,geometry:e.isSome(Z)?D(Z,oa,P):null});return V}function D(V,aa,oa){if(e.isNone(V))return null;const P=l(aa,oa),Z=[];for(let ia=0;ia<V.coords.length;ia+=P){const qa=[];for(let ea=0;ea<P;ea++)qa.push(V.coords[ia+ea]);Z.push(qa)}return aa?oa?{points:Z,hasZ:aa,hasM:oa}:{points:Z,hasZ:aa}:oa?{points:Z,
hasM:oa}:{points:Z}}function J(V,aa,oa,P,Z){oa=l(oa,P);for(const {geometry:ia,attributes:qa}of aa)aa=e.isSome(ia)?M(new g,ia,oa):null,V.push(new m.OptimizedFeature(aa,qa,null,Z?qa[Z]:void 0));return V}function M(V,aa,oa=l(aa.hasZ,aa.hasM)){V.lengths[0]=aa.points.length;const P=V.coords;let Z=0;for(const ia of aa.points)for(aa=0;aa<oa;aa++)P[Z++]=ia[aa];return V}function L(V,aa,oa){if(!V)return null;const P=l(aa,oa),{coords:Z,lengths:ia}=V;V=[];let qa=0;for(const ea of ia){const U=[];for(let ca=0;ca<
ea;ca++){const la=[];for(let Ca=0;Ca<P;Ca++)la.push(Z[qa++]);U.push(la)}V.push(U)}return aa?oa?{paths:V,hasZ:aa,hasM:oa}:{paths:V,hasZ:aa}:oa?{paths:V,hasM:oa}:{paths:V}}function I(V,aa,oa,P,Z){oa=l(oa,P);for(const {geometry:ia,attributes:qa}of aa)aa=e.isSome(ia)?G(new g,ia,oa):null,V.push(new m.OptimizedFeature(aa,qa,null,Z?qa[Z]:void 0));return V}function G(V,aa,oa=l(aa.hasZ,aa.hasM)){const {lengths:P,coords:Z}=V;let ia=0;for(const qa of aa.paths){for(const ea of qa)for(aa=0;aa<oa;aa++)Z[ia++]=
ea[aa];P.push(qa.length)}return V}function K(V,aa,oa){if(!V)return null;const P=l(aa,oa),{coords:Z,lengths:ia}=V;V=[];let qa=0;for(const ea of ia){const U=[];for(let ca=0;ca<ea;ca++){const la=[];for(let Ca=0;Ca<P;Ca++)la.push(Z[qa++]);U.push(la)}V.push(U)}return aa?oa?{rings:V,hasZ:aa,hasM:oa}:{rings:V,hasZ:aa}:oa?{rings:V,hasM:oa}:{rings:V}}function H(V,aa,oa,P,Z){for(const {geometry:ia,centroid:qa,attributes:ea}of aa){aa=e.isSome(ia)?O(new g,ia,oa,P):null;const U=Z?ea[Z]:void 0;e.isSome(qa)?V.push(new m.OptimizedFeature(aa,
ea,q(new g,qa),U)):V.push(new m.OptimizedFeature(aa,ea,null,U))}return V}function O(V,aa,oa=aa.hasZ,P=aa.hasM){Q(V,aa.rings,oa,P);return V}function Q(V,aa,oa,P){oa=l(oa,P);const {lengths:Z,coords:ia}=V;P=0;Ha(V);for(const qa of aa){for(const ea of qa)for(aa=0;aa<oa;aa++)ia[P++]=ea[aa];Z.push(qa.length)}return V}function W(V,aa,oa,P,Z,ia){da(V);if(!oa){for(const qa of aa)V.push(new m.OptimizedFeature(null,qa.attributes,null,ia?qa.attributes[ia]:void 0));return V}switch(oa){case "esriGeometryPoint":return y(V,
aa,P,Z,ia);case "esriGeometryMultipoint":return J(V,aa,P,Z,ia);case "esriGeometryPolyline":return I(V,aa,P,Z,ia);case "esriGeometryPolygon":return H(V,aa,P,Z,ia);default:na.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${oa}'`)),da(V)}return V}function T(V,aa,oa,P){V=V&&("coords"in V?V:V.geometry);if(e.isNone(V))return null;switch(aa){case "esriGeometryPoint":return aa=h,oa&&P?aa=A:oa?aa=u:P&&(aa=x),aa(V);case "esriGeometryMultipoint":return D(V,oa,P);
case "esriGeometryPolyline":return L(V,oa,P);case "esriGeometryPolygon":return K(V,oa,P);default:return na.error("convertToGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${aa}'`)),null}}function Y(V,aa,oa,P,Z){da(V);if(e.isNone(oa)){for(const qa of aa)V.push({attributes:qa.attributes});return V}switch(oa){case "esriGeometryPoint":oa=h;P&&Z?oa=A:P?oa=u:Z&&(oa=x);for(var ia of aa){const {geometry:qa,attributes:ea}=ia;P=e.isSome(qa)?oa(qa):null;V.push({attributes:ea,geometry:P})}break;
case "esriGeometryMultipoint":return C(V,aa,P,Z);case "esriGeometryPolyline":for(const {geometry:qa,attributes:ea}of aa)V.push({attributes:ea,geometry:e.isSome(qa)?L(qa,P,Z):null});break;case "esriGeometryPolygon":for(const {geometry:qa,attributes:ea,centroid:U}of aa)ia=e.isSome(qa)?K(qa,P,Z):null,e.isSome(U)?(aa=h(U),V.push({attributes:ea,centroid:aa,geometry:ia})):V.push({attributes:ea,geometry:ia});break;default:na.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${oa}'`))}return V}
function X(V,aa,oa,P,Z,ia,qa=oa,ea=P){Ha(V);if(e.isNone(aa)||!aa.coords.length)return null;Z=xa[Z];const {coords:U,lengths:ca}=aa;aa=l(oa,P);const la=l(oa&&qa,P&&ea);oa=r(oa,P,qa,ea);if(!ca.length)return oa(V.coords,U,0,0,p(ia,U[0]),n(ia,U[1])),Ha(V,aa,0),V;let Ca,Qa=0,fa,ma=0;for(const Fa of ca){if(Fa<Z)continue;let ua=0;fa=ma;ea=P=p(ia,U[Qa]);Ca=qa=n(ia,U[Qa+1]);oa(V.coords,U,fa,Qa,ea,Ca);ua++;Qa+=aa;fa+=la;for(let Ka=1;Ka<Fa;Ka++,Qa+=aa)if(ea=p(ia,U[Qa]),Ca=n(ia,U[Qa+1]),ea!==P||Ca!==qa)oa(V.coords,
U,fa,Qa,ea-P,Ca-qa),fa+=la,ua++,P=ea,qa=Ca;ua>=Z&&(V.lengths.push(ua),ma=fa)}da(V.coords,ma);return V.coords.length?V:null}function ra(V,aa,oa,P,Z,ia,qa){let ea=P,U=0;for(let la=ia+oa;la<qa;la+=oa){var ca=aa[la];const Ca=aa[la+1],Qa=aa[qa],fa=aa[qa+1];let ma=aa[ia],Fa=aa[ia+1],ua=Qa-ma,Ka=fa-Fa;if(0!==ua||0!==Ka){const Ta=((ca-ma)*ua+(Ca-Fa)*Ka)/(ua*ua+Ka*Ka);1<Ta?(ma=Qa,Fa=fa):0<Ta&&(ma+=ua*Ta,Fa+=Ka*Ta)}ua=ca-ma;Ka=Ca-Fa;ca=ua*ua+Ka*Ka;ca>ea&&(U=la,ea=ca)}ea>P&&(U-ia>oa&&ra(V,aa,oa,P,Z,ia,U),Z(V,
aa,V.length,U,aa[U],aa[U+1]),qa-U>oa&&ra(V,aa,oa,P,Z,U,qa))}function Ba(V,aa,oa,P,Z){const {coords:ia,lengths:qa}=aa;oa=l(oa,P);if(!ia.length)return V!==aa&&Ha(V),V;e.assertIsSome(Z);const {originPosition:ea,scale:U,translate:ca}=Z;Z=Ia;Z.originPosition=ea;P=Z.scale;P[0]=U[0]??1;P[1]=-(U[1]??1);P[2]=U[2]??1;P[3]=U[3]??1;var la=Z.translate;la[0]=ca[0]??0;la[1]=ca[1]??0;la[2]=ca[2]??0;la[3]=ca[3]??0;if(!qa.length){for(P=0;P<oa;++P)V.coords[P]=v(Z,ia[P],P);V!==aa&&Ha(V,oa,0);return V}la=0;for(let Qa=
0;Qa<qa.length;Qa++){const fa=qa[Qa];V.lengths[Qa]=fa;for(var Ca=0;Ca<oa;++Ca)V.coords[la+Ca]=v(Z,ia[la+Ca],Ca);Ca=V.coords[la];let ma=V.coords[la+1];la+=oa;for(let Fa=1;Fa<fa;Fa++,la+=oa){Ca+=ia[la]*P[0];ma+=ia[la+1]*P[1];V.coords[la]=Ca;V.coords[la+1]=ma;for(let ua=2;ua<oa;++ua)V.coords[la+ua]=v(Z,ia[la+ua],ua)}}V!==aa&&Ha(V,ia.length,qa.length);return V}function Ga(V,aa,oa,P){let Z=0,ia=V[P*aa],qa=V[P*(aa+1)];for(let ea=1;ea<oa;ea++){const U=ia+V[P*(aa+ea)],ca=qa+V[P*(aa+ea)+1],la=(U-ia)*(ca+qa);
ia=U;qa=ca;Z+=la}return.5*Z}function Ha(V,aa=0,oa=0){da(V.lengths,oa);da(V.coords,aa)}function da(V,aa=0){V.length!==aa&&(V.length=aa)}const na=c.getLogger("esri.layers.graphics.featureConversionUtils"),xa={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},Na=(V,aa,oa,P,Z,ia)=>{V[oa]=Z;V[oa+1]=ia},Oa=(V,aa,oa,P,Z,ia)=>{V[oa]=Z;V[oa+1]=ia;V[oa+2]=aa[P+2]},N=(V,aa,oa,P,Z,ia)=>{V[oa]=Z;V[oa+1]=ia;V[oa+2]=aa[P+3]},S=(V,aa,oa,P,Z,ia)=>{V[oa]=Z;V[oa+1]=ia;V[oa+2]=
aa[P+2];V[oa+3]=aa[P+3]},ja=[],wa=[],Ia={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};a.convertFromFeature=function(V,aa,oa,P,Z){ja[0]=V;[V]=W(wa,ja,aa,oa,P,Z);da(ja);da(wa);return V};a.convertFromFeatureSet=function(V,aa){const oa=new f,{hasM:P,hasZ:Z,features:ia,objectIdFieldName:qa,spatialReference:ea,geometryType:U,exceededTransferLimit:ca,transform:la,fields:Ca}=V;Ca&&(oa.fields=Ca);oa.geometryType=U??null;oa.objectIdFieldName=qa??aa??null;oa.spatialReference=ea??null;if(!oa.objectIdFieldName)return na.error(new b("optimized-features:invalid-objectIdFieldName",
"objectIdFieldName is missing")),oa;ia&&W(oa.features,ia,U,Z,P,oa.objectIdFieldName);ca&&(oa.exceededTransferLimit=ca);P&&(oa.hasM=P);Z&&(oa.hasZ=Z);la&&(oa.transform=la);return oa};a.convertFromFeatures=W;a.convertFromGeometry=function(V,aa,oa){if(e.isNone(V))return null;const P=new g;"hasZ"in V&&null==aa&&(aa=V.hasZ);"hasM"in V&&null==oa&&(oa=V.hasM);if(t.isPoint(V))return E(null!=aa?aa:null!=V.z,null!=oa?oa:null!=V.m)(P,V);if(t.isPolygon(V))return O(P,V,aa,oa);if(t.isPolyline(V))return G(P,V,l(aa,
oa));if(t.isMultipoint(V))return M(P,V,l(aa,oa));na.error("convertFromGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${V}'`))};a.convertFromGraphics=function(V,aa,oa,P,Z,ia){const qa=V.length;switch(oa){case "esriGeometryPoint":y(V,aa,P,Z,ia);break;case "esriGeometryMultipoint":J(V,aa,P,Z,ia);break;case "esriGeometryPolyline":I(V,aa,P,Z,ia);break;case "esriGeometryPolygon":H(V,aa,P,Z,ia);break;default:na.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${oa}'`))}for(P=
0;P<aa.length;P++)V[P+qa].geometryType=oa,V[P+qa].insertAfter=aa[P].insertAfter,V[P+qa].groupId=aa[P].groupId;return V};a.convertFromMultipoint=M;a.convertFromMultipointFeatures=J;a.convertFromNestedArray=Q;a.convertFromPoint=function(V,aa,oa=E(null!=aa.z,null!=aa.m)){return oa(V,aa)};a.convertFromPointFeatures=y;a.convertFromPolygon=O;a.convertFromPolyline=G;a.convertFromPolylineFeatures=I;a.convertToFeature=function(V,aa,oa,P){wa[0]=V;Y(ja,wa,aa,oa,P);V=ja[0];da(ja);da(wa);return V};a.convertToFeatureSet=
function(V){const {objectIdFieldName:aa,spatialReference:oa,transform:P,fields:Z,hasM:ia,hasZ:qa,features:ea,geometryType:U,exceededTransferLimit:ca,uniqueIdField:la,queryGeometry:Ca,queryGeometryType:Qa}=V;V=Y([],ea,U,qa,ia);const fa=T(Ca,Qa,!1,!1);V={features:V,fields:Z,geometryType:U,objectIdFieldName:aa,spatialReference:oa,uniqueIdField:la,queryGeometry:fa};P&&(V.transform=P);ca&&(V.exceededTransferLimit=ca);ia&&(V.hasM=ia);qa&&(V.hasZ=qa);return V};a.convertToFeatures=Y;a.convertToGeometry=T;
a.convertToMultipoint=D;a.convertToMultipointFeatures=C;a.convertToPoint=function(V,aa,oa){return V?aa?oa?A(V):u(V):oa?x(V):h(V):null};a.convertToPolygon=K;a.convertToPolyline=L;a.deltaDecodeGeometry=function(V,aa){if(e.isNone(V))return null;const oa=V.clone(),P=V.coords;V=V.lengths;let Z=0;for(let ea=0;ea<V.length;ea++){const U=V[ea];var ia=P[aa*Z],qa=P[aa*Z+1];for(let ca=1;ca<U;ca++)ia+=P[aa*(Z+ca)],qa+=P[aa*(Z+ca)+1],oa.coords[aa*(Z+ca)]=ia,oa.coords[aa*(Z+ca)+1]=qa;Z+=U}return oa};a.deltaEncodeGeometry=
function(V,aa){const oa=V.clone(),P=V.coords;V=V.lengths;let Z=0;for(let qa=0;qa<V.length;qa++){const ea=V[qa];let U=P[aa*Z];var ia=P[aa*Z+1];for(let ca=1;ca<ea;ca++){const la=P[aa*(Z+ca)],Ca=P[aa*(Z+ca)+1];ia=Ca-ia;oa.coords[aa*(Z+ca)]=la-U;oa.coords[aa*(Z+ca)+1]=ia;U=la;ia=Ca}Z+=ea}return oa};a.generalizeOptimizedGeometry=function(V,aa,oa,P,Z,ia,qa=oa,ea=P){Ha(V);if(!aa||!aa.coords.length)return null;Z=xa[Z];const {coords:U,lengths:ca}=aa;aa=l(oa,P);const la=l(oa&&qa,P&&ea);oa=r(oa,P,qa,ea);if(!ca.length)return oa(V.coords,
U,0,0,U[0],U[1]),Ha(V,aa,0),V;P=0;ia*=ia;for(const Ca of ca){if(Ca<Z){P+=Ca*aa;continue}qa=V.coords.length/la;ea=P;const Qa=P+(Ca-1)*aa;oa(V.coords,U,V.coords.length,ea,U[ea],U[ea+1]);ra(V.coords,U,aa,ia,oa,ea,Qa);oa(V.coords,U,V.coords.length,Qa,U[Qa],U[Qa+1]);ea=V.coords.length/la-qa;ea>=Z?V.lengths.push(ea):da(V.coords,qa*la);P+=Ca*aa}return V.coords.length?V:null};a.getBoundsOptimizedGeometry=function(V,aa,oa,P){if(e.isNone(aa)||!aa.coords||!aa.coords.length)return null;oa=l(oa,P);let Z=P=Number.POSITIVE_INFINITY,
ia=Number.NEGATIVE_INFINITY,qa=Number.NEGATIVE_INFINITY;if(aa&&aa.coords){aa=aa.coords;for(let ea=0;ea<aa.length;ea+=oa){const U=aa[ea],ca=aa[ea+1];P=Math.min(P,U);ia=Math.max(ia,U);Z=Math.min(Z,ca);qa=Math.max(qa,ca)}}d.is(V)?d.fromRectValues(V,P,Z,ia,qa):k.fromValues(P,Z,ia,qa,V);return V};a.getQuantizedArea=function(V,aa){const {coords:oa,lengths:P}=V;let Z=V=0;for(let ia=0;ia<P.length;ia++){const qa=P[ia];Z+=Ga(oa,V,qa,aa);V+=qa}return Math.abs(Z)};a.getQuantizedBoundsOptimizedGeometry=function(V,
aa,oa,P){oa=l(oa,P);const {lengths:Z,coords:ia}=aa;P=aa=Number.POSITIVE_INFINITY;let qa=Number.NEGATIVE_INFINITY,ea=Number.NEGATIVE_INFINITY,U=0;for(const ca of Z){let la=ia[U],Ca=ia[U+1];aa=Math.min(la,aa);P=Math.min(Ca,P);qa=Math.max(la,qa);ea=Math.max(Ca,ea);U+=oa;for(let Qa=1;Qa<ca;Qa++,U+=oa){const fa=ia[U],ma=ia[U+1];la+=fa;Ca+=ma;0>fa&&(aa=Math.min(aa,la));0<fa&&(qa=Math.max(qa,la));0>ma?P=Math.min(P,Ca):0<ma&&(ea=Math.max(ea,Ca))}}V[0]=aa;V[1]=P;V[2]=qa;V[3]=ea;return V};a.getSignedQuantizedRingArea=
Ga;a.quantizeOptimizedFeatureSet=function(V,aa){const {geometryType:oa,features:P,hasM:Z,hasZ:ia}=aa;if(!V)return aa;for(let qa=0;qa<P.length;qa++){const ea=P[qa],U=ea.weakClone();U.geometry=new g;X(U.geometry,ea.geometry,Z,ia,oa,V);ea.centroid&&(U.centroid=new g,X(U.centroid,ea.centroid,Z,ia,"esriGeometryPoint",V));P[qa]=U}aa.transform=V;return aa};a.quantizeOptimizedGeometry=X;a.quantizeX=p;a.quantizeY=n;a.removeCollinearVectices=function(V,aa,oa,P,Z){if(!aa||!aa.coords||!aa.coords.length)return null;
oa=xa[oa];const {coords:ia,lengths:qa}=aa;aa=r(P,Z,P,Z);P=l(P,Z);let ea=Z=0,U=0,ca=0;for(const Qa of qa){ea=ca;aa(V.coords,ia,ea,Z,ia[Z],ia[Z+1]);Z+=P;var la=ia[Z];let fa=ia[Z+1],ma=la,Fa=fa;var Ca=fa/la;ea+=P;aa(V.coords,ia,ea,Z,ma,Fa);Z+=P;for(let ua=2;ua<Qa;ua++){la=ia[Z];fa=ia[Z+1];const Ka=fa/la,Ta=Ca===Ka||!isFinite(Ca)&&!isFinite(Ka);Ca=Ta&&isFinite(Ka)?0<=Ca&&0<=Ka||0>=Ca&&0>=Ka:0<=Fa&&0<=fa||0>=Fa&&0>=fa;Ta&&Ca?(ma+=la,Fa+=fa):(ma=la,Fa=fa,ea+=P);aa(V.coords,ia,ea,Z,ma,Fa);Z+=P;Ca=Ka}ea+=
P;la=(ea-ca)/P;la>=oa&&(V.lengths[U]=la,ca=ea,U++)}V.coords.length>ca&&(V.coords.length=ca);V.lengths.length>U&&(V.lengths.length=U);return V.coords.length&&V.lengths.length?V:null};a.removeZMValues=function(V,aa,oa,P,Z,ia){Ha(V);V.lengths.push(...aa.lengths);if(oa===Z&&P===ia)for(var qa=0;qa<aa.coords.length;qa++)V.coords.push(aa.coords[qa]);else for(qa=l(oa,P),oa=r(oa,P,Z,ia),aa=aa.coords,P=0;P<aa.length;P+=qa)oa(V.coords,aa,V.coords.length,P,aa[P],aa[P+1]);return V};a.unquantizeOptimizedFeatureSet=
function(V){const {transform:aa,features:oa,hasM:P,hasZ:Z}=V;if(!aa)return V;for(const ia of oa)e.isSome(ia.geometry)&&Ba(ia.geometry,ia.geometry,P,Z,aa),e.isSome(ia.centroid)&&Ba(ia.centroid,ia.centroid,P,Z,aa);V.transform=null;return V};a.unquantizeOptimizedGeometry=Ba;a.unquantizeValue=v;a.unquantizeX=function(V,aa){return v(V,aa,0)};a.unquantizeY=function(V,aa){return v(V,-aa,1)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/View":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Map ../TimeExtent ../core/Accessor ../core/asyncUtils ../core/Collection ../core/CollectionFlattener ../core/Error ../core/Evented ../core/HandleOwner ../core/handleUtils ../core/Loadable ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ../geometry/support/spatialReferenceUtils ../support/AnalysesCollection ../support/GraphicsCollection ../time/TimeReference ./BasemapView ./LayerViewManager ./Magnifier ./ToolViewManager ./input/Input ./input/ViewEvents ./navigation/Navigation ./support/DefaultsFromMap".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A,B,E,y,C,D,J,M,L,I,G,K,H,O,Q,W,T){var Y;d=Y=function(X){function ra(Ga){var Ha=X.call(this,Ga)||this;Ha._userSpatialReference=null;Ha._cursor=null;Ha.allLayerViews=new m({getCollections:()=>[Ha.basemapView?.baseLayerViews,Ha.groundView?.layerViews,Ha.layerViews,Ha.basemapView?.referenceLayerViews],getChildrenFunction:da=>da.layerViews});Ha.groundView=null;Ha.basemapView=null;Ha.fatalError=null;Ha.graphics=new M.GraphicsCollection;Ha.analyses=new J.AnalysesCollection;
Ha.typeSpecificPreconditionsReady=!0;Ha.layerViews=new t;Ha.magnifier=new K;Ha.padding={left:0,top:0,right:0,bottom:0};Ha.ready=!1;Ha.spatialReferenceWarningDelay=1E3;Ha.supportsGround=!0;Ha.timeExtent=null;Ha.timeReference=new L;Ha.type=null;Ha.scale=null;Ha.updating=!1;Ha.initialExtentRequired=!0;Ha.input=new O;Ha.navigation=new W;Ha.layerViewManager=null;Ha.analysisViewManager=null;Ha.isHeightModelInfoRequired=!1;Ha.width=null;Ha.height=null;Ha.resizing=!1;Ha.suspended=!1;Ha.viewEvents=new Q.ViewEvents(a._assertThisInitialized(Ha));
Ha.persistableViewModels=new t;Ha._isValid=!1;Ha._readyCycleForced=!1;Ha._currentSpatialReference=null;Ha.handles.add(u.watch(()=>Ha.preconditionsReady,da=>{da?(Ha._currentSpatialReference=Ha.spatialReference,Y.views.add(a._assertThisInitialized(Ha))):(Ha._currentSpatialReference=null,Y.views.remove(a._assertThisInitialized(Ha)));Ha.notifyChange("spatialReference");!da&&Ha.ready?(Ha.toolViewManager?.detach(),v.isSome(Ha.analysisViewManager)&&Ha.analysisViewManager.detach(),Ha.layerViewManager?.clear(),
Ha._teardown()):da&&!Ha.ready&&(Ha._startup(),v.isSome(Ha.analysisViewManager)&&Ha.analysisViewManager.attach(),Ha.toolViewManager.attach())},u.sync));return Ha}a._inheritsLoose(ra,X);var Ba=ra.prototype;Ba.initialize=function(){this.addResolvingPromise(this.validate().then(()=>{this._isValid=!0;return u.whenOnce(()=>this.ready)}));this.basemapView=new I.BasemapView({view:this});this.layerViewManager=new G({view:this,layerViewImporter:{importLayerView:Ga=>this.importLayerView(Ga),hasLayerViewModule:Ga=>
this.hasLayerViewModule(Ga)},supportsGround:this.supportsGround});this.toolViewManager=new H({view:this});this._setupSpatialReferenceLogger();this.handles.add([u.watch(()=>this.initialExtentRequired,Ga=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:Ga},{sync:!0,initial:!0}),u.watch(()=>this.ready,Ga=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=Ga,this.defaultsFromMap.userSpatialReference=Ga?this.spatialReference:this._userSpatialReference)},{sync:!0}),u.watch(()=>
this._userSpatialReference,Ga=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=Ga)},{sync:!0,initial:!0})])};Ba._setupSpatialReferenceLogger=function(){var Ga=this;let Ha=null;this.handles.add([u.watch(()=>this.defaultsFromMap?.ready,da=>{const na=0<this.map?.allLayers.length;da&&!this.spatialReference&&na?v.isSome(Ha)||(da=r.makeHandle(()=>Ha=v.abortMaybe(Ha)),Ha=k.createTask(function(){var xa=a._asyncToGenerator(function*(Na){try{yield q.after(Ga.spatialReferenceWarningDelay,null,
Na)}catch{return}finally{Ha=null}n.getLogger(Ga.declaredClass).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")});return function(Na){return xa.apply(this,arguments)}}()),this.handles.add(da,"spatial-reference-logger-task")):this.handles.remove("spatial-reference-logger-task")},{sync:!0})])};Ba.destroy=function(){if(!this.destroyed){this.viewEvents.destroy();this.allLayerViews.destroy();this.navigation&&(this.navigation.destroy(),this._set("navigation",
null));this.graphics=v.destroyMaybe(this.graphics);this.analyses=v.destroyMaybe(this.analyses);this.handles.remove("defaultsFromMap");this.defaultsFromMap.destroy();this._set("defaultsFromMap",null);v.destroyMaybe(this.analysisViewManager);this.toolViewManager=v.destroyMaybe(this.toolViewManager);this.layerViewManager=v.destroyMaybe(this.layerViewManager);this.basemapView=v.destroyMaybe(this.basemapView);this.invalidate();this._emitter.clear();this.handles.removeAll();var Ga=this.map;this.map=null;
Ga?.destroy()}};Ba._startup=function(){this._set("ready",!0)};Ba._teardown=function(){this._set("ready",!1)};Ba.whenReady=function(){return Promise.resolve(this)};Ba.toMap=function(){n.getLogger(this.declaredClass).error("#toMap()","Not implemented on this instance of View");return null};Ba._spatialReferenceChanged=function(Ga){};Ba.whenLayerView=function(Ga){return this.layerViewManager.whenLayerView(Ga)};Ba.getDefaultSpatialReference=function(){return this.defaultsFromMap?.spatialReference};Ba.getDefaultHeightModelInfo=
function(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null};Ba.importLayerView=function(Ga){throw new f("importLayerView() not implemented");};Ba.hasLayerViewModule=function(Ga){return!1};Ba.validate=function(){var Ga=a._asyncToGenerator(function*(){});return function(){return Ga.apply(this,arguments)}}();Ba.invalidate=function(){this._isValid=!1};Ba.getSpatialReferenceSupport=function(){return{constraints:null}};Ba._validateSpatialReference=
function(Ga){return v.isSome(this.getSpatialReferenceSupport({spatialReference:Ga}))};Ba.when=function(Ga,Ha){this.isResolved()&&!this.ready&&n.getLogger(this.declaredClass).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() \x3d\x3e view.ready).then(...) instead.");return X.prototype.when.call(this,Ga,Ha)};Ba.forceReadyCycle=function(){this.ready&&(u.when(()=>!1===this.preconditionsReady,()=>
this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)};Ba.addAndActivateTool=function(Ga){this.toolViewManager.tools.add(Ga);this.activeTool=Ga};Ba.tryFatalErrorRecovery=function(){this.fatalError=null};a._createClass(ra,[{key:"activeTool",get:function(){return this.toolViewManager?.activeTool},set:function(Ga){this.toolViewManager&&(this.toolViewManager.activeTool=Ga)}},{key:"animation",get:function(){return this._get("animation")},set:function(Ga){this._set("animation",Ga)}},{key:"center",
get:function(){return null}},{key:"_defaultsFromMapSettings",get:function(){return{}}},{key:"defaultsFromMap",get:function(){return new T.DefaultsFromMap({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:Ga=>this.getSpatialReferenceSupport(Ga),...this._defaultsFromMapSettings})}},{key:"extent",get:function(){return this._get("extent")},set:function(Ga){this._set("extent",Ga)}},{key:"heightModelInfo",get:function(){return this.getDefaultHeightModelInfo()}},
{key:"interacting",get:function(){return this.navigating}},{key:"navigating",get:function(){return!1}},{key:"preconditionsReady",get:function(){return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||p.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._currentSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}},{key:"resolution",get:function(){return 0}},
{key:"map",set:function(Ga){const Ha=this._get("map");Ga!==Ha&&(Ga?.destroyed&&(n.getLogger(this.declaredClass).warn("#map","The provided map is already destroyed",{map:Ga}),Ga=null),p.isLoadable(Ga)&&Ga.load().catch(()=>{}),this.constructed&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",Ga))}},{key:"spatialReference",get:function(){let Ga=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;Ga&&this.defaultsFromMap?.required?.heightModelInfo&&
(Ga=Ga.clone(),Ga.vcsWkid=this.defaultsFromMap.vcsWkid,Ga.latestVcsWkid=this.defaultsFromMap.latestVcsWkid);return Ga},set:function(Ga){const Ha=!D.equals(Ga,this._get("spatialReference"));this._set("_userSpatialReference",Ga);Ha&&(this._set("spatialReference",Ga),this._spatialReferenceChanged(Ga))}},{key:"stationary",get:function(){return!this.animation&&!this.navigating&&!this.resizing}},{key:"tools",get:function(){return this.toolViewManager?.tools}},{key:"initialExtent",get:function(){return this.defaultsFromMap?.extent}},
{key:"cursor",get:function(){const Ga=this.toolViewManager?this.toolViewManager.cursor:null;return v.isSome(Ga)?Ga:this._cursor||"default"},set:function(Ga){this._cursor=Ga;this.notifyChange("cursor")}},{key:"size",get:function(){return[this.width,this.height]}}]);return ra}(l.HandleOwnerMixin(g.EventedMixin(h.EsriPromiseMixin(d))));d.views=new t;b.__decorate([z.property()],d.prototype,"_userSpatialReference",void 0);b.__decorate([z.property()],d.prototype,"activeTool",null);b.__decorate([z.property({readOnly:!0})],
d.prototype,"allLayerViews",void 0);b.__decorate([z.property()],d.prototype,"groundView",void 0);b.__decorate([z.property()],d.prototype,"animation",null);b.__decorate([z.property()],d.prototype,"basemapView",void 0);b.__decorate([z.property()],d.prototype,"center",null);b.__decorate([z.property({readOnly:!0})],d.prototype,"_defaultsFromMapSettings",null);b.__decorate([z.property()],d.prototype,"defaultsFromMap",null);b.__decorate([z.property()],d.prototype,"fatalError",void 0);b.__decorate([z.property({type:E})],
d.prototype,"extent",null);b.__decorate([z.property(B.owningCollectionProperty(M.GraphicsCollection,"graphics"))],d.prototype,"graphics",void 0);b.__decorate([z.property(B.owningCollectionProperty(J.AnalysesCollection,"analyses"))],d.prototype,"analyses",void 0);b.__decorate([z.property({readOnly:!0,type:y})],d.prototype,"heightModelInfo",null);b.__decorate([z.property({readOnly:!0})],d.prototype,"interacting",null);b.__decorate([z.property({readOnly:!0})],d.prototype,"navigating",null);b.__decorate([z.property({readOnly:!0,
dependsOn:"fatalError _isValid _readyCycleForced map map.loaded? width height spatialReference _currentSpatialReference defaultsFromMap.ready typeSpecificPreconditionsReady".split(" ")})],d.prototype,"preconditionsReady",null);b.__decorate([z.property({readOnly:!0})],d.prototype,"typeSpecificPreconditionsReady",void 0);b.__decorate([z.property({type:t,readOnly:!0})],d.prototype,"layerViews",void 0);b.__decorate([z.property()],d.prototype,"resolution",null);b.__decorate([z.property({type:K})],d.prototype,
"magnifier",void 0);b.__decorate([z.property({value:null,type:c})],d.prototype,"map",null);b.__decorate([z.property()],d.prototype,"padding",void 0);b.__decorate([z.property({readOnly:!0})],d.prototype,"ready",void 0);b.__decorate([z.property({type:C})],d.prototype,"spatialReference",null);b.__decorate([z.property()],d.prototype,"spatialReferenceWarningDelay",void 0);b.__decorate([z.property()],d.prototype,"stationary",null);b.__decorate([z.property({readOnly:!0})],d.prototype,"supportsGround",void 0);
b.__decorate([z.property({type:e})],d.prototype,"timeExtent",void 0);b.__decorate([z.property({type:L,nonNullable:!0})],d.prototype,"timeReference",void 0);b.__decorate([z.property()],d.prototype,"tools",null);b.__decorate([z.property()],d.prototype,"toolViewManager",void 0);b.__decorate([z.property({readOnly:!0})],d.prototype,"type",void 0);b.__decorate([z.property({type:Number})],d.prototype,"scale",void 0);b.__decorate([z.property({readOnly:!0})],d.prototype,"updating",void 0);b.__decorate([z.property({readOnly:!0})],
d.prototype,"initialExtentRequired",void 0);b.__decorate([z.property({readOnly:!0})],d.prototype,"initialExtent",null);b.__decorate([z.property()],d.prototype,"cursor",null);b.__decorate([z.property({readOnly:!0})],d.prototype,"input",void 0);b.__decorate([z.property({type:W,nonNullable:!0})],d.prototype,"navigation",void 0);b.__decorate([z.property()],d.prototype,"layerViewManager",void 0);b.__decorate([z.property()],d.prototype,"analysisViewManager",void 0);b.__decorate([z.property()],d.prototype,
"width",void 0);b.__decorate([z.property()],d.prototype,"height",void 0);b.__decorate([z.property({readOnly:!0})],d.prototype,"resizing",void 0);b.__decorate([z.property({value:null,readOnly:!0})],d.prototype,"size",null);b.__decorate([z.property({readOnly:!0})],d.prototype,"suspended",void 0);b.__decorate([z.property({readOnly:!0})],d.prototype,"viewEvents",void 0);b.__decorate([z.property({readOnly:!0})],d.prototype,"persistableViewModels",void 0);b.__decorate([z.property()],d.prototype,"_isValid",
void 0);b.__decorate([z.property()],d.prototype,"_readyCycleForced",void 0);b.__decorate([z.property()],d.prototype,"_currentSpatialReference",void 0);return d=Y=b.__decorate([A.subclass("esri.views.View")],d)})},"esri/core/support/OwningCollection":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../Collection ../collectionUtils ../HandleOwner ../has ../Logger ../maybe ../accessorSupport/decorators/property ../accessorSupport/ensureType ../arrayUtils ../accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p){a.OwningCollection=function(n){function v(q){var u=n.call(this,q)||this;u.handles.add([u.on("before-add",z=>{f.isNone(z.item)&&z.preventDefault()}),u.on("after-add",z=>u._own(z.item)),u.on("after-remove",z=>u._release(z.item))]);return u}b._inheritsLoose(v,n);var h=v.prototype;h._ownAll=function(){for(const q of this.items)this._own(q)};h._releaseAll=function(){for(const q of this.items)this._release(q)};h._createNewInstance=function(q){return this.itemType?new (e.ofType(this.itemType.Type))(q):
new e(q)};b._createClass(v,[{key:"owner",get:function(){return this._get("owner")},set:function(q){q!==this._get("owner")&&(this._releaseAll(),this._set("owner",q),this._ownAll())}}]);return v}(k.HandleOwnerMixin(e));c.__decorate([g.property()],a.OwningCollection.prototype,"owner",null);a.OwningCollection=c.__decorate([p.subclass("esri.core.support.OwningCollection")],a.OwningCollection);a.owningCollectionProperty=function(n,v){return{type:n,cast:d.castForReferenceSetter,set(h){h=d.referenceSetter(h,
this._get(v),n);h.owner=this;this._set(v,h)}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/AnalysesCollection":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/maybe ../core/accessorSupport/ensureType ../core/arrayUtils ../core/Error ../core/has ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),function(a,b,c,e,d,k,t,m,f,g,l){a.AnalysesCollection=function(r){function p(v){var h=
r.call(this,v)||this;h.handles.add(h.on("before-add",q=>{d.isNone(q.item)||q.item.parent!==h.owner||(e.getLogger(h.declaredClass).warn("Analysis inside the collection must be unique. Not adding this element again."),q.preventDefault())}));return h}b._inheritsLoose(p,r);var n=p.prototype;n._own=function(v){v.parent=this.owner};n._release=function(v){v.parent=null};return p}(l.OwningCollection);a.AnalysesCollection=c.__decorate([g.subclass("esri.support.AnalysesCollection")],a.AnalysesCollection);Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/support/GraphicsCollection":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Graphic ../core/Logger ../core/accessorSupport/ensureType ../core/arrayUtils ../core/Error ../core/has ../core/accessorSupport/decorators/shared ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),function(a,b,c,e,d,k,t,m,f,g,l,r){a.GraphicsCollection=function(p){function n(){return p.apply(this,arguments)||
this}b._inheritsLoose(n,p);var v=n.prototype;v._own=function(h){h.layer&&"remove"in h.layer&&h.layer!==this.owner&&h.layer.remove(h);h.layer=this.owner};v._release=function(h){h.layer===this.owner&&(h.layer=null)};return n}(r.OwningCollection);c.__decorate([g.shared({Type:e,ensureType:k.ensureType(e)})],a.GraphicsCollection.prototype,"itemType",void 0);a.GraphicsCollection=c.__decorate([l.subclass("esri.support.GraphicsCollection")],a.GraphicsCollection);Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/views/BasemapView":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,e,d,k,t,m,f,g){a.BasemapView=function(l){function r(p){var n=l.call(this,p)||this;n.view=null;n.baseLayerViews=new d;n.referenceLayerViews=new d;
n._loadingHandle=k.watch(()=>n.view?.map?.basemap,v=>{v&&v.load().catch(()=>{})},k.initial);return n}b._inheritsLoose(r,l);r.prototype.destroy=function(){this._set("view",null);this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)};b._createClass(r,[{key:"suspended",get:function(){return this.view?this.view.suspended:!0}},{key:"updating",get:function(){if(this.view&&this.view.suspended)return!1;const p=this.view?.map?.basemap;return p&&p.loaded?this.baseLayerViews.some(n=>n.updating)||
this.referenceLayerViews.some(n=>n.updating):!1}}]);return r}(e);c.__decorate([t.property({constructOnly:!0})],a.BasemapView.prototype,"view",void 0);c.__decorate([t.property({readOnly:!0})],a.BasemapView.prototype,"baseLayerViews",void 0);c.__decorate([t.property({readOnly:!0})],a.BasemapView.prototype,"referenceLayerViews",void 0);c.__decorate([t.property({readOnly:!0})],a.BasemapView.prototype,"suspended",null);c.__decorate([t.property({type:Boolean,readOnly:!0})],a.BasemapView.prototype,"updating",
null);a.BasemapView=c.__decorate([g.subclass("esri.views.BasemapView")],a.BasemapView);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/LayerViewManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/MapUtils ../core/maybe ../core/promiseUtils ../core/reactiveUtils ../core/scheduling ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass ../core/support/WatchUpdatingTracking".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v){let h=function(){function q(z,x,w){this.layer=z;this.view=x;this.layerViewImporter=w;this._controller=new AbortController;this._deferred=m.createDeferred();this.done=this._started=!1;this.promise=this._deferred.promise;m.onAbort(this._controller.signal,()=>{const A=new e("cancelled:layerview-create","layerview creation cancelled",{layer:z});this._deferred.reject(A)})}var u=q.prototype;u.tryRecycle=function(z){if(!(this.done&&this.layerView&&"tryRecycleWith"in
this.layerView))return null;const x=this.layer.type,w=this._controller.signal;for(let A=0;A<z.length;A++){const B=z[A];if(B.type!==x)continue;const E=this.layerView.tryRecycleWith(B,{signal:w});if(E){z.splice(A,1);this.layer=B;const y=this.layerView,C=y.view;return this.promise=Promise.race([E.then(()=>{m.throwIfAborted(this._controller.signal);B.emit("layerview-destroy",{view:C,layerView:y});C.emit("layerview-destroy",{view:C,layerView:y});B.emit("layerview-create",{view:C,layerView:y});C.emit("layerview-create",
{view:C,layerView:y});return y}),new Promise((D,J)=>m.onAbort(this._controller.signal,()=>J(m.createAbortError())))])}}return null};u.destroy=function(){this._controller.abort();const {layerView:z}=this;if(z){var {layer:x,view:w}=this;x.emit("layerview-destroy",{view:w,layerView:z});w.emit("layerview-destroy",{layer:x,layerView:z});this.done=!0;this.layerViewImporter=this.view=this.layerView=this.layer=null}};u.start=function(){var z=a._asyncToGenerator(function*(){if(!this._started){this._started=
!0;var {_controller:{signal:x},layer:w,view:A}=this;this._map=A.map;try{yield w.load({signal:x});"prefetchResources"in w&&(yield w.prefetchResources?.({signal:x}));let E;if("createLayerView"in w&&null!=w.createLayerView)E=yield w.createLayerView(A,{signal:x});else{if(!this.layerViewImporter.hasLayerViewModule(w))throw new e("layer:view-not-supported","No layerview implementation was found");var B=yield this.layerViewImporter.importLayerView(w);m.throwIfAborted(x);E="default"in B?new B.default({layer:w,
view:A}):new B({layer:w,view:A})}let y;B=()=>{y=t.removeMaybe(y);E.destroyed||E.destroy();E.layer=null;E.parent=null;E.view=null;this.done=!0};y=m.onAbort(x,B);m.throwIfAborted(x);try{yield E.when()}catch(C){throw B(),C;}this._map?.allLayers?.includes(w)?(this.layerView=E,w.emit("layerview-create",{view:A,layerView:E}),A.emit("layerview-create",{layer:w,layerView:E}),this.done=!0,this._deferred.resolve(E)):(B(),this._deferred.reject(new e("view:no-layerview-for-layer","The layer has been removed from the map",
{layer:w})))}catch(E){w.emit("layerview-create-error",{view:A,error:E}),A.emit("layerview-create-error",{layer:w,error:E}),this.done=!0,this._deferred.reject(new e("layerview:create-error","layerview creation failed",{layer:w,error:E}))}}});return function(){return z.apply(this,arguments)}}();return q}();c=function(q){function u(x){var w=q.call(this,x)||this;w._layerLayerViewInfoMap=new Map;w._recyclingInfoMap=new Map;w._watchUpdatingTracking=new v.WatchUpdatingTracking;w.supportsGround=!0;w._preloadLayerViewModules=
()=>{const A=w.view.map?.allLayers;if(A)for(const B of A)w.layerViewImporter.hasLayerViewModule(B)&&w.layerViewImporter.importLayerView(B)};w._reschedule=()=>{t.isNone(w._workPromise)&&(w._workPromise=m.createDeferred(),w._workPromise.promise.catch(()=>{}));w.removeHandles("reschedule");w.addHandles(g.schedule(w._doWork),"reschedule");return w._workPromise.promise};w._doWork=()=>{const A=w.view.map;w._map!==A&&(w.clear(),w._map=A);if(t.isNone(w._workPromise))w.notifyChange("updating");else{w.removeHandles("reschedule");
w.removeHandles("collection-change");var B=new Set,E=[],y=w.view.ready,C=M=>{if(!t.isNone(M))for(const L of M)L&&(B.add(L),(M=w._layerLayerViewInfoMap.get(L))&&y?M.start():M||w._recyclingInfoMap.has(L)||E.push(L),"layers"in L&&L.layers&&C(L.layers))};for(var D of w._rootCollectionNames)C(w.get(D));for(const [M,L]of w._layerLayerViewInfoMap)B.has(M)||(w._layerLayerViewInfoMap.delete(L.layer),(D=L.tryRecycle(E))?(w._recyclingInfoMap.set(L.layer,L),D.then(()=>{w._recyclingInfoMap.delete(L.layer);w._layerLayerViewInfoMap.set(L.layer,
L);w._reschedule()}).catch(()=>{w._recyclingInfoMap.delete(L.layer);L.destroy();w._reschedule()})):L.destroy());for(const [M,L]of w._recyclingInfoMap)B.has(M)||(w._recyclingInfoMap.delete(L.layer),L.destroy());for(const M of E)w._createLayerView(M);w._refreshCollections();var J=[A?.ground?.layers,A?.basemap?.baseLayers,A?.basemap?.referenceLayers,A?.layers].filter(M=>!!M);B.forEach(M=>"layers"in M&&J.push(M.layers));w.addHandles(J.map(M=>w._watchUpdatingTracking.addOnCollectionChange(()=>M,w._reschedule)),
"collection-change");w._workPromise.resolve();w._workPromise=null}};return w}a._inheritsLoose(u,q);var z=u.prototype;z.initialize=function(){this.own([f.on(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),f.watch(()=>{const x=this.view,w=x?.map;return[w?.basemap,w?.ground,w?.layers,x?.ready]},()=>this._reschedule(),f.syncAndInitial)]);this._preloadLayerViewModules();this._reschedule()};z.destroy=function(){this.clear();this._watchUpdatingTracking.destroy();
this._map=null;t.isSome(this._workPromise)&&(this._workPromise.reject(m.createAbortError()),this._workPromise=null)};z.clear=function(){if(!this.destroyed){for(const x of this._layerLayerViewInfoMap.values())x.destroy();this._layerLayerViewInfoMap.clear();this._refreshCollections()}};z.whenLayerView=function(){var x=a._asyncToGenerator(function*(w){yield this._reschedule();if(!this._layerLayerViewInfoMap.has(w)){if(this._recyclingInfoMap.has(w))return this._recyclingInfoMap.get(w).promise;throw new e("view:no-layerview-for-layer",
"No layerview has been found for the layer",{layer:w});}return this._layerLayerViewInfoMap.get(w).promise});return function(w){return x.apply(this,arguments)}}();z._refreshCollections=function(){for(const [x,w]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(x),this.get(w),this.view);this.notifyChange("updating");this.notifyChange("updatingRemaining")};z._populateLayerViewsOwners=function(x,w,A){if(x&&w){var B=0;for(const E of x)(x=this._layerLayerViewInfoMap.get(E))&&x.layerView&&
(x=x.layerView,x.layer=E,x.parent=A,w.getItemAt(B)!==x&&w.splice(B,0,x),E.layers&&this._populateLayerViewsOwners(E.layers,x.layerViews,x),B+=1);B<w.length&&w.splice(B,w.length)}else w&&w.removeAll()};z._createLayerView=function(x){x.load().catch(()=>{});this.layerViewImporter.hasLayerViewModule(x)&&this.layerViewImporter.importLayerView(x);const w=new h(x,this.view,this.layerViewImporter);w.promise.then(()=>this._refreshCollections(),A=>{A&&(m.isAbortError(A)||"cancelled:layerview-create"===A.name)||
d.getLogger(this.declaredClass).error(`Failed to create layerview for layer title:'${x.title??"no title"}', id:'${x.id??"no id"}' of type '${x.type}'.`,{layer:x,error:A});this._refreshCollections()});this._layerLayerViewInfoMap.set(x,w);this.view.ready&&w.start();this.notifyChange("updating");this.notifyChange("updatingRemaining")};a._createClass(u,[{key:"_layersToLayerViews",get:function(){const x=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],
["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];this.supportsGround&&x.push(["view.map.ground.layers","view.groundView.layerViews"]);return new Map(x)}},{key:"_rootCollectionNames",get:function(){return Array.from(this._layersToLayerViews.keys())}},{key:"updating",get:function(){return t.isSome(this._workPromise)||this._watchUpdatingTracking.updating||k.someMap(this._layerLayerViewInfoMap,x=>!x.done)}},{key:"updatingRemaining",get:function(){let x=0;for(const w of this._layerLayerViewInfoMap.values())w.done||
++x;return x}}]);return u}(c);b.__decorate([l.property()],c.prototype,"_workPromise",void 0);b.__decorate([l.property({readOnly:!0})],c.prototype,"_watchUpdatingTracking",void 0);b.__decorate([l.property({readOnly:!0})],c.prototype,"_layersToLayerViews",null);b.__decorate([l.property({readOnly:!0})],c.prototype,"_rootCollectionNames",null);b.__decorate([l.property()],c.prototype,"layerViewImporter",void 0);b.__decorate([l.property()],c.prototype,"supportsGround",void 0);b.__decorate([l.property({readOnly:!0})],
c.prototype,"updating",null);b.__decorate([l.property({readOnly:!0})],c.prototype,"updatingRemaining",null);b.__decorate([l.property({constructOnly:!0})],c.prototype,"view",void 0);return c=b.__decorate([n.subclass("esri.views.LayerViewManager")],c)})},"esri/views/Magnifier":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m){c=function(f){function g(l){l=f.call(this,l)||this;l.factor=1.5;l.offset=e.createScreenPoint(0,0);l.position=null;l.size=120;l.maskUrl=null;l.maskEnabled=!0;l.overlayUrl=null;l.overlayEnabled=!0;l.visible=!0;return l}a._inheritsLoose(g,f);a._createClass(g,[{key:"version",get:function(){this.commitProperty("factor");this.commitProperty("offset");this.commitProperty("position");this.commitProperty("visible");this.commitProperty("size");this.commitProperty("maskUrl");this.commitProperty("maskEnabled");
this.commitProperty("overlayUrl");this.commitProperty("overlayEnabled");return(this._get("version")||0)+1}}]);return g}(c);b.__decorate([d.property({type:Number})],c.prototype,"factor",void 0);b.__decorate([d.property({nonNullable:!0})],c.prototype,"offset",void 0);b.__decorate([d.property()],c.prototype,"position",void 0);b.__decorate([d.property({type:Number,range:{min:0}})],c.prototype,"size",void 0);b.__decorate([d.property()],c.prototype,"maskUrl",void 0);b.__decorate([d.property()],c.prototype,
"maskEnabled",void 0);b.__decorate([d.property()],c.prototype,"overlayUrl",void 0);b.__decorate([d.property()],c.prototype,"overlayEnabled",void 0);b.__decorate([d.property({readOnly:!0})],c.prototype,"version",null);b.__decorate([d.property({type:Boolean})],c.prototype,"visible",void 0);return c=b.__decorate([m.subclass("esri.views.Magnifier")],c)})},"esri/views/ToolViewManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/HandleOwner ../core/handleUtils ../core/has ../core/Logger ../core/maybe ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass ./3d/support/TextureCollection ./input/InputManager ./input/ViewEvents ./interactive/interactiveToolUtils ./interactive/interfaces ./interactive/ToolViewManagerManipulatorState".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x){d=function(w){function A(E){var y=w.call(this,E)||this;y._manipulatorState=new x.ToolViewManagerManipulatorState;y.tools=new e;y.cursor=null;y._forEachTool=C=>{for(const D of y.tools.items)if(C(D))break};return y}a._inheritsLoose(A,w);var B=A.prototype;B.initialize=function(){this.handles.add([this.view.on(q.eventTypes,E=>{this._handleInputEvent(E)},h.ViewEventPriorities.TOOL),...u.getToolCollectionHandles(this.tools),this.tools.on("before-add",({item:E})=>
{this._updateToolEditableFlag(E)}),this.tools.on("before-remove",({item:E})=>{this._manipulatorState.clearPointers(E,this._manipulatorStateEventArgs);this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])};B.destroy=function(){this.detach();this.handles.removeAll()};B.attach=function(){"3d"===this.view.type?(this._set("textures",new v.TextureCollection(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([g.watch(()=>{const {state:E}=this.view;return"camera"in
E&&E.camera},()=>this._forEachManipulator(E=>E.onViewChange())),this.view.elevationProvider?.on("elevation-change",E=>this._forEachManipulator(y=>y.onElevationChange(E))),k.makeHandle(()=>this._set("textures",f.destroyMaybe(this.textures)))],"attached")):this.handles.add(g.watch(()=>this.view.extent,()=>this._forEachManipulator(E=>E.onViewChange())))};B.detach=function(){f.isSome(this.activeTool)&&(this.activeTool=null);this.tools.removeAll();this.handles.remove("attached")};B._forEachManipulator=
function(E){this._forEachTool(y=>{y.manipulators&&y.manipulators.forEach(({manipulator:C})=>E(C,y))})};B._handleInputEvent=function(E){let y=!1;const C={...E,stopPropagation:()=>{y=!0;E.stopPropagation()}};f.isSome(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(C):this._forEachTool(D=>{!y&&D.visible&&D.handleInputEvent(C)});!y&&"key-down"===E.type&&"Escape"===E.key&&this.activeTool&&(E.stopPropagation(),this.activeTool=null);this._manipulatorState.handleInputEvent(C,
this._manipulatorStateEventArgs);!y&&f.isSome(this.activeTool)&&this.activeTool.handleInputEventAfter(C);this._manipulatorState.handleHoverEvent(C,this._forEachTool);this._updateCursor()};B._refreshToolWatchers=function(){this.handles.remove("tools");this._forEachTool(E=>{if(E instanceof c){const y=g.watch(()=>[E.cursor,E.visible,E.editable],()=>{u.areToolManipulatorsEditable(E)||this._manipulatorState.clearPointers(E,this._manipulatorStateEventArgs);this._updateCursor()});this.handles.add(y,"tools")}E.manipulators&&
this.handles.add([E.manipulators.on("after-remove",y=>{this._manipulatorState.clearPointers(E,this._manipulatorStateEventArgs,!0,y.item.manipulator)}),E.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()})],"tools")});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()};B._updateToolEditableFlag=function(E){E.setEditableFlag?.(z.EditableFlag.MANAGER,f.isNone(this.activeTool)||
E===this.activeTool)};B._updateCursor=function(){let E=this._manipulatorState.cursor;f.isNone(E)&&this._forEachTool(y=>f.isSome(y.cursor)&&y.visible?(E=y.cursor,!0):!1);this._get("cursor")!==E&&this._set("cursor",E)};B._removeIncompleteTools=function(E){this.tools.filter(y=>(f.isNone(E)||y!==E)&&!y.created&&y.removeIncompleteOnCancel).forEach(y=>{this.tools.remove(y)})};a._createClass(A,[{key:"_manipulatorStateEventArgs",get:function(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,
setActiveTool:E=>{this.activeTool=E},view:this.view}}},{key:"activeTool",set:function(E){if(f.isSome(E)&&!this.view.ready)m.getLogger(this.declaredClass).error("Cannot set active tool while view is not ready.");else if(E!==this.activeTool){var y=this.activeTool;this._set("activeTool",E);f.isSome(y)&&y.deactivate();f.isSome(E)&&E.activate();this._removeIncompleteTools(E);for(const C of this.tools)this._updateToolEditableFlag(C),E=u.areToolManipulatorsEditable(C),!f.isNone(this.activeTool)&&E||this._manipulatorState.clearPointers(C,
this._manipulatorStateEventArgs,!E);this._updateCursor()}}},{key:"updating",get:function(){return this.updatingHandles.updating||this.tools.some(E=>E.updating)||(this.textures?.updating??!1)}}]);return A}(d.HandleOwner);b.__decorate([l.property({constructOnly:!0,nonNullable:!0})],d.prototype,"view",void 0);b.__decorate([l.property({readOnly:!0,nonNullable:!0})],d.prototype,"textures",void 0);b.__decorate([l.property({value:null})],d.prototype,"activeTool",null);b.__decorate([l.property({readOnly:!0,
type:e})],d.prototype,"tools",void 0);b.__decorate([l.property({readOnly:!0})],d.prototype,"cursor",void 0);b.__decorate([l.property({readOnly:!0})],d.prototype,"updating",null);return d=b.__decorate([n.subclass("esri.views.ToolViewManager")],d)})},"esri/views/3d/support/TextureCollection":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/maybe ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ../../support/Scheduler".split(" "),
function(a,b,c,e,d,k,t,m,f,g){a.TextureCollection=function(l){function r(n,v){var h=l.call(this,{})||this;h._stage=n;h._textureRequests=new Map;h._frameTask=v?.registerTask(g.TaskPriority.TEXTURE_UNLOAD)??g.ImmediateTask;return h}b._inheritsLoose(r,l);var p=r.prototype;p.normalizeCtorArgs=function(){return{}};p.destroy=function(){l.prototype.destroy.call(this);this._frameTask.remove();this._textureRequests.forEach(n=>this._releaseTextureRequest(n));this._textureRequests.clear()};p.fromData=function(n,
v,h){const q=this.makeUid(n);n=this._textureRequests.get(q);n||(v=v(),n={referenceCount:0,texture:v,textureAsync:null,abortController:null,onRemove:h},this._stage&&(this._stage.add(v),this._stage.loadImmediate(v)),this._textureRequests.set(q,n));n.referenceCount++;return{uid:q,texture:n.texture,release:()=>this._release(q)}};p._release=function(n){const v=this._textureRequests.get(n);v?(1>v.referenceCount&&console.warn("TextureCollection: reference count is \x3c 1 for "+n),v.referenceCount--,1>v.referenceCount&&
this._frameTask.schedule(()=>this._releaseNow(n))):console.warn(`TextureCollection: texture doesn't exist: '${n}'`)};p._releaseNow=function(n){if(this._textureRequests){var v=this._textureRequests.get(n);!v||0<v.referenceCount||(this._releaseTextureRequest(v),this._textureRequests.delete(n))}};p._releaseTextureRequest=function(n){if(n.onRemove)n.onRemove();n.texture?this._stage?.remove(n.texture):n.abortController&&(n.abortController.abort(),n.abortController=null)};p.makeUid=function(n,v=null){return d.isSome(v)?
`${n}.${v}px`:n};b._createClass(r,[{key:"updating",get:function(){return this._frameTask.updating}},{key:"test",get:function(){return{textureRequests:this._textureRequests}}}]);return r}(e);c.__decorate([k.property()],a.TextureCollection.prototype,"_frameTask",void 0);c.__decorate([k.property()],a.TextureCollection.prototype,"updating",null);a.TextureCollection=c.__decorate([f.subclass("esri.views.3d.support.TextureCollection")],a.TextureCollection);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/views/support/Scheduler":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/Handles ../../core/has ../../core/Logger ../../core/maybe ../../core/PerformanceSampler ../../core/PooledArray ../../core/promiseUtils ../../core/reactiveUtils ../../core/time ../../core/accessorSupport/tracking/ObservableValue ../../layers/support/PromiseQueue ./debugFlags ./RenderState".split(" "),function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v){function h(C){return q.has(C)?q.get(C):"number"===typeof C?
C:1}a.Task=void 0;(function(C){C[C.YIELD=1]="YIELD"})(a.Task||(a.Task={}));a.TaskPriority=void 0;(function(C){C.RESOURCE_CONTROLLER_IMMEDIATE="immediate";C.RESOURCE_CONTROLLER="schedule";C.SLIDE="slide";C.STREAM_DATA_LOADER="stream loader";C.ELEVATION_QUERY="elevation query";C.TERRAIN_SURFACE="terrain";C.SURFACE_GEOMETRY_UPDATES="surface geometry updates";C.LOD_RENDERER="LoD renderer";C.GRAPHICS_CORE="Graphics3D";C.I3S_CONTROLLER="I3S";C.POINT_CLOUD_LAYER="point cloud";C.FEATURE_TILE_FETCHER="feature fetcher";
C.OVERLAY="overlay";C.STAGE="stage";C.GRAPHICS_DECONFLICTOR="graphics deconflictor";C.FILTER_VISIBILITY="Graphics3D filter visibility";C.SCALE_VISIBILITY="Graphics3D scale visibility";C.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";C.POINT_OF_INTEREST_FREQUENT="POI frequent";C.POINT_OF_INTEREST_INFREQUENT="POI infrequent";C.LABELER="labeler";C.FEATURE_QUERY_ENGINE="feature query";C.FEATURE_TILE_TREE="feature tile tree";C.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";C.ELEVATION_ALIGNMENT=
"elevation alignment";C.TEXT_TEXTURE_ATLAS="text texture atlas";C.TEXTURE_UNLOAD="texture unload";C.LINE_OF_SIGHT_TOOL="line of sight tool";C.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool";C.ELEVATION_PROFILE="elevation profile";C.SNAPPING="snapping";C.SHADOW_ACCUMULATOR="shadow accumulator";C.CLOUDS_GENERATOR="clouds generator";C[C.TEST_PRIO=1]="TEST_PRIO"})(a.TaskPriority||(a.TaskPriority={}));const q=new Map([[a.TaskPriority.RESOURCE_CONTROLLER_IMMEDIATE,0],[a.TaskPriority.RESOURCE_CONTROLLER,
4],[a.TaskPriority.SLIDE,0],[a.TaskPriority.STREAM_DATA_LOADER,0],[a.TaskPriority.ELEVATION_QUERY,0],[a.TaskPriority.TERRAIN_SURFACE,1],[a.TaskPriority.SURFACE_GEOMETRY_UPDATES,1],[a.TaskPriority.LOD_RENDERER,2],[a.TaskPriority.GRAPHICS_CORE,2],[a.TaskPriority.I3S_CONTROLLER,2],[a.TaskPriority.POINT_CLOUD_LAYER,2],[a.TaskPriority.FEATURE_TILE_FETCHER,2],[a.TaskPriority.OVERLAY,4],[a.TaskPriority.STAGE,4],[a.TaskPriority.GRAPHICS_DECONFLICTOR,4],[a.TaskPriority.FILTER_VISIBILITY,4],[a.TaskPriority.SCALE_VISIBILITY,
4],[a.TaskPriority.FRUSTUM_VISIBILITY,4],[a.TaskPriority.CLOUDS_GENERATOR,4],[a.TaskPriority.POINT_OF_INTEREST_FREQUENT,6],[a.TaskPriority.POINT_OF_INTEREST_INFREQUENT,30],[a.TaskPriority.LABELER,8],[a.TaskPriority.FEATURE_QUERY_ENGINE,8],[a.TaskPriority.FEATURE_TILE_TREE,16],[a.TaskPriority.FEATURE_TILE_TREE_ACTIVE,0],[a.TaskPriority.ELEVATION_ALIGNMENT,12],[a.TaskPriority.TEXT_TEXTURE_ATLAS,12],[a.TaskPriority.TEXTURE_UNLOAD,12],[a.TaskPriority.LINE_OF_SIGHT_TOOL,16],[a.TaskPriority.LINE_OF_SIGHT_TOOL_INTERACTIVE,
0],[a.TaskPriority.SNAPPING,0],[a.TaskPriority.SHADOW_ACCUMULATOR,30]]),u=l.Milliseconds(6.5),z=l.Milliseconds(1),x=l.Milliseconds(30),w=l.Milliseconds(1E3/30),A=l.Milliseconds(100);var B;(function(C){let D=function(){function L(){this._updating=new r.ObservableValue(!0);this._microTaskQueued=!1;this._frameNumber=0;this.performanceInfo={total:new t("total"),tasks:new Map};this._frameTaskTimes=new Map;this._budget=new M;this._state=v.RenderState.INTERACTING;this._tasks=new m;this._runQueue=new m;this._load=
0;this._idleStateCallbacks=new m;this._debug=this._forceTask=this._idleUpdatesStartFired=!1;this._debugHandle=g.watch(()=>n.SCHEDULER_LOG_SLOW_TASKS,K=>this._debug=K,g.initial);for(const K of Object.keys(a.TaskPriority))this.performanceInfo.tasks.set(a.TaskPriority[K],new t(a.TaskPriority[K]));const G=this;this._test={FRAME_SAFETY_BUDGET:u,INTERACTING_BUDGET:w,IDLE_BUDGET:A,get availableBudget(){return G._budget.budget},usedBudget:0,getBudget:()=>G._budget,setBudget:K=>G._budget=K,updateTask:K=>this._updateTask(K),
getState:K=>this._getState(K),getRuntime:K=>this._getRuntime(K),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}var I=L.prototype;I._updatingChanged=function(){this._updating.set(this._tasks.some(G=>G.needsUpdate))};I.destroy=function(){this._tasks.toArray().forEach(G=>G.remove());this._tasks.clear();k.removeMaybe(this._debugHandle);this._microTaskQueued=!1;this._updatingChanged()};I.taskRunningChanged=function(G){this._updatingChanged();
G&&0<this._budget.remaining&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,0<this._budget.remaining&&this._schedule()&&this.frame())}))};I.registerTask=function(G,K){const H=h(G);K=new J(this,G,K,H);this._tasks.push(K);this._updatingChanged();this.performanceInfo.tasks.has(G)||this.performanceInfo.tasks.set(G,new t(G));return K};I.registerIdleStateCallbacks=function(G,K){const H={idleBegin:G,idleEnd:K};this._idleStateCallbacks.push(H);
this.state===v.RenderState.IDLE&&this._idleUpdatesStartFired&&H.idleBegin();const O=this;return{remove:()=>this._removeIdleStateCallbacks(H),set idleBegin(Q){O._idleUpdatesStartFired&&(H.idleEnd(),O._state===v.RenderState.IDLE&&Q());H.idleBegin=Q},set idleEnd(Q){H.idleEnd=Q}}};I.updateBudget=function(G){this._test.usedBudget=0;++this._frameNumber;let K=u,H=G.frameDuration,O=z;switch(this.state){case v.RenderState.IDLE:K=l.Milliseconds(0);H=l.Milliseconds(Math.max(A,G.frameDuration));O=x;break;case v.RenderState.INTERACTING:H=
l.Milliseconds(Math.max(w,G.frameDuration))}H=l.Milliseconds(H-G.elapsedFrameTime-K);if(this.state!==v.RenderState.IDLE&&H<z&&!this._forceTask)return this._forceTask=!0,!1;H=l.Milliseconds(Math.max(H,O));this._budget.reset(H,this.state);this._updateLoad();return this._schedule()};I.frame=function(){this._microTaskQueued=this._forceTask=!1;switch(this.state){case v.RenderState.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(G=>G.idleBegin()));this._runIdle();
break;case v.RenderState.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};I.stopFrame=function(){this._budget.reset(l.Milliseconds(0),this._state);this._budget.madeProgress()};I._removeIdleStateCallbacks=function(G){this._idleUpdatesStartFired&&G.idleEnd();this._idleStateCallbacks.removeUnordered(G)};I.removeTask=function(G){this._tasks.removeUnordered(G);this._runQueue.removeUnordered(G);this._updatingChanged()};I._updateTask=function(G){this._tasks.forAll(K=>
{K.name===G&&K.setPriority(G)})};I._getState=function(G){if(this._runQueue.some(H=>H.name===G))return a.TaskState.SCHEDULED;let K=a.TaskState.IDLE;this._tasks.forAll(H=>{H.name===G&&H.needsUpdate&&(1>=H.schedulePriority?K=a.TaskState.READY:K!==a.TaskState.READY&&(K=a.TaskState.WAITING))});return K};I._getRuntime=function(G){let K=0;this._tasks.forAll(H=>{H.name===G&&(K+=H.runtime)});return K};I._resetRuntimes=function(){this._tasks.forAll(G=>G.runtime=0)};I._getRunning=function(){const G=new Map;
this._tasks.forAll(H=>{H.needsUpdate&&G.set(H.name,(G.get(H.name)||0)+1)});if(0===G.size)return null;let K="";G.forEach((H,O)=>{K=1<H?K+` ${H}x ${O}`:K+` ${O}`});return K};I._runIdle=function(){this._run()};I._runInteracting=function(){this._run()};I._runAnimating=function(){this._run()};I._updateLoad=function(){const G=this._tasks.reduce((K,H)=>H.needsUpdate?++K:K,0);this._load=.9*this._load+G*(1-.9)};I._schedule=function(){this._runQueue.filterInPlace(G=>{if(G.needsUpdate)return!0;G.schedulePriority=
G.basePriority;return!1});for(this._tasks.forAll(G=>{0===G.basePriority&&G.needsUpdate&&!this._runQueue.includes(G)&&G.blockFrame!==this._frameNumber&&this._runQueue.unshift(G)});0===this._runQueue.length;){let G=!1;this._tasks.forAll(K=>{if(K.needsUpdate&&0!==K.schedulePriority&&0!==K.basePriority&&K.blockFrame!==this._frameNumber)switch(G=!0,K.schedulePriority){case 1:K.schedulePriority=0;this._runQueue.push(K);break;default:--K.schedulePriority}});if(!G)return this._updatingChanged(),!1}this._updatingChanged();
return!0};I._run=function(){const G=this._budget.now();this._startFrameTaskTimes();do for(;0<this._runQueue.length;){var K=this._budget.now();const H=this._runQueue.pop();this._budget.resetProgress();try{H.task.runTask(this._budget)===a.Task.YIELD&&(H.blockFrame=this._frameNumber)}catch(O){d.getLogger("esri.views.support.Scheduler").error(`Exception in task "${H.name}"`,O)}!this._budget.hasProgressed&&H.blockFrame!==this._frameNumber&&H.needsUpdate&&(H.blockFrame=this._frameNumber);H.schedulePriority=
H.basePriority;K=this._budget.now()-K;H.runtime+=K;this._frameTaskTimes.set(H.priority,this._frameTaskTimes.get(H.priority)+K);this._debug&&K>2*this._budget.budget&&console.log("Task",H.name,"used",K,"of max",this._budget.budget,"ms");if(0>=this._budget.remaining){this._updatingChanged();this._recordFrameTaskTimes(this._budget.now()-G);return}}while(this._schedule());this._updatingChanged();this._recordFrameTaskTimes(this._budget.now()-G)};I._startFrameTaskTimes=function(){for(const G of Object.keys(a.TaskPriority))this._frameTaskTimes.set(a.TaskPriority[G],
0)};I._recordFrameTaskTimes=function(G){this._frameTaskTimes.forEach((K,H)=>this.performanceInfo.tasks.get(H).record(K));this.performanceInfo.total.record(G)};b._createClass(L,[{key:"updating",get:function(){return this._updating.get()}},{key:"load",get:function(){return this._load}},{key:"state",get:function(){return this._state},set:function(G){this._state!==G&&(this._state=G,this.state!==v.RenderState.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(K=>
K.idleEnd())))}},{key:"test",get:function(){return this._test}}]);return L}();C.Scheduler=D;let J=function(){function L(G,K,H,O){this._scheduler=G;this.name=K;this._basePriority=O;this.runtime=this.blockFrame=0;this._queue=new p.PromiseQueue;this._handles=new c;this.schedulePriority=this._basePriority;this._task=new r.ObservableValue(k.isSome(H)?H:this._queue);this._handles.add(g.when(()=>this.task.running,Q=>G.taskRunningChanged(Q)))}var I=L.prototype;I.remove=function(){this.processQueue(E);this._scheduler.removeTask(this);
this.schedule=y.schedule;this.reschedule=y.reschedule;this._handles.destroy()};I.setPriority=function(G){this.name=G;G=h(G);if(0===this._basePriority||0!==this.schedulePriority)this.schedulePriority=G;this._basePriority=G};I.schedule=function(G,K,H){return this._queue.push(G,K,H)};I.reschedule=function(G,K,H){return this._queue.unshift(G,K,H)};I.processQueue=function(G){this._queue.runTask(G)};b._createClass(L,[{key:"task",get:function(){return this._task.get()}},{key:"updating",get:function(){return this._queue.running}},
{key:"basePriority",get:function(){return this._basePriority}},{key:"priority",get:function(){return this.name},set:function(G){this.setPriority(G)}},{key:"needsUpdate",get:function(){return this.updating||this.task.running}}]);return L}(),M=function(){function L(){this._begin="undefined"!==typeof performance?performance.now():0;this._budget=0;this._state=v.RenderState.IDLE;this._progressed=this._done=!1;this._enabled=!0}var I=L.prototype;I.run=function(G){if(this.done)return!1;!0===G()&&this.madeProgress();
return!0};I.madeProgress=function(){this._progressed=!0;return this._done=this.elapsed>=this._budget&&this._enabled};I.reset=function(G,K){this._begin=this.now();this._budget=G;this._state=K;this.resetProgress()};I.now=function(){return performance.now()};I.resetProgress=function(){this._done=this._progressed=!1};b._createClass(L,[{key:"done",get:function(){return this._done}},{key:"budget",get:function(){return this._budget}},{key:"state",get:function(){return this._state}},{key:"enabled",get:function(){return this._enabled},
set:function(G){this._enabled=G}},{key:"remaining",get:function(){return Math.max(this._budget-this.elapsed,0)}},{key:"elapsed",get:function(){return performance.now()-this._begin}},{key:"hasProgressed",get:function(){return this._progressed}}]);return L}();C.Budget=M})(B||(B={}));a.TaskState=void 0;(function(C){C.SCHEDULED="s";C.READY="r";C.WAITING="w";C.IDLE="i"})(a.TaskState||(a.TaskState={}));const E=(()=>{const C=new B.Budget;C.enabled=!1;return C})(),y=new (function(){function C(){}var D=C.prototype;
D.remove=function(){};D.processQueue=function(){};D.schedule=function(J,M,L){try{if(f.isAborted(M)){const I=f.createAbortError();return L?Promise.resolve(L(I)):Promise.reject(I)}return f.when(J(E))}catch(I){return Promise.reject(I)}};D.reschedule=function(J,M,L){return this.schedule(J,M,L)};return C}());a.ImmediateTask=y;a.getTaskPriority=h;a.newScheduler=function(){return new B.Scheduler};a.noBudget=E;a.taskPriorities=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/ObservableValue":function(){define(["exports",
"../tracking","./SimpleObservable"],function(a,b,c){let e=function(){function d(t){this._observable=new c.SimpleObservable;this._value=t}var k=d.prototype;k.get=function(){b.trackAccess(this._observable);return this._value};k.set=function(t){t!==this._value&&(this._value=t,this._observable.notify())};return d}();a.ObservableValue=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/PromiseQueue":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers",
"../../core/promiseUtils","../../core/accessorSupport/tracking/ObservableValue"],function(a,b,c,e){let d=function(){function t(){this._tasks=[];this._running=new e.ObservableValue(!1)}var m=t.prototype;m.destroy=function(){this.cancelAll()};m.runTask=function(f){for(;!f.done&&this._process(f);)f.madeProgress()};m.push=function(f,g,l){this._running.set(!0);return new Promise((r,p)=>this._tasks.push(new k(r,p,f,g,l)))};m.unshift=function(f,g,l){this._running.set(!0);return new Promise((r,p)=>this._tasks.unshift(new k(r,
p,f,g,l)))};m._process=function(f){if(0===this._tasks.length)return!1;const g=this._tasks.shift();try{const l=c.isAborted(g.signal);if(l&&!g.abortCallback)g.reject(c.createAbortError());else{const r=l?g.abortCallback?.(c.createAbortError()):g.callback(f);c.isPromiseLike(r)?r.then(g.resolve,g.reject):g.resolve(r)}}catch(l){g.reject(l)}this._running.set(0<this._tasks.length);return!0};m.cancelAll=function(){const f=c.createAbortError();for(const g of this._tasks)if(g.abortCallback){const l=g.abortCallback(f);
g.resolve(l)}else g.reject(f);this._tasks.length=0;this._running.set(!1)};b._createClass(t,[{key:"length",get:function(){return this._tasks.length}},{key:"running",get:function(){return this._running.get()}}]);return t}(),k=function(t,m,f,g,l){this.resolve=t;this.reject=m;this.callback=f;this.signal=g;this.abortCallback=l};a.PromiseQueue=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/debugFlags":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){c=function(m){function f(){var g=m.apply(this,arguments)||this;g.SCHEDULER_LOG_SLOW_TASKS=!1;g.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1;return g}a._inheritsLoose(f,m);return f}(c);b.__decorate([e.property()],c.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);b.__decorate([e.property()],c.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0);c=b.__decorate([t.subclass("esri.views.support.DebugFlags")],c);return new c})},"esri/views/support/RenderState":function(){define(["exports"],
function(a){a.RenderState=void 0;var b=a.RenderState||(a.RenderState={});b[b.ANIMATING=0]="ANIMATING";b[b.INTERACTING=1]="INTERACTING";b[b.IDLE=2]="IDLE";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/InputManager":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Logger ../../core/maybe ../../core/Queue ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../3d/support/PropertiesPool ./keys ./handlers/LatestPointer ./handlers/MultiTouch".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v){a.InputManager=function(x){function w(B){var E=x.call(this,B)||this;E._pointerCaptures=new Map;E._nameToGroup={};E._handlers=[];E._handlersPriority=[];E._currentPropagation=null;E._updateDependenciesAfterPropagation=!1;E._sourceEvents=new Set;E._keyModifiers=new Set;E._activeKeyModifiers=new Set;E._stoppedPropagationEventIds=new Set;E.primaryKey=p.primaryKey;E._latestPointerType="mouse";E._propertiesPool=new r.PropertiesPool({latestPointerLocation:z},b._assertThisInitialized(E));
E.latestPointerLocation=null;E.test={timestamp:void 0,hasCurrentPropagation:()=>!!E._currentPropagation};return E}b._inheritsLoose(w,x);var A=w.prototype;A.initialize=function(){this.eventSource.onEventReceived=this._onEventReceived.bind(this);this._installRecognizers()};A.destroy=function(){const B=Object.keys(this._nameToGroup);for(const E of B)this.uninstallHandlers(E);this.eventSource.destroy();this._currentPropagation=null;this._propertiesPool.destroy()};A.installHandlers=function(B,E,y=u.INTERNAL){if(this._nameToGroup[B])d.getLogger(this.declaredClass).error("There is already an InputHandler group registered under the name `"+
B+"`");else if(0===E.length)d.getLogger(this.declaredClass).error("Can't register a group of zero handlers");else{var C={name:B,handlers:E.map(D=>({handler:D,active:!0,removed:!1,priorityIndex:0,groupPriority:y,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[B]=C;for(B=C.handlers.length-1;0<=B;B--){const D=C.handlers[B];this._handlers.push(D);D.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(J,M,L,I,G)=>{this._emitInputEvent(D.priorityIndex+1,J,M,L,G,I)},
setPointerCapture:(J,M)=>{this._setPointerCapture(C,D,J,M)},setEventCallback:J=>{D.eventCallback=J},setUninstallCallback:J=>{D.uninstallCallback=J},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}};A.uninstallHandlers=function(B){const E=this._nameToGroup[B];E?(E.handlers.forEach(y=>{y.removed=!0;y.uninstallCallback?.()}),delete this._nameToGroup[B],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):
d.getLogger(this.declaredClass).error("There is no InputHandler group registered under the name `"+B+"`")};A.hasHandlers=function(B){return void 0!==this._nameToGroup[B]};A.updateDependencies=function(){if(this._currentPropagation)this._updateDependenciesAfterPropagation=!0;else{this._updateDependenciesAfterPropagation=!1;var B=new Set,E=new Set;this._handlersPriority=[];for(var y=this._handlers.length-1;0<=y;y--){var C=this._handlers[y];C.priorityIndex=y;this._handlersPriority.push(C)}this._handlersPriority=
this._sortHandlersPriority(this._handlersPriority);for(y=this._handlersPriority.length-1;0<=y;y--){C=this._handlersPriority[y];C.priorityIndex=y;let D=C.handler.hasSideEffects;if(!D)for(const J of C.handler.outgoingEventTypes)if(B.has(J)){D=!0;break}if(D)for(const J of C.handler.incomingEventMatches){B.add(J.eventType);for(const M of J.keyModifiers)p.isSystemModifier(M)||E.add(M)}C.active=D}this._sourceEvents=B;this._keyModifiers=E;0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");
0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up"));this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}};A._setLatestPointer=function(B,E,y){this._latestPointerType=B;B=this._get("latestPointerLocation");if(k.isNone(B)||B.x!==E||B.y!==y)B=this._propertiesPool.get("latestPointerLocation"),B.x=E,B.y=y,this._set("latestPointerLocation",B)};A._onEventReceived=function(B,E){"pointer-capture-lost"===B&&this._pointerCaptures.delete(E.native.pointerId);
this._updateKeyModifiers(B,E);this._emitInputEventFromSource(B,E,null!=this.test.timestamp?this.test.timestamp:E.native?E.native.timestamp:void 0,E.native?E.native.cancelable:void 0)};A._updateKeyModifiers=function(B,E){if(E){var y=!1,C=()=>{if(!y){const J=new Set;this._activeKeyModifiers.forEach(M=>{J.add(M)});this._activeKeyModifiers=J;y=!0}},D=(J,M)=>{M&&!this._activeKeyModifiers.has(J)?(C(),this._activeKeyModifiers.add(J)):!M&&this._activeKeyModifiers.has(J)&&(C(),this._activeKeyModifiers.delete(J))};
if("key-down"===B||"key-up"===B){const J=E.key;this._keyModifiers.has(J)&&D(J,"key-down"===B)}B=E.native;D("Alt",!(!B||!B.altKey));D("Ctrl",!(!B||!B.ctrlKey));D("Shift",!(!B||!B.shiftKey));D("Meta",!(!B||!B.metaKey));D("Primary",this._activeKeyModifiers.has(this.primaryKey))}};A._installRecognizers=function(){this._latestPointerHandler=new n.LatestPointer((B,E,y)=>this._setLatestPointer(B,E,y));this._multiTouchHandler=new v.MultiTouch;this.installHandlers("input-manager-logic",[this._latestPointerHandler,
this._multiTouchHandler],u.ALWAYS);0<this.recognizers.length&&this.installHandlers("default",this.recognizers,u.INTERNAL)};A._setPointerCapture=function(B,E,y,C){B=B.name+"-"+E.priorityIndex;E=this._pointerCaptures.get(y.pointerId)||new Set;this._pointerCaptures.set(y.pointerId,E);C?(E.add(B),1===E.size&&this.eventSource&&this.eventSource.setPointerCapture(y,!0)):E.has(B)&&(E.delete(B),0===E.size&&(this._pointerCaptures.delete(y.pointerId),this.eventSource&&this.eventSource.setPointerCapture(y,!1)))};
A._garbageCollectRemovedHandlers=function(){this._handlers=this._handlers.filter(B=>!B.removed);this.updateDependencies()};A._emitInputEventFromSource=function(B,E,y,C){this._emitInputEvent(0,B,E,y,C)};A._emitInputEvent=function(B,E,y,C,D,J){C=void 0!==C?C:this._currentPropagation?this._currentPropagation.timestamp:performance.now();B={event:new h(E,y,C,J||this._activeKeyModifiers,void 0!==D?D:!1),priorityIndex:B};this._currentPropagation?this._currentPropagation.events.push(B):this._doNewPropagation(B)};
A._doNewPropagation=function(B){this._currentPropagation={events:new t,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:B.event.timestamp};this._currentPropagation.events.push(B);this._continuePropagation()};A._continuePropagation=function(){const B=k.unwrapOrThrow(this._currentPropagation);for(;0<B.events.length;){const {event:E,priorityIndex:y}=B.events.pop(),C=E.data&&E.data.eventId;if(null==C||!this._stoppedPropagationEventIds.has(C))for(B.currentHandler=this._handlersPriority[y];B.currentHandler;){if(B.currentHandler.removed)B.needsHandlerGarbageCollect=
!0;else{B.currentHandler.active&&!E.shouldStopPropagation()&&B.currentHandler.eventCallback?.(E);if(E.shouldStopPropagation()){null!=C&&this._stoppedPropagationEventIds.add(C);break}if(E.shouldPausePropagation(()=>this._continuePropagation())){this._pausePropagation({event:E,priorityIndex:B.currentHandler.priorityIndex+1});return}}B.currentHandler=this._handlersPriority[B.currentHandler.priorityIndex+1]}}B.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this.hasPendingInputs||this._stoppedPropagationEventIds.clear();
this._currentPropagation=null;this._updateDependenciesAfterPropagation&&this.updateDependencies()};A._pausePropagation=function(B){const E=new t;E.push(B);if(B=this._currentPropagation){for(;B.events.length;)E.push(B.events.pop());B.events=E;B.currentHandler=null}};A._compareHandlerPriority=function(B,E){if(B.handler.hasSideEffects!==E.handler.hasSideEffects)return B.handler.hasSideEffects?1:-1;if(B.groupPriority!==E.groupPriority)return B.groupPriority>E.groupPriority?-1:1;for(const y of B.handler.incomingEventMatches)for(const C of E.handler.incomingEventMatches){if(y.eventType!==
C.eventType)continue;const D=y.keyModifiers.filter(J=>C.keyModifiers.includes(J));if(D.length===y.keyModifiers.length!==(D.length===C.keyModifiers.length))return y.keyModifiers.length>C.keyModifiers.length?-1:1}return B.priorityIndex>E.priorityIndex?-1:1};A._sortHandlersPriority=function(B){const E=[];for(const y of B){for(B=0;B<E.length&&0<=this._compareHandlerPriority(y,E[B]);)B++;E.splice(B,0,y)}return E};b._createClass(w,[{key:"hasPendingInputs",get:function(){return this._handlers.some(B=>B.handler.hasPendingInputs)}},
{key:"latestPointerType",get:function(){return this._latestPointerType}},{key:"multiTouchActive",get:function(){return this._multiTouchHandler.multiTouchActive}},{key:"debug",get:function(){const B=E=>{const y=this._setPointerCapture;this._setPointerCapture=()=>{};E();this._setPointerCapture=y};return{injectEvent:(E,y)=>{B(()=>{this._onEventReceived(E,y)})},disablePointerCapture:B}}}]);return w}(e);c.__decorate([m.property({readOnly:!0})],a.InputManager.prototype,"hasPendingInputs",null);c.__decorate([m.property({constructOnly:!0})],
a.InputManager.prototype,"eventSource",void 0);c.__decorate([m.property({constructOnly:!0})],a.InputManager.prototype,"recognizers",void 0);c.__decorate([m.property()],a.InputManager.prototype,"_latestPointerType",void 0);c.__decorate([m.property()],a.InputManager.prototype,"latestPointerType",null);c.__decorate([m.property()],a.InputManager.prototype,"multiTouchActive",null);c.__decorate([m.property({readOnly:!0})],a.InputManager.prototype,"latestPointerLocation",void 0);a.InputManager=c.__decorate([l.subclass("esri.views.input.InputManager")],
a.InputManager);let h=function(){function x(A,B,E,y,C){this.type=A;this.data=B;this.timestamp=E;this.modifiers=y;this.cancelable=C;this._propagationState=q.NONE;this._resumeCallback=null}var w=x.prototype;w.stopPropagation=function(){this._propagationState|=q.STOPPED};w.shouldStopPropagation=function(){return 0!==(this._propagationState&q.STOPPED)};w.async=function(A){this._propagationState|=q.PAUSED;const B=(E,y)=>{this._propagationState&=~q.PAUSED;const C=this._resumeCallback;this._resumeCallback=
null;C&&C();if(y)throw E;return E};return("function"===typeof A?A():A).then(E=>B(E,!1),E=>B(E,!0))};w.shouldPausePropagation=function(A){return this._propagationState&q.PAUSED?(this._resumeCallback=A,!0):!1};w.preventDefault=function(){this.data.native.preventDefault()};return x}();var q;(function(x){x[x.NONE=0]="NONE";x[x.STOPPED=1]="STOPPED";x[x.PAUSED=2]="PAUSED"})(q||(q={}));const u={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},z=function(){};a.ViewEventPriorities=u;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/PropertiesPool":function(){define(["exports","../../../core/ReentrantObjectPool","../../../core/accessorSupport/watch"],function(a,b,c){let e=function(){function d(t,m){this._owner=m;this._properties={};this._afterDispatchHandle=null;for(const f in t)m=new b.ReentrantObjectPool(t[f],void 0,void 0,2,2),this._properties[f]={pool:m,acquired:[]};this._afterDispatchHandle=c.afterDispatch(()=>this._release())}var k=d.prototype;k.destroy=function(){this._afterDispatchHandle&&
(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const m=this._properties[t];for(const f of m.acquired)c.isValueInUse(f)||m.pool.release(f);m.pool.destroy();m.pool=null;m.acquired=null}this._owner=this._properties=null};k.get=function(t){const m=this._owner._get(t);t=this._properties[t];let f=t.pool.acquire();for(t.acquired.push(f);f===m;)t.acquired.push(f),f=t.pool.acquire();return f};k._release=function(){for(const t in this._properties){const m=
this._properties[t];let f=0;for(const g of m.acquired)c.isValueInUse(g)?m.acquired[f++]=g:m.pool.release(g);m.acquired.length=f}};return d}();a.PropertiesPool=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/keys":function(){define(["exports","../../core/events","../../core/has"],function(a,b,c){c=c("mac")?"Meta":"Ctrl";const e={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete"};for(var d=48;58>d;d++)e[d]=String.fromCharCode(d);for(d=1;25>d;d++)e[111+d]=`F${d}`;for(d=65;91>d;d++)e[d]=[String.fromCharCode(d+32),String.fromCharCode(d)];a.eventKey=function(k){if(void 0!==k.key)return b.eventKey(k);const t=e[k.keyCode];return Array.isArray(t)?k.shiftKey?t[1]:t[0]:t};a.isSystemModifier=function(k){switch(k){case "Ctrl":case "Alt":case "Shift":case "Meta":case "Primary":return!0}return!1};a.primaryKey=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/views/input/handlers/LatestPointer":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../InputHandler"],function(a,b,c){c=function(e){function d(k){var t=e.call(this,!0)||this;t._onChange=k;t._value="mouse";t._x=null;t._y=null;t.registerIncoming("pointer-move",m=>{t._update(m.data)});return t}b._inheritsLoose(d,e);d.prototype._update=function(k){const t="touch"===k.native.pointerType?"touch":"mouse",{x:m,y:f}=k;if(t!==this._value||this._x!==m||this._y!==f)this._value=
t,this._x=m,this._y=f,this._onChange(t,m,f)};return d}(c.InputHandler);a.LatestPointer=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/InputHandler":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/Logger","./EventMatch"],function(a,b,c,e){const d=c.getLogger("esri.views.input.InputHandler");c=function(){function m(g){this._manager=null;this._incoming={};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=
null;this._hasSideEffects=g}var f=m.prototype;f.onInstall=function(g){this._manager?d.error("This InputHandler has already been registered with an InputManager"):(g.setEventCallback(l=>this._handleEvent(l)),g.setUninstallCallback(()=>this._onUninstall()),this._manager=g)};f.onUninstall=function(){};f.registerIncoming=function(g,l,r){"function"===typeof l?(r=l,l=[]):l=l||[];g="string"===typeof g?new e.EventMatch(g,l):g;const p=()=>{this._incomingEventMatches=this._incomingEventTypes=null};l=n=>{const v=
this._incoming[n.match.eventType];v&&(n=v.indexOf(n),v.splice(n,1),p(),this._manager&&this._manager.updateDependencies())};r=new k(g,r,{onPause:l,onRemove:l,onResume:n=>{const v=this._incoming[n.match.eventType];v&&!v.includes(n)&&(v.push(n),p(),this._manager&&this._manager.updateDependencies())}});l=this._incoming[g.eventType];l||(l=[],this._incoming[g.eventType]=l);l.push(r);p();this._manager&&this._manager.updateDependencies();return r};f.registerOutgoing=function(g){if(this._outgoing[g])throw Error("There is already a callback registered for this outgoing InputEvent: "+
g);const l=new t(g,{onEmit:(r,p,n,v)=>{this._manager?.emit(r.eventType,p,n,v)},onRemove:r=>{delete this._outgoing[r.eventType];this._manager?.updateDependencies()}});this._outgoing[g]=l;this._outgoingEventTypes=null;this._manager&&this._manager.updateDependencies();return l};f.startCapturingPointer=function(g){this._manager?.setPointerCapture(g,!0)};f.stopCapturingPointer=function(g){this._manager?.setPointerCapture(g,!1)};f.refreshHasPendingInputs=function(){this._manager?.refreshHasPendingInputs()};
f._onUninstall=function(){this._manager?(this.onUninstall(),this._manager=null):d.error("This InputHandler is not registered with an InputManager")};f._handleEvent=function(g){const l=this._incoming[g.type];if(l)for(const r of l)if(r.match.matches(g)&&(r.callback?.(g),g.shouldStopPropagation()))break};b._createClass(m,[{key:"incomingEventMatches",get:function(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const g in this._incoming){const l=this._incoming[g];for(const r of l)this._incomingEventMatches.push(r.match)}}return this._incomingEventMatches}},
{key:"incomingEventTypes",get:function(){this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(g=>g.eventType));return this._incomingEventTypes}},{key:"outgoingEventTypes",get:function(){this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing));return this._outgoingEventTypes}},{key:"hasSideEffects",get:function(){return this._hasSideEffects}},{key:"hasPendingInputs",get:function(){return!1}}]);return m}();let k=function(){function m(g,l,r){this.match=
g;this._callback=l;this._handler=r}var f=m.prototype;f.pause=function(){this._handler.onPause(this)};f.resume=function(){this._handler.onResume(this)};f.remove=function(){this._handler.onRemove(this)};b._createClass(m,[{key:"callback",get:function(){return this._callback}}]);return m}(),t=function(){function m(g,l){this.eventType=g;this._removed=!1;this._handler=l}var f=m.prototype;f.emit=function(g,l,r){if(!this._removed)this._handler.onEmit(this,g,l,r)};f.remove=function(){this._removed=!0;this._handler.onRemove(this)};
return m}();a.InputHandler=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/EventMatch":function(){define(["exports"],function(a){let b=function(){function c(e,d=[]){this.eventType=e;this.keyModifiers=d}c.prototype.matches=function(e){if(e.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;e=e.modifiers;for(const d of this.keyModifiers)if(!e.has(d))return!1;return!0};return c}();a.EventMatch=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/views/input/handlers/MultiTouch":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../core/accessorSupport/tracking/ObservableValue","../InputHandler"],function(a,b,c,e){e=function(d){function k(){var t=d.call(this,!0)||this;t._activeTouchPointerIds=new Set;t._multiTouchActive=new c.ObservableValue(!1);t._onPointerAdd=({data:m})=>{"touch"===m.pointerType&&(t._activeTouchPointerIds.add(m.native.pointerId),t._update())};t._onPointerRemove=({data:m})=>{"touch"===m.pointerType&&
(t._activeTouchPointerIds.delete(m.native.pointerId),t._update())};t.registerIncoming("pointer-down",t._onPointerAdd);t.registerIncoming("pointer-up",t._onPointerRemove);t.registerIncoming("pointer-capture-lost",t._onPointerRemove);t.registerIncoming("pointer-cancel",t._onPointerRemove);return t}b._inheritsLoose(k,d);k.prototype._update=function(){this._multiTouchActive.set(1<this._activeTouchPointerIds.size)};b._createClass(k,[{key:"multiTouchActive",get:function(){return this._multiTouchActive.get()}}]);
return k}(e.InputHandler);a.MultiTouch=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/ViewEvents":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/has ../../core/mathUtils ../../core/screenUtils ./InputHandler ./InputManager ./IViewEvents".split(" "),function(a,b,c,e,d,k,t,m){function f(n){return!!l[n]}function g(n){for(const v of n)if(!f(v))return!1;return!0}c="click double-click immediate-click immediate-double-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");
const l={};c.forEach(n=>{l[n]=!0});let r=function(){function n(h){this._handlers=new Map;this._counter=0;this._handlerCounts=new Map;this.view=h;this.inputManager=null}var v=n.prototype;v.connect=function(h){h&&this.disconnect();this.inputManager=h;this._handlers.forEach(({handler:q,priority:u},z)=>this.inputManager?.installHandlers(z,[q],u))};v.disconnect=function(){this.inputManager&&this._handlers.forEach((h,q)=>this.inputManager?.uninstallHandlers(q));this.inputManager=null};v.destroy=function(){this.disconnect();
this._handlers.clear();this.view=null};v.on=function(h,q,u,z){const x=Array.isArray(h)?h:h.split(",");if(!g(x))return x.some(f)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;if(Array.isArray(q))h=q;else{var w=q;h=[]}"function"===typeof u?w=u:z=u;z=null!=z?z:t.ViewEventPriorities.DEFAULT;const A=this._createUniqueGroupName();u=new p(this.view,x,h,w);this._handlers.set(A,{handler:u,priority:z});for(const B of x)w=this._handlerCounts.get(B)||
0,this._handlerCounts.set(B,w+1);this.inputManager&&this.inputManager.installHandlers(A,[u],z);return{remove:()=>this._removeHandler(A,x)}};v.hasHandler=function(h){return!!this._handlerCounts.get(h)};v._removeHandler=function(h,q){if(this._handlers.has(h)){this._handlers.delete(h);for(const u of q)q=this._handlerCounts.get(u),void 0===q?console.error("Trying to remove handler for event that has no handlers registered: ",u):1===q?this._handlerCounts.delete(u):this._handlerCounts.set(u,q-1)}this.inputManager&&
this.inputManager.uninstallHandlers(h)};v._createUniqueGroupName=function(){this._counter+=1;return`viewEvents_${this._counter}`};return n}(),p=function(n){function v(q,u,z,x){var w=n.call(this,!0)||this;w._latestDragStart=void 0;w.view=q;for(const A of u)switch(A){case "click":w.registerIncoming("click",z,B=>x(w._wrapClick(B)));break;case "double-click":w.registerIncoming("double-click",z,B=>x(w._wrapDoubleClick(B)));break;case "immediate-click":w.registerIncoming("immediate-click",z,B=>x(w._wrapImmediateClick(B)));
break;case "immediate-double-click":w.registerIncoming("immediate-double-click",z,B=>x(w._wrapImmediateDoubleClick(B)));break;case "hold":w.registerIncoming("hold",z,B=>x(w._wrapHold(B)));break;case "drag":w.registerIncoming("drag",z,B=>{(B=w._wrapDrag(B))&&x(B)});break;case "key-down":w.registerIncoming("key-down",z,B=>x(w._wrapKeyDown(B)));break;case "key-up":w.registerIncoming("key-up",z,B=>x(w._wrapKeyUp(B)));break;case "pointer-down":w.registerIncoming("pointer-down",z,B=>x(w._wrapPointer(B,
"pointer-down")));break;case "pointer-move":w.registerIncoming("pointer-move",z,B=>x(w._wrapPointer(B,"pointer-move")));break;case "pointer-up":w.registerIncoming("pointer-up",z,B=>x(w._wrapPointer(B,"pointer-up")));break;case "pointer-drag":w.registerIncoming("pointer-drag",z,B=>x(w._wrapPointerDrag(B)));break;case "mouse-wheel":w.registerIncoming("mouse-wheel",z,B=>x(w._wrapMouseWheel(B)));break;case "pointer-enter":w.registerIncoming("pointer-enter",z,B=>x(w._wrapPointer(B,"pointer-enter")));break;
case "pointer-leave":w.registerIncoming("pointer-leave",z,B=>x(w._wrapPointer(B,"pointer-leave")));break;case "gamepad":w.registerIncoming("gamepad",z,B=>{x(w._wrapGamepad(B))});break;case "focus":w.registerIncoming("focus",z,B=>{x(w._wrapFocus(B))});break;case "blur":w.registerIncoming("blur",z,B=>{x(w._wrapBlur(B))})}return w}b._inheritsLoose(v,n);var h=v.prototype;h._wrapFocus=function(q){return{type:"focus",timestamp:q.timestamp,native:q.data.native,cancelable:q.cancelable,stopPropagation:()=>
q.stopPropagation(),async:u=>q.async(u),preventDefault:()=>q.preventDefault()}};h._wrapBlur=function(q){return{type:"blur",timestamp:q.timestamp,native:q.data.native,cancelable:q.cancelable,stopPropagation:()=>q.stopPropagation(),async:u=>q.async(u),preventDefault:()=>q.preventDefault()}};h._wrapClick=function(q){const {pointerType:u,button:z,buttons:x,x:w,y:A,native:B,eventId:E}=q.data,{cancelable:y,timestamp:C}=q,D=d.createScreenPoint(w,A),J=this._getMapPoint(w,A);return{type:"click",pointerType:u,
button:z,buttons:x,x:w,y:A,native:B,timestamp:C,screenPoint:D,mapPoint:J,eventId:E,cancelable:y,stopPropagation:()=>q.stopPropagation(),async:M=>q.async(M),preventDefault:()=>q.preventDefault()}};h._wrapDoubleClick=function(q){const {pointerType:u,button:z,buttons:x,x:w,y:A,native:B,eventId:E}=q.data,{cancelable:y,timestamp:C}=q;return{type:"double-click",pointerType:u,button:z,buttons:x,x:w,y:A,native:B,timestamp:C,mapPoint:this._getMapPoint(w,A),eventId:E,cancelable:y,stopPropagation:()=>q.stopPropagation(),
async:D=>q.async(D),preventDefault:()=>q.preventDefault()}};h._wrapImmediateClick=function(q){const {pointerType:u,button:z,buttons:x,x:w,y:A,native:B,eventId:E}=q.data,y=B.pointerId,{cancelable:C,timestamp:D}=q;return{type:"immediate-click",pointerId:y,pointerType:u,button:z,buttons:x,x:w,y:A,native:B,timestamp:D,mapPoint:this._getMapPoint(w,A),eventId:E,cancelable:C,stopPropagation:()=>q.stopPropagation(),async:J=>q.async(J),preventDefault:()=>q.preventDefault()}};h._wrapImmediateDoubleClick=function(q){const {pointerType:u,
button:z,buttons:x,x:w,y:A,native:B,eventId:E}=q.data,y=B.pointerId,{cancelable:C,timestamp:D}=q;return{type:"immediate-double-click",pointerId:y,pointerType:u,button:z,buttons:x,x:w,y:A,native:B,timestamp:D,mapPoint:this._getMapPoint(w,A),eventId:E,cancelable:C,stopPropagation:()=>q.stopPropagation(),async:J=>q.async(J),preventDefault:()=>q.preventDefault()}};h._wrapHold=function(q){const {pointerType:u,button:z,buttons:x,x:w,y:A,native:B}=q.data,{cancelable:E,timestamp:y}=q;return{type:"hold",pointerType:u,
button:z,buttons:x,x:w,y:A,native:B,timestamp:y,mapPoint:this._getMapPoint(w,A),cancelable:E,stopPropagation:()=>q.stopPropagation(),async:C=>q.async(C),preventDefault:()=>q.preventDefault()}};h._getMapPoint=function(q,u){return this.view.toMap(d.createScreenPoint(q,u),{exclude:[]})};h._wrapDrag=function(q){const u=q.data,{x:z,y:x}=u.center,{action:w,pointerType:A,button:B}=u;"start"===w&&(this._latestDragStart=u);if(this._latestDragStart){var E=u.pointer.native,y=u.buttons,{cancelable:C,timestamp:D}=
q,J={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};"end"===w&&(this._latestDragStart=void 0);return{type:"drag",action:w,x:z,y:x,origin:J,pointerType:A,button:B,buttons:y,radius:u.radius,angle:e.rad2deg(u.angle),native:E,timestamp:D,cancelable:C,stopPropagation:()=>q.stopPropagation(),async:M=>q.async(M),preventDefault:()=>q.preventDefault()}}};h._wrapKeyDown=function(q){const {key:u,repeat:z,native:x}=q.data,{cancelable:w,timestamp:A}=q;return{type:"key-down",key:u,repeat:z,
native:x,timestamp:A,cancelable:w,stopPropagation:()=>q.stopPropagation(),async:B=>q.async(B),preventDefault:()=>q.preventDefault()}};h._wrapKeyUp=function(q){const {key:u,native:z}=q.data,{cancelable:x,timestamp:w}=q;return{type:"key-up",key:u,native:z,timestamp:w,cancelable:x,stopPropagation:()=>q.stopPropagation(),async:A=>q.async(A),preventDefault:()=>q.preventDefault()}};h._wrapPointer=function(q,u){const {x:z,y:x,button:w,buttons:A,native:B,eventId:E}=q.data,y=B.pointerId,C=B.pointerType,{cancelable:D,
timestamp:J}=q;return{type:u,x:z,y:x,pointerId:y,pointerType:C,button:w,buttons:A,native:B,timestamp:J,eventId:E,cancelable:D,stopPropagation:()=>q.stopPropagation(),async:M=>q.async(M),preventDefault:()=>q.preventDefault()}};h._wrapPointerDrag=function(q){const {x:u,y:z,buttons:x,native:w,eventId:A}=q.data.currentEvent,{button:B}=q.data.startEvent,E=q.data.startEvent.native.pointerId,y=q.data.startEvent.native.pointerType,C=q.data.action,D={x:q.data.startEvent.x,y:q.data.startEvent.y},{cancelable:J,
timestamp:M}=q;return{type:"pointer-drag",x:u,y:z,pointerId:E,pointerType:y,button:B,buttons:x,action:C,origin:D,native:w,timestamp:M,eventId:A,cancelable:J,stopPropagation:()=>q.stopPropagation(),async:L=>q.async(L),preventDefault:()=>q.preventDefault()}};h._wrapMouseWheel=function(q){const {cancelable:u,data:z,timestamp:x}=q,{x:w,y:A,deltaY:B,native:E}=z;return{type:"mouse-wheel",x:w,y:A,deltaY:B,native:E,timestamp:x,cancelable:u,stopPropagation:()=>q.stopPropagation(),async:y=>q.async(y),preventDefault:()=>
q.preventDefault()}};h._wrapGamepad=function(q){const {action:u,state:z,device:x}=q.data,{cancelable:w,timestamp:A}=q,{buttons:B,axes:E}=z;return{type:"gamepad",device:x,timestamp:A,action:u,buttons:B,axes:E,cancelable:w,stopPropagation:()=>q.stopPropagation(),async:y=>q.async(y),preventDefault:()=>q.preventDefault()}};return v}(k.InputHandler);Object.defineProperty(a,"MouseButton",{enumerable:!0,get:()=>m.MouseButton});a.ViewEvents=r;a.eventTypes=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/views/input/IViewEvents":function(){define(["exports"],function(a){a.MouseButton=void 0;var b=a.MouseButton||(a.MouseButton={});b[b.Left=0]="Left";b[b.Middle=1]="Middle";b[b.Right=2]="Right";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/interactiveToolUtils":function(){define(["exports","../../core/Logger","./interfaces"],function(a,b,c){a.areToolManipulatorsEditable=function(e){return e.visible&&null!=e.getEditableFlag&&e.getEditableFlag(c.EditableFlag.USER)&&
e.getEditableFlag(c.EditableFlag.MANAGER)};a.getToolCollectionHandles=function(e){return[e.on("before-add",d=>{const k=d.item;if(null==k||e.includes(k))b.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),d.preventDefault();else k.onAdd()}),e.on("after-remove",d=>{d=d.item;d.active&&(d.view.activeTool=null);d.destroy()})]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/interfaces":function(){define(["exports"],
function(a){a.EditableFlag=void 0;(function(b){b[b.USER=0]="USER";b[b.MANAGER=1]="MANAGER"})(a.EditableFlag||(a.EditableFlag={}));a.ManipulatorStateFlags=void 0;(function(b){b[b.None=0]="None";b[b.Unfocused=1]="Unfocused";b[b.Focused=2]="Focused";b[b.Unselected=4]="Unselected";b[b.Selected=8]="Selected";b[b.All=15]="All"})(a.ManipulatorStateFlags||(a.ManipulatorStateFlags={}));a.ManipulatorStateCustomFlags=void 0;(function(b){b[b.None=0]="None";b[b.Custom1=16]="Custom1";b[b.Custom2=32]="Custom2";
b[b.Custom3=64]="Custom3";b[b.Custom4=128]="Custom4";b[b.Custom5=256]="Custom5";b[b.Custom6=512]="Custom6";b[b.Custom7=1024]="Custom7";b[b.Custom8=2048]="Custom8";b[b.Custom9=4096]="Custom9";b[b.Custom10=8192]="Custom10";b[b.Custom11=16384]="Custom11";b[b.Custom12=32768]="Custom12";b[b.All=65520]="All"})(a.ManipulatorStateCustomFlags||(a.ManipulatorStateCustomFlags={}));Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/ToolViewManagerManipulatorState":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/iteratorUtils ../../core/MapUtils ../../core/mathUtils ../../core/maybe ../../core/screenUtils ./interactiveToolUtils ../support/screenUtils".split(" "),
function(a,b,c,e,d,k,t,m,f){let g=function(){function l(){this._pointerLocations=new Map;this._hoveredManipulators=new Map;this._grabbedManipulators=new Map;this._draggedManipulators=new Map;this._revertToNullActiveTool=this._stopDrag=!1;this._cursor=null}var r=l.prototype;r.handleInputEvent=function(p,n){var v=()=>p.stopPropagation();switch(p.type){case "pointer-move":"mouse"===p.pointerType&&this._pointerLocations.set(p.pointerId,{x:p.x,y:p.y,pointerType:p.pointerType});break;case "drag":0<this._grabbedManipulators.size&&
(this._stopDrag=!0);this._stopDrag&&(p.stopPropagation(),"end"===p.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===p.pointerType&&0!==p.button)break;v=f.createScreenPointFromEvent(p);var h=this._intersect(v,p.pointerType,n.forEachTool);if(k.isNone(h))break;var q=h.manipulator,u=h.tool;!(k.isSome(q)&&k.isSome(u)&&q.interactive)||q.grabbable&&q.grabbableForEvent(p)||!q.grabbing||q.dragging||this._ungrabManipulatorBeforeDragging(q,p,n);k.isSome(q)&&k.isSome(u)&&q.interactive&&q.grabbable&&
q.grabbableForEvent(p)&&!q.grabbing&&(this._grabbedManipulators.set(p.pointerId,{manipulator:q,tool:u,start:v,pointerType:p.pointerType}),1===this._grabbedManipulators.size&&k.isNone(n.activeTool)&&(this._revertToNullActiveTool=!0,n.setActiveTool(h.tool)),q.grabbing=!0,q.events.emit("grab-changed",{action:"start",pointerType:p.pointerType,screenPoint:v}),p.stopPropagation());break;case "pointer-up":this._draggedManipulators.has(p.pointerId)||this._handlePointerEnd(p,n);break;case "pointer-drag":if("mouse"===
p.pointerType&&0!==p.button)break;u=this._grabbedManipulators.get(p.pointerId);v=k.applySome(u,({manipulator:B})=>B);h=k.applySome(u,({tool:B})=>B);if(k.isNone(v)||k.isNone(h))break;q=f.createScreenPointFromEvent(p);q.x=d.clamp(q.x,0,n.view.width);q.y=d.clamp(q.y,0,n.view.height);u=k.unwrap(u).start;const z=this._draggedManipulators.get(p.pointerId);switch(p.action){case "start":case "update":if("update"===p.action||1===this._grabbedManipulators.size)v.dragging=!0,z?v.events.emit("drag",{action:"update",
start:u,screenPoint:q}):v.events.emit("drag",{action:"start",start:u,screenPoint:q,pointerType:p.pointerType}),this._draggedManipulators.set(p.pointerId,{tool:h,manipulator:v,start:u});break;case "end":v.dragging=!1,z&&v.events.emit("drag",{action:"end",start:u,screenPoint:q}),this._draggedManipulators.delete(p.pointerId),this._handlePointerEnd(p,n)}p.stopPropagation();break;case "immediate-click":h=f.createScreenPointFromEvent(p);const x=this._intersect(h,p.pointerType,n.forEachTool);p.native.shiftKey||
n.forEachTool(B=>{if((!k.isSome(x)||x.tool!==B||B.automaticManipulatorSelection)&&B.manipulators){let E=!1;B.manipulators.forEach(({manipulator:y})=>{y.selected&&(y.selected=!1,E=!0)});if(E&&B.onManipulatorSelectionChanged)B.onManipulatorSelectionChanged()}});if(k.isNone(x))break;const {manipulator:w,tool:A}=x;if(!w.interactive)break;if(w.selectable&&A.automaticManipulatorSelection&&(w.selected=!w.selected,A.onManipulatorSelectionChanged))A.onManipulatorSelectionChanged();w.events.emit("immediate-click",
{screenPoint:h,button:p.button,pointerType:p.pointerType,shiftKey:p.native.shiftKey,stopPropagation:v});break;case "click":v=f.createScreenPointFromEvent(p);h=this._intersect(v,p.pointerType,n.forEachTool);h=k.isSome(h)?h.manipulator:null;if(k.isNone(h)||!h.interactive)break;h.events.emit(p.type,{screenPoint:v,button:p.button,pointerType:p.pointerType,shiftKey:p.native.shiftKey});p.stopPropagation();break;case "double-click":h=f.createScreenPointFromEvent(p);q=this._intersect(h,p.pointerType,n.forEachTool);
q=k.isSome(q)?q.manipulator:null;if(k.isNone(q)||!q.interactive)break;q.events.emit("double-click",{screenPoint:h,button:p.button,pointerType:p.pointerType,shiftKey:p.native.shiftKey,stopPropagation:v});break;case "immediate-double-click":h=f.createScreenPointFromEvent(p),q=this._intersect(h,p.pointerType,n.forEachTool),q=k.isSome(q)?q.manipulator:null,!k.isNone(q)&&q.interactive&&q.events.emit("immediate-double-click",{screenPoint:h,button:p.button,pointerType:p.pointerType,shiftKey:p.native.shiftKey,
stopPropagation:v})}this._onFocusChange(n.forEachTool)};r._ungrabManipulatorBeforeDragging=function(p,n,v){p.grabbing=!1;p.events.emit("grab-changed",{action:"end",pointerType:n.pointerType,screenPoint:f.createScreenPointFromEvent(n)});this._grabbedManipulators.forEach(({manipulator:h},q)=>{h===p&&this._grabbedManipulators.delete(q)});this._afterManipulatorUngrab(v.setActiveTool)};r._handlePointerEnd=function(p,n){const v=k.applySome(this._grabbedManipulators.get(p.pointerId),({manipulator:h})=>h);
!k.isNone(v)&&v.grabbing&&(v.grabbing=!1,v.events.emit("grab-changed",{action:"end",pointerType:p.pointerType,screenPoint:f.createScreenPointFromEvent(p)}),this._grabbedManipulators.delete(p.pointerId),this._afterManipulatorUngrab(n.setActiveTool))};r._cursorFromMap=function(p){let n=null;e.someMap(p,({manipulator:v})=>{if(!k.isNone(v)&&v.interactive){if(v.grabbing&&v.grabCursor)return n=v.grabCursor,!0;if(v.cursor)return n=v.cursor,!0}return!1});return n};r._onFocusChange=function(p){this._updateCursor();
this._updateFocusedManipulatorTools(p)};r._updateCursor=function(){this._cursor=0<this._grabbedManipulators.size?this._cursorFromMap(this._grabbedManipulators)||"grabbing":0<this._hoveredManipulators.size?this._cursorFromMap(this._hoveredManipulators)||"pointer":null};r._updateFocusedManipulatorTools=function(p){const n=new Set,v=new Set;this._grabbedManipulators.forEach(({tool:h})=>{n.add(h)});this._hoveredManipulators.forEach(({tool:h})=>{v.add(h)});p(h=>{h.hasGrabbedManipulators=n.has(h);h.hasHoveredManipulators=
v.has(h);var q=this._grabbedManipulators.values();q=c.find(q,({tool:u})=>u===h);h.firstGrabbedManipulator=k.isSome(q)?q.manipulator:null})};r.clearPointers=function(p,{forEachTool:n,setActiveTool:v},h=!0,q){const u=(z,x)=>z===p&&(k.isNone(q)||q===x);this._grabbedManipulators.forEach(({tool:z,manipulator:x,pointerType:w},A)=>{u(z,x)&&(this._grabbedManipulators.delete(A),x.grabbing=!1,x.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:w}))});this._draggedManipulators.forEach(({tool:z,
manipulator:x},w)=>{u(z,x)&&(this._draggedManipulators.delete(w),x.dragging=!1,x.events.emit("drag",{action:"cancel"}))});h&&this._hoveredManipulators.forEach(({tool:z,manipulator:x},w)=>{u(z,x)&&(this._hoveredManipulators.delete(w),x.hovering=!1)});this._afterManipulatorUngrab(v);this._onFocusChange(n)};r._intersect=function(p,n,v){let h=null;v(q=>{if(null==q.manipulators||!m.areToolManipulatorsEditable(q))return!1;const u=q.manipulators.intersect(p,n);if(k.isNone(u))return!1;h={tool:q,manipulator:u};
return!0});return h};r.updateHoveredStateFromKnownPointers=function(p){this._pointerLocations.forEach((n,v)=>{this._updateHoveredStateForPointerAtScreenPosition(t.createScreenPoint(n.x,n.y),v,n.pointerType,p)})};r.handleHoverEvent=function(p,n){"pointer-up"!==p.type&&"immediate-click"!==p.type&&"pointer-move"!==p.type||"mouse"!==p.pointerType||this._updateHoveredStateForPointerAtScreenPosition(f.createScreenPointFromEvent(p),p.pointerId,p.pointerType,n)};r._updateHoveredStateForPointerAtScreenPosition=
function(p,n,v,h){p=this._intersect(p,v,h);v=k.applySome(this._hoveredManipulators.get(n),({manipulator:q})=>q);k.isSome(p)&&!p.manipulator.interactive&&(p=null);k.isSome(p)&&v===p.manipulator||(k.isSome(v)&&(v.hovering=!1),k.isSome(p)?(p.manipulator.hovering=!0,this._hoveredManipulators.set(n,p)):this._hoveredManipulators.delete(n),this._onFocusChange(h))};r._afterManipulatorUngrab=function(p){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(p(null),this._revertToNullActiveTool=
!1)};b._createClass(l,[{key:"cursor",get:function(){return this._cursor}}]);return l}();a.ToolViewManagerManipulatorState=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/screenUtils":function(){define(["exports","../../core/has","../../core/screenUtils"],function(a,b,c){function e(k){return c.createScreenPoint(k.x,k.y)}function d(k,t){return(k=(k instanceof HTMLElement?k:k.surface)?.getBoundingClientRect())?c.createScreenPoint(t.clientX-k.left,t.clientY-k.top):
c.createScreenPoint(0,0)}a.createScreenPointArrayFromEvent=function(k){return c.createScreenPointArray(k.x,k.y)};a.createScreenPointFromEvent=e;a.createScreenPointFromNativeEvent=d;a.createScreenPointFromSupportedEvent=function(k,t){return t instanceof Event?d(k,t):e(t)};a.isSupportedScreenPointEvent=function(k){if(k instanceof Event)return!0;if("object"===typeof k&&"type"in k)switch(k.type){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0}return!1};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/Input":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),function(a,b,c,e,d,k,t,m){c=function(f){function g(){var l=f.apply(this,arguments)||this;l.gamepad=new m;return l}a._inheritsLoose(g,
f);return g}(c);b.__decorate([e.property({readOnly:!0})],c.prototype,"gamepad",void 0);return c=b.__decorate([t.subclass("esri.views.input.Input")],c)})},"esri/views/input/gamepad/GamepadSettings":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Collection ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ./GamepadInputDevice".split(" "),
function(a,b,c,e,d,k,t,m,f){c=function(g){function l(...r){r=g.call(this,...r)||this;r.devices=new e;r.enabledFocusMode="document";return r}a._inheritsLoose(l,g);return l}(c);b.__decorate([d.property({type:e.ofType(f),readOnly:!0})],c.prototype,"devices",void 0);b.__decorate([d.property({type:["document","view","none"]})],c.prototype,"enabledFocusMode",void 0);return c=b.__decorate([m.subclass("esri.views.input.gamepad.GamepadSettings")],c)})},"esri/views/input/gamepad/GamepadInputDevice":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t){c=function(g){function l(r){var p=g.call(this)||this;p.nativeIndex=null;p._detectedDeviceType="unknown";"standard"===r.mapping?p._detectedDeviceType="standard":m.test(r.id)?p._detectedDeviceType="spacemouse":p._detectedDeviceType="unknown";p.nativeIndex=r.index;return p}a._inheritsLoose(l,g);a._createClass(l,[{key:"native",get:function(){const r=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<r.length?r[this.nativeIndex]:null}},
{key:"deviceType",get:function(){return this._detectedDeviceType}},{key:"axisThreshold",get:function(){return f[this.deviceType]}}]);return l}(c);b.__decorate([e.property({nonNullable:!0,readOnly:!0})],c.prototype,"nativeIndex",void 0);b.__decorate([e.property({type:String,readOnly:!0})],c.prototype,"deviceType",null);b.__decorate([e.property({type:Number,readOnly:!0})],c.prototype,"axisThreshold",null);c=b.__decorate([t.subclass("esri.views.input.gamepad.GamepadInputDevice")],c);const m=RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))",
"i"),f={standard:.15,spacemouse:.025,unknown:0};return c})},"esri/views/navigation/Navigation":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),function(a,b,c,e,d,k,t,m){c=function(f){function g(l){l=f.call(this,l)||this;l.browserTouchPanEnabled=!0;l.gamepad=
new m;l.momentumEnabled=!0;l.mouseWheelZoomEnabled=!0;return l}a._inheritsLoose(g,f);return g}(c);b.__decorate([e.property({type:Boolean})],c.prototype,"browserTouchPanEnabled",void 0);b.__decorate([e.property({type:m,nonNullable:!0})],c.prototype,"gamepad",void 0);b.__decorate([e.property({type:Boolean})],c.prototype,"momentumEnabled",void 0);b.__decorate([e.property({type:Boolean})],c.prototype,"mouseWheelZoomEnabled",void 0);return c=b.__decorate([t.subclass("esri.views.navigation.Navigation")],
c)})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ../../input/gamepad/GamepadInputDevice".split(" "),function(a,b,c,e,d,k,t,m){c=function(f){function g(l){l=f.call(this,l)||this;l.enabled=!0;l.device=null;l.mode="pan";l.tiltDirection=
"forward-down";l.velocityFactor=1;return l}a._inheritsLoose(g,f);return g}(c);b.__decorate([e.property({type:Boolean,nonNullable:!0})],c.prototype,"enabled",void 0);b.__decorate([e.property({type:m})],c.prototype,"device",void 0);b.__decorate([e.property({type:["pan","zoom"],nonNullable:!0})],c.prototype,"mode",void 0);b.__decorate([e.property({type:["forward-down","forward-up"],nonNullable:!0})],c.prototype,"tiltDirection",void 0);b.__decorate([e.property({type:Number,nonNullable:!0})],c.prototype,
"velocityFactor",void 0);return c=b.__decorate([t.subclass("esri.views.navigation.gamepad.GamepadSettings")],c)})},"esri/views/support/DefaultsFromMap":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/asyncUtils ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../../geometry/support/heightModelInfoUtils ../ViewingMode ./projectionUtils".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n){a.DefaultsFromMap=function(v){function h(u){u=v.call(this,u)||this;u.required={tileInfo:!1,heightModelInfo:!1,extent:!1};u.defaultSpatialReference=null;u.userSpatialReference=null;u.sourcePreloadCount=10;u.priorityCollection=null;u.requiresExtentInSpatialReference=!0;u.suspended=!1;u._projectExtentTask={task:null,input:null,output:null,spatialReference:null};return u}b._inheritsLoose(h,v);var q=h.prototype;q.destroy=function(){this._projectExtentTask.task&&(this._projectExtentTask.task=
k.abortMaybe(this._projectExtentTask.task));this._set("map",null)};q._narrowDownSpatialReferenceCandidates=function(u,z){if(k.isNone(u))return z;const x=[];for(const A of u)for(const B of z)if(A.spatialReference.equals(B.spatialReference)){u=A.viewingMode;var w=B.viewingMode;u=k.isSome(u)?k.isSome(w)?u===w?u:!1:u:w;if(!1!==u){x.push({spatialReference:A.spatialReference,viewingMode:u});break}}return 0<x.length?x:null};q._pickSpatialReferenceCandidate=function(u){const z=this.defaultSpatialReference;
if(k.isNone(u)||1>u.length)return k.isSome(z)?{spatialReference:z,viewingMode:null}:null;k.isSome(z)&&1<u.length&&u.some(({spatialReference:x})=>x.equals(z))&&(u=u.filter(({spatialReference:x})=>x.equals(z)));1<u.length&&u.some(({viewingMode:x})=>x!==p.ViewingMode.Local)&&(u=u.filter(({viewingMode:x})=>x!==p.ViewingMode.Local));return u[0]};q._getSupportedSpatialReferences=function(u){var z="supportedSpatialReferences"in u&&u.supportedSpatialReferences||(u.spatialReference?[u.spatialReference]:[]);
if(0===z.length)return[];const x=[];for(const w of z)if(z=this.getSpatialReferenceSupport({spatialReference:w,layer:u}),k.isSome(z)){z=k.isSome(z.constraints)?z.constraints:[{spatialReference:w,viewingMode:null}];for(const {spatialReference:A,viewingMode:B}of z)(!this.requiresExtentInSpatialReference||k.isNone(this.userSpatialReference)||A.equals(this.userSpatialReference))&&x.push({spatialReference:A,viewingMode:B})}return x};q._pickExtentCandidate=function(u){const z=this.spatialReference;return u.find(({extent:x})=>
z.equals(x.spatialReference))||u[0]};q._collectLayers=function(u){if("loaded"!==this._loadMaybe(this.map?.()))return{layers:[],updating:!0};const z={layers:[],preloading:-1,updating:!1};for(const x of u)if(this._collectCollection(x,z),z.preloading===this.sourcePreloadCount)break;return{layers:z.layers,updating:z.updating}};q._collectCollection=function(u,z){if(u.layers){switch(this._loadMaybe(u.parent)){case "loading":z.updating=!0;++z.preloading;return;case "failed":return}for(const x of u.layers){switch(this._loadMaybe(x)){case "failed":continue;
case "loading":z.updating=!0;++z.preloading;break;case "loaded":z.updating||z.layers.push(x),"layers"in x&&this._collectCollection({layers:x.layers},z)}if(z.preloading===this.sourcePreloadCount)break}}};q._loadMaybe=function(u){return u&&"loadStatus"in u&&null!=u.loadStatus?"not-loaded"===u.loadStatus?(u.load().catch(()=>{}),"loading"):u.loadStatus:"loaded"};b._createClass(h,[{key:"ready",get:function(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}},
{key:"heightModelInfoReady",get:function(){return!this._heightModelInfoTask.updating}},{key:"spatialReference",get:function(){return k.isSome(this.userSpatialReference)?this.userSpatialReference:k.unwrap(this._spatialReferenceTask.spatialReference)}},{key:"extent",get:function(){return k.unwrap(this._extentTask.extent)}},{key:"heightModelInfo",get:function(){return k.unwrap(this._heightModelInfoTask.heightModelInfo)}},{key:"vcsWkid",get:function(){return k.unwrap(this._heightModelInfoTask.vcsWkid)}},
{key:"latestVcsWkid",get:function(){return k.unwrap(this._heightModelInfoTask.latestVcsWkid)}},{key:"viewingMode",get:function(){return k.isNone(this.userSpatialReference)||this.userSpatialReference.equals(k.unwrap(this._spatialReferenceTask.spatialReference))?k.unwrap(this._spatialReferenceTask.viewingMode):null}},{key:"tileInfo",get:function(){return k.unwrap(this._tileInfoTask.tileInfo)}},{key:"mapCollections",get:function(){const u=this.map?.(),z=[];k.isSome(this.priorityCollection)&&z.push(this.priorityCollection);
z.push({parent:u?.basemap,layers:u?.basemap?.baseLayers},{layers:u?.layers},{parent:u?.ground,layers:u?.ground?.layers},{parent:u?.basemap,layers:u?.basemap?.referenceLayers});return z}},{key:"_allLayers",get:function(){return this._collectLayers(this.mapCollections)}},{key:"_spatialReferenceTask",get:function(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const {layers:u,updating:z}=this._allLayers;var x=null;for(const A of u){var w=this._getSupportedSpatialReferences(A);
0<w.length&&(w=this._narrowDownSpatialReferenceCandidates(x,w),k.isSome(w)&&(x=w));if(k.isSome(x)&&1===x.length)break}if(z&&(k.isNone(x)||1!==x.length))return{updating:!0};x=this._pickSpatialReferenceCandidate(x);return{spatialReference:k.isSome(x)?x.spatialReference:null,viewingMode:k.isSome(x)?x.viewingMode:null,updating:!1}}},{key:"_tileInfoTask",get:function(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};
const {layers:u,updating:z}=this._collectLayers([{parent:this.map?.()?.basemap,layers:this.map?.()?.basemap?.baseLayers},{layers:this.map?.()?.layers}]);if(u&&0<u.length&&"tileInfo"in u[0]){const x=u[0].tileInfo;return{tileInfo:x&&x.spatialReference.equals(this.spatialReference)?x:null,updating:!1}}return{updating:z}}},{key:"_heightModelInfoTask",get:function(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??
{updating:!1};const {layers:u,updating:z}=this._allLayers;for(const x of u)if(r.supportsHeightModelInfo(x)){const w=r.deriveHeightModelInfoFromLayer(x);if(w)return{heightModelInfo:w,vcsWkid:x.spatialReference?.vcsWkid,latestVcsWkid:x.spatialReference?.latestVcsWkid,updating:!1}}return{updating:z}}},{key:"_extentCandidatesTask",get:function(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};
var u=this._allLayers;const z=u.updating,x=[];for(const A of u.layers){u="fullExtents"in A&&A.fullExtents||(k.isSome(A.fullExtent)?[A.fullExtent]:[]);var w=this.requiresExtentInSpatialReference?null:u[0];if(w=u.find(B=>B.spatialReference.equals(this.spatialReference))??w)return{candidates:[{extent:w,layer:A}],updating:!1};if(0<this._getSupportedSpatialReferences(A).length)for(const B of u)x.push({extent:B,layer:A})}return{candidates:x,updating:z}}},{key:"_extentTask",get:function(){var u=this;const {candidates:z,
updating:x}=this._extentCandidatesTask;if(x)return{updating:x};if(k.isNone(z)||0===z.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const w=this._pickExtentCandidate(z),A=this.spatialReference;if(w.extent.equals(this._projectExtentTask.input)&&A.equals(this._projectExtentTask.spatialReference))return{extent:this._projectExtentTask.output,updating:k.isSome(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished};k.isSome(this._projectExtentTask.task)&&
(this._projectExtentTask.task=k.abortMaybe(this._projectExtentTask.task));this._projectExtentTask={input:w.extent.clone(),output:null,spatialReference:A.clone(),task:d.createTask(function(){var B=b._asyncToGenerator(function*(E){try{const y=yield n.projectWithEngineOrService(w.extent,A,w.layer.portalItem,E);u._projectExtentTask={...u._projectExtentTask,task:null,output:y}}catch(y){t.isAborted(E)||(u._projectExtentTask={...u._projectExtentTask,task:null})}});return function(E){return B.apply(this,
arguments)}}())};return{updating:!0}}}]);return h}(e);c.__decorate([m.property()],a.DefaultsFromMap.prototype,"required",void 0);c.__decorate([m.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"map",void 0);c.__decorate([m.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"getSpatialReferenceSupport",void 0);c.__decorate([m.property()],a.DefaultsFromMap.prototype,"defaultSpatialReference",void 0);c.__decorate([m.property()],a.DefaultsFromMap.prototype,"userSpatialReference",void 0);
c.__decorate([m.property()],a.DefaultsFromMap.prototype,"sourcePreloadCount",void 0);c.__decorate([m.property()],a.DefaultsFromMap.prototype,"priorityCollection",void 0);c.__decorate([m.property()],a.DefaultsFromMap.prototype,"requiresExtentInSpatialReference",void 0);c.__decorate([m.property()],a.DefaultsFromMap.prototype,"suspended",void 0);c.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"ready",null);c.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfoReady",
null);c.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"spatialReference",null);c.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"extent",null);c.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfo",null);c.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"vcsWkid",null);c.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"latestVcsWkid",null);c.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,
"viewingMode",null);c.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"tileInfo",null);c.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"mapCollections",null);c.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_allLayers",null);c.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_spatialReferenceTask",null);c.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_tileInfoTask",null);c.__decorate([m.property({readOnly:!0})],
a.DefaultsFromMap.prototype,"_heightModelInfoTask",null);c.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_extentCandidatesTask",null);c.__decorate([m.property()],a.DefaultsFromMap.prototype,"_extentTask",null);c.__decorate([m.property()],a.DefaultsFromMap.prototype,"_projectExtentTask",void 0);a.DefaultsFromMap=c.__decorate([l.subclass("esri.views.support.DefaultsFromMap")],a.DefaultsFromMap);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/heightModelInfoUtils":function(){define("exports ../../core/has ../../core/Error ../../core/maybe ../HeightModelInfo ../../layers/support/arcgisLayerUrl".split(" "),
function(a,b,c,e,d,k){function t(v,h,q){if(!m(v)||!m(h))return p.Unsupported;if(null==v||null==h)return p.Ok;if(!q&&v.heightUnit!==h.heightUnit)return p.Units;if(v.heightModel!==h.heightModel)return p.HeightModel;switch(v.heightModel){case "gravity-related-height":return p.Ok;case "ellipsoidal":return v.vertCRS===h.vertCRS?p.Ok:p.CRS;default:return p.Unsupported}}function m(v){return null==v||null!=v.heightModel&&null!=v.heightUnit}function f(v){const h=v.url?k.parse(v.url):void 0;return(null!=v.spatialReference?.vcsWkid||
!e.isSome(h)||"ImageServer"!==h.serverType)&&"heightModelInfo"in v&&v.heightModelInfo?v.heightModelInfo:l(v)?d.deriveUnitFromSR(n,v.spatialReference):null}function g(v){if("unknown"===v.type||!("capabilities"in v))return!1;switch(v.type){case "csv":case "feature":case "geojson":case "subtype-group":case "ogc-feature":case "oriented-imagery":case "wfs":case "knowledge-graph-sublayer":return!0;case "imagery":case "map-image":case "map-notes":case "tile":case "vector-tile":case "scene":case null:return!1;
default:return!1}}function l(v){return g(v)?!!(v.capabilities&&v.capabilities.data&&v.capabilities.data.supportsZ):r(v)}function r(v){switch(v.type){case "building-scene":case "elevation":case "integrated-mesh":case "point-cloud":case "scene":case "voxel":return!0}return!1}var p;(function(v){v[v.Ok=0]="Ok";v[v.Units=1]="Units";v[v.HeightModel=2]="HeightModel";v[v.CRS=3]="CRS";v[v.Unsupported=4]="Unsupported"})(p||(p={}));const n=new d({heightModel:"gravity-related-height"});a.deriveHeightModelInfoFromLayer=
f;a.rejectLayerError=function(v,h,q){const u=f(v),z=t(u,h,q);if(u){const x=d.deriveUnitFromSR(u,v.spatialReference).heightUnit;if(!q&&x!==u.heightUnit)return h=new c("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${x})`,{horizontalUnit:x}),new c("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:u,error:h})}if(!("heightModelInfo"in v&&null!=v.heightModelInfo||null!=v.spatialReference)&&
l(v)||z===p.Unsupported)return new c("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:u});switch(z){case p.Units:return v=u?.heightUnit||"unknown",q=h?.heightUnit||"unknown",v=new c("layerview:incompatible-height-unit",`The vertical units of the layer (${v}) must match the vertical units of the scene (${q})`,{layerUnit:v,sceneUnit:q}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",
{layerHeightModelInfo:u,sceneHeightModelInfo:h,error:v});case p.HeightModel:return v=u?.heightModel||"unknown",q=h?.heightModel||"unknown",v=new c("layerview:incompatible-height-model",`The height model of the layer (${v}) must match the height model of the scene (${q})`,{layerHeightModel:v,sceneHeightModel:q}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:u,sceneHeightModelInfo:h,error:v});case p.CRS:return v=
u?.vertCRS||"unknown",q=h?.vertCRS||"unknown",v=new c("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${v}) must match the vertical datum of the scene (${q})`,{layerDatum:v,sceneDatum:q}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:u,sceneHeightModelInfo:h,error:v})}return null};a.supportsHeightModelInfo=function(v){return null!=v.layers||r(v)||g(v)||"heightModelInfo"in
v};a.validateWebSceneError=function(v,h){if(!v)return null;if(!m(v))return new c("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:v});const q=v.heightUnit;v=d.deriveUnitFromSR(v,h).heightUnit;return q!==v?new c("webscene:incompatible-height-unit",`The vertical units of the scene (${q}) must match the horizontal units of the scene (${v})`,{verticalUnit:q,horizontalUnit:v}):null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/views/ViewingMode":function(){define(["exports"],function(a){a.ViewingMode=void 0;(function(b){b[b.Global=1]="Global";b[b.Local=2]="Local"})(a.ViewingMode||(a.ViewingMode={}));a.stringFromViewingMode=function(b){return b===a.ViewingMode.Global?"global":"local"};a.viewingModeFromString=function(b){return"global"===b?a.ViewingMode.Global:a.ViewingMode.Local};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/projectionUtils":function(){define(["require","exports",
"../../chunks/_rollupPluginBabelHelpers","../../core/promiseUtils","../../geometry/projection"],function(a,b,c,e,d){function k(r){return t.apply(this,arguments)}function t(){t=c._asyncToGenerator(function*(r){g||(g=(new Promise((p,n)=>a(["../../portal/support/geometryServiceUtils"],p,n))).then(p=>l=p));yield g;e.throwIfAborted(r)});return t.apply(this,arguments)}function m(r,p,n,v){return f.apply(this,arguments)}function f(){f=c._asyncToGenerator(function*(r,p,n,v){if(!r)return null;const h=r.spatialReference;
if(d.isLoaded()||d.canProjectWithoutEngine(h,p))return d.project(r,p);if(l)return l.projectGeometry(r,p,n,v);yield Promise.race([k(v),d.load(v)]);return m(r,p,n,v)});return f.apply(this,arguments)}let g=null,l;b.projectWithEngineOrService=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/ViewAnimation":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/Promise ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f){e=function(g){function l(p){p=g.call(this,p)||this;p.state="running";p.target=null;p._dfd=null;return p}a._inheritsLoose(l,g);var r=l.prototype;r.initialize=function(){this.addResolvingPromise(new Promise((p,n)=>this._dfd={resolve:p,reject:n}))};r.stop=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd?.reject(new c("ViewAnimation stopped")))};r.finish=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state",
"finished"),this._dfd?.resolve())};r.update=function(p,n){n||(n=d.isPromiseLike(p)?"waiting-for-target":"running");this._set("target",p);this._set("state",n)};a._createClass(l,[{key:"done",get:function(){return"finished"===this.state||"stopped"===this.state}}]);return l}(e.EsriPromise);b.__decorate([k.property({readOnly:!0})],e.prototype,"done",null);b.__decorate([k.property({readOnly:!0,type:String})],e.prototype,"state",void 0);b.__decorate([k.property()],e.prototype,"target",void 0);e=b.__decorate([f.subclass("esri.views.ViewAnimation")],
e);(e||(e={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};return e})},"esri/views/layers/LayerView":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Evented ../../core/HandleOwner ../../core/Identifiable ../../core/Logger ../../core/maybe ../../core/Promise ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p){c=function(n){function v(q){q=n.call(this,q)||this;q.layer=null;q.parent=null;return q}a._inheritsLoose(v,n);var h=v.prototype;h.initialize=function(){this.when().catch(q=>{if("layerview:create-error"!==q.name){const u=this.layer&&this.layer.id||"no id",z=this.layer&&this.layer.title||"no title";t.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${z}', id: '${u}')`,q)}})};h.canResume=function(){return this.visible&&this.layer?.loaded&&
!this.parent?.suspended&&this.view?.ready||!1};h.getSuspendInfo=function(){const q=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};this.view&&this.view.ready||(q.viewNotReady=!0);this.layer&&this.layer.loaded||(q.layerNotLoaded=!0);this.visible||(q.layerInvisible=!0);return q};h.isUpdating=function(){return!1};a._createClass(v,[{key:"fullOpacity",get:function(){return m.unwrapOr(this.get("layer.opacity"),1)*m.unwrapOr(this.get("parent.fullOpacity"),1)}},{key:"suspended",get:function(){return!this.canResume()}},
{key:"suspendInfo",get:function(){return this.getSuspendInfo()}},{key:"legendEnabled",get:function(){return!this.suspended&&!0===this.layer?.legendEnabled}},{key:"updating",get:function(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}},{key:"updatingProgress",get:function(){return this.updating?0:1}},{key:"visible",get:function(){return!0===this.layer?.visible},set:function(q){this._overrideIfSome("visible",q)}}]);return v}(d.HandleOwnerMixin(k.IdentifiableMixin(f.EsriPromiseMixin(e.EventedMixin(c)))));
b.__decorate([g.property()],c.prototype,"fullOpacity",null);b.__decorate([g.property()],c.prototype,"layer",void 0);b.__decorate([g.property()],c.prototype,"parent",void 0);b.__decorate([g.property({readOnly:!0})],c.prototype,"suspended",null);b.__decorate([g.property({readOnly:!0})],c.prototype,"suspendInfo",null);b.__decorate([g.property({readOnly:!0})],c.prototype,"legendEnabled",null);b.__decorate([g.property({type:Boolean,readOnly:!0})],c.prototype,"updating",null);b.__decorate([g.property({readOnly:!0})],
c.prototype,"updatingProgress",null);b.__decorate([g.property()],c.prototype,"visible",null);b.__decorate([g.property()],c.prototype,"view",void 0);return c=b.__decorate([p.subclass("esri.views.layers.LayerView")],c)})},"esri/widgets/Widget":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../intl ../core/domUtils ../core/Evented ../core/events ../core/Handles ../core/has ../core/lang ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/uuid ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleTrackingTarget ../libs/maquette-advanced-projector/projector ./support/componentsUtils ./support/jsxWidgetSupport ./support/symbols ./support/tests ./support/vnodeCache ./support/widgetUtils ../intl/locale ../intl/messages".split(" "),
function(a,b,c,e,d,k,t,m,f,g,l,r,p,n,v,h,q,u,z,x,w,A,B,E,y,C,D,J,M){function L(H,O){for(const Q in O)null!=H[Q]&&("object"===typeof H[Q]&&"object"===typeof O[Q]?L(H[Q],O?.[Q]):H[Q]=O[Q]);return H}let I=0;const G=w.createAdvancedProjector({postProcessProjectionOptions(H){const O=H.eventHandlerInterceptor,Q=/capture$/i;H.eventHandlerInterceptor=(W,T,Y,X)=>{const ra=O?.(W,T,Y,X),Ba=Q.test(W);W=W.replace(Q,"");if(!(W.toLowerCase()in Y)||Ba){const Ga=W[2].toLowerCase()+W.slice(3),Ha=na=>ra?.call(Y,na);
Y.addEventListener(Ga,Ha,Ba);const da=X.afterRemoved;X.afterRemoved=na=>{da?.(na);Y.removeEventListener(Ga,Ha,Ba)}}return ra}},handleInterceptedEvent(H,O,Q,W){const {eventPhase:T,type:Y}=W,X=T===Event.CAPTURING_PHASE;let ra=`on${Y}${X?"capture":""}`;O=O.properties;if(!(O&&ra in O||(ra=`on${Y[0].toUpperCase()}${Y.slice(1)}${X?"Capture":""}`,O&&ra in O)))return;C.clearVNodeCache();H.scheduleRender();O[ra].call(O.bind||Q,W)}});let K=!1;d=function(H,O){function Q(T,Y){var X=H.call(this,T,Y)||this;X._attached=
!1;X._internalHandles=new t;X._projector=G;X._readyForTrueRender=!1;X.iconClass="esri-icon-checkbox-unchecked";X.key=a._assertThisInitialized(X);X._loadLocale=p.debounce(a._asyncToGenerator(function*(){if(X._messageBundleProps&&X._messageBundleProps.length){const Ha=yield p.eachAlways(X._messageBundleProps.map(function(){var da=a._asyncToGenerator(function*({bundlePath:na,propertyName:xa}){na=yield M.fetchMessageBundle(na);X.uiStrings&&Object.keys(X.uiStrings)&&(na=L(f.clone(na),X.uiStrings));X[xa]=
na});return function(na){return da.apply(this,arguments)}}()));for(const da of Ha)da.error&&g.getLogger(X.declaredClass).error("widget-intl:locale-error",X.declaredClass,da.error)}yield X.loadLocale()}));A.commitAssetPath();const ra="esri-widget-uid-"+v.generateUUID(),Ba=X.render.bind(a._assertThisInitialized(X));X._trackingTarget=new x.SimpleTrackingTarget(()=>X.scheduleRender());const Ga=()=>{if(!X._readyForTrueRender||X.destroyed)return null;if(!X.visible)return{vnodeSelector:"div",properties:{key:ra,
class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0};const Ha=Ba();let {properties:da}=Ha;da||(Ha.properties=da={});let {key:na,styles:xa}=da;na||(da.key=ra);xa||(da.styles=xa={});xa.display||(xa.display="");let Na=0;Ha.children?.forEach(Oa=>{if(!B.isWidgetConstructor(Oa.vnodeSelector)){var {properties:N}=Oa;N||(Oa.properties=N={});N.key||(N.key=`${X.id}--${Na++}`)}});return B.processWidgets(a._assertThisInitialized(X),Ha)};X.render=()=>{if(K)return Ga();let Ha=C.getVNodeCache(a._assertThisInitialized(X))??
null;if(Ha)return Ha;X._trackingTarget.clear();K=!0;try{Ha=z.runTracked(X._trackingTarget,Ga)}catch(da){throw console.error(da),da;}finally{K=!1}Ha&&C.setVNodeCache(a._assertThisInitialized(X),Ha);return Ha};X.addResolvingPromise(X._resourcesFetch=X.beforeFirstRender().then(()=>{X._readyForTrueRender=!0;X._postInitialize()}));y.registerLoading(X._resourcesFetch);return X}a._inheritsLoose(Q,H);var W=Q.prototype;W.normalizeCtorArgs=function(T,Y){T={...T};Y&&(T.container=Y);return T};W.postInitialize=
function(){};W.beforeFirstRender=function(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(p.throwIfNotAbortError)};W.loadDependencies=function(){var T=a._asyncToGenerator(function*(){});return function(){return T.apply(this,arguments)}}();W.loadLocale=function(){var T=a._asyncToGenerator(function*(){});return function(){return T.apply(this,arguments)}}();W.destroy=function(){this.destroyed||(l.destroyMaybe(this._trackingTarget),l.destroyMaybe(this.viewModel),
this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,C.deleteVNodeCache(this))};W.castContainer=function(T){return e.byId(T)};W.render=function(){throw Error("not implemented");};W.scheduleRender=function(){this.destroyed||(C.deleteVNodeCache(this),this._projector.scheduleRender())};W.classes=function(...T){return D.classes.apply(this,T)};W.renderNow=function(){C.deleteVNodeCache(this);this._projector.renderNow()};
W._postInitialize=function(){var T=this;if(!this.destroyed){this.scheduleRender();this._delegatedEventNames?.length&&this._internalHandles.add(n.watch(()=>this.viewModel,(X,ra)=>{ra&&this._internalHandles.remove("delegated-events");X&&k.isEventTarget(X)&&this._internalHandles.add(this._delegatedEventNames.map(Ba=>k.on(X,Ba,Ga=>{this.emit(Ba,Ga)})),"delegated-events")},n.initial));this.postInitialize();var Y=function(){var X=a._asyncToGenerator(function*(){yield T._loadLocale().catch(p.throwIfNotAbortError);
T.scheduleRender()});return function(){return X.apply(this,arguments)}}();this._internalHandles.add([J.onLocaleChange(Y),n.watch(()=>this.uiStrings,Y),n.when(()=>this.container,X=>{this.destroyed||this._attach(X)},{initial:!0,once:!0})])}};W._attach=function(T){T&&(this._projector.merge(T,this.render),this._attached=!0)};W._detach=function(T){this._attached&&(this._projector.detach(this.render),this._attached=!1);T?.parentNode?.removeChild(T)};a._createClass(Q,[{key:"container",set:function(T){this._get("container")||
this._set("container",T)}},{key:"domNode",get:function(){return this.container},set:function(T){this.container=T}},{key:"id",get:function(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+I++},set:function(T){T&&this._set("id",T)}},{key:"label",get:function(){return this.declaredClass.split(".").pop()},set:function(T){this._overrideIfSome("label",T)}},{key:"renderable",get:function(){return this._resourcesFetch}},{key:"visible",get:function(){return this._get("visible")},
set:function(T){this._set("visible",T)}},{key:O,get:function(){return{projector:this._projector}}}]);return Q}(r.EsriPromiseMixin(d.EventedAccessor),(c=E.WIDGET_SYMBOL,E.WIDGET_TEST_DATA_SYMBOL));d[c]=!0;b.__decorate([h.property()],d.prototype,"_readyForTrueRender",void 0);b.__decorate([h.property({value:null})],d.prototype,"container",null);b.__decorate([q.cast("container")],d.prototype,"castContainer",null);b.__decorate([h.property()],d.prototype,"iconClass",void 0);b.__decorate([h.property()],
d.prototype,"id",null);b.__decorate([h.property()],d.prototype,"label",null);b.__decorate([h.property()],d.prototype,"renderable",null);b.__decorate([h.property()],d.prototype,"uiStrings",void 0);b.__decorate([h.property()],d.prototype,"viewModel",void 0);b.__decorate([h.property({value:!0})],d.prototype,"visible",null);b.__decorate([h.property()],d.prototype,"key",void 0);b.__decorate([h.property()],d.prototype,"children",void 0);b.__decorate([h.property()],d.prototype,"afterCreate",void 0);b.__decorate([h.property()],
d.prototype,"afterUpdate",void 0);b.__decorate([h.property()],d.prototype,"afterRemoved",void 0);return d=b.__decorate([u.subclass("esri.widgets.Widget")],d)})},"esri/core/domUtils":function(){define(["exports"],function(a){const b=(()=>{if("function"===typeof Element.prototype.closest)return(e,d)=>e.closest(d);const c=Element.prototype.matches||Element.prototype.msMatchesSelector;return(e,d)=>{do{if(c.call(e,d))return e;e=e.parentElement}while(null!==e&&1===e.nodeType);return null}})();a.byId=function(c){return"string"===
typeof c?document.getElementById(c):c??null};a.closest=b;a.empty=function(c){for(;c.hasChildNodes();)c.removeChild(c.firstChild)};a.insertAfter=function(c,e){const d=e.parentNode;d&&(d.lastChild===e?d.appendChild(c):d.insertBefore(c,e.nextSibling))};a.insertBefore=function(c,e){const d=e.parentNode;d&&d.insertBefore(c,e)};a.remove=function(c){c.parentNode&&c.parentNode.removeChild(c)};a.reparent=function(c,e){for(;;){const d=c.firstChild;if(!d)break;e.appendChild(d)}};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/uuid":function(){define(["exports"],function(a){const b="randomUUID"in crypto;a.generateUUID=function(){if(b)return crypto.randomUUID();const c=crypto.getRandomValues(new Uint16Array(8));c[3]=c[3]&4095|16384;c[4]=c[4]&16383|32768;const e=d=>c[d].toString(16).padStart(4,"0");return e(0)+e(1)+"-"+e(2)+"-"+e(3)+"-"+e(4)+"-"+e(5)+e(6)+e(7)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/projector":function(){define(["exports",
"../maquette/dom","../maquette/projector","./advanced-projector-options","./utils"],function(a,b,c,e,d){const k=(f,g)=>{const l=[];for(;f&&f!==g;)l.push(f),f=f.parentNode;return l},t=(f,g)=>f.find(g),m=(f,g,l=!1)=>{let r=f;g.forEach((p,n)=>{const v=r?.children?t(r.children,h=>h.domNode===p):void 0;if(!l||v||n===g.length-1)r=v});return r};a.createAdvancedProjector=f=>{let g;const l={...e.defaultAdvancedProjectorOptions,...f},r=d.applyDefaultProjectionOptions(l),p=r.performanceLogger;let n=!0,v,h=!1;
const q=[],u=[],z=(w,A,B)=>{let E;r.eventHandlerInterceptor=(C,D,J,M)=>function(L){p("domEvent",L);var I=k(L.currentTarget,E.domNode);const G=I.some(H=>customElements.get(H?.tagName?.toLowerCase()));L.eventPhase!==Event.CAPTURING_PHASE&&G?(I=L.composedPath(),I=I.slice(I.indexOf(L.currentTarget),I.indexOf(E.domNode)).filter(H=>H.getRootNode()===H.ownerDocument).reverse(),I=m(E.getLastRender(),I,!0)):(I.reverse(),I=m(E.getLastRender(),I));let K;I&&(K=l.handleInterceptedEvent(g,I,this,L));p("domEventProcessed",
L);return K};l.postProcessProjectionOptions?.(r);const y=B();E=w(A,y,r);q.push(E);u.push(B);l.afterFirstVNodeRendered&&l.afterFirstVNodeRendered(E,y)};let x=()=>{v=void 0;if(n){n=!1;p("renderStart",void 0);for(let w=0;w<q.length;w++){const A=u[w]();p("rendered",void 0);q[w].update(A);p("patched",void 0)}p("renderDone",void 0);n=!0}};l.modifyDoRenderImplementation&&(x=l.modifyDoRenderImplementation(x,q,u));return g={renderNow:x,scheduleRender:()=>{v||h||(v=requestAnimationFrame(x))},stop:()=>{v&&(cancelAnimationFrame(v),
v=void 0);h=!0},resume:()=>{h=!1;n=!0;g.scheduleRender()},append:(w,A)=>{z(b.dom.append,w,A)},insertBefore:(w,A)=>{z(b.dom.insertBefore,w,A)},merge:(w,A)=>{z(b.dom.merge,w,A)},replace:(w,A)=>{z(b.dom.replace,w,A)},detach:w=>{for(let A=0;A<u.length;A++)if(u[A]===w)return u.splice(A,1),q.splice(A,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/dom":function(){define(["exports","./projection"],function(a,b){const c=
{namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,d,k)=>{"-"===d.charAt(0)?e.style.setProperty(d,k):e.style[d]=k}};a.applyDefaultProjectionOptions=e=>b.extend(c,e);a.dom={create:(e,d)=>{d=b.extend(c,d);b.createDom(e,document.createElement("div"),void 0,d);return b.createProjection(e,d)},append:(e,d,k)=>{k=b.extend(c,k);b.createDom(d,e,void 0,k);return b.createProjection(d,k)},insertBefore:(e,d,k)=>{k=b.extend(c,k);b.createDom(d,e.parentNode,e,k);return b.createProjection(d,
k)},merge:(e,d,k)=>{k=b.extend(c,k);d.domNode=e;b.initPropertiesAndChildren(e,d,k);return b.createProjection(d,k)},replace:(e,d,k)=>{k=b.extend(c,k);b.createDom(d,e.parentNode,e,k);e.parentNode.removeChild(e);return b.createProjection(d,k)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projection":function(){define(["exports","../../widgets/support/widgetUtils"],function(a,b){function c(x){if(!(x instanceof Element&&x.tagName.includes("-")))return!1;const w=
window.customElements.get(x.tagName.toLowerCase());return!!w&&x instanceof w}let e=[],d=(x,w)=>{let A={};Object.keys(x).forEach(B=>{A[B]=x[B]});w&&Object.keys(w).forEach(B=>{A[B]=w[B]});return A},k=(x,w)=>x.vnodeSelector!==w.vnodeSelector?!1:x.properties&&w.properties?x.properties.key!==w.properties.key?!1:x.properties.bind===w.properties.bind:!x.properties&&!w.properties,t=x=>{if("string"!==typeof x)throw Error("Style values must be strings");},m=(x,w,A,B)=>{let E=x[w];if(""!==E.vnodeSelector){var y=
E.properties;if(!(y&&(void 0===y.key?y.bind:y.key)))for(y=0;y<x.length;y++)if(y!==w&&k(x[y],E))throw Error(`${A.vnodeSelector} had a ${E.vnodeSelector} child ${"added"===B?B:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`);}},f=[],g=!1,l=x=>{(x.children||[]).forEach(l);x.properties&&x.properties.afterRemoved&&x.properties.afterRemoved.apply(x.properties.bind||x.properties,[x.domNode])},r=()=>{g=!1;f.forEach(l);f.length=0},p=x=>{f.push(x);
g||(g=!0,"undefined"!==typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(r,{timeout:16}):setTimeout(r,16))},n=x=>{let w=x.domNode;if(x.properties){let A=x.properties.exitAnimation;if(A){w.style.pointerEvents="none";A(w,()=>{w.parentNode&&(w.parentNode.removeChild(w),p(x))},x.properties);return}}w.parentNode&&(w.parentNode.removeChild(w),p(x))},v=(x,w,A)=>{if(w){var B=A.eventHandlerInterceptor,E=Object.keys(w),y=E.length;for(let L=0;L<y;L++){var C=E[L];let I=w[C];if("className"===
C)throw Error('Property "className" is not supported, use "class".');if("class"===C)z(x,I,!0);else if("classes"===C){C=Object.keys(I);var D=C.length;for(var J=0;J<D;J++){var M=C[J];I[M]&&x.classList.add(M)}}else if("styles"===C)for(C=Object.keys(I),D=C.length,J=0;J<D;J++){M=C[J];let G=I[M];G&&(t(G),A.styleApplyer(x,M,G))}else"key"!==C&&null!==I&&void 0!==I&&(D=typeof I,"function"===D?(0===C.lastIndexOf("on",0)&&(B&&(I=B(C,I,x,w)),"oninput"===C&&function(){let G=I;I=function(K){G.apply(this,[K]);K.target["oninput-value"]=
K.target.value}}()),x[C]=I):"http://www.w3.org/2000/svg"===A.namespace?"href"===C?x.setAttributeNS("http://www.w3.org/1999/xlink",C,I):x.setAttribute(C,I):"string"===D&&"value"!==C?"innerHTML"===C?x[C]=b.renderingSanitizer.sanitize(I):c(x)&&C in x?x[C]=I:x.setAttribute(C,I):x[C]=I)}}},h=(x,w,A)=>{var B=w.children;if(B)for(let E of B)q(E,x,void 0,A);w.text&&(x.textContent=w.text);v(x,w.properties,A);w.properties&&w.properties.afterCreate&&w.properties.afterCreate.apply(w.properties.bind||w.properties,
[x,A,w.vnodeSelector,w.properties,w.children])},q=(x,w,A,B)=>{let E;var y=0;let C=x.vnodeSelector,D=w.ownerDocument;if(""===C)E=x.domNode=D.createTextNode(x.text),void 0!==A?w.insertBefore(E,A):w.appendChild(E);else{for(let M=0;M<=C.length;++M){var J=C.charAt(M);if(M===C.length||"."===J||"#"===J)J=C.charAt(y-1),y=C.slice(y,M),"."===J?E.classList.add(y):"#"===J?E.id=y:("svg"===y&&(B=d(B,{namespace:"http://www.w3.org/2000/svg"})),void 0!==B.namespace?E=x.domNode=D.createElementNS(B.namespace,y):(E=
x.domNode=x.domNode||D.createElement(y),"input"===y&&x.properties&&void 0!==x.properties.type&&E.setAttribute("type",x.properties.type)),void 0!==A?w.insertBefore(E,A):E.parentNode!==w&&w.appendChild(E)),y=M+1}h(E,x,B)}},u,z=(x,w,A)=>{w&&w.split(" ").forEach(B=>{B&&x.classList.toggle(B,A)})};u=(x,w,A)=>{let B=x.domNode;if(x===w)return!1;let E=!1;if(""===w.vnodeSelector){if(w.text!==x.text)return x=B.ownerDocument.createTextNode(w.text),B.parentNode.replaceChild(x,B),w.domNode=x,!0;w.domNode=B}else{0===
w.vnodeSelector.lastIndexOf("svg",0)&&(A=d(A,{namespace:"http://www.w3.org/2000/svg"}));x.text!==w.text&&(E=!0,void 0===w.text?B.removeChild(B.firstChild):B.textContent=w.text);w.domNode=B;var y=x.children;var C=w.children,D=A;if(y===C)y=!1;else{y=y||e;C=C||e;for(var J=y.length,M=C.length,L=0,I=0,G=!1;I<M;){var K=L<J?y[L]:void 0,H=C[I];if(void 0!==K&&k(K,H))G=u(K,H,D)||G,L++;else{b:{K=y;var O=H,Q=L+1;if(""!==O.vnodeSelector)for(;Q<K.length;Q++)if(k(K[Q],O)){K=Q;break b}K=-1}if(0<=K){for(;L<K;L++)n(y[L]),
m(y,L,w,"removed");G=u(y[K],H,D)||G;L=K+1}else q(H,B,L<J?y[L].domNode:void 0,D),H.properties&&(K=H.properties.enterAnimation)&&K(H.domNode,H.properties),m(C,I,w,"added")}I++}if(J>L)for(;L<J;L++)n(y[L]),m(y,L,w,"removed");y=G}E=y||E;y=x.properties;C=w.properties;D=A;if(C){J=!1;M=Object.keys(C);I=M.length;for(G=0;G<I;G++)if(K=M[G],H=C[K],L=y[K],"class"===K)L!==H&&(z(B,L,!1),z(B,H,!0));else if("classes"===K){K=B.classList;O=Object.keys(H);Q=O.length;for(var W=0;W<Q;W++){var T=O[W];let Y=!!H[T];Y!==!!L[T]&&
(J=!0,Y?K.add(T):K.remove(T))}}else if("styles"===K)for(K=Object.keys(H),O=K.length,Q=0;Q<O;Q++)W=K[Q],T=H[W],T!==L[W]&&(J=!0,T?(t(T),D.styleApplyer(B,W,T)):D.styleApplyer(B,W,""));else H||"string"!==typeof L||(H=""),"value"===K?(O=B[K],O!==H&&(B["oninput-value"]?O===B["oninput-value"]:H!==L)&&(B[K]=H,B["oninput-value"]=void 0),H!==L&&(J=!0)):H!==L&&(L=typeof H,"function"===L&&D.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===D.namespace?"href"===K?B.setAttributeNS("http://www.w3.org/1999/xlink",
K,H):B.setAttribute(K,H):"string"===L?"innerHTML"===K?B[K]=b.renderingSanitizer.sanitize(H):"role"===K&&""===H?B.removeAttribute(K):c(B)&&K in B?B[K]=H:B.setAttribute(K,H):B[K]!==H&&(B[K]=H),J=!0));y=J}else y=void 0;E=y||E;w.properties&&w.properties.afterUpdate&&w.properties.afterUpdate.apply(w.properties.bind||w.properties,[B,A,w.vnodeSelector,w.properties,w.children])}E&&w.properties&&w.properties.updateAnimation&&w.properties.updateAnimation(B,w.properties,x.properties);return!1};a.createDom=q;
a.createProjection=(x,w)=>({getLastRender:()=>x,update:A=>{if(x.vnodeSelector!==A.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let B=x;x=A;u(B,A,w)},domNode:x.domNode});a.extend=d;a.initPropertiesAndChildren=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widgetUtils":function(){define("exports ../../core/ArrayPool ../../core/handleUtils ../../core/has ../../core/Logger ./vnodeCache".split(" "),
function(a,b,c,e,d,k){function t(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,
"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,
"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,
"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,
cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,"float":!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,
"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,
"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,
"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,
"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,
"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,
"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,
"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,
"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function m(U){U=U||{};var ca={},la;for(la in U)ca[la]=U[la];U=ca;U.whiteList=U.whiteList||G.whiteList;U.onAttr=U.onAttr||G.onAttr;U.onIgnoreAttr=U.onIgnoreAttr||G.onIgnoreAttr;U.safeAttrValue=U.safeAttrValue||G.safeAttrValue;this.options=U}function f(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:"autoplay controls crossorigin loop muted preload src".split(" "),
b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],
summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls crossorigin loop muted playsinline poster preload src height width".split(" ")}}function g(U){return U.replace(T,"\x26lt;").replace(Y,"\x26gt;")}function l(U){return U.replace(X,
"\x26quot;")}function r(U){return U.replace(ra,'"')}function p(U){return U.replace(Ba,function(ca,la){return"x"===la[0]||"X"===la[0]?String.fromCharCode(parseInt(la.substr(1),16)):String.fromCharCode(parseInt(la,10))})}function n(U){return U.replace(Ga,":").replace(Ha," ")}function v(U){for(var ca="",la=0,Ca=U.length;la<Ca;la++)ca+=32>U.charCodeAt(la)?" ":U.charAt(la);return Q.trim(ca)}function h(U){U=r(U);U=p(U);U=n(U);return U=v(U)}function q(U){U=l(U);return U=g(U)}function u(U,ca){for(;ca<U.length;ca++){var la=
U[ca];if(" "!==la)return"\x3d"===la?ca:-1}}function z(U,ca){for(;ca<U.length;ca++){var la=U[ca];if(" "!==la)return"'"===la||'"'===la?ca:-1}}function x(U,ca){for(;0<ca;ca--){var la=U[ca];if(" "!==la)return"\x3d"===la?ca:-1}}function w(U){var ca='"'===U[0]&&'"'===U[U.length-1]||"'"===U[0]&&"'"===U[U.length-1]?!0:!1;return ca?U.substr(1,U.length-2):U}function A(U){var ca=Ia.spaceIndex(U);if(-1===ca)return{html:"",closing:"/"===U[U.length-2]};U=Ia.trim(U.slice(ca+1,-1));(ca="/"===U[U.length-1])&&(U=Ia.trim(U.slice(0,
-1)));return{html:U,closing:ca}}function B(U){var ca={},la;for(la in U)Array.isArray(U[la])?ca[la.toLowerCase()]=U[la].map(function(Ca){return Ca.toLowerCase()}):ca[la.toLowerCase()]=U[la];return ca}function E(U){U=U||{};var ca={},la;for(la in U)ca[la]=U[la];U=ca;U.stripIgnoreTag&&(U.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),U.onIgnoreTag=S.onIgnoreTagStripAll);U.whiteList=U.whiteList||U.allowList?B(U.whiteList||U.allowList):
S.whiteList;U.onTag=U.onTag||S.onTag;U.onTagAttr=U.onTagAttr||S.onTagAttr;U.onIgnoreTag=U.onIgnoreTag||S.onIgnoreTag;U.onIgnoreTagAttr=U.onIgnoreTagAttr||S.onIgnoreTagAttr;U.safeAttrValue=U.safeAttrValue||S.safeAttrValue;U.escapeHtml=U.escapeHtml||S.escapeHtml;this.options=U;!1===U.css?this.cssFilter=!1:(U.css=U.css||{},this.cssFilter=new N(U.css))}function y(U){U=U?.closest("[dir]");return null!==U&&U instanceof HTMLElement&&"rtl"===U.dir||"rtl"===document.dir}var C=function(U){if("object"!==typeof U||
null===U||"[object Object]"!==Object.prototype.toString.call(U))return!1;var ca=Object.getPrototypeOf(U);if(null===ca)return!0;for(;null!==Object.getPrototypeOf(ca);)ca=Object.getPrototypeOf(ca);return Object.getPrototypeOf(U)===ca},D={exports:{}},J={};e={exports:{}};var M={},L=/javascript\s*:/gim;M.whiteList=t();M.getDefaultWhiteList=t;M.onAttr=function(U,ca,la){};M.onIgnoreAttr=function(U,ca,la){};M.safeAttrValue=function(U,ca){return L.test(ca)?"":ca};var I={indexOf:function(U,ca){var la;if(Array.prototype.indexOf)return U.indexOf(ca);
var Ca=0;for(la=U.length;Ca<la;Ca++)if(U[Ca]===ca)return Ca;return-1},forEach:function(U,ca,la){var Ca;if(Array.prototype.forEach)return U.forEach(ca,la);var Qa=0;for(Ca=U.length;Qa<Ca;Qa++)ca.call(la,U[Qa],Qa,U)},trim:function(U){return String.prototype.trim?U.trim():U.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(U){return String.prototype.trimRight?U.trimRight():U.replace(/(\s*$)/g,"")}},G=M,K=function(U,ca){function la(){if(!Qa){var Ka=I.trim(U.slice(fa,ma)),Ta=Ka.indexOf(":");if(-1!==Ta){var Wa=
I.trim(Ka.slice(0,Ta));Ta=I.trim(Ka.slice(Ta+1));Wa&&(Ka=ca(fa,Fa.length,Wa,Ta,Ka))&&(Fa+=Ka+"; ")}}fa=ma+1}U=I.trimRight(U);";"!==U[U.length-1]&&(U+=";");for(var Ca=U.length,Qa=!1,fa=0,ma=0,Fa="";ma<Ca;ma++){var ua=U[ma];if("/"===ua&&"*"===U[ma+1]){ua=U.indexOf("*/",ma+2);if(-1===ua)break;ma=ua+1;fa=ma+1;Qa=!1}else"("===ua?Qa=!0:")"===ua?Qa=!1:";"===ua?Qa||la():"\n"===ua&&la()}return I.trim(Fa)};m.prototype.process=function(U){U=(U||"").toString();if(!U)return"";var ca=this.options,la=ca.whiteList,
Ca=ca.onAttr,Qa=ca.onIgnoreAttr,fa=ca.safeAttrValue;return K(U,function(ma,Fa,ua,Ka,Ta){var Wa=la[ua],Za=!1;!0===Wa?Za=Wa:"function"===typeof Wa?Za=Wa(Ka):Wa instanceof RegExp&&(Za=Wa.test(Ka));!0!==Za&&(Za=!1);if(Ka=fa(ua,Ka)){ma={position:Fa,sourcePosition:ma,source:Ta,isWhite:Za};if(Za)return Za=Ca(ua,Ka,ma),void 0===Za||null===Za?ua+":"+Ka:Za;Za=Qa(ua,Ka,ma);if(void 0!==Za&&null!==Za)return Za}})};(function(U,ca){ca=U.exports=function(Ca,Qa){return(new m(Qa)).process(Ca)};ca.FilterCSS=m;for(var la in M)ca[la]=
M[la]})(e,e.exports);var H={indexOf:function(U,ca){var la;if(Array.prototype.indexOf)return U.indexOf(ca);var Ca=0;for(la=U.length;Ca<la;Ca++)if(U[Ca]===ca)return Ca;return-1},forEach:function(U,ca,la){var Ca;if(Array.prototype.forEach)return U.forEach(ca,la);var Qa=0;for(Ca=U.length;Qa<Ca;Qa++)ca.call(la,U[Qa],Qa,U)},trim:function(U){return String.prototype.trim?U.trim():U.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(U){return(U=/\s|\n|\t/.exec(U))?U.index:-1}},O=e.exports.getDefaultWhiteList,
Q=H,W=new e.exports.FilterCSS,T=/</g,Y=/>/g,X=/"/g,ra=/&quot;/g,Ba=/&#([a-zA-Z0-9]*);?/gim,Ga=/&colon;?/gim,Ha=/&newline;?/gim,da=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,na=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,xa=/u\s*r\s*l\s*\(.*/gi;J.whiteList=f();J.getDefaultWhiteList=f;J.onTag=function(U,ca,la){};J.onIgnoreTag=function(U,ca,la){};J.onTagAttr=function(U,ca,la){};J.onIgnoreTagAttr=function(U,ca,la){};J.safeAttrValue=function(U,ca,la,Ca){la=
h(la);if("href"===ca||"src"===ca){la=Q.trim(la);if("#"===la)return"#";if("http://"!==la.substr(0,7)&&"https://"!==la.substr(0,8)&&"mailto:"!==la.substr(0,7)&&"tel:"!==la.substr(0,4)&&"data:image/"!==la.substr(0,11)&&"ftp://"!==la.substr(0,6)&&"./"!==la.substr(0,2)&&"../"!==la.substr(0,3)&&"#"!==la[0]&&"/"!==la[0])return""}else if("background"===ca){if(da.lastIndex=0,da.test(la))return""}else if("style"===ca){na.lastIndex=0;if(na.test(la))return"";xa.lastIndex=0;if(xa.test(la)&&(da.lastIndex=0,da.test(la)))return"";
!1!==Ca&&(Ca=Ca||W,la=Ca.process(la))}return la=q(la)};J.escapeHtml=g;J.escapeQuote=l;J.unescapeQuote=r;J.escapeHtmlEntities=p;J.escapeDangerHtml5Entities=n;J.clearNonPrintableCharacter=v;J.friendlyAttrValue=h;J.escapeAttrValue=q;J.onIgnoreTagStripAll=function(){return""};J.StripTagBody=function(U,ca){"function"!==typeof ca&&(ca=function(){});var la=!Array.isArray(U),Ca=[],Qa=!1;return{onIgnoreTag:function(fa,ma,Fa){var ua=la?!0:-1!==Q.indexOf(U,fa);if(ua){if(Fa.isClosing)return Ca.push([!1!==Qa?
Qa:Fa.position,Fa.position+10]),Qa=!1,"[/removed]";Qa||(Qa=Fa.position);return"[removed]"}return ca(fa,ma,Fa)},remove:function(fa){var ma="",Fa=0;Q.forEach(Ca,function(ua){ma+=fa.slice(Fa,ua[0]);Fa=ua[1]});return ma+=fa.slice(Fa)}}};J.stripCommentTag=function(U){for(var ca="",la=0;la<U.length;){var Ca=U.indexOf("\x3c!--",la);if(-1===Ca){ca+=U.slice(la);break}ca+=U.slice(la,Ca);la=U.indexOf("--\x3e",Ca);if(-1===la)break;la+=3}return ca};J.stripBlankChar=function(U){U=U.split("");U=U.filter(function(ca){ca=
ca.charCodeAt(0);return 127===ca?!1:31>=ca?10===ca||13===ca?!0:!1:!0});return U.join("")};J.cssFilter=W;J.getDefaultCSSWhiteList=O;var Na={},Oa=/[^a-zA-Z0-9\\_:.-]/gim;Na.parseTag=function(U,ca,la){var Ca="",Qa=0,fa=!1,ma=!1,Fa=0,ua=U.length,Ka="",Ta="";Fa=0;a:for(;Fa<ua;Fa++)if(Ta=U.charAt(Fa),!1===fa)"\x3c"===Ta&&(fa=Fa);else if(!1===ma)if("\x3c"===Ta)Ca+=la(U.slice(Qa,Fa)),Qa=fa=Fa;else if("\x3e"===Ta)Ca+=la(U.slice(Qa,fa)),Ta=U.slice(fa,Fa+1),Qa=void 0,Qa=Ta,Ka=H.spaceIndex(Qa),Qa=-1===Ka?Qa.slice(1,
-1):Qa.slice(1,Ka+1),Qa=H.trim(Qa).toLowerCase(),"/"===Qa.slice(0,1)&&(Qa=Qa.slice(1)),"/"===Qa.slice(-1)&&(Qa=Qa.slice(0,-1)),Ka=Qa,Ca+=ca(fa,Ca.length,Ka,Ta,"\x3c/"===Ta.slice(0,2)),Qa=Fa+1,fa=!1;else{if('"'===Ta||"'"===Ta){Ka=1;for(var Wa=U.charAt(Fa-Ka);""===Wa.trim()||"\x3d"===Wa;){if("\x3d"===Wa){ma=Ta;continue a}Wa=U.charAt(Fa-++Ka)}}}else Ta===ma&&(ma=!1);Qa<U.length&&(Ca+=la(U.substr(Qa)));return Ca};Na.parseAttr=function(U,ca){function la(Ta,Wa){Ta=H.trim(Ta);Ta=Ta.replace(Oa,"").toLowerCase();
1>Ta.length||(Ta=ca(Ta,Wa||""))&&fa.push(Ta)}for(var Ca=0,Qa=0,fa=[],ma=!1,Fa=U.length,ua=0;ua<Fa;ua++){var Ka=U.charAt(ua);if(!1===ma&&"\x3d"===Ka)ma=U.slice(Ca,ua),Ca=ua+1,Qa='"'===U.charAt(Ca)||"'"===U.charAt(Ca)?Ca:z(U,ua+1);else{if(!1!==ma&&ua===Qa)if(Ka=U.indexOf(Ka,ua+1),-1===Ka)break;else{Ca=H.trim(U.slice(Qa+1,Ka));la(ma,Ca);ma=!1;ua=Ka;Ca=ua+1;continue}/\s|\n|\t/.test(Ka)&&(U=U.replace(/\s|\n|\t/g," "),!1===ma?(Ka=u(U,ua),-1===Ka?(Ca=H.trim(U.slice(Ca,ua)),la(Ca),ma=!1,Ca=ua+1):ua=Ka-1):
(Ka=x(U,ua-1),-1===Ka&&(Ca=H.trim(U.slice(Ca,ua)),Ca=w(Ca),la(ma,Ca),ma=!1,Ca=ua+1)))}}Ca<U.length&&(!1===ma?la(U.slice(Ca)):la(ma,w(H.trim(U.slice(Ca)))));return H.trim(fa.join(" "))};var N=e.exports.FilterCSS,S=J,ja=Na.parseTag,wa=Na.parseAttr,Ia=H;E.prototype.process=function(U){U=(U||"").toString();if(!U)return"";var ca=this.options,la=ca.whiteList,Ca=ca.onTag,Qa=ca.onIgnoreTag,fa=ca.onTagAttr,ma=ca.onIgnoreTagAttr,Fa=ca.safeAttrValue,ua=ca.escapeHtml,Ka=this.cssFilter;ca.stripBlankChar&&(U=S.stripBlankChar(U));
ca.allowCommentTag||(U=S.stripCommentTag(U));var Ta=!1;ca.stripIgnoreTagBody&&(Ta=S.StripTagBody(ca.stripIgnoreTagBody,Qa),Qa=Ta.onIgnoreTag);U=ja(U,function(Wa,Za,bb,ab,fb){Wa={sourcePosition:Wa,position:Za,isClosing:fb,isWhite:Object.prototype.hasOwnProperty.call(la,bb)};Za=Ca(bb,ab,Wa);if(void 0!==Za&&null!==Za)return Za;if(Wa.isWhite){if(Wa.isClosing)return"\x3c/"+bb+"\x3e";Wa=A(ab);var Xa=la[bb];Za=wa(Wa.html,function(Da,Aa){var Va=-1!==Ia.indexOf(Xa,Da),cb=fa(bb,Da,Aa,Va);if(void 0!==cb&&null!==
cb)return cb;if(Va)return(Aa=Fa(bb,Da,Aa,Ka))?Da+'\x3d"'+Aa+'"':Da;cb=ma(bb,Da,Aa,Va);if(void 0!==cb&&null!==cb)return cb});ab="\x3c"+bb;Za&&(ab+=" "+Za);Wa.closing&&(ab+=" /");return ab+"\x3e"}Za=Qa(bb,ab,Wa);return void 0!==Za&&null!==Za?Za:ua(ab)},ua);Ta&&(U=Ta.remove(U));return U};(function(U,ca){function la(Qa,fa){return(new Ca(fa)).process(Qa)}var Ca=E;ca=U.exports=la;ca.filterXSS=la;ca.FilterXSS=Ca;(function(){for(var Qa in J)ca[Qa]=J[Qa];for(var fa in Na)ca[fa]=Na[fa]})();"undefined"!==typeof self&&
"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=U.exports)})(D,D.exports);e=function(){function U(ca,la){var Ca=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],
h5:["style"],h6:["style"],hr:[],i:[],img:"alt border height src style width".split(" "),li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:"border cellpadding cellspacing height style width".split(" "),tbody:[],tr:["align","height","style","valign"],td:"align colspan height nowrap rowspan style valign width".split(" "),th:"align colspan height nowrap rowspan style valign width".split(" "),u:[],ul:[],video:"autoplay controls height loop muted poster preload width".split(" ")};
this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there arcgis-quickcapture mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(fa,ma,Fa,ua){return"a"===fa&&"href"===ma||("img"===fa||"source"===fa)&&"src"===ma?Ca.sanitizeUrl(Fa):D.exports.safeAttrValue(fa,
ma,Fa,ua)}};this._entityMap={"\x26":"\x26#x38;","\x3c":"\x26#x3C;","\x3e":"\x26#x3E;",'"':"\x26#x22;","'":"\x26#x27;","/":"\x26#x2F;"};if(ca&&!la)var Qa=ca;else ca&&la?(Qa=Object.create(this.arcgisFilterOptions),Object.keys(ca).forEach(function(fa){"whiteList"===fa?Qa.whiteList=Ca._extendObjectOfArrays([Ca.arcgisWhiteList,ca.whiteList||{}]):Qa[fa]=ca[fa]})):(Qa=Object.create(this.arcgisFilterOptions),Qa.whiteList=this.arcgisWhiteList);this.xssFilterOptions=Qa;this._xssFilter=new D.exports.FilterXSS(Qa)}
U.prototype.sanitize=function(ca,la){void 0===la&&(la={});switch(typeof ca){case "number":return isNaN(ca)||!isFinite(ca)?null:ca;case "boolean":return ca;case "string":return this._xssFilter.process(ca);case "object":return this._iterateOverObject(ca,la);default:if(!la.allowUndefined||"undefined"!==typeof ca)return null}};U.prototype.sanitizeUrl=function(ca,la){la=(null!==la&&void 0!==la?la:{}).isProtocolRequired;la=void 0===la?!0:la;var Ca=this._trim(ca.substring(0,ca.indexOf(":"))),Qa="/"===ca,
fa=/^#/.test(ca),ma=Ca&&-1<this.allowedProtocols.indexOf(Ca.toLowerCase());return Qa||fa||ma?D.exports.escapeAttrValue(ca):Ca||la?"":D.exports.escapeAttrValue("https://".concat(ca))};U.prototype.sanitizeHTMLAttribute=function(ca,la,Ca,Qa){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(ca,la,Ca,Qa):D.exports.safeAttrValue(ca,la,Ca,Qa)};U.prototype.validate=function(ca,la){void 0===la&&(la={});la=this.sanitize(ca,la);return{isValid:ca===la,sanitized:la}};
U.prototype.encodeHTML=function(ca){var la=this;return String(ca).replace(/[&<>"'\/]/g,function(Ca){return la._entityMap[Ca]})};U.prototype.encodeAttrValue=function(ca){var la=/^[a-zA-Z0-9]$/;return String(ca).replace(/[\x00-\xFF]/g,function(Ca,Qa){return la.test(Ca)?Ca:"\x26#x".concat(Number(ca.charCodeAt(Qa)).toString(16),";")})};U.prototype._extendObjectOfArrays=function(ca){var la={};ca.forEach(function(Ca){Object.keys(Ca).forEach(function(Qa){Array.isArray(Ca[Qa])&&Array.isArray(la[Qa])?la[Qa]=
la[Qa].concat(Ca[Qa]):la[Qa]=Ca[Qa]})});return la};U.prototype._iterateOverObject=function(ca,la){var Ca=this;void 0===la&&(la={});try{var Qa=!1,fa=void 0;if(Array.isArray(ca))fa=ca.reduce(function(ma,Fa){var ua=Ca.validate(Fa,la);if(ua.isValid)return ma.concat([Fa]);Qa=!0;return ma.concat([ua.sanitized])},[]);else if(C(ca))fa=Object.keys(ca).reduce(function(ma,Fa){var ua=ca[Fa],Ka=Ca.validate(ua,la);Ka.isValid?ma[Fa]=ua:(Qa=!0,ma[Fa]=Ka.sanitized);return ma},{});else return la.allowUndefined&&"undefined"===
typeof ca?void 0:null;return Qa?fa:ca}catch(ma){return null}};U.prototype._trim=function(ca){return String.prototype.trim?ca.trim():ca.replace(/(^\s*)|(\s*$)/g,"")};return U}();var V,aa,oa=function(U){if("WebkitTransition"in U.style)V="webkitTransitionEnd",aa="webkitAnimationEnd";else if("transition"in U.style)V="transitionend",aa="animationend";else throw Error("Your browser is not supported!");},P=function(U,ca){void 0===ca&&(ca=U+"-active");return function(la){V||oa(la);var Ca=!1,Qa=function(fa){Ca||
(Ca=!0,la.removeEventListener(V,Qa),la.removeEventListener(aa,Qa),la.classList.remove(U),la.classList.remove(ca))};la.classList.add(U);la.addEventListener(V,Qa);la.addEventListener(aa,Qa);requestAnimationFrame(function(){la.classList.add(ca)})}},Z=function(U,ca){void 0===ca&&(ca=U+"-active");return function(la,Ca){V||oa(la);var Qa=!1,fa=function(ma){Qa||(Qa=!0,la.removeEventListener(V,fa),la.removeEventListener(aa,fa),Ca())};la.classList.add(U);la.addEventListener(V,fa);la.addEventListener(aa,fa);
requestAnimationFrame(function(){la.classList.add(ca)})}};const ia=d.getLogger("esri.widgets.support.widgetUtils");d=(()=>{const U=new Map,ca=new ResizeObserver(la=>{k.clearVNodeCache();for(const Ca of la)U.get(Ca.target)?.(Ca)});return(la,Ca,Qa)=>{U.has(la)&&ia.error("Already observing element",la);U.set(la,Ca);ca.observe(la,Qa);return c.makeHandle(()=>{ca.unobserve(la);U.delete(la)})}})();O="dd dl dt h1 h2 h3 h4 h5 h6 sub sup animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" ");
const qa=O.reduce((U,ca)=>{U[ca]=[];return U},{}),ea="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords d dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");e=new e({whiteList:qa,onTagAttr:(U,ca,la)=>{U=`${ca}="${la}"`;if(ea.includes(ca))return U},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},
!0);a.additionalAllowedTags=O;a.classes=function(U){const ca=b.acquire();for(var la=0;la<arguments.length;la++){const Ca=arguments[la],Qa=typeof Ca;if("string"===Qa)ca.push(Ca);else if(Array.isArray(Ca))ca.push.apply(ca,Ca);else if("object"===Qa)for(const fa in Ca)Ca[fa]&&ca.push(fa)}la=ca.join(" ");b.release(ca);return la};a.cssTransition=function(U,ca){return("enter"===U?P:Z)(ca)};a.discardNode=function(U){this[U.getAttribute("data-node-ref")]=null};a.getDir=function(U){return y(U)?"rtl":"ltr"};
a.isActivationKey=function(U){return"Enter"===U||" "===U};a.isRTL=y;a.keepMenuItemWithinView=function(U,ca){const la=U.getBoundingClientRect();ca=ca.getBoundingClientRect();const Ca=la.top,Qa=ca.top;(la.top+la.height>ca.top+ca.height||Ca<Qa)&&U.scrollIntoView({block:"end"})};a.onResize=d;a.renderingSanitizer=e;a.safeAttrs=ea;a.storeNode=function(U){this[U.getAttribute("data-node-ref")]=U};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/vnodeCache":function(){define(["exports"],
function(a){const b=new Map;a.clearVNodeCache=function(){b.clear()};a.deleteVNodeCache=function(c){b.delete(c)};a.getVNodeCache=function(c){return b.get(c)};a.setVNodeCache=function(c,e){b.set(c,e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projector":function(){define(["exports","./dom"],function(a,b){let c;c=Array.prototype.find?(k,t)=>k.find(t):(k,t)=>k.filter(t)[0];let e=(k,t)=>{let m=k;t.forEach(f=>{m=m&&m.children?c(m.children,g=>g.domNode===f):void 0});
return m},d=(k,t,m)=>{let f=function(g){m("domEvent",g);var l=t(),r=g.currentTarget,p=l.domNode;let n=[];for(;r&&r!==p;)n.push(r),r=r.parentNode;n.reverse();l=e(l.getLastRender(),n);k.scheduleRender();let v;l&&(v=l.properties[`on${g.type}`].apply(l.properties.bind||this,arguments));m("domEventProcessed",g);return v};return(g,l,r,p)=>f};a.createProjector=k=>{let t,m=b.applyDefaultProjectionOptions(k),f=m.performanceLogger,g=!0,l,r=!1,p=[],n=[],v=(q,u,z)=>{let x;m.eventHandlerInterceptor=d(t,()=>x,
f);x=q(u,z(),m);p.push(x);n.push(z)},h=()=>{l=void 0;if(g){g=!1;f("renderStart",void 0);for(let q=0;q<p.length;q++){let u=n[q]();f("rendered",void 0);p[q].update(u);f("patched",void 0)}f("renderDone",void 0);g=!0}};return t={renderNow:h,scheduleRender:()=>{l||r||(l=requestAnimationFrame(h))},stop:()=>{l&&(cancelAnimationFrame(l),l=void 0);r=!0},resume:()=>{r=!1;g=!0;t.scheduleRender()},append:(q,u)=>{v(b.dom.append,q,u)},insertBefore:(q,u)=>{v(b.dom.insertBefore,q,u)},merge:(q,u)=>{v(b.dom.merge,
q,u)},replace:(q,u)=>{v(b.dom.replace,q,u)},detach:q=>{for(let u=0;u<n.length;u++)if(n[u]===q)return n.splice(u,1),p.splice(u,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/advanced-projector-options":function(){define(["exports"],function(a){a.defaultAdvancedProjectorOptions={handleInterceptedEvent:(b,c,e,d)=>{b.scheduleRender();return c.properties[`on${d.type}`].apply(c.properties.bind||
e,[d])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/utils":function(){define(["exports"],function(a){const b={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(c,e,d)=>{c.style[e]=d}};a.applyDefaultProjectionOptions=c=>({...b,...c});Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/componentsUtils":function(){define("exports ../../chunks/dom ../../assets ../../core/has ../../core/urlUtils ../../chunks/index".split(" "),
function(a,b,c,e,d,k){function t(){const {classList:m}=document.body,f=window.matchMedia("(prefers-color-scheme: dark)").matches,g=()=>m.contains(b.darkMode)||m.contains(b.autoMode)&&f?"dark":"light",l=p=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:p}}));let r=g();l(r);window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",p=>{p=p.matches?"dark":"light";r!==p&&l(p);r=p});(new MutationObserver(()=>{var p=g();r!==p&&l(p);r=p})).observe(document.body,
{attributes:!0,attributeFilter:["class"]})}(function(){"undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document&&("interactive"===document.readyState?t():document.addEventListener("DOMContentLoaded",()=>t(),{once:!0}))})();a.commitAssetPath=function(){k.setAssetPath(d.makeAbsolute(c.getAssetUrl("esri/widgets/support/components/assets")))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/dom":function(){define(["exports"],
function(a){function b(K){return K.map(H=>{let O="";for(let Q=0;Q<H;Q++)O+=(65536*(1+Math.random())|0).toString(16).substring(1);return O}).join("-")}function c(K,H){function O(Q){if(Q){var W;(W=Q.closest(H))||(Q=Q.getRootNode().host||null,W=O(Q));Q=W}else Q=null;return Q}return O(K)}function e(K,H){return d(K,H)}function d(K,H){if(K){var O=H(K);if(void 0!==O)return O;({parentNode:K}=K);return d(K instanceof ShadowRoot?K.host:K,H)}}async function k(K){if(K)return"function"===typeof K?.setFocus?K.setFocus():
K.focus()}function t(K,H){return K?Array.from(K.children||[]).filter(O=>O?.matches(H)):[]}function m(K,H,O){H=":not([slot])"===H?t(K,":not([slot])"):Array.from(K.querySelectorAll(H));H=O&&!1===O.direct?H:H.filter(W=>W.parentElement===K);H=O?.matches?H.filter(W=>W?.matches(O.matches)):H;const Q=O?.selector;return Q?H.map(W=>Array.from(W.querySelectorAll(Q))).reduce((W,T)=>[...W,...T],[]).filter(W=>!!W):H}function f(K,H,O){H=":not([slot])"===H?t(K,":not([slot])")[0]||null:K.querySelector(H);H=O&&!1===
O.direct?H:H?.parentElement===K?H:null;H=O?.matches?H?.matches(O.matches)?H:null:H;return(K=O?.selector)?H?.querySelector(K):H}const g=()=>b([2,1,1,1,3]),l={autoMode:"calcite-mode-auto",darkMode:"calcite-mode-dark",lightMode:"calcite-mode-light",rtl:"calcite--rtl"};var r='input select textarea a[href] button [tabindex]:not(slot) audio[controls] video[controls] [contenteditable]:not([contenteditable\x3d"false"]) details\x3esummary:first-of-type details'.split(" "),p=r.join(","),n="undefined"===typeof Element,
v=n?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,h=!n&&Element.prototype.getRootNode?function(K){return K.getRootNode()}:function(K){return K.ownerDocument},q=function(K,H,O){var Q=Array.prototype.slice.apply(K.querySelectorAll(p));H&&v.call(K,p)&&Q.unshift(K);return Q=Q.filter(O)},u=function W(H,O,Q){for(var T=[],Y=Array.from(H);Y.length;){var X=Y.shift();if("SLOT"===X.tagName){var ra=X.assignedElements();ra=W(ra.length?ra:X.children,
!0,Q);Q.flatten?T.push.apply(T,ra):T.push({scopeParent:X,candidates:ra})}else{v.call(X,p)&&Q.filter(X)&&(O||!H.includes(X))&&T.push(X);ra=X.shadowRoot||"function"===typeof Q.getShadowRoot&&Q.getShadowRoot(X);var Ba=!Q.shadowRootFilter||Q.shadowRootFilter(X);ra&&Ba?(ra=W(!0===ra?X.children:ra.children,!0,Q),Q.flatten?T.push.apply(T,ra):T.push({scopeParent:X,candidates:ra})):Y.unshift.apply(Y,X.children)}}return T},z=function(H,O){return 0>H.tabIndex&&(O||/^(AUDIO|VIDEO|DETAILS)$/.test(H.tagName)||
H.isContentEditable)&&isNaN(parseInt(H.getAttribute("tabindex"),10))?0:H.tabIndex},x=function(H,O){return H.tabIndex===O.tabIndex?H.documentOrder-O.documentOrder:H.tabIndex-O.tabIndex},w=function(H){return"DETAILS"===H.tagName&&Array.prototype.slice.apply(H.children).some(function(O){return"SUMMARY"===O.tagName})},A=function(H,O){for(var Q=0;Q<H.length;Q++)if(H[Q].checked&&H[Q].form===O)return H[Q]},B=function(H){if(!H.name)return!0;var O=H.form||h(H),Q=function(T){return O.querySelectorAll('input[type\x3d"radio"][name\x3d"'+
T+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)var W=Q(window.CSS.escape(H.name));else try{W=Q(H.name)}catch(T){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",T.message),!1}Q=A(W,H.form);return!Q||Q===H},E=function(H){H=H.getBoundingClientRect();var O=H.height;return 0===H.width&&0===O},y=function(H,O){var Q=O.displayCheck;
O=O.getShadowRoot;if("hidden"===getComputedStyle(H).visibility)return!0;var W=v.call(H,"details\x3esummary:first-of-type")?H.parentElement:H;if(v.call(W,"details:not([open]) *"))return!0;if(!Q||"full"===Q||"legacy-full"===Q){if("function"===typeof O){for(W=H;H;){var T=H.parentElement,Y=h(H);if(T&&!T.shadowRoot&&!0===O(T))return E(H);H=H.assignedSlot?H.assignedSlot:T||Y===H.ownerDocument?T:Y.host}H=W}O=H;var X;W=h(O).host;for(T=!!(null!==(X=W)&&void 0!==X&&X.ownerDocument.contains(W)||O.ownerDocument.contains(O));!T&&
W;){var ra;W=h(W).host;T=!(null===(ra=W)||void 0===ra||!ra.ownerDocument.contains(W))}if(T)return!H.getClientRects().length;if("legacy-full"!==Q)return!0}else if("non-zero-area"===Q)return E(H);return!1},C=function(H,O){var Q;(Q=O.disabled)||(Q="INPUT"===O.tagName&&"hidden"===O.type);if(!(H=Q||y(O,H)||w(O)))a:{if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(O.tagName))for(H=O.parentElement;H;){if("FIELDSET"===H.tagName&&H.disabled){for(Q=0;Q<H.children.length;Q++){var W=H.children.item(Q);if("LEGEND"===
W.tagName){H=v.call(H,"fieldset[disabled] *")?!0:!W.contains(O);break a}}H=!0;break a}H=H.parentElement}H=!1}return H?!1:!0},D=function(H,O){return"INPUT"===O.tagName&&"radio"===O.type&&!B(O)||0>z(O)||!C(H,O)?!1:!0},J=function(H){H=parseInt(H.getAttribute("tabindex"),10);return isNaN(H)||0<=H?!0:!1},M=function Q(O){var W=[],T=[];O.forEach(function(Y,X){var ra=!!Y.scopeParent,Ba=ra?Y.scopeParent:Y,Ga=z(Ba,ra),Ha=ra?Q(Y.candidates):Ba;0===Ga?ra?W.push.apply(W,Ha):W.push(Ba):T.push({documentOrder:X,
tabIndex:Ga,item:Y,isScope:ra,content:Ha})});return T.sort(x).reduce(function(Y,X){X.isScope?Y.push.apply(Y,X.content):Y.push(X.content);return Y},[]).concat(W)},L=function(O,Q){Q=Q||{};O=Q.getShadowRoot?u([O],Q.includeContainer,{filter:D.bind(null,Q),flatten:!1,getShadowRoot:Q.getShadowRoot,shadowRootFilter:J}):q(O,Q.includeContainer,D.bind(null,Q));return M(O)},I=r.concat("iframe").join(",");const G={getShadowRoot:!0};a.CSS_UTILITY=l;a.autoMode="calcite-mode-auto";a.closestElementCrossShadowBoundary=
c;a.containsCrossShadowBoundary=function(O,Q){return!!e(Q,W=>W===O?!0:void 0)};a.darkMode="calcite-mode-dark";a.ensureId=function(O){return O?O.id=O.id||`${O.tagName.toLowerCase()}-${g()}`:""};a.filterDirectChildren=function(O,Q){return Array.from(O.children).filter(W=>W.matches(Q))};a.focusElement=k;a.focusElementInGroup=(O,Q,W)=>{Q=O.indexOf(Q);const T=Q===O.length-1;W="previous"===W&&0===Q?"last":"next"===W&&T?"first":W;let Y;switch(W){case "first":Y=O[0];break;case "last":Y=O[O.length-1];break;
case "next":Y=O[Q+1]||O[0];break;case "previous":Y=O[Q-1]||O[O.length-1]}k(Y);return Y};a.focusFirstTabbable=function(O){(L(O,G)[0]||O).focus()};a.focusable=function(O,Q){Q=Q||{};return Q.getShadowRoot?u([O],Q.includeContainer,{filter:C.bind(null,Q),flatten:!0,getShadowRoot:Q.getShadowRoot}):q(O,Q.includeContainer,C.bind(null,Q))};a.getElementDir=function(O){return(O=c(O,"[dir]"))?O.getAttribute("dir"):"ltr"};a.getElementProp=function(O,Q,W){return(O=O.closest(`[${Q}]`))?O.getAttribute(Q):W};a.getModeName=
function(O){return c(O,`.${l.darkMode}, .${l.lightMode}`)?.classList.contains("calcite-mode-dark")?"dark":"light"};a.getSlotted=function(O,Q,W){Q&&!Array.isArray(Q)&&"string"!==typeof Q&&(W=Q,Q=null);Q=Q?Array.isArray(Q)?Q.map(T=>`[slot="${T}"]`).join(","):`[slot="${Q}"]`:":not([slot])";return W?.all?m(O,Q,W):f(O,Q,W)};a.guid=g;a.intersects=function(O,Q){return!(Q.left>O.right||Q.right<O.left||Q.top>O.bottom||Q.bottom<O.top)};a.isFocusable=function(O,Q){Q=Q||{};if(!O)throw Error("No node provided");
return!1===v.call(O,I)?!1:C(Q,O)};a.isPrimaryPointerButton=function(O){return!(!O.isPrimary||0!==O.button)};a.isTabbable=function(O,Q){Q=Q||{};if(!O)throw Error("No node provided");return!1===v.call(O,p)?!1:D(Q,O)};a.nodeListToArray=function(O){return Array.isArray(O)?O:Array.from(O)};a.queryElementRoots=function(O,{selector:Q,id:W}){function T(Y){if(!Y)return null;Y.assignedSlot&&(Y=Y.assignedSlot);var X=Y.getRootNode();Y=W?"getElementById"in X?X.getElementById(W):null:Q?X.querySelector(Q):null;
X=X.host||null;return Y?Y:X?T(X):null}return T(O)};a.setRequestedIcon=function(O,Q,W){if("string"===typeof Q&&""!==Q)return Q;if(""===Q)return O[W]};a.slotChangeHasAssignedElement=function(O){return!!O.target.assignedElements({flatten:!0}).length};a.tabbable=L;a.tabbableOptions=G;a.toAriaBoolean=function(O){return(!!O).toString()}})},"esri/chunks/index":function(){define(["exports"],function(a){let b,c,e,d=!1,k=!1,t=!1,m=!1,f=!1;const g=(fa,ma)=>()=>{},l={},r=fa=>{fa=typeof fa;return"object"===fa||
"function"===fa},p=(fa,ma,...Fa)=>{let ua=null,Ka=null,Ta=null,Wa=!1,Za=!1;const bb=[],ab=fb=>{for(let Xa=0;Xa<fb.length;Xa++)if(ua=fb[Xa],Array.isArray(ua))ab(ua);else if(null!=ua&&"boolean"!==typeof ua){if(Wa="function"!==typeof fa&&!r(ua))ua=String(ua);Wa&&Za?bb[bb.length-1].$text$+=ua:bb.push(Wa?n(null,ua):ua);Za=Wa}};ab(Fa);if(ma){ma.key&&(Ka=ma.key);ma.name&&(Ta=ma.name);const fb=ma.className||ma.class;fb&&(ma.class="object"!==typeof fb?fb:Object.keys(fb).filter(Xa=>fb[Xa]).join(" "))}if("function"===
typeof fa)return fa(null===ma?{}:ma,bb,h);Fa=n(fa,null);Fa.$attrs$=ma;0<bb.length&&(Fa.$children$=bb);Fa.$key$=Ka;Fa.$name$=Ta;return Fa},n=(fa,ma)=>({$flags$:0,$tag$:fa,$text$:ma,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),v={},h={forEach:(fa,ma)=>fa.map(q).forEach(ma),map:(fa,ma)=>fa.map(q).map(ma).map(u)},q=fa=>({vattrs:fa.$attrs$,vchildren:fa.$children$,vkey:fa.$key$,vname:fa.$name$,vtag:fa.$tag$,vtext:fa.$text$}),u=fa=>{if("function"===typeof fa.vtag){var ma=Object.assign({},
fa.vattrs);fa.vkey&&(ma.key=fa.vkey);fa.vname&&(ma.name=fa.vname);return p(fa.vtag,ma,...(fa.vchildren||[]))}ma=n(fa.vtag,fa.vtext);ma.$attrs$=fa.vattrs;ma.$children$=fa.vchildren;ma.$key$=fa.vkey;ma.$name$=fa.vname;return ma},z=fa=>Ia.map(ma=>ma(fa)).find(ma=>!!ma),x=(fa,ma)=>{if(null!=fa&&!r(fa)){if(ma&4)return"false"===fa?!1:""===fa||!!fa;if(ma&2)return parseFloat(fa);if(ma&1)return String(fa)}return fa},w=new WeakMap,A=(fa,ma,Fa)=>{let ua=wa.get(fa);qa&&Fa?(ua=ua||new CSSStyleSheet,"string"===
typeof ua?ua=ma:ua.replaceSync(ma)):ua=ma;wa.set(fa,ua)},B=(fa,ma)=>"sc-"+(ma&&fa.$flags$&32?fa.$tagName$+"-"+ma:fa.$tagName$),E=(fa,ma,Fa,ua,Ka,Ta)=>{if(Fa!==ua){let bb=ma in fa,ab=ma.toLowerCase();if("class"===ma){fa=fa.classList;const fb=Fa?Fa.split(y):[],Xa=ua?ua.split(y):[];fa.remove(...fb.filter(Da=>Da&&!Xa.includes(Da)));fa.add(...Xa.filter(Da=>Da&&!fb.includes(Da)))}else if("style"===ma){for(var Wa in Fa)ua&&null!=ua[Wa]||(Wa.includes("-")?fa.style.removeProperty(Wa):fa.style[Wa]="");for(var Za in ua)Fa&&
ua[Za]===Fa[Za]||(Za.includes("-")?fa.style.setProperty(Za,ua[Za]):fa.style[Za]=ua[Za])}else if("key"!==ma)if("ref"===ma)ua&&ua(fa);else if(fa.__lookupSetter__(ma)||"o"!==ma[0]||"n"!==ma[1]){Wa=r(ua);if((bb||Wa&&null!==ua)&&!Ka)try{if(fa.tagName.includes("-"))fa[ma]=ua;else if(Za=null==ua?"":ua,"list"===ma)bb=!1;else if(null==Fa||fa[ma]!=Za)fa[ma]=Za}catch(fb){}Fa=!1;ab!==(ab=ab.replace(/^xlink:?/,""))&&(ma=ab,Fa=!0);if(null==ua||!1===ua){if(!1!==ua||""===fa.getAttribute(ma))Fa?fa.removeAttributeNS("http://www.w3.org/1999/xlink",
ma):fa.removeAttribute(ma)}else(!bb||Ta&4||Ka)&&!Wa&&(ua=!0===ua?"":ua,Fa?fa.setAttributeNS("http://www.w3.org/1999/xlink",ma,ua):fa.setAttribute(ma,ua))}else ma="-"===ma[2]?ma.slice(3):ab in V?ab.slice(2):ab[2]+ma.slice(3),Fa&&P.rel(fa,ma,Fa,!1),ua&&P.ael(fa,ma,ua,!1)}},y=/\s/,C=(fa,ma,Fa,ua)=>{const Ka=11===ma.$elm$.nodeType&&ma.$elm$.host?ma.$elm$.host:ma.$elm$;fa=fa&&fa.$attrs$||l;const Ta=ma.$attrs$||l;for(ua in fa)ua in Ta||E(Ka,ua,fa[ua],void 0,Fa,ma.$flags$);for(ua in Ta)E(Ka,ua,fa[ua],Ta[ua],
Fa,ma.$flags$)},D=(fa,ma,Fa,ua)=>{ma=ma.$children$[Fa];let Ka=0,Ta;d||(t=!0,"slot"===ma.$tag$&&(b&&ua.classList.add(b+"-s"),ma.$flags$|=ma.$children$?2:1));if(null!==ma.$text$)ua=ma.$elm$=aa.createTextNode(ma.$text$);else if(ma.$flags$&1)ua=ma.$elm$=aa.createTextNode("");else{m||(m="svg"===ma.$tag$);ua=ma.$elm$=aa.createElementNS(m?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",ma.$flags$&2?"slot-fb":ma.$tag$);m&&"foreignObject"===ma.$tag$&&(m=!1);C(null,ma,m);null!=b&&ua["s-si"]!==b&&
ua.classList.add(ua["s-si"]=b);if(ma.$children$)for(Ka=0;Ka<ma.$children$.length;++Ka)(Ta=D(fa,ma,Ka,ua))&&ua.appendChild(Ta);"svg"===ma.$tag$?m=!1:"foreignObject"===ua.tagName&&(m=!0)}ua["s-hn"]=e;ma.$flags$&3&&(ua["s-sr"]=!0,ua["s-cr"]=c,ua["s-sn"]=ma.$name$||"",(Fa=fa&&fa.$children$&&fa.$children$[Fa])&&Fa.$tag$===ma.$tag$&&fa.$elm$&&J(fa.$elm$,!1));return ua},J=(fa,ma)=>{P.$flags$|=1;fa=fa.childNodes;for(let Fa=fa.length-1;0<=Fa;Fa--){const ua=fa[Fa];ua["s-hn"]!==e&&ua["s-ol"]&&((ua["s-ol"]?ua["s-ol"]:
ua).parentNode.insertBefore(ua,ua&&ua["s-ol"]||ua),ua["s-ol"].remove(),ua["s-ol"]=void 0,t=!0);ma&&J(ua,ma)}P.$flags$&=-2},M=(fa,ma,Fa,ua,Ka,Ta)=>{let Wa=fa["s-cr"]&&fa["s-cr"].parentNode||fa,Za;Wa.shadowRoot&&Wa.tagName===e&&(Wa=Wa.shadowRoot);for(;Ka<=Ta;++Ka)ua[Ka]&&(Za=D(null,Fa,Ka,fa))&&(ua[Ka].$elm$=Za,Wa.insertBefore(Za,ma&&ma["s-ol"]||ma))},L=(fa,ma,Fa,ua,Ka)=>{for(;ma<=Fa;++ma)if(ua=fa[ma])Ka=ua.$elm$,W(ua),k=!0,Ka["s-ol"]?Ka["s-ol"].remove():J(Ka,!0),Ka.remove()},I=(fa,ma)=>fa.$tag$===ma.$tag$?
"slot"===fa.$tag$?fa.$name$===ma.$name$:fa.$key$===ma.$key$:!1,G=(fa,ma)=>{const Fa=ma.$elm$=fa.$elm$,ua=fa.$children$,Ka=ma.$children$,Ta=ma.$tag$;var Wa=ma.$text$;if(null===Wa){m="svg"===Ta?!0:"foreignObject"===Ta?!1:m;"slot"!==Ta&&C(fa,ma,m);if(null!==ua&&null!==Ka){var Za=Wa=fa=0,bb=0;let fb=ua.length-1,Xa=ua[0],Da=ua[fb],Aa=Ka.length-1,Va=Ka[0],cb=Ka[Aa];for(;fa<=fb&&Wa<=Aa;)if(null==Xa)Xa=ua[++fa];else if(null==Da)Da=ua[--fb];else if(null==Va)Va=Ka[++Wa];else if(null==cb)cb=Ka[--Aa];else if(I(Xa,
Va))G(Xa,Va),Xa=ua[++fa],Va=Ka[++Wa];else if(I(Da,cb))G(Da,cb),Da=ua[--fb],cb=Ka[--Aa];else if(I(Xa,cb))"slot"!==Xa.$tag$&&"slot"!==cb.$tag$||J(Xa.$elm$.parentNode,!1),G(Xa,cb),Fa.insertBefore(Xa.$elm$,Da.$elm$.nextSibling),Xa=ua[++fa],cb=Ka[--Aa];else if(I(Da,Va))"slot"!==Xa.$tag$&&"slot"!==cb.$tag$||J(Da.$elm$.parentNode,!1),G(Da,Va),Fa.insertBefore(Da.$elm$,Xa.$elm$),Da=ua[--fb],Va=Ka[++Wa];else{Za=-1;for(bb=fa;bb<=fb;++bb)if(ua[bb]&&null!==ua[bb].$key$&&ua[bb].$key$===Va.$key$){Za=bb;break}0<=
Za?(bb=ua[Za],bb.$tag$!==Va.$tag$?Za=D(ua&&ua[Wa],ma,Za,Fa):(G(bb,Va),ua[Za]=void 0,Za=bb.$elm$)):Za=D(ua&&ua[Wa],ma,Wa,Fa);Va=Ka[++Wa];if(Za){bb=Xa.$elm$;bb=(bb["s-ol"]?bb["s-ol"]:bb).parentNode;var ab=Xa.$elm$;bb.insertBefore.call(bb,Za,ab&&ab["s-ol"]||ab)}}fa>fb?M(Fa,null==Ka[Aa+1]?null:Ka[Aa+1].$elm$,ma,Ka,Wa,Aa):Wa>Aa&&L(ua,fa,fb)}else null!==Ka?(null!==fa.$text$&&(Fa.textContent=""),M(Fa,null,ma,Ka,0,Ka.length-1)):null!==ua&&L(ua,0,ua.length-1);m&&"svg"===Ta&&(m=!1)}else(ma=Fa["s-cr"])?ma.parentNode.textContent=
Wa:fa.$text$!==Wa&&(Fa.data=Wa)},K=fa=>{fa=fa.childNodes;let ma,Fa,ua,Ka,Ta,Wa;Fa=0;for(ua=fa.length;Fa<ua;Fa++)if(ma=fa[Fa],1===ma.nodeType){if(ma["s-sr"])for(Ta=ma["s-sn"],ma.hidden=!1,Ka=0;Ka<ua;Ka++)if(Wa=fa[Ka].nodeType,fa[Ka]["s-hn"]!==ma["s-hn"]||""!==Ta){if(1===Wa&&Ta===fa[Ka].getAttribute("slot")){ma.hidden=!0;break}}else if(1===Wa||3===Wa&&""!==fa[Ka].textContent.trim()){ma.hidden=!0;break}K(ma)}},H=[],O=fa=>{let ma,Fa,ua,Ka,Ta,Wa=0;const Za=fa.childNodes,bb=Za.length;for(;Wa<bb;Wa++){fa=
Za[Wa];if(fa["s-sr"]&&(ma=fa["s-cr"])&&ma.parentNode)for(Fa=ma.parentNode.childNodes,ua=fa["s-sn"],Ta=Fa.length-1;0<=Ta;Ta--)ma=Fa[Ta],ma["s-cn"]||ma["s-nr"]||ma["s-hn"]===fa["s-hn"]||(Q(ma,ua)?(Ka=H.find(ab=>ab.$nodeToRelocate$===ma),k=!0,ma["s-sn"]=ma["s-sn"]||ua,Ka?Ka.$slotRefNode$=fa:H.push({$slotRefNode$:fa,$nodeToRelocate$:ma}),ma["s-sr"]&&H.map(ab=>{Q(ab.$nodeToRelocate$,ma["s-sn"])&&(Ka=H.find(fb=>fb.$nodeToRelocate$===ma))&&!ab.$slotRefNode$&&(ab.$slotRefNode$=Ka.$slotRefNode$)})):H.some(ab=>
ab.$nodeToRelocate$===ma)||H.push({$nodeToRelocate$:ma}));1===fa.nodeType&&O(fa)}},Q=(fa,ma)=>1===fa.nodeType?null===fa.getAttribute("slot")&&""===ma||fa.getAttribute("slot")===ma?!0:!1:fa["s-sn"]===ma?!0:""===ma,W=fa=>{fa.$attrs$&&fa.$attrs$.ref&&fa.$attrs$.ref(null);fa.$children$&&fa.$children$.map(W)},T=(fa,ma)=>{const Fa=fa.$hostElement$;var ua=fa.$cmpMeta$,Ka=fa.$vnode$||n(null,null);const Ta=ma&&ma.$tag$===v?ma:p(null,null,ma);e=Fa.tagName;ua.$attrsToReflect$&&(Ta.$attrs$=Ta.$attrs$||{},ua.$attrsToReflect$.map(([Wa,
Za])=>Ta.$attrs$[Za]=Fa[Wa]));Ta.$tag$=null;Ta.$flags$|=4;fa.$vnode$=Ta;Ta.$elm$=Ka.$elm$=Fa.shadowRoot||Fa;b=Fa["s-sc"];c=Fa["s-cr"];d=0!==(ua.$flags$&1);k=!1;G(Ka,Ta);P.$flags$|=1;if(t){O(Ta.$elm$);let Wa,Za;for(ua=0;ua<H.length;ua++)Ka=H[ua],fa=Ka.$nodeToRelocate$,fa["s-ol"]||(Ka=aa.createTextNode(""),Ka["s-nr"]=fa,fa.parentNode.insertBefore(fa["s-ol"]=Ka,fa));for(ua=0;ua<H.length;ua++)if(Ka=H[ua],fa=Ka.$nodeToRelocate$,Ka.$slotRefNode$){ma=Ka.$slotRefNode$.parentNode;Wa=Ka.$slotRefNode$.nextSibling;
for(Ka=fa["s-ol"];Ka=Ka.previousSibling;)if((Za=Ka["s-nr"])&&Za["s-sn"]===fa["s-sn"]&&ma===Za.parentNode&&(Za=Za.nextSibling,!Za||!Za["s-nr"])){Wa=Za;break}(Wa||ma===fa.parentNode)&&fa.nextSibling===Wa||fa===Wa||(!fa["s-hn"]&&fa["s-ol"]&&(fa["s-hn"]=fa["s-ol"].parentNode.nodeName),ma.insertBefore(fa,Wa))}else 1===fa.nodeType&&(fa.hidden=!0)}k&&K(Ta.$elm$);P.$flags$&=-2;H.length=0},Y=(fa,ma)=>{fa.$flags$|=16;return Qa(()=>X(fa,ma))},X=(fa,ma)=>{const Fa=fa.$hostElement$,ua=g("scheduleUpdate",fa.$cmpMeta$.$tagName$);
let Ka;Ka=ma?Ba(Fa,"componentWillLoad"):Ba(Fa,"componentWillUpdate");Ka=Ga(Ka,()=>Ba(Fa,"componentWillRender"));ua();return Ga(Ka,()=>ra(fa,Fa,ma))},ra=async(fa,ma,Fa)=>{var ua=fa.$hostElement$,Ka=g("update",fa.$cmpMeta$.$tagName$);ua["s-rc"];if(Fa){var Ta=fa.$cmpMeta$;Fa=fa.$hostElement$;ua=Ta.$flags$;const Za=g("attachStyles",Ta.$tagName$);var Wa=Fa.shadowRoot?Fa.shadowRoot:Fa.getRootNode();Ta=B(Ta,fa.$modeName$);const bb=wa.get(Ta);Wa=11===Wa.nodeType?Wa:aa;if(bb)if("string"===typeof bb){Wa=Wa.head||
Wa;let ab=w.get(Wa),fb;ab||w.set(Wa,ab=new Set);ab.has(Ta)||(fb=aa.createElement("style"),fb.innerHTML=bb,Wa.insertBefore(fb,Wa.querySelector("link")),ab&&ab.add(Ta))}else Wa.adoptedStyleSheets.includes(bb)||(Wa.adoptedStyleSheets=[...Wa.adoptedStyleSheets,bb]);Wa=Ta;ua&10&&(Fa["s-sc"]=Wa,Fa.classList.add(Wa+"-h"),ua&2&&Fa.classList.add(Wa+"-s"));Za()}Fa=g("render",fa.$cmpMeta$.$tagName$);try{ma=ma.render&&ma.render(),fa.$flags$&=-17,fa.$flags$|=2,T(fa,ma)}catch(Za){(0,console.error)(Za,fa.$hostElement$)}Fa();
Ka();Ka=fa.$hostElement$;ma=g("postUpdate",fa.$cmpMeta$.$tagName$);fa.$ancestorComponent$;Ba(Ka,"componentDidRender");fa.$flags$&64?Ba(Ka,"componentDidUpdate"):(fa.$flags$|=64,Ba(Ka,"componentDidLoad"));ma()},Ba=(fa,ma,Fa)=>{if(fa&&fa[ma])try{return fa[ma](Fa)}catch(ua){(0,console.error)(ua,void 0)}},Ga=(fa,ma)=>fa&&fa.then?fa.then(ma):ma(),Ha=(fa,ma,Fa,ua)=>{const Ka=ja.get(fa),Ta=Ka.$instanceValues$.get(ma),Wa=Ka.$flags$;Fa=x(Fa,ua.$members$[ma][0]);const Za=Number.isNaN(Ta)&&Number.isNaN(Fa);Fa===
Ta||Za||(Ka.$instanceValues$.set(ma,Fa),ua.$watchers$&&Wa&128&&(ua=ua.$watchers$[ma])&&ua.map(bb=>{try{fa[bb](Fa,Ta,ma)}catch(ab){(0,console.error)(ab,fa)}}),2!==(Wa&18)||fa.componentShouldUpdate&&!1===fa.componentShouldUpdate(Fa,Ta,ma)||Y(Ka,!1))},da=(fa,ma,Fa)=>{if(ma.$members$){fa.watchers&&(ma.$watchers$=fa.watchers);Fa=Object.entries(ma.$members$);const ua=fa.prototype;Fa.map(([Ta,[Wa]])=>{(Wa&31||Wa&32)&&Object.defineProperty(ua,Ta,{get(){return ja.get(this).$instanceValues$.get(Ta)},set(Za){Ha(this,
Ta,Za,ma)},configurable:!0,enumerable:!0})});const Ka=new Map;ua.attributeChangedCallback=function(Ta,Wa,Za){P.jmp(()=>{const bb=Ka.get(Ta);if(this.hasOwnProperty(bb))Za=this[bb],delete this[bb];else if(ua.hasOwnProperty(bb)&&"number"===typeof this[bb]&&this[bb]==Za)return;this[bb]=null===Za&&"boolean"===typeof this[bb]?!1:Za})};fa.observedAttributes=Fa.filter(([,Ta])=>Ta[0]&15).map(([Ta,Wa])=>{const Za=Wa[1]||Ta;Ka.set(Za,Ta);Wa[0]&512&&ma.$attrsToReflect$.push([Ta,Za]);return Za})}return fa},na=
async(fa,ma,Fa,ua,Ka)=>{0===(ma.$flags$&32)&&(Ka=fa.constructor,ma.$flags$|=32,customElements.whenDefined(Fa.$tagName$).then(()=>ma.$flags$|=128),Ka.style&&(ua=Ka.style,"string"!==typeof ua&&(ua=ua[ma.$modeName$=z(fa)]),fa=B(Fa,ma.$modeName$),wa.has(fa)||(Ka=g("registerStyles",Fa.$tagName$),A(fa,ua,!!(Fa.$flags$&1)),Ka())));ma.$ancestorComponent$;Y(ma,!0)},xa=fa=>{if(0===(P.$flags$&1)){const ma=ja.get(fa),Fa=ma.$cmpMeta$,ua=g("connectedCallback",Fa.$tagName$);ma.$flags$&1?N(fa,ma,Fa.$listeners$):
(ma.$flags$|=1,Fa.$flags$&12&&Na(fa),Fa.$members$&&Object.entries(Fa.$members$).map(([Ka,[Ta]])=>{Ta&31&&fa.hasOwnProperty(Ka)&&(Ta=fa[Ka],delete fa[Ka],fa[Ka]=Ta)}),na(fa,ma,Fa));ua()}},Na=fa=>{const ma=fa["s-cr"]=aa.createComment("");ma["s-cn"]=!0;fa.insertBefore(ma,fa.firstChild)},Oa=fa=>{0===(P.$flags$&1)&&(fa=ja.get(fa),fa.$rmListeners$&&(fa.$rmListeners$.map(ma=>ma()),fa.$rmListeners$=void 0))},N=(fa,ma,Fa,ua)=>{Fa&&Fa.map(([Ka,Ta,Wa])=>{const Za=Ka&4?aa:Ka&8?V:Ka&16?aa.body:fa,bb=S(ma,Wa),
ab=Z?{passive:0!==(Ka&1),capture:0!==(Ka&2)}:0!==(Ka&2);P.ael(Za,Ta,bb,ab);(ma.$rmListeners$=ma.$rmListeners$||[]).push(()=>P.rel(Za,Ta,bb,ab))})},S=(fa,ma)=>Fa=>{try{fa.$hostElement$[ma](Fa)}catch(ua){(0,console.error)(ua,void 0)}},ja=new WeakMap,wa=new Map,Ia=[],V="undefined"!==typeof window?window:{};null;const aa=V.document||{head:{}},oa=V.HTMLElement||class{},P={$flags$:0,$resourcesUrl$:"",jmp:fa=>fa(),raf:fa=>requestAnimationFrame(fa),ael:(fa,ma,Fa,ua)=>fa.addEventListener(ma,Fa,ua),rel:(fa,
ma,Fa,ua)=>fa.removeEventListener(ma,Fa,ua),ce:(fa,ma)=>new CustomEvent(fa,ma)},Z=(()=>{let fa=!1;try{aa.addEventListener("e",null,Object.defineProperty({},"passive",{get(){fa=!0}}))}catch(ma){}return fa})();a:{try{new CSSStyleSheet;var ia="function"===typeof(new CSSStyleSheet).replaceSync;break a}catch(fa){}ia=!1}const qa=ia,ea=[],U=[];ia=(fa,ma)=>Fa=>{fa.push(Fa);f||(f=!0,ma&&P.$flags$&4?(Fa=la,Promise.resolve(void 0).then(Fa)):P.raf(la))};const ca=fa=>{for(let ma=0;ma<fa.length;ma++)try{fa[ma](performance.now())}catch(Fa){(0,console.error)(Fa,
void 0)}fa.length=0},la=()=>{ca(ea);ca(U);(f=0<ea.length)&&P.raf(la)},Ca=ia(ea,!1),Qa=ia(U,!0);a.Build={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1};a.Fragment=(fa,ma)=>ma;a.H=oa;a.Host=v;a.createEvent=(fa,ma,Fa)=>({emit:ua=>{ua=P.ce(ma,{bubbles:!!(Fa&4),composed:!!(Fa&2),cancelable:!!(Fa&1),detail:ua});fa.dispatchEvent(ua);return ua}});a.forceUpdate=fa=>{fa=ja.get(fa);const ma=fa.$hostElement$.isConnected;ma&&2===(fa.$flags$&18)&&Y(fa,!1);return ma};a.getAssetPath=fa=>{fa=new URL(fa,P.$resourcesUrl$);
return fa.origin!==V.location.origin?fa.href:fa.pathname};a.h=p;a.proxyCustomElement=(fa,ma)=>{const Fa={$flags$:ma[0],$tagName$:ma[1]};Fa.$members$=ma[2];Fa.$listeners$=ma[3];Fa.$watchers$=fa.$watchers$;Fa.$attrsToReflect$=[];const ua=fa.prototype.connectedCallback,Ka=fa.prototype.disconnectedCallback;Object.assign(fa.prototype,{__registerHost(){const Ta={$flags$:0,$hostElement$:this,$cmpMeta$:Fa,$instanceValues$:new Map};N(this,Ta,Fa.$listeners$);ja.set(this,Ta)},connectedCallback(){xa(this);ua&&
ua.call(this)},disconnectedCallback(){Oa(this);Ka&&Ka.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(Fa.$flags$&16)})}});fa.is=Fa.$tagName$;return da(fa,Fa)};a.readTask=Ca;a.setAssetPath=fa=>P.$resourcesUrl$=fa})},"esri/widgets/support/jsxWidgetSupport":function(){define(["exports","../../core/handleUtils","./symbols"],function(a,b,c){function e(r,p){let n=p.children;if(n&&n.length)for(var v=0;v<n.length;++v)n[v]=e(r,n[v]);else n=f;v=p.vnodeSelector;if(m(v)){p=p.properties||
g;const h=p.key||v;return{vnodeSelector:"div",properties:{key:h,afterCreate:d,afterUpdate:k,afterRemoved:t,parentWidget:r,widgetConstructor:v,widgetProperties:{...p,key:h,children:n}},children:void 0,text:void 0,domNode:null}}return p}function d(r,p,n,{parentWidget:v,widgetConstructor:h,widgetProperties:q}){p=new h(q);p.container=r;l.set(r,p);p.afterCreate?.(p,r);v._internalHandles.add(b.makeHandle(()=>t(r)))}function k(r,p,n,{widgetProperties:v}){if(p=l.get(r))p.set(v),p.afterUpdate?.(p,r)}function t(r){const p=
l.get(r);p&&(p.afterRemoved?.(p,r),p.destroy(),l.delete(r))}function m(r){return"function"===typeof r&&r[c.WIDGET_SYMBOL]}const f=[],g={},l=new WeakMap;a.isWidgetConstructor=m;a.processWidgets=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/symbols":function(){define(["exports"],function(a){const b=Symbol("widget"),c=Symbol("widget-test-data");a.WIDGET_SYMBOL=b;a.WIDGET_TEST_DATA_SYMBOL=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/tests":function(){define(["exports"],
function(a){const b=new Set;a.hasPendingLoading=function(){return 0<b.size};a.registerLoading=function(c){b.add(c);c.finally(()=>b.delete(c))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widget":function(){define("exports ./decorators/accessibleHandler ./decorators/messageBundle ./decorators/vmEvent ./jsxFactory ./widgetUtils ../../support/themeUtils".split(" "),function(a,b,c,e,d,k,t){a.accessibleHandler=b.accessibleHandler;a.messageBundle=c.messageBundle;
a.vmEvent=e.vmEvent;a.tsx=d.tsx;a.tsxFragment=d.tsxFragment;a.additionalAllowedTags=k.additionalAllowedTags;a.classes=k.classes;a.cssTransition=k.cssTransition;a.discardNode=k.discardNode;a.getDir=k.getDir;a.isActivationKey=k.isActivationKey;a.isRTL=k.isRTL;a.keepMenuItemWithinView=k.keepMenuItemWithinView;a.onResize=k.onResize;a.renderingSanitizer=k.renderingSanitizer;a.safeAttrs=k.safeAttrs;a.storeNode=k.storeNode;a.getCalciteThemeClass=t.getCalciteThemeClass;a.isDarkTheme=t.isDarkTheme;a.setCalciteThemeClass=
t.setCalciteThemeClass;a.hasDomNode=function(m){return m&&"function"===typeof m.postMixInProperties&&"function"===typeof m.buildRendering&&"function"===typeof m.postCreate&&"function"===typeof m.startup};a.isWidget=function(m){return m&&"function"===typeof m.render};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["exports","../widgetUtils"],function(a,b){function c(e){return function(d,...k){const t=d?.type;d instanceof
KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t?b.isActivationKey(d.key)&&(d.preventDefault(),d.stopPropagation(),d.target.click()):e.call(this,d,...k)}}a.accessibleHandler=function(){return function(e,d){if(!e[d])throw new TypeError(`Cannot auto bind undefined function '${d}'`);return{value:c(e[d])}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/messageBundle":function(){define(["exports"],function(a){a.messageBundle=function(b){return(c,
e)=>{c.hasOwnProperty("_messageBundleProps")||(c._messageBundleProps=c._messageBundleProps?c._messageBundleProps.slice():[]);c._messageBundleProps.push({bundlePath:b,propertyName:e})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/vmEvent":function(){define(["exports"],function(a){function b(c){return c.split(",").map(e=>e.trim())}a.vmEvent=function(c){return e=>{e.hasOwnProperty("_delegatedEventNames")||(e._delegatedEventNames=e._delegatedEventNames?
e._delegatedEventNames.slice():[]);e=e._delegatedEventNames;const d=Array.isArray(c)?c:b(c);e.push(...d)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/jsxFactory":function(){define(["exports","./jsxWidgetSupport"],function(a,b){var c=function(d,k){for(var t=0,m=d.length;t<m;t++){var f=d[t];Array.isArray(f)?c(f,k):null!==f&&void 0!==f&&!1!==f&&(f.hasOwnProperty("vnodeSelector")||(f={vnodeSelector:"",properties:void 0,children:void 0,text:f.toString(),domNode:null}),
k.push(f))}},e=function(d,k){for(var t=[],m=2;m<arguments.length;m++)t[m-2]=arguments[m];if(1===t.length&&"string"===typeof t[0])return{vnodeSelector:d,properties:k||void 0,children:void 0,text:t[0],domNode:null};m=[];c(t,m);return{vnodeSelector:d,properties:k||void 0,children:m,text:void 0,domNode:null}};a.tsx=function(d,k,...t){return"function"!==typeof d||b.isWidgetConstructor(d)?e(d,k,...t):d(k,...t)};a.tsxFragment=function(...d){return d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/support/themeUtils":function(){define(["exports"],function(a){function b(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replace(/\s|'|"/g,"").startsWith("dark")}function c(){return`${"calcite-mode-"}${b()?"dark":"light"}`}function e(d){Array.from(d.classList).forEach(k=>{k.startsWith("calcite-mode-")&&d.classList.remove(k)})}a.getCalciteThemeClass=c;a.isDarkTheme=b;a.setCalciteThemeClass=function(d){e(d);d.classList.add(c())};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"*noref":1}});require.boot&&require.apply(null,require.boot);